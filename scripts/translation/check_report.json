[
  {
    "english": ".claude/agents/amp-bridge.md",
    "chinese": ".claude/agents/amp-bridge_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 2,
        "token": "name",
        "context": "name: amp-bridge"
      },
      {
        "line": 3,
        "token": "description",
        "context": "description: ç›´æ¥è°ƒç”¨ Amp CLI çš„è‡ªåŠ¨åŒ–ä»£ç†ï¼Œç”¨äºå¿«é€Ÿé‡æ„ã€ä¿®å¤ä¸å¤æ‚ç¼–ç ä»»åŠ¡ã€‚é€šè¿‡ `amp --execute` éäº¤äº’æ¨¡å¼åŠ¨å‘˜ Amp çš„å®Œæ•´å·¥å…·é›†ï¼ˆedit_fileã€create_fileã€Bashã€finderã€librarianã€oracle ç­‰ï¼‰ï¼Œåœ¨ä¸æ¶ˆè€— Claude Code ç‚¹"
      },
      {
        "line": 6,
        "token": "refactor",
        "context": "- \"Use Amp to refactor this function with better type hints and error handling\""
      },
      {
        "line": 7,
        "token": "fix",
        "context": "- \"Ask Amp to fix the bug in generate_tests.sh where base_name is undefined\""
      },
      {
        "line": 8,
        "token": "analyze",
        "context": "- \"Have Amp analyze and optimize the storage backend architecture\""
      },
      {
        "line": 9,
        "token": "oracle",
        "context": "- \"Use Amp oracle to review the PR automation workflow and suggest improvements\""
      },
      {
        "line": 11,
        "token": "model",
        "context": "model: sonnet"
      },
      {
        "line": 12,
        "token": "color",
        "context": "color: blue"
      },
      {
        "line": 29,
        "token": "finder",
        "context": "- `finder` / `grep` / `glob`ï¼šæ™ºèƒ½æœç´¢ä¸æ¨¡å¼åŒ¹é…ï¼›"
      },
      {
        "line": 30,
        "token": "librarian",
        "context": "- `librarian`ï¼šæ¶æ„ç†è§£ä¸åˆ†æï¼›"
      },
      {
        "line": 31,
        "token": "oracle",
        "context": "- `oracle`ï¼šé«˜çº§æ¨ç†ï¼ˆè§„åˆ’ã€è¯„å®¡ã€å®‰å…¨å®¡è®¡ï¼‰ï¼›"
      },
      {
        "line": 36,
        "token": "execute",
        "context": "1. **Executeï¼ˆ`--execute`/`-x`ï¼‰**ï¼šéäº¤äº’è‡ªåŠ¨åŒ–ï¼Œé€‚åˆå¿«é€Ÿä»»åŠ¡ï¼›"
      },
      {
        "line": 38,
        "token": "amp",
        "context": "3. **Thread Mode**ï¼š`amp threads continue <id>`ï¼Œå»¶ç»­ä¸Šä¸‹æ–‡æˆ–åˆ†æ”¯å®éªŒã€‚"
      },
      {
        "line": 41,
        "token": "JSON",
        "context": "- `--stream-json`ï¼šæµå¼ JSONï¼Œä¾¿äº Claude Code è§£æä¸å®æ—¶è·Ÿè¸ªã€‚"
      },
      {
        "line": 49,
        "token": "bug",
        "context": "> åœºæ™¯ï¼šå¢åŠ ç±»å‹æç¤ºã€ä¿®æ­£é”™è¯¯å¤„ç†ã€å˜é‡é‡å‘½åã€ç®€å• bug ä¿®å¤ã€‚"
      },
      {
        "line": 102,
        "token": "finder/librarian",
        "context": "| `finder/librarian` æ— ç»“æœ | æ”¾å®½æç¤ºæˆ–æŒ‡å®šç›®å½• |"
      },
      {
        "line": 103,
        "token": "oracle",
        "context": "| Oracle æˆæœ¬é«˜ | å…ˆç”¨æ ‡å‡†æ¨¡å‹è§„åˆ’ï¼Œå†è°ƒç”¨ oracle |"
      },
      {
        "line": 109,
        "token": "oracle",
        "context": "3. å¤æ‚ä»»åŠ¡å…ˆç”¨ oracle è¯„å®¡è®¡åˆ’å†åŠ¨æ‰‹ï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        47,
        15
      ],
      "codeblock": [
        46,
        8
      ],
      "tables": [
        19,
        15
      ]
    }
  },
  {
    "english": ".claude/agents/amp-pr-automator.md",
    "chinese": ".claude/agents/amp-pr-automator_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 2,
        "token": "name",
        "context": "name: amp-pr-automator"
      },
      {
        "line": 3,
        "token": "description",
        "context": "description: åŸºäº Amp CLI çš„è½»é‡åŒ– PR è‡ªåŠ¨åŒ–ä»£ç†ï¼Œç”¨äºä»£ç è´¨é‡æ£€æŸ¥ã€æµ‹è¯•ç”Ÿæˆä¸ä¿®å¤å»ºè®®ã€‚æ— éœ€ Gemini CLI çš„ OAuthï¼Œæ”¯æŒæ–‡ä»¶é©±åŠ¨çš„å¼‚æ­¥æ‰§è¡Œï¼Œé€‚åˆé¢„ PR æ£€æŸ¥ä¸å¼€å‘è€…è‡ªåŠ©è‡ªåŠ¨åŒ–ã€‚"
      },
      {
        "line": 4,
        "token": "model",
        "context": "model: sonnet"
      },
      {
        "line": 5,
        "token": "color",
        "context": "color: purple"
      },
      {
        "line": 12,
        "token": "pytest",
        "context": "2. **æµ‹è¯•ç”Ÿæˆ**ï¼šä¸ºæ–°å¢/ä¿®æ”¹æ–‡ä»¶è¡¥å†™ pytestï¼›"
      },
      {
        "line": 43,
        "token": "import",
        "context": "| è´¨é‡é—¸é—¨ | `scripts/pr/amp_quality_gate.sh` | å¹¶è¡Œæ‰§è¡Œå¤æ‚åº¦ã€å®‰å…¨ã€ç±»å‹æç¤ºä¸ import æ•´ç†ï¼›è¾“å‡ºé€šè¿‡/å¤±è´¥åŠè¯¦æƒ… |"
      },
      {
        "line": 44,
        "token": "ready",
        "context": "| ç»“æœèšåˆ | `scripts/pr/amp_collect_results.sh` | è½®è¯¢ ready ç›®å½•ï¼Œæ”¯æŒè¶…æ—¶ã€éƒ¨åˆ†ç»“æœã€JSON æ±‡æ€» |"
      },
      {
        "line": 46,
        "token": "pytest",
        "context": "| æµ‹è¯•ç”Ÿæˆ | `scripts/pr/amp_generate_tests.sh` | ä¸ºæ”¹åŠ¨æ–‡ä»¶ç”Ÿæˆ pytestï¼Œè¾“å‡ºè‡³ `/tmp/amp_tests/` |"
      },
      {
        "line": 75,
        "token": "fix",
        "context": "| è‡ªåŠ¨åº”ç”¨ä¿®å¤ | âŒ ä»…å»ºè®® | âœ… æ”¯æŒè‡ªåŠ¨ fix |"
      },
      {
        "line": 77,
        "token": "review",
        "context": "| å¤æ‚è¿­ä»£ | âŒ éœ€æ‰‹åŠ¨ç¼–æ’ | âœ… å®Œæ•´ review æµç¨‹ |"
      }
    ],
    "structure_diff": {
      "heading": [
        74,
        13
      ],
      "codeblock": [
        40,
        10
      ],
      "tables": [
        9,
        17
      ]
    }
  },
  {
    "english": ".claude/agents/code-quality-guard.md",
    "chinese": ".claude/agents/code-quality-guard_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 2,
        "token": "name",
        "context": "name: code-quality-guard"
      },
      {
        "line": 3,
        "token": "description",
        "context": "description: ä½¿ç”¨ Gemini CLIï¼ˆæˆ– Groq Bridgeï¼‰è¿›è¡Œå¿«é€Ÿä»£ç è´¨é‡åˆ†æï¼ŒåŒ…å«å¤æ‚åº¦è¯„åˆ†ã€é‡æ„å»ºè®®ã€TODO ä¼˜å…ˆçº§ä¸å®‰å…¨æ¨¡å¼æ£€æµ‹ã€‚é€‚åˆåœ¨æäº¤å‰ã€åˆ›å»º PR æœŸé—´æˆ–é‡æ„æ—¶è°ƒç”¨ã€‚"
      },
      {
        "line": 4,
        "token": "model",
        "context": "model: sonnet"
      },
      {
        "line": 5,
        "token": "color",
        "context": "color: green"
      },
      {
        "line": 12,
        "token": "code",
        "context": "2. **é‡æ„å»ºè®®**ï¼šå®šä½ code smellã€é‡å¤é€»è¾‘ä¸æ¶æ„æ”¹è¿›ç‚¹ï¼›"
      },
      {
        "line": 13,
        "token": "TODO/FIXME",
        "context": "3. **TODO ä¼˜å…ˆçº§**ï¼šæ‰«æ TODO/FIXME å¹¶æŒ‰å½±å“æ’åºï¼›"
      },
      {
        "line": 19,
        "token": "docs/integrations/groq-bridge.md",
        "context": "- **Groq Bridgeï¼ˆå¯é€‰ï¼‰**ï¼šè¶…é«˜é€Ÿæ¨ç†ï¼Œé€‚åˆ CI/CDï¼›å®‰è£…è§ `docs/integrations/groq-bridge.md`ã€‚"
      },
      {
        "line": 78,
        "token": "mktemp",
        "context": "2. ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶ï¼ˆ`mktemp`ï¼‰ä¿å­˜åˆ†æç»“æœï¼Œä¾¿äºå½’æ¡£ï¼›"
      },
      {
        "line": 79,
        "token": "grep",
        "context": "3. å¯¹é«˜å¤æ‚åº¦/å®‰å…¨è¾“å‡ºä½¿ç”¨ `jq`/`grep` èšåˆï¼Œç”Ÿæˆæ‘˜è¦ï¼›"
      },
      {
        "line": 80,
        "token": "issue",
        "context": "4. å°†ç»“æœå†™å…¥ PR æˆ– issueï¼Œå»ºç«‹è´¨é‡æ¡£æ¡ˆï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        75,
        16
      ],
      "codeblock": [
        28,
        8
      ],
      "tables": [
        15,
        5
      ]
    }
  },
  {
    "english": ".claude/agents/gemini-pr-automator.md",
    "chinese": ".claude/agents/gemini-pr-automator_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 2,
        "token": "name",
        "context": "name: gemini-pr-automator"
      },
      {
        "line": 3,
        "token": "description",
        "context": "description: ä½¿ç”¨ Gemini CLI çš„å…¨è‡ªåŠ¨ PR å®¡æŸ¥/ä¿®å¤ä»£ç†ï¼Œå¯è¿­ä»£è§¦å‘å®¡æŸ¥ã€ç”Ÿæˆæµ‹è¯•ã€æ£€æµ‹ç ´åæ€§å˜æ›´å¹¶è¿›å…¥æŒç»­ç›‘æ§æ¨¡å¼ã€‚é€‚åˆåœ¨åˆ›å»º PR åæˆ–å“åº”å®¡æŸ¥æ„è§æ—¶ä¸»åŠ¨è°ƒç”¨ã€‚"
      },
      {
        "line": 4,
        "token": "model",
        "context": "model: sonnet"
      },
      {
        "line": 5,
        "token": "color",
        "context": "color: blue"
      },
      {
        "line": 8,
        "token": "orchestration",
        "context": "ä½ æ˜¯ **Gemini PR Automator**ï¼Œè´Ÿè´£ orchestration çº§åˆ«çš„ PR å…¨æµç¨‹è‡ªåŠ¨åŒ–ï¼Œé€šè¿‡ Gemini CLI æ¶ˆé™¤â€œä¿®å¤ â†’ è¯„è®º â†’ /gemini review â†’ ç­‰å¾… â†’ é‡å¤â€çš„äººå·¥å¾ªç¯ã€‚"
      },
      {
        "line": 11,
        "token": "gemini",
        "context": "1. **è‡ªåŠ¨å®¡æŸ¥å¾ªç¯**ï¼šæ— éœ€äººå·¥æ’æ‰‹å³å¯åå¤è§¦å‘ `/gemini review`ã€æ”¶é›†åé¦ˆå¹¶æ¨è¿›çŠ¶æ€ï¼›"
      },
      {
        "line": 13,
        "token": "diff",
        "context": "3. **å®‰å…¨ä¿®å¤åº”ç”¨**ï¼šå¯¹å¯ç¡®å®šçš„æ”¹åŠ¨è‡ªåŠ¨ç”Ÿæˆ diffã€`git apply`ã€`git push`ï¼›"
      },
      {
        "line": 14,
        "token": "pytest",
        "context": "4. **æµ‹è¯•ç”Ÿæˆ**ï¼šä¸ºæ–°å¢/ä¿®æ”¹ä»£ç ç”Ÿæˆ pytestï¼›"
      },
      {
        "line": 15,
        "token": "diff",
        "context": "5. **ç ´åæ€§å˜æ›´æ£€æµ‹**ï¼šåˆ†æ API diffï¼Œæ ‡è®°æ½œåœ¨ breaking changeï¼›"
      },
      {
        "line": 17,
        "token": "resolve",
        "context": "7. **GraphQL çº¿ç¨‹å…³é—­**ï¼ˆv8.20.0+ï¼‰ï¼šä¿®å¤åè‡ªåŠ¨ resolve review threadã€‚"
      },
      {
        "line": 20,
        "token": "bash",
        "context": "- **PR åˆšåˆ›å»º**ï¼š`github-release-manager` å®Œæˆ PR åç«‹å³ `bash scripts/pr/watch_reviews.sh <PR> 180 &`ï¼›"
      },
      {
        "line": 21,
        "token": "push",
        "context": "- **ç”¨æˆ· push æ–° commit**ï¼šå…ˆ `gh pr comment <PR> --body \"/gemini review\"`ï¼Œå†å¯åŠ¨ watchï¼›"
      },
      {
        "line": 22,
        "token": "check",
        "context": "- **ç”¨æˆ·æåˆ°å®¡æŸ¥/åé¦ˆ**ï¼šâ€œcheck the reviewâ€ç­‰å…³é”®å­—å³è§¦å‘ `gh pr view <PR> --json reviews` æ€»ç»“ï¼›"
      },
      {
        "line": 23,
        "token": "watch",
        "context": "- **æ”¶å·¥å‰**ï¼šè‹¥ PR æœªåˆå¹¶åˆ™å†æ¬¡æ£€æŸ¥çŠ¶æ€å¹¶å¯åŠ¨ watchã€‚"
      },
      {
        "line": 25,
        "token": "breaking",
        "context": "> ä»…å½“å­˜åœ¨å¤æ‚å†²çªã€é‡å¤§æ¶æ„å†³ç­–æˆ–éœ€è¦äººå·¥ç¡®è®¤ breaking change æ—¶æ‰ç”±ç”¨æˆ·æ‰‹åŠ¨å¤„ç†ã€‚"
      },
      {
        "line": 34,
        "token": "gemini",
        "context": "- æ­¥éª¤ï¼šè§¦å‘ `/gemini review`â†’ç­‰å¾…â†’è¯»å–è¯„è®ºâ†’è‹¥å« â€œapproved/lgtmâ€ åˆ™ç»“æŸï¼Œå¦åˆ™ç”Ÿæˆ diffã€`git apply`ã€æäº¤å¹¶æ¨é€ã€‚"
      },
      {
        "line": 40,
        "token": "pytest",
        "context": "- é’ˆå¯¹ PR å˜æ›´çš„ `.py` æ–‡ä»¶ç”Ÿæˆ pytestï¼Œäº§ç‰©å†™å…¥ `/tmp/amp_tests/`ã€‚"
      },
      {
        "line": 43,
        "token": "diff",
        "context": "- é€šè¿‡ `gh pr diff` æ¯”è¾ƒå¯¼å‡º API å˜æ›´åˆ—è¡¨ï¼ŒæŒ‰ CRITICAL/HIGH/MEDIUM æ ‡æ³¨ã€‚"
      },
      {
        "line": 45,
        "token": "watch",
        "context": "### 5. PR å…¨æµç¨‹ `scripts/pr/auto_review.sh` + watch + test + breaking detection"
      },
      {
        "line": 46,
        "token": "doc",
        "context": "doc ä¸­çš„ç¤ºä¾‹ Bash å³å¯ç›´æ¥å¤ç”¨ã€‚"
      },
      {
        "line": 54,
        "token": "diff",
        "context": "2. **æ”¶åˆ°åé¦ˆ**ï¼šè„šæœ¬è‡ªåŠ¨è§£æè¯„è®ºã€ç”Ÿæˆ diffã€`git apply` + `git push`ï¼Œå¹¶é‡æ–°è¯„è®º `/gemini review`ã€‚"
      },
      {
        "line": 55,
        "token": "diff",
        "context": "3. **äººå·¥ç»ˆæ­¢æ¡ä»¶**ï¼šè¾¾åˆ°è¿­ä»£ä¸Šé™ã€diff æ— æ³•è‡ªåŠ¨åº”ç”¨æˆ– Gemini æ ‡æ³¨ â€œéœ€è¦äººå·¥ç¡®è®¤â€ã€‚"
      },
      {
        "line": 59,
        "token": "git",
        "context": "- `git apply --check` å¤±è´¥åˆ™æç¤ºäººå·¥ä»‹å…¥ï¼›"
      },
      {
        "line": 60,
        "token": "fix",
        "context": "- è‡ªåŠ¨æäº¤ä¿¡æ¯ç¤ºä¾‹ï¼š`fix: apply Gemini review feedback (iteration n)`ï¼›"
      },
      {
        "line": 65,
        "token": "pkill",
        "context": "- æ”¯æŒåå°è¿è¡Œï¼ˆ`&`ï¼‰ï¼Œç»“æŸæ—¶è®°å¾— `pkill -f watch_reviews.sh`ã€‚"
      },
      {
        "line": 75,
        "token": "bash",
        "context": "1. `bash scripts/pr/generate_tests.sh <PR>` ç”Ÿæˆæµ‹è¯•è‰ç¨¿ï¼›"
      },
      {
        "line": 77,
        "token": "pytest",
        "context": "3. è¿è¡Œ `pytest`ï¼›"
      },
      {
        "line": 81,
        "token": "base",
        "context": "- `scripts/pr/detect_breaking_changes.sh <base> <head>` ç”ŸæˆæŠ¥å‘Šï¼›"
      },
      {
        "line": 85,
        "token": "api",
        "context": "- v8.20.0+ å¯ä½¿ç”¨ `gh api` è§£æå¹¶ resolve ä»£ç å®¡æŸ¥çº¿ç¨‹ï¼šä¿®å¤åè‡ªåŠ¨æäº¤ â€œResolved via commit ...â€ã€‚"
      },
      {
        "line": 88,
        "token": "git",
        "context": "- è¶…è¿‡æœ€å¤§è¿­ä»£æ¬¡æ•°æˆ– `git apply` å†²çª â†’ åœæ­¢å¹¶æç¤ºç”¨æˆ·ï¼›"
      },
      {
        "line": 90,
        "token": "watch",
        "context": "- watch è¿›ç¨‹ç»“æŸæˆ–ç½‘ç»œæ•…éšœ â†’ é‡æ–°å¯åŠ¨è„šæœ¬ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        115,
        18
      ],
      "codeblock": [
        46,
        4
      ],
      "tables": [
        23,
        0
      ]
    }
  },
  {
    "english": ".claude/agents/github-release-manager.md",
    "chinese": ".claude/agents/github-release-manager_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 2,
        "token": "name",
        "context": "name: github-release-manager"
      },
      {
        "line": 3,
        "token": "description",
        "context": "description: ç®¡ç† GitHub ç«¯åˆ°ç«¯å‘å¸ƒæµç¨‹ï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ã€æ–‡æ¡£æ›´æ–°ã€åˆ†æ”¯ç­–ç•¥ã€PR/Issue ç”Ÿå‘½å‘¨æœŸã€å‘å¸ƒè¯´æ˜ä¸åç»­æ²Ÿé€šï¼‰ã€‚åœ¨å®ŒæˆåŠŸèƒ½ã€Bug ä¿®å¤æˆ–å‡†å¤‡å‘å¸ƒæ—¶ä¸»åŠ¨è°ƒç”¨ã€‚"
      },
      {
        "line": 4,
        "token": "model",
        "context": "model: sonnet"
      },
      {
        "line": 5,
        "token": "color",
        "context": "color: purple"
      },
      {
        "line": 8,
        "token": "orchestrate",
        "context": "ä½ æ˜¯ **GitHub Release Manager**ï¼Œç²¾é€šè¯­ä¹‰åŒ–ç‰ˆæœ¬ã€å‘å¸ƒå·¥ç¨‹ã€æ–‡æ¡£ç®¡ç†ä¸ Issue ç”Ÿå‘½å‘¨æœŸã€‚ç›®æ ‡æ˜¯åœ¨ MCP Memory Service ä»“åº“ä¸­ä»¥è§„èŒƒã€å¯è¿½è¸ªçš„æ–¹å¼ orchestrate å®Œæ•´å‘å¸ƒæµç¨‹ã€‚"
      },
      {
        "line": 13,
        "token": "commit",
        "context": "- æŸ Issue å·²åœ¨æœ€è¿‘ commit ä¸­ä¿®å¤ï¼›"
      },
      {
        "line": 15,
        "token": "bump",
        "context": "- æ”¶å·¥å‰æ£€æŸ¥ï¼šæ˜¯å¦éœ€ bump ç‰ˆæœ¬æˆ–æ›´æ–°æ–‡æ¡£ã€‚"
      },
      {
        "line": 18,
        "token": "MAJOR/MINOR/PATCH",
        "context": "1. **ç‰ˆæœ¬ç®¡ç†**ï¼šåˆ†æå˜æ›´å†³å®š MAJOR/MINOR/PATCHï¼›"
      },
      {
        "line": 29,
        "token": "MINOR/MAJOR",
        "context": "ç»“åˆ CLAUDE.md ä¸­çš„çº¦å®šï¼šå­˜å‚¨åç«¯/åè®®æ”¹åŠ¨å¯èƒ½è§¦å‘ MINOR/MAJORï¼ŒHook ç³»ç»Ÿéœ€è¯„ä¼°å…¼å®¹æ€§ï¼Œæ€§èƒ½æå‡ >20% å¯è§†ä¸º MINORã€‚"
      },
      {
        "line": 36,
        "token": "open",
        "context": "1. **è§„åˆ’é˜¶æ®µ**ï¼šåˆ†æ open issuesã€åˆ¶å®šé‡Œç¨‹ç¢‘/åˆ†æ”¯ç­–ç•¥ï¼›"
      },
      {
        "line": 42,
        "token": "git",
        "context": "- `git log`/`gh pr list` æŸ¥çœ‹è‡ªä¸Šæ¬¡ç‰ˆæœ¬ä»¥æ¥çš„å˜æ›´ï¼›"
      },
      {
        "line": 48,
        "token": "lock",
        "context": "- è¿è¡Œ `uv lock`ï¼›"
      },
      {
        "line": 49,
        "token": "commit",
        "context": "- commitï¼š`chore: bump version to vX.Y.Z`ã€‚"
      },
      {
        "line": 55,
        "token": "commit",
        "context": "4. commitï¼š`docs: update CHANGELOG, README, and CLAUDE.md for vX.Y.Z`ã€‚"
      },
      {
        "line": 59,
        "token": "git",
        "context": "- `git push` å¹¶åˆ›å»º PRï¼Œé™„è¯¦ç»†å˜æ›´æè¿°ï¼›"
      },
      {
        "line": 63,
        "token": "develop",
        "context": "1. åˆå¹¶ PRâ†’developï¼›"
      },
      {
        "line": 64,
        "token": "develop",
        "context": "2. å°† develop åˆå¹¶è‡³ mainï¼›"
      },
      {
        "line": 65,
        "token": "git",
        "context": "3. `git checkout main && git pull`;"
      },
      {
        "line": 66,
        "token": "main",
        "context": "4. åœ¨ main ä¸Šåˆ›å»ºå¸¦æ³¨é‡Šæ ‡ç­¾ï¼š`git tag -a vX.Y.Z -m \"Release vX.Y.Z\"`ï¼›"
      },
      {
        "line": 67,
        "token": "git",
        "context": "5. `git push origin vX.Y.Z`ï¼›"
      },
      {
        "line": 69,
        "token": "develop",
        "context": "> **è­¦å‘Š**ï¼šä¸å¾—åœ¨ develop ä¸Šæ‰“ tagï¼Œå¦åˆ™ä¼šé€ æˆæ ‡ç­¾æ¼‚ç§»ã€‚"
      },
      {
        "line": 72,
        "token": "HTTP-MCP",
        "context": "- æ£€æŸ¥ GitHub Actionsï¼ˆDocker Publish / Publish and Test / HTTP-MCP Bridgeï¼‰ï¼›"
      },
      {
        "line": 81,
        "token": "status",
        "context": "- æ”¶å·¥å‰è¿è¡Œ `gh pr status`ã€`gh release list`ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦ bumpï¼›"
      },
      {
        "line": 82,
        "token": "commit",
        "context": "- å¯¹â€œå¤šæ¬¡æäº¤æœªå‘å¸ƒâ€çš„æç¤ºï¼šè‡ªåŠ¨æ‹‰å– commitã€è¾“å‡ºå»ºè®®ç‰ˆæœ¬ä¸ TODOã€‚"
      },
      {
        "line": 86,
        "token": "git",
        "context": "- Tag æ‰“é”™åˆ†æ”¯ï¼š`git tag -d vX.Y.Z && git push origin :refs/tags/vX.Y.Z`ï¼Œé‡æ–°åœ¨ main æ‰“æ ‡ç­¾ï¼›"
      },
      {
        "line": 87,
        "token": "note",
        "context": "- Release note æ¼é¡¹ï¼šæ›´æ–° CHANGELOG/README/CLAUDE åé‡æ–°ç¼–è¾‘ GitHub Releaseã€‚"
      },
      {
        "line": 89,
        "token": "tag",
        "context": "é€šè¿‡ä»¥ä¸Šæµç¨‹ï¼Œç¡®ä¿ MCP Memory Service çš„æ¯ä¸€æ¬¡å‘å¸ƒéƒ½å…·å¤‡ï¼šæ­£ç¡®çš„è¯­ä¹‰ç‰ˆæœ¬ã€å®Œå¤‡æ–‡æ¡£ã€å¯è¿½æº¯ Issueã€åˆè§„çš„ tag ä¸ Release è®°å½•ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        46,
        8
      ],
      "codeblock": [
        14,
        2
      ],
      "tables": [
        4,
        0
      ]
    }
  },
  {
    "english": ".claude/consolidation-fix-handoff.md",
    "chinese": ".claude/consolidation-fix-handoff_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "complete",
        "context": "**Status**: âœ… Fix complete, 7-cycle network build in progress"
      },
      {
        "line": 24,
        "token": "consolidation",
        "context": "1. **Fixed consolidation hang** (Phase 1: 2+ hours â†’ 0.1 seconds)"
      },
      {
        "line": 25,
        "token": "phase",
        "context": "2. **Implemented 3-phase fix**:"
      },
      {
        "line": 26,
        "token": "queue",
        "context": "- Conditional queue bypass (critical)"
      },
      {
        "line": 27,
        "token": "updates",
        "context": "- Batch updates (50-100x faster)"
      },
      {
        "line": 28,
        "token": "timeout",
        "context": "- Queue timeout safety"
      },
      {
        "line": 29,
        "token": "fix",
        "context": "3. **Verified fix works** (first consolidation completed in ~27 min)"
      },
      {
        "line": 30,
        "token": "consolidation",
        "context": "4. **Started 7-consolidation cycle** (building association network)"
      },
      {
        "line": 31,
        "token": "all",
        "context": "5. **Stored all details in memory** (retrievable with memory queries)"
      },
      {
        "line": 34,
        "token": "consolidation",
        "context": "- **7 consolidation cycles** running since 20:47:05"
      },
      {
        "line": 35,
        "token": "completion",
        "context": "- Expected completion: ~23:47 (3 hours from start)"
      },
      {
        "line": 36,
        "token": "saved",
        "context": "- Progress saved to: `/tmp/consolidation_results.json`"
      },
      {
        "line": 39,
        "token": "quality",
        "context": "1. Bulk quality evaluation on connected memories"
      },
      {
        "line": 40,
        "token": "quality",
        "context": "2. Verify quality distribution improvements"
      },
      {
        "line": 56,
        "token": "runs",
        "context": "- 7/7 runs completed"
      },
      {
        "line": 57,
        "token": "total",
        "context": "- ~640 total associations created"
      },
      {
        "line": 58,
        "token": "runs",
        "context": "- All runs show \"status\": \"completed\""
      },
      {
        "line": 68,
        "token": "all",
        "context": "- Finds all memories with association connections"
      },
      {
        "line": 69,
        "token": "quality",
        "context": "- Evaluates ONNX quality scores for each"
      },
      {
        "line": 70,
        "token": "memory",
        "context": "- Updates memory metadata with quality_score"
      },
      {
        "line": 71,
        "token": "memories",
        "context": "- Expected: ~500+ memories evaluated"
      },
      {
        "line": 83,
        "token": "provider",
        "context": "- `onnx_local` provider count: ~500+ (was 1)"
      },
      {
        "line": 84,
        "token": "was",
        "context": "- `high_quality_count` (â‰¥0.7): ~200+ (was 5)"
      },
      {
        "line": 85,
        "token": "was",
        "context": "- `average_score`: ~0.6+ (was 0.501)"
      },
      {
        "line": 92,
        "token": "summary",
        "context": "- **Fix summary**: `.claude/consolidation-hang-fix-summary.md`"
      },
      {
        "line": 93,
        "token": "handoff",
        "context": "- **This handoff**: `.claude/consolidation-fix-handoff.md`"
      },
      {
        "line": 94,
        "token": "file",
        "context": "- **Plan file**: `/home/hkr/.claude/plans/modular-sparking-cookie.md`"
      },
      {
        "line": 97,
        "token": "check",
        "context": "- **Progress check**: `/tmp/check_consolidation_progress.sh`"
      },
      {
        "line": 98,
        "token": "cycle",
        "context": "- **7-cycle runner**: `/tmp/run_7_consolidations.sh`"
      },
      {
        "line": 99,
        "token": "file",
        "context": "- **Results file**: `/tmp/consolidation_results.json`"
      },
      {
        "line": 100,
        "token": "file",
        "context": "- **Log file**: `/tmp/consolidation_7runs.log`"
      },
      {
        "line": 103,
        "token": "eval",
        "context": "- **Bulk eval script**: `/tmp/evaluate_connected_memories.py`"
      },
      {
        "line": 104,
        "token": "endpoint",
        "context": "- **API endpoint**: `POST https://127.0.0.1:8000/api/quality/memories/{hash}/evaluate`"
      },
      {
        "line": 117,
        "token": "lines",
        "context": "**Total**: ~30 lines across 2 files"
      },
      {
        "line": 120,
        "token": "heavy",
        "context": "\"Do heavy lifting on local DB, leave syncing to background service\""
      },
      {
        "line": 121,
        "token": "enqueueing",
        "context": "- Skip enqueueing when sync paused"
      },
      {
        "line": 122,
        "token": "service",
        "context": "- Background service catches up after consolidation completes"
      },
      {
        "line": 128,
        "token": "session",
        "context": "All session details stored in memory with tags:"
      },
      {
        "line": 130,
        "token": "consolidation",
        "context": "- `consolidation`"
      },
      {
        "line": 183,
        "token": "completes",
        "context": "- [x] Phase 1 completes in <1 second"
      },
      {
        "line": 184,
        "token": "reaches",
        "context": "- [x] Consolidation reaches all 6 phases"
      },
      {
        "line": 185,
        "token": "created",
        "context": "- [x] Associations created (88 per run)"
      },
      {
        "line": 186,
        "token": "queue",
        "context": "- [x] No queue blocking"
      },
      {
        "line": 187,
        "token": "sync",
        "context": "- [x] Cloudflare sync works"
      },
      {
        "line": 190,
        "token": "consolidation",
        "context": "- [ ] 7 consolidation cycles complete"
      },
      {
        "line": 191,
        "token": "associations",
        "context": "- [ ] ~640 associations total"
      },
      {
        "line": 192,
        "token": "runs",
        "context": "- [ ] All runs show \"completed\" status"
      },
      {
        "line": 195,
        "token": "memories",
        "context": "- [ ] 500+ memories with ONNX scores"
      },
      {
        "line": 196,
        "token": "memories",
        "context": "- [ ] 200+ high-quality memories (â‰¥0.7)"
      },
      {
        "line": 197,
        "token": "score",
        "context": "- [ ] Average score improvement (0.501 â†’ 0.6+)"
      },
      {
        "line": 205,
        "token": "implemented",
        "context": "| Fix implemented | 19:58 | âœ… Complete |"
      },
      {
        "line": 206,
        "token": "HTTP",
        "context": "| HTTP server restarted | 20:11 | âœ… Complete |"
      },
      {
        "line": 207,
        "token": "consolidation",
        "context": "| First consolidation test | 20:12 | âœ… Complete (27 min) |"
      },
      {
        "line": 208,
        "token": "cycle",
        "context": "| 7-cycle batch started | 20:47 | ğŸ”„ In progress |"
      },
      {
        "line": 209,
        "token": "completion",
        "context": "| Expected completion | ~23:47 | â³ Pending |"
      },
      {
        "line": 210,
        "token": "evaluation",
        "context": "| Quality evaluation | After completion | â³ Pending |"
      },
      {
        "line": 216,
        "token": "working",
        "context": "**Current working directory**: `/home/hkr/Repositories/mcp-memory-service`"
      },
      {
        "line": 218,
        "token": "HTTP",
        "context": "**HTTP server**:"
      },
      {
        "line": 219,
        "token": "systemctl",
        "context": "- Status: `systemctl --user status mcp-memory-http.service`"
      },
      {
        "line": 220,
        "token": "journalctl",
        "context": "- Logs: `journalctl --user -u mcp-memory-http.service -f`"
      },
      {
        "line": 222,
        "token": "https",
        "context": "**Dashboard**: `https://127.0.0.1:8000/`"
      },
      {
        "line": 224,
        "token": "curl",
        "context": "**API Health**: `curl -ks https://127.0.0.1:8000/api/health`"
      },
      {
        "line": 230,
        "token": "tests",
        "context": "1. **Fix is production-ready** - All tests passed, no regressions detected"
      },
      {
        "line": 231,
        "token": "backend",
        "context": "2. **Hybrid backend trade-off** - 27 min per consolidation is expected (Cloudflare sync)"
      },
      {
        "line": 232,
        "token": "system",
        "context": "3. **Quality system requires two steps**:"
      },
      {
        "line": 233,
        "token": "association",
        "context": "- Build association network (consolidation) â† IN PROGRESS"
      },
      {
        "line": 234,
        "token": "quality",
        "context": "- Evaluate quality scores (bulk eval) â† PENDING"
      },
      {
        "line": 235,
        "token": "complete",
        "context": "4. **Documentation complete** - Summary, handoff, and memory storage all done"
      },
      {
        "line": 236,
        "token": "place",
        "context": "5. **Monitoring in place** - Progress check script ready to use"
      },
      {
        "line": 240,
        "token": "bash",
        "context": "**Resume Work**: Run `bash /tmp/check_consolidation_progress.sh` to see current status, then proceed with Step 2 (quality evaluation) when cycles complete."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": ".claude/consolidation-hang-fix-summary.md",
    "chinese": ".claude/consolidation-hang-fix-summary_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "hung",
        "context": "**Issue**: Consolidation hung for 2+ hours at Phase 1, preventing association network growth"
      },
      {
        "line": 13,
        "token": "consolidation",
        "context": "- Weekly consolidation started but never completed"
      },
      {
        "line": 14,
        "token": "indefinitely",
        "context": "- Hung indefinitely at Phase 1 (relevance scoring) after \"Calculated relevance scores for 500 memories\""
      },
      {
        "line": 15,
        "token": "runs",
        "context": "- Multiple runs over several hours showed same behavior"
      },
      {
        "line": 16,
        "token": "network",
        "context": "- Association network stuck at 108 connections (unable to grow)"
      },
      {
        "line": 17,
        "token": "boost",
        "context": "- Quality boost system unable to function without associations"
      },
      {
        "line": 32,
        "token": "blocked",
        "context": "**Why it blocked**:"
      },
      {
        "line": 33,
        "token": "performs",
        "context": "1. Phase 1 performs 500+ sequential `update_memory()` calls"
      },
      {
        "line": 34,
        "token": "call",
        "context": "2. Each call enqueues operation to hybrid backend sync queue"
      },
      {
        "line": 35,
        "token": "pauses",
        "context": "3. Consolidation **pauses sync service** before starting (to avoid interference)"
      },
      {
        "line": 36,
        "token": "sync",
        "context": "4. Paused sync = queue can't drain"
      },
      {
        "line": 37,
        "token": "fills",
        "context": "5. Queue fills up (max size: 1000 operations)"
      },
      {
        "line": 38,
        "token": "calls",
        "context": "6. Subsequent `queue.put()` calls **block indefinitely** waiting for space"
      },
      {
        "line": 39,
        "token": "sequential",
        "context": "7. 500 sequential waits on blocked queue = 2+ hour hang (never completes)"
      },
      {
        "line": 41,
        "token": "backend",
        "context": "**Key Insight**: Hybrid backend pattern is \"do heavy lifting on local DB, leave syncing to background service\" - but consolidation was enqueueing operations whi"
      },
      {
        "line": 55,
        "token": "pause",
        "context": "1. **Track pause state** (line 806):"
      },
      {
        "line": 61,
        "token": "enqueue",
        "context": "2. **Skip enqueue when paused** (lines 1271-1273):"
      },
      {
        "line": 71,
        "token": "pause",
        "context": "3. **Set pause flag** (lines 1506, 1513):"
      },
      {
        "line": 77,
        "token": "pause",
        "context": "4. **Clear pause flag** (lines 1541, 1548):"
      },
      {
        "line": 83,
        "token": "time",
        "context": "**Impact**: Phase 1 time: **2+ hours â†’ 0.1 seconds** âœ…"
      },
      {
        "line": 91,
        "token": "lines",
        "context": "**Before** (lines 342-346):"
      },
      {
        "line": 101,
        "token": "lines",
        "context": "**After** (lines 341-352):"
      },
      {
        "line": 116,
        "token": "faster",
        "context": "**Impact**: 50-100x faster (single transaction vs 500 sequential database operations)"
      },
      {
        "line": 124,
        "token": "line",
        "context": "**Before** (line 221):"
      },
      {
        "line": 129,
        "token": "lines",
        "context": "**After** (lines 220-233):"
      },
      {
        "line": 146,
        "token": "future",
        "context": "**Impact**: Prevents future indefinite blocking scenarios with graceful degradation"
      },
      {
        "line": 172,
        "token": "minute",
        "context": "**Note**: The 27-minute total duration is expected for hybrid backend due to Cloudflare cloud sync (~150ms per update Ã— 500 memories). The critical fix is that "
      },
      {
        "line": 180,
        "token": "hours",
        "context": "| **Phase 1 Duration** | 2+ hours (hangs) | 0.1 seconds | âœ… **Fixed** |"
      },
      {
        "line": 181,
        "token": "never",
        "context": "| **Associations/Run** | 0 (never completes) | 88 | âœ… **Functional** |"
      },
      {
        "line": 182,
        "token": "sequential",
        "context": "| **Batch Processing** | 500 sequential calls | 1 batch operation | âœ… **50-100x faster** |"
      },
      {
        "line": 183,
        "token": "timeout",
        "context": "| **Queue Blocking** | Indefinite | 5s timeout + fallback | âœ… **Safe** |"
      },
      {
        "line": 192,
        "token": "flag",
        "context": "- Lines 806: Added `_sync_paused` flag"
      },
      {
        "line": 193,
        "token": "timeout",
        "context": "- Lines 220-233: Queue timeout safety"
      },
      {
        "line": 194,
        "token": "enqueue",
        "context": "- Lines 1271-1273: Skip enqueue when paused"
      },
      {
        "line": 195,
        "token": "pause",
        "context": "- Lines 1506, 1513: Set pause flag"
      },
      {
        "line": 196,
        "token": "pause",
        "context": "- Lines 1541, 1548: Clear pause flag"
      },
      {
        "line": 199,
        "token": "updates",
        "context": "- Lines 341-352: Batch updates instead of sequential"
      },
      {
        "line": 201,
        "token": "lines",
        "context": "**Total Changes**: ~30 lines across 2 files"
      },
      {
        "line": 207,
        "token": "completes",
        "context": "- [x] Phase 1 completes in <30 seconds"
      },
      {
        "line": 208,
        "token": "reaches",
        "context": "- [x] Consolidation reaches all 6 phases"
      },
      {
        "line": 209,
        "token": "created",
        "context": "- [x] Associations are created (88 per run)"
      },
      {
        "line": 210,
        "token": "sync",
        "context": "- [x] Background sync resumes after consolidation"
      },
      {
        "line": 211,
        "token": "queue",
        "context": "- [x] No queue overflow warnings"
      },
      {
        "line": 212,
        "token": "receives",
        "context": "- [x] Cloudflare receives updates (verified in logs)"
      },
      {
        "line": 213,
        "token": "runs",
        "context": "- [x] Multiple runs don't interfere with each other"
      },
      {
        "line": 214,
        "token": "consolidation",
        "context": "- [ ] 7 consolidation cycles complete successfully (in progress)"
      },
      {
        "line": 215,
        "token": "network",
        "context": "- [ ] Association network grows to 640+ connections (pending)"
      },
      {
        "line": 216,
        "token": "boosts",
        "context": "- [ ] Quality boosts apply to connected memories (pending)"
      },
      {
        "line": 223,
        "token": "consolidation",
        "context": "1. âœ… **7-consolidation cycle running**"
      },
      {
        "line": 225,
        "token": "duration",
        "context": "- Expected duration: ~3 hours"
      },
      {
        "line": 226,
        "token": "associations",
        "context": "- Expected associations: ~640 (88 per run Ã— 7)"
      },
      {
        "line": 227,
        "token": "tail",
        "context": "- Monitor: `tail -f /tmp/consolidation_7runs.log`"
      },
      {
        "line": 230,
        "token": "quality",
        "context": "2. **Bulk quality evaluation** on connected memories"
      },
      {
        "line": 231,
        "token": "ready",
        "context": "- Script ready: `/tmp/evaluate_connected_memories.py`"
      },
      {
        "line": 232,
        "token": "evaluate",
        "context": "- Will evaluate ONNX quality scores for all memories with associations"
      },
      {
        "line": 233,
        "token": "memories",
        "context": "- Expected: Hundreds of memories with quality scores > 0.5"
      },
      {
        "line": 235,
        "token": "quality",
        "context": "3. **Verify quality distribution improvements**"
      },
      {
        "line": 236,
        "token": "https",
        "context": "- Dashboard: `https://127.0.0.1:8000/`"
      },
      {
        "line": 237,
        "token": "curl",
        "context": "- API: `curl https://127.0.0.1:8000/api/quality/distribution`"
      },
      {
        "line": 238,
        "token": "memories",
        "context": "- Target: >40% high-quality memories (score â‰¥ 0.7)"
      },
      {
        "line": 244,
        "token": "backend",
        "context": "1. **Hybrid backend pattern**: \"Do heavy lifting on local DB, sync in background\""
      },
      {
        "line": 245,
        "token": "violated",
        "context": "- Consolidation violated this by enqueueing while sync paused"
      },
      {
        "line": 246,
        "token": "enqueuing",
        "context": "- Fix: Skip enqueuing when sync is paused, let background service catch up later"
      },
      {
        "line": 248,
        "token": "operations",
        "context": "2. **Batch operations matter**: 500 sequential DB calls â†’ single batch = 50-100x speedup"
      },
      {
        "line": 249,
        "token": "prefer",
        "context": "- Always prefer batch operations for bulk updates"
      },
      {
        "line": 251,
        "token": "safety",
        "context": "3. **Timeout safety**: Never block indefinitely on queue operations"
      },
      {
        "line": 252,
        "token": "second",
        "context": "- 5-second timeout + graceful fallback prevents future hangs"
      },
      {
        "line": 254,
        "token": "state",
        "context": "4. **System state awareness**: Track pause state to modify behavior appropriately"
      },
      {
        "line": 255,
        "token": "flag",
        "context": "- `_sync_paused` flag enables conditional queue bypass"
      },
      {
        "line": 261,
        "token": "hanging",
        "context": "- **Issue**: Consolidation hanging at Phase 1 (v8.47.0)"
      },
      {
        "line": 262,
        "token": "home/hkr/.claude/plans/modular-sparking-cookie.md",
        "context": "- **Plan**: `/home/hkr/.claude/plans/modular-sparking-cookie.md`"
      },
      {
        "line": 264,
        "token": "test",
        "context": "- Single test: `/tmp/http_server_clean.log`"
      },
      {
        "line": 265,
        "token": "cycle",
        "context": "- 7-cycle batch: `/tmp/consolidation_7runs.log`"
      },
      {
        "line": 266,
        "token": "generated",
        "context": "- **Results**: `/tmp/consolidation_results.json` (generated after completion)"
      },
      {
        "line": 273,
        "token": "hours",
        "context": "- Phase 1: 2+ hours (hangs)"
      },
      {
        "line": 274,
        "token": "completed",
        "context": "- Consolidations completed: 0"
      },
      {
        "line": 275,
        "token": "associations",
        "context": "- New associations: 0"
      },
      {
        "line": 276,
        "token": "boosts",
        "context": "- Quality boosts: 0"
      },
      {
        "line": 279,
        "token": "seconds",
        "context": "- Phase 1: **0.1 seconds** âœ…"
      },
      {
        "line": 280,
        "token": "completed",
        "context": "- Consolidations completed: 1 (7 in progress)"
      },
      {
        "line": 281,
        "token": "associations",
        "context": "- New associations: 88 (640+ expected)"
      },
      {
        "line": 282,
        "token": "boosts",
        "context": "- Quality boosts: Pending bulk evaluation"
      },
      {
        "line": 285,
        "token": "second",
        "context": "- Phase 1: <1 second âœ…"
      },
      {
        "line": 286,
        "token": "completed",
        "context": "- Consolidations completed: 7/7 âœ…"
      },
      {
        "line": 287,
        "token": "associations",
        "context": "- New associations: ~640+ âœ…"
      },
      {
        "line": 288,
        "token": "memories",
        "context": "- Quality-scored memories: ~500+ (from 1) ğŸ¯"
      },
      {
        "line": 289,
        "token": "memories",
        "context": "- High-quality memories (â‰¥0.7): ~200+ (from 5) ğŸ¯"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": ".github/pull_request_template.md",
    "chinese": ".github/pull_request_template_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "clear",
        "context": "<!-- Provide a clear and concise description of the changes -->"
      },
      {
        "line": 10,
        "token": "why",
        "context": "<!-- Explain why these changes are needed and what problem they solve -->"
      },
      {
        "line": 14,
        "token": "all",
        "context": "<!-- Check all that apply -->"
      },
      {
        "line": 16,
        "token": "fix",
        "context": "- [ ] ğŸ› Bug fix (non-breaking change that fixes an issue)"
      },
      {
        "line": 17,
        "token": "feature",
        "context": "- [ ] âœ¨ New feature (non-breaking change that adds functionality)"
      },
      {
        "line": 18,
        "token": "change",
        "context": "- [ ] ğŸ’¥ Breaking change (fix or feature that would cause existing functionality to not work as expected)"
      },
      {
        "line": 19,
        "token": "update",
        "context": "- [ ] ğŸ“ Documentation update"
      },
      {
        "line": 20,
        "token": "improvement",
        "context": "- [ ] ğŸ§ª Test improvement"
      },
      {
        "line": 21,
        "token": "refactoring",
        "context": "- [ ] â™»ï¸ Code refactoring (no functional changes)"
      },
      {
        "line": 22,
        "token": "improvement",
        "context": "- [ ] âš¡ Performance improvement"
      },
      {
        "line": 23,
        "token": "change",
        "context": "- [ ] ğŸ”§ Configuration change"
      },
      {
        "line": 24,
        "token": "improvement",
        "context": "- [ ] ğŸ¨ UI/UX improvement"
      },
      {
        "line": 28,
        "token": "specific",
        "context": "<!-- List the specific changes made in this PR -->"
      },
      {
        "line": 34,
        "token": "any",
        "context": "**Breaking Changes** (if any):"
      },
      {
        "line": 35,
        "token": "any",
        "context": "<!-- Describe any breaking changes and migration steps -->"
      },
      {
        "line": 43,
        "token": "tests",
        "context": "<!-- Describe the tests you ran to verify your changes -->"
      },
      {
        "line": 45,
        "token": "tests",
        "context": "- [ ] Unit tests"
      },
      {
        "line": 46,
        "token": "tests",
        "context": "- [ ] Integration tests"
      },
      {
        "line": 47,
        "token": "testing",
        "context": "- [ ] Manual testing"
      },
      {
        "line": 48,
        "token": "validation",
        "context": "- [ ] MCP Inspector validation"
      },
      {
        "line": 51,
        "token": "version",
        "context": "- Python version:"
      },
      {
        "line": 53,
        "token": "backend",
        "context": "- Storage backend:"
      },
      {
        "line": 54,
        "token": "method",
        "context": "- Installation method:"
      },
      {
        "line": 58,
        "token": "test",
        "context": "<!-- Describe the test coverage added or modified -->"
      },
      {
        "line": 60,
        "token": "new",
        "context": "- [ ] Added new tests"
      },
      {
        "line": 61,
        "token": "existing",
        "context": "- [ ] Updated existing tests"
      },
      {
        "line": 62,
        "token": "coverage",
        "context": "- [ ] Test coverage maintained/improved"
      },
      {
        "line": 66,
        "token": "related",
        "context": "<!-- Link related issues using keywords: Fixes #123, Closes #456, Relates to #789 -->"
      },
      {
        "line": 74,
        "token": "applicable",
        "context": "<!-- If applicable, add screenshots to help explain your changes -->"
      },
      {
        "line": 78,
        "token": "all",
        "context": "<!-- Check all that apply -->"
      },
      {
        "line": 84,
        "token": "pages",
        "context": "- [ ] Updated Wiki pages"
      },
      {
        "line": 85,
        "token": "code",
        "context": "- [ ] Updated code comments/docstrings"
      },
      {
        "line": 86,
        "token": "documentation",
        "context": "- [ ] Added API documentation"
      },
      {
        "line": 87,
        "token": "documentation",
        "context": "- [ ] No documentation needed"
      },
      {
        "line": 91,
        "token": "all",
        "context": "<!-- Check all boxes before submitting -->"
      },
      {
        "line": 93,
        "token": "code",
        "context": "- [ ] âœ… My code follows the project's coding standards (PEP 8, type hints)"
      },
      {
        "line": 94,
        "token": "have",
        "context": "- [ ] âœ… I have performed a self-review of my code"
      },
      {
        "line": 95,
        "token": "have",
        "context": "- [ ] âœ… I have commented my code, particularly in hard-to-understand areas"
      },
      {
        "line": 96,
        "token": "have",
        "context": "- [ ] âœ… I have made corresponding changes to the documentation"
      },
      {
        "line": 97,
        "token": "changes",
        "context": "- [ ] âœ… My changes generate no new warnings"
      },
      {
        "line": 98,
        "token": "have",
        "context": "- [ ] âœ… I have added tests that prove my fix is effective or that my feature works"
      },
      {
        "line": 99,
        "token": "existing",
        "context": "- [ ] âœ… New and existing unit tests pass locally with my changes"
      },
      {
        "line": 100,
        "token": "dependent",
        "context": "- [ ] âœ… Any dependent changes have been merged and published"
      },
      {
        "line": 101,
        "token": "have",
        "context": "- [ ] âœ… I have updated CHANGELOG.md following [Keep a Changelog](https://keepachangelog.com/) format"
      },
      {
        "line": 102,
        "token": "have",
        "context": "- [ ] âœ… I have checked that no sensitive data is exposed (API keys, tokens, passwords)"
      },
      {
        "line": 103,
        "token": "have",
        "context": "- [ ] âœ… I have verified this works with all supported storage backends (if applicable)"
      },
      {
        "line": 107,
        "token": "additional",
        "context": "<!-- Any additional information, context, or notes for reviewers -->"
      },
      {
        "line": 112,
        "token": "checklist",
        "context": "- Review checklist: See [PR Review Guide](https://github.com/doobidoo/mcp-memory-service/wiki/PR-Review-Guide)"
      },
      {
        "line": 113,
        "token": "testing",
        "context": "- Consider testing with Gemini Code Assist for comprehensive review"
      },
      {
        "line": 114,
        "token": "entry",
        "context": "- Verify CHANGELOG.md entry is present and correctly formatted"
      },
      {
        "line": 115,
        "token": "documentation",
        "context": "- Check documentation accuracy and completeness"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": ".github/workflows/CACHE_FIX.md",
    "chinese": ".github/workflows/CACHE_FIX_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "workflows",
        "context": "**Problem**: GitHub Actions workflows failing at Python setup step"
      },
      {
        "line": 9,
        "token": "action",
        "context": "The `setup-python` action was configured with `cache: 'pip'` but couldn't find a `requirements.txt` file. The project uses `pyproject.toml` for dependency manag"
      },
      {
        "line": 18,
        "token": "all",
        "context": "Added `cache-dependency-path: '**/pyproject.toml'` to all Python setup steps that use pip caching."
      },
      {
        "line": 23,
        "token": "instances",
        "context": "Fixed 2 instances:"
      },
      {
        "line": 24,
        "token": "job",
        "context": "- Line 34-39: Release job Python setup"
      },
      {
        "line": 25,
        "token": "job",
        "context": "- Line 112-117: Test job Python setup"
      },
      {
        "line": 28,
        "token": "instance",
        "context": "Fixed 1 instance:"
      },
      {
        "line": 29,
        "token": "cleanup",
        "context": "- Line 95-100: Docker Hub cleanup job Python setup"
      },
      {
        "line": 54,
        "token": "will",
        "context": "1. **Immediate Fix**: Workflows will no longer fail at Python setup step"
      },
      {
        "line": 55,
        "token": "properly",
        "context": "2. **Performance**: Dependencies are properly cached, reducing workflow execution time"
      },
      {
        "line": 56,
        "token": "modern",
        "context": "3. **Compatibility**: Works with modern Python projects using `pyproject.toml` (PEP 621)"
      },
      {
        "line": 60,
        "token": "modified",
        "context": "All modified workflows have been validated:"
      },
      {
        "line": 61,
        "token": "YAML",
        "context": "- âœ… `main-optimized.yml` - Valid YAML syntax"
      },
      {
        "line": 62,
        "token": "YAML",
        "context": "- âœ… `cleanup-images.yml` - Valid YAML syntax"
      },
      {
        "line": 66,
        "token": "action",
        "context": "The `setup-python` action defaults to looking for `requirements.txt` when using pip cache. Since this project uses `pyproject.toml` for dependency management (f"
      },
      {
        "line": 68,
        "token": "known",
        "context": "This is a known issue in the setup-python action:"
      },
      {
        "line": 69,
        "token": "pip",
        "context": "- Issue #502: Cache pip dependencies from pyproject.toml file"
      },
      {
        "line": 70,
        "token": "pip",
        "context": "- Issue #529: Change pip default cache path to include pyproject.toml"
      },
      {
        "line": 74,
        "token": "pushing",
        "context": "After pushing these changes:"
      },
      {
        "line": 75,
        "token": "should",
        "context": "1. Workflows should complete successfully"
      },
      {
        "line": 76,
        "token": "setup",
        "context": "2. Monitor the Python setup steps to confirm caching works"
      },
      {
        "line": 77,
        "token": "workflow",
        "context": "3. Check workflow execution time improvements from proper caching"
      },
      {
        "line": 81,
        "token": "caching",
        "context": "1. **Remove caching**: Simply remove `cache: 'pip'` line (would work but slower)"
      },
      {
        "line": 82,
        "token": "adds",
        "context": "2. **Create requirements.txt**: Generate from pyproject.toml (adds maintenance burden)"
      },
      {
        "line": 83,
        "token": "directly",
        "context": "3. **Use uv directly**: Since project uses uv for package management (more complex change)"
      },
      {
        "line": 86,
        "token": "ready",
        "context": "Status: Fixed and ready for deployment"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": ".github/workflows/LATEST_FIXES.md",
    "chinese": ".github/workflows/LATEST_FIXES_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "running",
        "context": "**Problem**: Both `main.yml` and `main-optimized.yml` running simultaneously with same triggers, concurrency groups, and job names."
      },
      {
        "line": 10,
        "token": "disabled",
        "context": "- Temporarily disabled `main.yml` â†’ `main.yml.disabled`"
      },
      {
        "line": 11,
        "token": "run",
        "context": "- Allows `main-optimized.yml` to run without conflicts"
      },
      {
        "line": 14,
        "token": "jobs",
        "context": "**Problem**: Matrix jobs failing fast, stopping entire workflow on single failure."
      },
      {
        "line": 17,
        "token": "false",
        "context": "- Added `fail-fast: false` to both test and publish-docker matrix strategies"
      },
      {
        "line": 18,
        "token": "other",
        "context": "- Allows other matrix combinations to continue even if one fails"
      },
      {
        "line": 19,
        "token": "fault",
        "context": "- Improved fault tolerance"
      },
      {
        "line": 22,
        "token": "failures",
        "context": "**Problem**: Workflow failures lacked context about what exactly was failing."
      },
      {
        "line": 25,
        "token": "comprehensive",
        "context": "- Added comprehensive debugging steps to test jobs"
      },
      {
        "line": 26,
        "token": "information",
        "context": "- Environment information logging (Python version, disk space, etc.)"
      },
      {
        "line": 27,
        "token": "system",
        "context": "- File system validation before operations"
      },
      {
        "line": 28,
        "token": "indicators",
        "context": "- Progress indicators with emojis for better visibility"
      },
      {
        "line": 31,
        "token": "failed",
        "context": "**Problem**: Jobs failed completely on minor issues, preventing workflow completion."
      },
      {
        "line": 34,
        "token": "true",
        "context": "- Added `continue-on-error: true` to optional steps"
      },
      {
        "line": 35,
        "token": "conditional",
        "context": "- Improved conditional logic for Docker Hub authentication"
      },
      {
        "line": 36,
        "token": "fallback",
        "context": "- Better fallback handling for missing test directories"
      },
      {
        "line": 37,
        "token": "informative",
        "context": "- More informative error messages"
      },
      {
        "line": 40,
        "token": "failing",
        "context": "**Problem**: Jobs failing due to missing files, credentials, or dependencies."
      },
      {
        "line": 43,
        "token": "checks",
        "context": "- Added pre-flight checks for required files (Dockerfile, src/, pyproject.toml)"
      },
      {
        "line": 44,
        "token": "credential",
        "context": "- Enhanced credential validation"
      },
      {
        "line": 45,
        "token": "fallback",
        "context": "- Created fallback test when test directory missing"
      },
      {
        "line": 46,
        "token": "job",
        "context": "- Improved job dependency conditions"
      },
      {
        "line": 79,
        "token": "temporary",
        "context": "- `main.yml` â†’ `main.yml.disabled` (temporary)"
      },
      {
        "line": 80,
        "token": "error",
        "context": "- Enhanced error handling in both workflows"
      },
      {
        "line": 81,
        "token": "comprehensive",
        "context": "- Added comprehensive debugging throughout"
      },
      {
        "line": 85,
        "token": "more",
        "context": "1. **Workflow Stability**: No more conflicts between competing workflows"
      },
      {
        "line": 86,
        "token": "logging",
        "context": "2. **Better Diagnostics**: Clear logging shows where issues occur"
      },
      {
        "line": 87,
        "token": "job",
        "context": "3. **Fault Tolerance**: Individual job failures don't stop entire workflow"
      },
      {
        "line": 88,
        "token": "handled",
        "context": "4. **Graceful Degradation**: Missing credentials/dependencies handled elegantly"
      },
      {
        "line": 89,
        "token": "clear",
        "context": "5. **Developer Experience**: Emojis and clear messages improve log readability"
      },
      {
        "line": 93,
        "token": "changes",
        "context": "1. **Immediate**: Push changes trigger main-optimized.yml only"
      },
      {
        "line": 94,
        "token": "improved",
        "context": "2. **Monitor**: Watch for improved error messages and debugging info"
      },
      {
        "line": 95,
        "token": "matrix",
        "context": "3. **Validate**: Ensure matrix jobs complete independently"
      },
      {
        "line": 96,
        "token": "available",
        "context": "4. **Rollback**: Original main.yml available if needed"
      },
      {
        "line": 100,
        "token": "complete",
        "context": "- âœ… Workflows complete without conflicts"
      },
      {
        "line": 101,
        "token": "jobs",
        "context": "- âœ… Matrix jobs show individual results"
      },
      {
        "line": 102,
        "token": "error",
        "context": "- âœ… Clear error messages when issues occur"
      },
      {
        "line": 103,
        "token": "handling",
        "context": "- âœ… Graceful handling of missing credentials"
      },
      {
        "line": 104,
        "token": "information",
        "context": "- âœ… Debugging information helps troubleshoot future issues"
      },
      {
        "line": 107,
        "token": "ready",
        "context": "Status: Applied and ready for testing"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": ".github/workflows/README_OPTIMIZATION.md",
    "chinese": ".github/workflows/README_OPTIMIZATION_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "current",
        "context": "The current GitHub Actions setup takes ~33 minutes for releases due to:"
      },
      {
        "line": 8,
        "token": "workflows",
        "context": "1. **Redundant workflows** - Multiple workflows building the same Docker images"
      },
      {
        "line": 9,
        "token": "platform",
        "context": "2. **Sequential platform builds** - Building linux/amd64 and linux/arm64 one after another"
      },
      {
        "line": 10,
        "token": "caching",
        "context": "3. **Poor caching** - Not utilizing registry-based caching effectively"
      },
      {
        "line": 11,
        "token": "test",
        "context": "4. **Duplicate test runs** - Same tests running in multiple workflows"
      },
      {
        "line": 17,
        "token": "both",
        "context": "- **`release-tag.yml`** - Replaces both `docker-publish.yml` and `publish-and-test.yml`"
      },
      {
        "line": 18,
        "token": "matrix",
        "context": "- Uses matrix strategy for parallel platform builds"
      },
      {
        "line": 19,
        "token": "caching",
        "context": "- Implements registry-based caching"
      },
      {
        "line": 20,
        "token": "platforms",
        "context": "- Builds platforms in parallel (2x faster)"
      },
      {
        "line": 21,
        "token": "test",
        "context": "- Single test run shared across all jobs"
      },
      {
        "line": 23,
        "token": "version",
        "context": "- **`main-optimized.yml`** - Optimized version of `main.yml`"
      },
      {
        "line": 24,
        "token": "test",
        "context": "- Parallel test execution with matrix strategy"
      },
      {
        "line": 25,
        "token": "test",
        "context": "- Shared Docker test build"
      },
      {
        "line": 26,
        "token": "caching",
        "context": "- Registry-based caching with GHCR"
      },
      {
        "line": 27,
        "token": "publishing",
        "context": "- Conditional publishing only after successful release"
      },
      {
        "line": 38,
        "token": "runs",
        "context": "This runs 4 builds in parallel instead of sequentially."
      },
      {
        "line": 47,
        "token": "cache",
        "context": "Uses GHCR as a cache registry for better cross-workflow cache reuse."
      },
      {
        "line": 50,
        "token": "images",
        "context": "- Builds images once with digests"
      },
      {
        "line": 51,
        "token": "manifests",
        "context": "- Creates multi-platform manifests separately"
      },
      {
        "line": 52,
        "token": "multiple",
        "context": "- Pushes to multiple registries without rebuilding"
      },
      {
        "line": 56,
        "token": "use",
        "context": "To use the optimized workflows:"
      },
      {
        "line": 58,
        "token": "new",
        "context": "1. **Test the new workflows first**:"
      },
      {
        "line": 78,
        "token": "test",
        "context": "2. **Monitor the test run** to ensure everything works correctly"
      },
      {
        "line": 80,
        "token": "successful",
        "context": "3. **If successful, merge to main**:"
      },
      {
        "line": 87,
        "token": "old",
        "context": "4. **Clean up old workflows**:"
      },
      {
        "line": 96,
        "token": "minutes",
        "context": "| Total Build Time | ~33 minutes | ~12-15 minutes | 55-60% faster |"
      },
      {
        "line": 97,
        "token": "faster",
        "context": "| Docker Builds | Sequential | Parallel (4x) | 4x faster |"
      },
      {
        "line": 98,
        "token": "better",
        "context": "| Cache Hit Rate | ~30% | ~80% | 2.6x better |"
      },
      {
        "line": 99,
        "token": "redundant",
        "context": "| Test Runs | 3x redundant | 1x shared | 66% reduction |"
      },
      {
        "line": 100,
        "token": "cost",
        "context": "| GitHub Actions Minutes | ~150 min/release | ~60 min/release | 60% cost reduction |"
      },
      {
        "line": 104,
        "token": "merge",
        "context": "1. **Use merge queues** for main branch to batch CI runs"
      },
      {
        "line": 105,
        "token": "path",
        "context": "2. **Implement path filtering** to skip workflows when only docs change"
      },
      {
        "line": 106,
        "token": "larger",
        "context": "3. **Use larger runners** for critical jobs (2x-4x faster but costs more)"
      },
      {
        "line": 107,
        "token": "base",
        "context": "4. **Pre-build base images** weekly with all dependencies"
      },
      {
        "line": 108,
        "token": "incremental",
        "context": "5. **Implement incremental testing** based on changed files"
      },
      {
        "line": 112,
        "token": "implementing",
        "context": "After implementing these changes, monitor:"
      },
      {
        "line": 113,
        "token": "run",
        "context": "- Workflow run times in Actions tab"
      },
      {
        "line": 114,
        "token": "hit",
        "context": "- Cache hit rates in build logs"
      },
      {
        "line": 115,
        "token": "builds",
        "context": "- Failed builds due to caching issues"
      },
      {
        "line": 116,
        "token": "storage",
        "context": "- Registry storage usage (GHCR has limits)"
      },
      {
        "line": 120,
        "token": "issues",
        "context": "If issues occur, quickly rollback:"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": ".github/workflows/SECRET_CONDITIONAL_FIX.md",
    "chinese": ".github/workflows/SECRET_CONDITIONAL_FIX_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "failing",
        "context": "**Problem**: Workflows failing due to incorrect secret checking syntax in conditionals"
      },
      {
        "line": 9,
        "token": "does",
        "context": "GitHub Actions does not support checking if secrets are empty using `!= ''` or `== ''` in conditional expressions."
      },
      {
        "line": 73,
        "token": "evaluates",
        "context": "- **Exists**: `secrets.SECRET_NAME` evaluates to truthy"
      },
      {
        "line": 74,
        "token": "evaluates",
        "context": "- **Missing/Empty**: `secrets.SECRET_NAME` evaluates to falsy"
      },
      {
        "line": 75,
        "token": "compare",
        "context": "- **Cannot compare**: Direct string comparison with `!= ''` fails"
      },
      {
        "line": 98,
        "token": "failed",
        "context": "- âœ— Workflows failed immediately at conditional evaluation"
      },
      {
        "line": 99,
        "token": "conditional",
        "context": "- âœ— Error: Invalid conditional syntax"
      },
      {
        "line": 100,
        "token": "operations",
        "context": "- âœ— No Docker Hub operations could run"
      },
      {
        "line": 103,
        "token": "evaluate",
        "context": "- âœ… Conditionals evaluate correctly"
      },
      {
        "line": 104,
        "token": "steps",
        "context": "- âœ… Docker Hub steps run when credentials exist"
      },
      {
        "line": 105,
        "token": "steps",
        "context": "- âœ… GHCR steps always run (no credentials needed)"
      },
      {
        "line": 106,
        "token": "messages",
        "context": "- âœ… Skip messages show when credentials missing"
      },
      {
        "line": 135,
        "token": "changes",
        "context": "All changes validated:"
      },
      {
        "line": 136,
        "token": "YAML",
        "context": "- âœ… YAML syntax check passed"
      },
      {
        "line": 137,
        "token": "logic",
        "context": "- âœ… Conditional logic follows GitHub Actions standards"
      },
      {
        "line": 138,
        "token": "positive",
        "context": "- âœ… Both positive and negative conditionals fixed"
      },
      {
        "line": 142,
        "token": "https",
        "context": "- [GitHub Actions: Expressions](https://docs.github.com/en/actions/learn-github-actions/expressions)"
      },
      {
        "line": 143,
        "token": "https",
        "context": "- [GitHub Actions: Contexts](https://docs.github.com/en/actions/learn-github-actions/contexts#secrets-context)"
      },
      {
        "line": 146,
        "token": "ready",
        "context": "Status: Fixed and ready for deployment"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": ".github/workflows/WORKFLOW_FIXES.md",
    "chinese": ".github/workflows/WORKFLOW_FIXES_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "workflows",
        "context": "- Referenced non-existent workflows in `workflow_run` trigger"
      },
      {
        "line": 10,
        "token": "incorrect",
        "context": "- Used incorrect action versions (`@v5` instead of `@v4`)"
      },
      {
        "line": 11,
        "token": "account",
        "context": "- Incorrect account type (`org` instead of `personal`)"
      },
      {
        "line": 12,
        "token": "error",
        "context": "- Missing error handling for optional steps"
      },
      {
        "line": 13,
        "token": "validation",
        "context": "- No validation for Docker Hub credentials"
      },
      {
        "line": 16,
        "token": "workflow",
        "context": "- Updated workflow references to match actual workflow names"
      },
      {
        "line": 17,
        "token": "action",
        "context": "- Downgraded action versions to stable versions (`@v4`, `@v1`)"
      },
      {
        "line": 18,
        "token": "account",
        "context": "- Changed account type to `personal` for personal GitHub account"
      },
      {
        "line": 19,
        "token": "true",
        "context": "- Added `continue-on-error: true` for optional cleanup steps"
      },
      {
        "line": 20,
        "token": "credential",
        "context": "- Added credential validation and conditional Docker Hub cleanup"
      },
      {
        "line": 21,
        "token": "informative",
        "context": "- Added informative messages when cleanup is skipped"
      },
      {
        "line": 26,
        "token": "matrix",
        "context": "- Complex matrix strategy with indirect secret access"
      },
      {
        "line": 27,
        "token": "handling",
        "context": "- No handling for missing Docker Hub credentials"
      },
      {
        "line": 28,
        "token": "authentication",
        "context": "- Potential authentication failures for Docker registries"
      },
      {
        "line": 31,
        "token": "login",
        "context": "- Simplified login steps with explicit registry conditions"
      },
      {
        "line": 32,
        "token": "conditional",
        "context": "- Added conditional Docker Hub login based on credential availability"
      },
      {
        "line": 33,
        "token": "skip",
        "context": "- Added skip message when Docker Hub credentials are missing"
      },
      {
        "line": 34,
        "token": "error",
        "context": "- Improved error handling for registry authentication"
      },
      {
        "line": 70,
        "token": "now",
        "context": "1. **Graceful Degradation**: Workflows now continue even if optional steps fail"
      },
      {
        "line": 71,
        "token": "checking",
        "context": "2. **Credential Validation**: Proper checking for required secrets before use"
      },
      {
        "line": 72,
        "token": "informed",
        "context": "3. **Clear Messaging**: Users are informed when steps are skipped"
      },
      {
        "line": 73,
        "token": "one",
        "context": "4. **Error Isolation**: Failures in one cleanup job don't affect others"
      },
      {
        "line": 77,
        "token": "cleanup",
        "context": "1. **Manual Trigger Test**: Test cleanup workflow with dry-run mode"
      },
      {
        "line": 78,
        "token": "without",
        "context": "2. **Credential Scenarios**: Test with and without Docker Hub credentials"
      },
      {
        "line": 79,
        "token": "cleanup",
        "context": "3. **Registry Cleanup**: Verify GHCR cleanup works independently"
      },
      {
        "line": 80,
        "token": "workflow",
        "context": "4. **Workflow Dependencies**: Ensure workflow triggers work correctly"
      },
      {
        "line": 84,
        "token": "cleanup",
        "context": "- **With Full Credentials**: Both GHCR and Docker Hub cleanup run"
      },
      {
        "line": 85,
        "token": "cleanup",
        "context": "- **Without Docker Credentials**: Only GHCR cleanup runs, Docker Hub skipped"
      },
      {
        "line": 86,
        "token": "cleanup",
        "context": "- **Action Failures**: Individual cleanup steps may fail but workflow continues"
      },
      {
        "line": 87,
        "token": "complete",
        "context": "- **No Images to Clean**: Workflows complete successfully with no actions"
      },
      {
        "line": 90,
        "token": "ready",
        "context": "Status: Applied and ready for testing"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "AGENTS.md",
    "chinese": "AGENTS_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "research",
        "context": "**ç”¨æ³•ç¤ºä¾‹**ï¼š`Use @agent-amp-bridge to research XYZ`"
      },
      {
        "line": 13,
        "token": "uuid",
        "context": "1. åœ¨ `.claude/amp/prompts/pending/{uuid}.json` å†™å…¥ç®€çŸ­æç¤ºã€‚"
      },
      {
        "line": 14,
        "token": "amp",
        "context": "2. æ˜¾ç¤ºå¾…æ‰§è¡Œå‘½ä»¤ï¼š`amp @{prompt-file}`ã€‚"
      },
      {
        "line": 16,
        "token": "uuid",
        "context": "4. Amp è¾“å‡ºç»“æœåˆ° `.claude/amp/responses/ready/{uuid}.json`ã€‚"
      },
      {
        "line": 22,
        "token": "detail",
        "context": "- âŒ è¿‡é•¿ï¼šâ€œResearch TypeScript 5.0 in detail covering: 1. Const params... 2. Decorators... 3. Export modifiers...â€"
      },
      {
        "line": 23,
        "token": "key",
        "context": "- âœ… åˆç†ï¼šâ€œResearch TypeScript 5.0's key new features with brief code examples.â€"
      },
      {
        "line": 26,
        "token": "pytest",
        "context": "- è¿è¡Œå…¨éƒ¨æµ‹è¯•ï¼š`pytest tests/`"
      },
      {
        "line": 27,
        "token": "pytest",
        "context": "- è¿è¡Œå•ä¸ªæµ‹è¯•ï¼š`pytest tests/test_filename.py::test_function_name -v`"
      },
      {
        "line": 28,
        "token": "pytest",
        "context": "- è¿è¡Œç‰¹å®šæµ‹è¯•ç±»ï¼š`pytest tests/test_filename.py::TestClass -v`"
      },
      {
        "line": 29,
        "token": "pytest",
        "context": "- æŒ‰æ ‡è®°è¿è¡Œï¼š`pytest -m \"unit or integration\"`"
      },
      {
        "line": 30,
        "token": "run",
        "context": "- å¯åŠ¨æœåŠ¡å™¨ï¼š`uv run memory server`"
      },
      {
        "line": 31,
        "token": "python",
        "context": "- å®‰è£…ä¾èµ–ï¼š`python scripts/installation/install.py`"
      },
      {
        "line": 39,
        "token": "semtools",
        "context": "- æ–‡æ¡£æ‘„å–ï¼š`ingestion/` â€”â€” PDF/DOCX/PPTX åŠ è½½ï¼Œå¯é€‰ semtools"
      },
      {
        "line": 47,
        "token": "handling",
        "context": "- `Error handling`ï¼šä½¿ç”¨é’ˆå¯¹æ€§çš„ try/except å¹¶è®°å½•æ—¥å¿—ã€‚"
      },
      {
        "line": 48,
        "token": "types",
        "context": "- `Memory types`ï¼šä½¿ç”¨ 24 ä¸ªæ ¸å¿ƒè®°å¿†ç±»å‹ï¼ˆnoteã€referenceã€sessionã€implementation ç­‰ï¼‰ã€‚"
      },
      {
        "line": 52,
        "token": "schema",
        "context": "- éµå¾ª MCP åè®®è§„èŒƒçš„å·¥å…· schema ä¸å“åº”æ ¼å¼ã€‚"
      },
      {
        "line": 54,
        "token": "conventional",
        "context": "- æäº¤ä¿¡æ¯ä½¿ç”¨è¯­ä¹‰åŒ–ã€conventional commit æ ¼å¼ã€‚"
      },
      {
        "line": 57,
        "token": "imports",
        "context": "- **Imports**: Absolute imports preferred, conditional imports for optional dependencies"
      },
      {
        "line": 58,
        "token": "type",
        "context": "- **Types**: Python 3.10+ type hints throughout, TypedDict for MCP responses"
      },
      {
        "line": 59,
        "token": "operations",
        "context": "- **Async/await**: All I/O operations use async/await pattern"
      },
      {
        "line": 60,
        "token": "classes",
        "context": "- **Naming**: snake_case for functions/variables, PascalCase for classes, SCREAMING_SNAKE_CASE for constants"
      },
      {
        "line": 61,
        "token": "handling",
        "context": "- **Error handling**: Try/except blocks with specific exceptions, logging for debugging"
      },
      {
        "line": 62,
        "token": "types",
        "context": "- **Memory types**: Use 24 core types from taxonomy (note, reference, session, implementation, etc.)"
      },
      {
        "line": 63,
        "token": "docstrings",
        "context": "- **Documentation**: NumPy-style docstrings, CLAUDE.md for project conventions"
      },
      {
        "line": 66,
        "token": "protocol",
        "context": "- Follow MCP protocol specification for tool schemas and responses"
      },
      {
        "line": 67,
        "token": "storage",
        "context": "- Implement storage backends extending abstract base class"
      },
      {
        "line": 68,
        "token": "semantic",
        "context": "- Use semantic commit messages with conventional commit format"
      },
      {
        "line": 69,
        "token": "both",
        "context": "- Test both OAuth enabled/disabled modes for web interface"
      },
      {
        "line": 70,
        "token": "search",
        "context": "- Validate search endpoints: semantic, tag-based, time-based queries"
      }
    ],
    "structure_diff": {
      "heading": [
        7,
        8
      ]
    }
  },
  {
    "english": "CHANGELOG-HISTORIC.md",
    "chinese": "CHANGELOG-HISTORIC_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "v8.0.0-8.23.0",
        "context": "> è¯´æ˜ï¼šæœ¬æ–‡ä»¶è¦†ç›– v7.x ä¸ v8.0.0-8.23.0 çš„å†å²ç‰ˆæœ¬ï¼Œæ­£æ–‡ä¿ç•™è‹±æ–‡åŸæ–‡ï¼›è‹¥éœ€ä¸­æ–‡æ¦‚è¦ï¼Œè¯·å…ˆæŸ¥çœ‹æœ€æ–° [CHANGELOG.md](./CHANGELOG.md)ã€‚"
      },
      {
        "line": 5,
        "token": "releases",
        "context": "**Historic releases for MCP Memory Service (v8.0.0 - v8.23.0 and v7.x)**"
      },
      {
        "line": 7,
        "token": "recent",
        "context": "For recent releases (v8.24.0+), see [CHANGELOG.md](./CHANGELOG.md)."
      },
      {
        "line": 9,
        "token": "format",
        "context": "The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0."
      },
      {
        "line": 15,
        "token": "via",
        "context": "- **Consolidation Scheduler via Code Execution API** - Dream-based memory consolidation now operates independently of MCP server"
      },
      {
        "line": 16,
        "token": "server",
        "context": "- **Architecture Shift**: Migrated ConsolidationScheduler from MCP server to HTTP server using Code Execution API (v8.19.0+)"
      },
      {
        "line": 17,
        "token": "token",
        "context": "- **Token Efficiency**: Achieves **88% token reduction** (803K tokens/year saved) by eliminating redundant memory retrieval"
      },
      {
        "line": 18,
        "token": "now",
        "context": "- **24/7 Operation**: Consolidation now runs continuously via HTTP server, independent of Claude Desktop sessions"
      },
      {
        "line": 20,
        "token": "types",
        "context": "- Added `CompactConsolidationResult` and `CompactSchedulerStatus` types for efficient data transfer"
      },
      {
        "line": 21,
        "token": "consolidate",
        "context": "- Implemented `consolidate()` and `scheduler_status()` functions in API operations"
      },
      {
        "line": 22,
        "token": "client",
        "context": "- Enhanced API client with consolidator/scheduler management capabilities"
      },
      {
        "line": 23,
        "token": "HTTP",
        "context": "- **HTTP API Endpoints** (new):"
      },
      {
        "line": 24,
        "token": "consolidation",
        "context": "- `POST /api/consolidation/trigger` - Manual consolidation trigger for specific time horizons"
      },
      {
        "line": 25,
        "token": "health",
        "context": "- `GET /api/consolidation/status` - Scheduler health and job status monitoring"
      },
      {
        "line": 26,
        "token": "consolidation",
        "context": "- `GET /api/consolidation/recommendations` - Analysis-based consolidation suggestions"
      },
      {
        "line": 27,
        "token": "HTTP",
        "context": "- **Graceful Lifecycle**: HTTP server lifespan events handle scheduler startup/shutdown"
      },
      {
        "line": 28,
        "token": "apscheduler",
        "context": "- **Dependencies**: Made `apscheduler>=3.11.0` a required dependency (previously optional)"
      },
      {
        "line": 30,
        "token": "compact",
        "context": "- `src/mcp_memory_service/api/types.py` - New compact result types"
      },
      {
        "line": 31,
        "token": "functions",
        "context": "- `src/mcp_memory_service/api/operations.py` - Consolidation functions"
      },
      {
        "line": 32,
        "token": "methods",
        "context": "- `src/mcp_memory_service/api/client.py` - Client methods"
      },
      {
        "line": 33,
        "token": "updates",
        "context": "- `src/mcp_memory_service/api/__init__.py` - Export updates"
      },
      {
        "line": 34,
        "token": "integration",
        "context": "- `src/mcp_memory_service/web/app.py` - Scheduler integration"
      },
      {
        "line": 35,
        "token": "endpoint",
        "context": "- `src/mcp_memory_service/web/api/consolidation.py` - NEW endpoint router"
      },
      {
        "line": 36,
        "token": "update",
        "context": "- `pyproject.toml` - Dependency update"
      },
      {
        "line": 39,
        "token": "can",
        "context": "- **Consolidation Workflow**: Users can now trigger and monitor consolidation via HTTP API or web dashboard"
      },
      {
        "line": 40,
        "token": "consolidation",
        "context": "- **Performance**: Background consolidation no longer impacts MCP server response times"
      },
      {
        "line": 41,
        "token": "continues",
        "context": "- **Reliability**: Scheduler continues running even when Claude Desktop is closed"
      },
      {
        "line": 44,
        "token": "consolidation",
        "context": "- **Backward Compatible**: Existing MCP consolidation tools continue to work via Code Execution API"
      },
      {
        "line": 45,
        "token": "HTTP",
        "context": "- **HTTP Server Required**: For scheduled consolidation, HTTP server must be running (`export MCP_HTTP_ENABLED=true`)"
      },
      {
        "line": 46,
        "token": "automatically",
        "context": "- **No Action Needed**: Consolidation automatically migrates to HTTP server when enabled"
      },
      {
        "line": 50,
        "token": "server",
        "context": "- Before: ~900K tokens/year (MCP server retrieval overhead)"
      },
      {
        "line": 51,
        "token": "compact",
        "context": "- After: ~97K tokens/year (compact API responses)"
      },
      {
        "line": 52,
        "token": "tokens",
        "context": "- Reduction: 803K tokens (88% efficiency gain)"
      },
      {
        "line": 53,
        "token": "handles",
        "context": "- **Execution Model**: Code Execution API handles consolidation in isolated Python environment"
      },
      {
        "line": 54,
        "token": "settings",
        "context": "- **Scheduler Configuration**: Same settings as before (`.env` or environment variables)"
      },
      {
        "line": 59,
        "token": "schema",
        "context": "- **Complete Tag Schema Validation Fix**: Extended oneOf schema pattern to ALL MCP tools with tags parameter"
      },
      {
        "line": 60,
        "token": "fixes",
        "context": "- Previous fixes (v8.22.1-v8.22.2) only addressed character-split bugs in handler code"
      },
      {
        "line": 61,
        "token": "cause",
        "context": "- Root cause: 7 tools had schemas accepting ONLY arrays, rejecting comma-separated strings at MCP client validation"
      },
      {
        "line": 62,
        "token": "tool",
        "context": "- Updated tool schemas to accept both array and string formats using `oneOf` pattern:"
      },
      {
        "line": 63,
        "token": "line",
        "context": "- `update_memory_metadata` (line 1733)"
      },
      {
        "line": 64,
        "token": "line",
        "context": "- `search_by_tag` (line 1428)"
      },
      {
        "line": 65,
        "token": "line",
        "context": "- `delete_by_tag` (line 1475)"
      },
      {
        "line": 66,
        "token": "line",
        "context": "- `delete_by_tags` (line 1506)"
      },
      {
        "line": 67,
        "token": "line",
        "context": "- `delete_by_all_tags` (line 1536)"
      },
      {
        "line": 68,
        "token": "line",
        "context": "- `ingest_document` (line 1958)"
      },
      {
        "line": 69,
        "token": "line",
        "context": "- `ingest_directory` (line 2015)"
      },
      {
        "line": 70,
        "token": "calls",
        "context": "- Added `normalize_tags()` calls in all affected handlers to properly parse comma-separated strings"
      },
      {
        "line": 71,
        "token": "now",
        "context": "- Validation now happens gracefully: client accepts both formats, server normalizes to array"
      },
      {
        "line": 72,
        "token": "must",
        "context": "- **Breaking**: Users must reconnect MCP client (`/mcp` in Claude Code) to fetch updated schemas"
      },
      {
        "line": 73,
        "token": "recurring",
        "context": "- Resolves recurring \"Input validation error: 'X' is not of type 'array'\" errors"
      },
      {
        "line": 76,
        "token": "client",
        "context": "- **Validation Flow**: MCP client validates against tool schema â†’ Server normalizes tags â†’ Storage processes"
      },
      {
        "line": 77,
        "token": "tags",
        "context": "- **Schema Pattern**: Each tags parameter now uses `{\"oneOf\": [{\"type\": \"array\"}, {\"type\": \"string\"}]}`"
      },
      {
        "line": 78,
        "token": "handlers",
        "context": "- **Handler Updates**: 7 handlers updated to import and call `normalize_tags()` from `services/memory_service.py`"
      },
      {
        "line": 79,
        "token": "schemas",
        "context": "- **File Modified**: `src/mcp_memory_service/server.py` (schemas + handlers)"
      },
      {
        "line": 82,
        "token": "completes",
        "context": "- This completes the tag parsing fix saga (v8.22.1 â†’ v8.22.2 â†’ v8.22.3)"
      },
      {
        "line": 83,
        "token": "bug",
        "context": "- v8.22.1: Fixed character-split bug in documents.py"
      },
      {
        "line": 84,
        "token": "fix",
        "context": "- v8.22.2: Extended fix to server.py and cli/ingestion.py handlers"
      },
      {
        "line": 85,
        "token": "JSON",
        "context": "- v8.22.3: Fixed JSON schemas to accept comma-separated strings at validation layer"
      },
      {
        "line": 90,
        "token": "fix",
        "context": "- **Complete Tag Parsing Fix** - Extended v8.22.1 fix to all remaining locations where tag parsing bug existed"
      },
      {
        "line": 92,
        "token": "tool",
        "context": "- `src/mcp_memory_service/server.py` - MCP ingest_document and ingest_directory tool handlers (2 locations)"
      },
      {
        "line": 93,
        "token": "commands",
        "context": "- `src/mcp_memory_service/cli/ingestion.py` - CLI ingest_file and ingest_directory commands (2 locations)"
      },
      {
        "line": 94,
        "token": "extend",
        "context": "- **Root Cause**: Same as v8.22.1 - `.extend()` on comma-separated string treated as character iterable"
      },
      {
        "line": 95,
        "token": "tools",
        "context": "- **Impact**: MCP tools and CLI commands now correctly parse comma-separated tags"
      },
      {
        "line": 96,
        "token": "additional",
        "context": "- **Database Repair**: 6 additional memories repaired from metadata backup (total 19 across both releases)"
      },
      {
        "line": 97,
        "token": "tag",
        "context": "- **Verification**: All tag parsing code paths now include `isinstance()` type checking"
      },
      {
        "line": 102,
        "token": "critical",
        "context": "- **Document Ingestion Tag Parsing** - Fixed critical data corruption bug where tags were stored character-by-character instead of as complete strings"
      },
      {
        "line": 103,
        "token": "tags",
        "context": "- **Root Cause**: When `chunk.metadata['tags']` contained a comma-separated string (e.g., `\"claude-code-hooks,update-investigation\"`), the `extend()` method tre"
      },
      {
        "line": 104,
        "token": "like",
        "context": "- **Symptom**: Tags like `\"claude-code-hooks,update-investigation,configuration,breaking-changes\"` became `['c','l','a','u','d','e','-','c','o','d','e','-','h',"
      },
      {
        "line": 105,
        "token": "were",
        "context": "- **Impact**: Memories were unsearchable by tags, tag filtering broken, tag display cluttered with single characters"
      },
      {
        "line": 106,
        "token": "isinstance",
        "context": "- **Fix**: Added `isinstance()` type check to detect string vs list, properly split comma-separated strings before extending tag list"
      },
      {
        "line": 107,
        "token": "affected",
        "context": "- **Database Repair**: 13 affected memories automatically repaired using metadata field (which stored correct tags)"
      },
      {
        "line": 108,
        "token": "lines",
        "context": "- **Files Modified**: `src/mcp_memory_service/web/api/documents.py` (lines 424-430 for single uploads, 536-542 for batch uploads)"
      },
      {
        "line": 113,
        "token": "reliability",
        "context": "- **Session-Start Hook Stability & UX** - Comprehensive reliability and output quality improvements"
      },
      {
        "line": 114,
        "token": "memory",
        "context": "- **Memory Age Calculation**: Fixed memory age analyzer defaulting to 365 days for all memories"
      },
      {
        "line": 115,
        "token": "field",
        "context": "- Added `created_at_iso` field to Code Execution API response mapping"
      },
      {
        "line": 116,
        "token": "correctly",
        "context": "- Now correctly shows recent work (e.g., \"ğŸ•’ today\", \"ğŸ“… 2d ago\")"
      },
      {
        "line": 117,
        "token": "memory",
        "context": "- Resolves memory age display bug (Related: Issue #214)"
      },
      {
        "line": 118,
        "token": "timeouts",
        "context": "- **Timeout Improvements**: Prevents timeouts during DNS retries and slow network operations"
      },
      {
        "line": 119,
        "token": "code",
        "context": "- Increased code execution timeout: 8000ms â†’ 15000ms"
      },
      {
        "line": 120,
        "token": "hook",
        "context": "- Increased sessionStart hook timeout: 10000ms â†’ 20000ms"
      },
      {
        "line": 121,
        "token": "rewrite",
        "context": "- **Tree Formatting Enhancements**: Complete rewrite for proper ANSI-aware rendering"
      },
      {
        "line": 122,
        "token": "width",
        "context": "- ANSI-aware width calculation in wrapText() function"
      },
      {
        "line": 123,
        "token": "prefix",
        "context": "- Tree prefix parameter for proper continuation line formatting"
      },
      {
        "line": 124,
        "token": "embedded",
        "context": "- Normalized embedded newlines to prevent structure breaks"
      },
      {
        "line": 125,
        "token": "line",
        "context": "- Fixed line breaks cutting through tree characters (â”‚, â”œâ”€, â””â”€)"
      },
      {
        "line": 126,
        "token": "patterns",
        "context": "- **Date Sanitization**: Enhanced patterns for multi-line date formats"
      },
      {
        "line": 127,
        "token": "clutter",
        "context": "- Removes clutter from old session summaries (e.g., \"Date:\\n  9.11.\")"
      },
      {
        "line": 128,
        "token": "after",
        "context": "- Added re-sanitization after section extraction"
      },
      {
        "line": 129,
        "token": "output",
        "context": "- **Output Visibility**: Restored console.log output for user-visible tree display"
      },
      {
        "line": 130,
        "token": "fix",
        "context": "- Critical fix for output regression where tree was invisible to users"
      },
      {
        "line": 131,
        "token": "memories",
        "context": "- **Status Bar Improvements**: Added \"memories\" label for clarity"
      },
      {
        "line": 132,
        "token": "recent",
        "context": "- Format: \"ğŸ’­ 6 (4 recent) memories\" instead of just \"ğŸ’­ 6 (4 recent)\""
      },
      {
        "line": 133,
        "token": "documentation",
        "context": "- Corrected documentation: \"static\" instead of \"300ms updates\""
      },
      {
        "line": 134,
        "token": "duplicate",
        "context": "- **Configuration**: Removed duplicate codeExecution block from config.json"
      },
      {
        "line": 135,
        "token": "modified",
        "context": "- Files modified: `core/session-start.js`, `utilities/context-formatter.js`, `statusline.sh`, `README.md`, `config.json`"
      },
      {
        "line": 140,
        "token": "automation",
        "context": "- **Amp PR Automator Agent** - Lightweight PR automation using Amp CLI (1,240+ lines)"
      },
      {
        "line": 141,
        "token": "alternative",
        "context": "- OAuth-free alternative to Gemini PR Automator with file-based workflow"
      },
      {
        "line": 142,
        "token": "claude/agents/amp-pr-automator.md",
        "context": "- `.claude/agents/amp-pr-automator.md` - Complete agent definition"
      },
      {
        "line": 143,
        "token": "complexity",
        "context": "- `scripts/pr/amp_quality_gate.sh` - Parallel complexity, security, type hint checks"
      },
      {
        "line": 144,
        "token": "analysis",
        "context": "- `scripts/pr/amp_collect_results.sh` - Aggregate Amp analysis results"
      },
      {
        "line": 145,
        "token": "fix",
        "context": "- `scripts/pr/amp_suggest_fixes.sh` - Generate fix suggestions from review feedback"
      },
      {
        "line": 146,
        "token": "pytest",
        "context": "- `scripts/pr/amp_generate_tests.sh` - Create pytest tests for new code"
      },
      {
        "line": 147,
        "token": "breaking",
        "context": "- `scripts/pr/amp_detect_breaking_changes.sh` - Identify API breaking changes"
      },
      {
        "line": 148,
        "token": "review",
        "context": "- `scripts/pr/amp_pr_review.sh` - Complete review workflow orchestration"
      },
      {
        "line": 149,
        "token": "parallel",
        "context": "- Fast parallel processing with UUID-based prompt/response tracking"
      },
      {
        "line": 150,
        "token": "conservation",
        "context": "- Credit conservation through focused, non-interactive tasks"
      },
      {
        "line": 153,
        "token": "semantic",
        "context": "- **Memory Hook Tag+Time Filtering** (Issue #214, PR #215) - Fixed semantic over-filtering bug"
      },
      {
        "line": 154,
        "token": "optional",
        "context": "- Enhanced `search_by_tag()` with optional `time_start` parameter across all backends"
      },
      {
        "line": 155,
        "token": "limited",
        "context": "- Replaced limited `parse_time_query` with robust `parse_time_expression` from `utils.time_parser`"
      },
      {
        "line": 156,
        "token": "HTTP",
        "context": "- Fixed HTTP client time filter format (ISO date instead of custom string)"
      },
      {
        "line": 157,
        "token": "construction",
        "context": "- Improved SQL construction clarity in Cloudflare backend"
      },
      {
        "line": 158,
        "token": "unused",
        "context": "- Removed unused `match_all` parameter from hybrid backend (regression fix)"
      },
      {
        "line": 159,
        "token": "gate",
        "context": "- Quality gate: 9.2/10 (Gemini Code Assist review - 4 critical issues fixed)"
      },
      {
        "line": 160,
        "token": "parser",
        "context": "- Time parser tests: 14/14 PASS (100%)"
      },
      {
        "line": 165,
        "token": "tool",
        "context": "- **retrieve_memory MCP tool**: Fixed MemoryQueryResult serialization error introduced in v8.19.1"
      },
      {
        "line": 166,
        "token": "object",
        "context": "- Extract Memory object from MemoryQueryResult before formatting response"
      },
      {
        "line": 167,
        "token": "response",
        "context": "- Add similarity_score to response for consistency with recall_memory"
      },
      {
        "line": 168,
        "token": "all",
        "context": "- Affects all backends (sqlite-vec, cloudflare, hybrid)"
      },
      {
        "line": 169,
        "token": "fix",
        "context": "- Issue #211 follow-up fix - thanks @VibeCodeChef for detailed testing!"
      },
      {
        "line": 174,
        "token": "advanced",
        "context": "- **GraphQL PR Review Integration** - GitHub GraphQL API for advanced PR operations"
      },
      {
        "line": 175,
        "token": "review",
        "context": "- `resolve_threads.sh` - Auto-resolve review threads when commits address feedback (saves 2+ min/PR)"
      },
      {
        "line": 176,
        "token": "all",
        "context": "- `thread_status.sh` - Display all review threads with resolution status"
      },
      {
        "line": 177,
        "token": "helper",
        "context": "- Reusable GraphQL helper library in `scripts/pr/lib/graphql_helpers.sh`"
      },
      {
        "line": 178,
        "token": "commit",
        "context": "- Smart commit tracking for resolved vs outdated threads"
      },
      {
        "line": 179,
        "token": "integration",
        "context": "- **PR Automation Workflow** - Comprehensive Gemini Code Assist integration"
      },
      {
        "line": 180,
        "token": "iterative",
        "context": "- `auto_review.sh` - Automated iterative PR review cycles (saves 10-30 min/PR)"
      },
      {
        "line": 181,
        "token": "quality",
        "context": "- `quality_gate.sh` - Pre-PR quality checks (complexity, security, tests, breaking changes)"
      },
      {
        "line": 182,
        "token": "pytest",
        "context": "- `generate_tests.sh` - Auto-generate pytest tests for new code"
      },
      {
        "line": 183,
        "token": "diff",
        "context": "- `detect_breaking_changes.sh` - API diff analysis with severity classification"
      },
      {
        "line": 184,
        "token": "code",
        "context": "- **Amp Bridge Redesign** - Direct code execution mode for batch operations"
      },
      {
        "line": 185,
        "token": "prompts",
        "context": "- Execute prompts directly without prompt file management"
      },
      {
        "line": 186,
        "token": "processing",
        "context": "- Batch processing support for multiple operations"
      },
      {
        "line": 187,
        "token": "error",
        "context": "- Improved error handling and output formatting"
      },
      {
        "line": 188,
        "token": "automated",
        "context": "- **Code Quality Guard Agent** - Fast automated code quality analysis"
      },
      {
        "line": 189,
        "token": "hook",
        "context": "- Pre-commit hook for complexity scoring (blocks >8, warns >7)"
      },
      {
        "line": 190,
        "token": "pattern",
        "context": "- Security pattern detection (SQL injection, XSS, command injection)"
      },
      {
        "line": 191,
        "token": "prioritization",
        "context": "- TODO prioritization with impact analysis (Critical/High/Medium/Low)"
      },
      {
        "line": 192,
        "token": "fast",
        "context": "- Integrated with Gemini CLI for fast analysis"
      },
      {
        "line": 193,
        "token": "manual",
        "context": "- **Gemini PR Automator Agent** - Eliminates manual review wait times"
      },
      {
        "line": 194,
        "token": "gemini",
        "context": "- Automated \"Fix â†’ Comment â†’ /gemini review â†’ Wait â†’ Repeat\" workflow"
      },
      {
        "line": 195,
        "token": "fix",
        "context": "- Intelligent fix classification (safe vs unsafe)"
      },
      {
        "line": 196,
        "token": "test",
        "context": "- Comprehensive test generation for all new code"
      },
      {
        "line": 197,
        "token": "change",
        "context": "- Breaking change detection with severity levels"
      },
      {
        "line": 198,
        "token": "faster",
        "context": "- **Groq Bridge Integration** - 10x faster alternative to Gemini CLI"
      },
      {
        "line": 199,
        "token": "calls",
        "context": "- Python CLI (`groq_agent_bridge.py`) for non-interactive LLM calls"
      },
      {
        "line": 200,
        "token": "context",
        "context": "- Support for llama-3.3-70b-versatile, Kimi K2 (256K context), and other Groq models"
      },
      {
        "line": 201,
        "token": "replacement",
        "context": "- Drop-in replacement for Gemini CLI with same interface"
      },
      {
        "line": 202,
        "token": "comparison",
        "context": "- Model comparison documentation with performance benchmarks"
      },
      {
        "line": 203,
        "token": "gates",
        "context": "- **Pre-commit Hook Infrastructure** - Quality gates before commit"
      },
      {
        "line": 204,
        "token": "hook",
        "context": "- Symlinked hook: `.git/hooks/pre-commit` â†’ `scripts/hooks/pre-commit`"
      },
      {
        "line": 205,
        "token": "complexity",
        "context": "- Automated complexity checks on staged Python files"
      },
      {
        "line": 206,
        "token": "vulnerability",
        "context": "- Security vulnerability scanning (blocks commit if found)"
      },
      {
        "line": 207,
        "token": "degradation",
        "context": "- Graceful degradation if Gemini CLI not installed"
      },
      {
        "line": 210,
        "token": "docs/pr-graphql-integration.md",
        "context": "- Added `docs/pr-graphql-integration.md` - GraphQL PR review integration guide"
      },
      {
        "line": 211,
        "token": "docs/integrations/groq-bridge.md",
        "context": "- Added `docs/integrations/groq-bridge.md` - Setup and usage guide for Groq integration"
      },
      {
        "line": 212,
        "token": "docs/integrations/groq-integration-summary.md",
        "context": "- Added `docs/integrations/groq-integration-summary.md` - Integration overview"
      },
      {
        "line": 213,
        "token": "docs/integrations/groq-model-comparison.md",
        "context": "- Added `docs/integrations/groq-model-comparison.md` - Performance benchmarks and model selection"
      },
      {
        "line": 214,
        "token": "docs/amp-cli-bridge.md",
        "context": "- Added `docs/amp-cli-bridge.md` - Amp CLI integration guide"
      },
      {
        "line": 215,
        "token": "docs/development/todo-tracker.md",
        "context": "- Added `docs/development/todo-tracker.md` - Automated TODO tracking output"
      },
      {
        "line": 216,
        "token": "docs/troubleshooting/hooks-quick-reference.md",
        "context": "- Added `docs/troubleshooting/hooks-quick-reference.md` - Hook debugging and troubleshooting"
      },
      {
        "line": 217,
        "token": "docs/document-ingestion.md",
        "context": "- Added `docs/document-ingestion.md` - Document parsing guide"
      },
      {
        "line": 218,
        "token": "docs/legacy/dual-protocol-hooks.md",
        "context": "- Added `docs/legacy/dual-protocol-hooks.md` - Historical hook configuration"
      },
      {
        "line": 219,
        "token": "scripts/maintenance/memory-types.md",
        "context": "- Added `scripts/maintenance/memory-types.md` - Memory type taxonomy documentation"
      },
      {
        "line": 222,
        "token": "claude/agents/github-release-manager.md",
        "context": "- Updated `.claude/agents/github-release-manager.md` - Enhanced with latest release workflow"
      },
      {
        "line": 223,
        "token": "deprecated",
        "context": "- Updated `.env.example` - Removed deprecated ChromaDB backend references"
      },
      {
        "line": 224,
        "token": "specification",
        "context": "- Updated API specification - Removed `chroma` from backend enum"
      },
      {
        "line": 225,
        "token": "example",
        "context": "- Updated example configs - Modernized to use Python module approach"
      },
      {
        "line": 228,
        "token": "all",
        "context": "- **PR Automation Scripts** - Addressed all Gemini Code Assist review feedback"
      },
      {
        "line": 229,
        "token": "hardcoded",
        "context": "- Removed hardcoded repository name from all PR scripts (now dynamic with `gh repo view`)"
      },
      {
        "line": 230,
        "token": "script",
        "context": "- Fixed script path handling in documentation examples"
      },
      {
        "line": 231,
        "token": "error",
        "context": "- Improved error messages and validation in GraphQL helpers"
      },
      {
        "line": 232,
        "token": "documentation",
        "context": "- Enhanced documentation with correct usage examples"
      },
      {
        "line": 233,
        "token": "all",
        "context": "- Removed all ChromaDB artifacts from active code (deprecated in v8.0.0)"
      },
      {
        "line": 234,
        "token": "broken",
        "context": "- Fixed broken test imports (`CHROMADB_MAX_CONTENT_LENGTH` removed)"
      },
      {
        "line": 235,
        "token": "integration",
        "context": "- Updated integration tests to remove `--chroma-path` CLI assertions"
      },
      {
        "line": 236,
        "token": "example",
        "context": "- Cleaned up example configurations"
      },
      {
        "line": 237,
        "token": "clear",
        "context": "- Added clear deprecation warnings in `install.py`"
      },
      {
        "line": 240,
        "token": "bridge",
        "context": "- Groq bridge provides 10x faster inference vs Gemini CLI"
      },
      {
        "line": 241,
        "token": "response",
        "context": "- llama-3.3-70b: ~300ms response time"
      },
      {
        "line": 242,
        "token": "response",
        "context": "- Kimi K2: ~200ms response time (fastest)"
      },
      {
        "line": 243,
        "token": "response",
        "context": "- llama-3.1-8b-instant: ~300ms response time"
      },
      {
        "line": 244,
        "token": "hooks",
        "context": "- Pre-commit hooks minimize developer wait time with complexity checks"
      },
      {
        "line": 249,
        "token": "core",
        "context": "- **Critical MCP Tool Regressions** (Issue #211) - Two core MCP tools broken in v8.19.0"
      },
      {
        "line": 250,
        "token": "parameter",
        "context": "- **retrieve_memory**: Fixed parameter error where unsupported 'tags' parameter was passed to storage.retrieve()"
      },
      {
        "line": 251,
        "token": "unsupported",
        "context": "- Removed unsupported parameters from storage call"
      },
      {
        "line": 252,
        "token": "filtering",
        "context": "- Implemented post-retrieval filtering in MemoryService"
      },
      {
        "line": 254,
        "token": "type",
        "context": "- **search_by_tag**: Fixed type error where code assumed created_at was always string"
      },
      {
        "line": 255,
        "token": "type",
        "context": "- Added type checking for both float (timestamp) and string (ISO format)"
      },
      {
        "line": 256,
        "token": "floats",
        "context": "- Uses `datetime.fromtimestamp()` for floats, `datetime.fromisoformat()` for strings"
      },
      {
        "line": 258,
        "token": "tools",
        "context": "- **Impact**: Both tools now work correctly with hybrid storage backend"
      },
      {
        "line": 259,
        "token": "refactoring",
        "context": "- **Root Cause**: v8.19.0 refactoring introduced incompatibilities with hybrid storage"
      },
      {
        "line": 264,
        "token": "token",
        "context": "- **Code Execution Interface API** ğŸš€ - Revolutionary token efficiency for MCP Memory Service (Issue #206)"
      },
      {
        "line": 266,
        "token": "types",
        "context": "- Compact NamedTuple types (91% size reduction vs MCP tool responses)"
      },
      {
        "line": 267,
        "token": "operations",
        "context": "- Core operations: `search()`, `store()`, `health()`"
      },
      {
        "line": 268,
        "token": "wrapper",
        "context": "- Sync wrapper utilities (hide asyncio complexity)"
      },
      {
        "line": 269,
        "token": "client",
        "context": "- Storage client with connection reuse"
      },
      {
        "line": 271,
        "token": "execution",
        "context": "- Code execution wrapper for token-efficient memory retrieval"
      },
      {
        "line": 272,
        "token": "fallback",
        "context": "- Automatic MCP fallback (100% reliability)"
      },
      {
        "line": 273,
        "token": "metrics",
        "context": "- Performance metrics tracking"
      },
      {
        "line": 274,
        "token": "breaking",
        "context": "- Zero breaking changes"
      },
      {
        "line": 275,
        "token": "docs/migration/code-execution-api-quick-start.md",
        "context": "- **Migration Guide** (`docs/migration/code-execution-api-quick-start.md`):"
      },
      {
        "line": 276,
        "token": "minute",
        "context": "- 5-minute migration workflow"
      },
      {
        "line": 277,
        "token": "savings",
        "context": "- Cost savings calculator"
      },
      {
        "line": 278,
        "token": "troubleshooting",
        "context": "- Comprehensive troubleshooting"
      },
      {
        "line": 279,
        "token": "instructions",
        "context": "- Platform-specific instructions"
      },
      {
        "line": 281,
        "token": "reference",
        "context": "- API reference guide"
      },
      {
        "line": 282,
        "token": "implementation",
        "context": "- Phase 1 and Phase 2 implementation summaries"
      },
      {
        "line": 283,
        "token": "documents",
        "context": "- Research documents (10,000+ words)"
      },
      {
        "line": 284,
        "token": "benchmarks",
        "context": "- Performance benchmarks"
      },
      {
        "line": 287,
        "token": "execution",
        "context": "- **Installer Default** - Code execution now enabled by default for new installations"
      },
      {
        "line": 288,
        "token": "path",
        "context": "- Auto-detects Python path (Windows: `python`, Unix: `python3`)"
      },
      {
        "line": 289,
        "token": "version",
        "context": "- Validates Python version (warns if < 3.10)"
      },
      {
        "line": 290,
        "token": "token",
        "context": "- Shows token reduction benefits during installation"
      },
      {
        "line": 291,
        "token": "upgrade",
        "context": "- Graceful upgrade path for existing users"
      },
      {
        "line": 295,
        "token": "hooks",
        "context": "- Session hooks: **75% reduction** (3,600 â†’ 900 tokens)"
      },
      {
        "line": 296,
        "token": "operations",
        "context": "- Search operations: **85% reduction** (2,625 â†’ 385 tokens)"
      },
      {
        "line": 297,
        "token": "operations",
        "context": "- Store operations: **90% reduction** (150 â†’ 15 tokens)"
      },
      {
        "line": 298,
        "token": "checks",
        "context": "- Health checks: **84% reduction** (125 â†’ 20 tokens)"
      },
      {
        "line": 300,
        "token": "start",
        "context": "- Cold start: 61.1ms (target: <100ms)"
      },
      {
        "line": 301,
        "token": "calls",
        "context": "- Warm calls: 1.3ms avg (target: <10ms)"
      },
      {
        "line": 302,
        "token": "overhead",
        "context": "- Memory overhead: <10MB"
      },
      {
        "line": 304,
        "token": "users",
        "context": "- 10 users: **$23.82/year** (158.8M tokens saved)"
      },
      {
        "line": 305,
        "token": "users",
        "context": "- 100 users: **$238.20/year** (1.59B tokens saved)"
      },
      {
        "line": 306,
        "token": "users",
        "context": "- 1000 users: **$2,382/year** (15.9B tokens saved)"
      },
      {
        "line": 309,
        "token": "hardcoded",
        "context": "- **Cross-Platform Compatibility** - Replaced hardcoded macOS paths with `get_base_directory()`"
      },
      {
        "line": 310,
        "token": "async",
        "context": "- **Async/Await Pattern** - Fixed async `health()` to properly await storage operations"
      },
      {
        "line": 311,
        "token": "explicit",
        "context": "- **Resource Management** - Added explicit `close()` and `close_async()` methods"
      },
      {
        "line": 312,
        "token": "symbols",
        "context": "- **Documentation** - Fixed Unicode symbols and absolute local paths for better compatibility"
      },
      {
        "line": 315,
        "token": "files",
        "context": "- **Files Added**: 23 files, 6,517 lines (production + tests + docs)"
      },
      {
        "line": 316,
        "token": "tests",
        "context": "- **Test Coverage**: 52 tests (88% passing)"
      },
      {
        "line": 317,
        "token": "zero",
        "context": "- **Backward Compatibility**: 100% (zero breaking changes)"
      },
      {
        "line": 319,
        "token": "search",
        "context": "- **API Exports**: `search`, `store`, `health`, `close`, `close_async`"
      },
      {
        "line": 322,
        "token": "all",
        "context": "- **Obsolete ChromaDB Test Infrastructure** - Removed all test files referencing deprecated ChromaDB storage backend"
      },
      {
        "line": 324,
        "token": "performance",
        "context": "- `tests/performance/test_caching.py` - ChromaDB-specific performance tests"
      },
      {
        "line": 325,
        "token": "tests",
        "context": "- `tests/test_timestamp_recall.py` - Timestamp tests using ChromaDB APIs"
      },
      {
        "line": 326,
        "token": "storage",
        "context": "- `tests/test_tag_storage.py` - Tag storage tests for ChromaDB"
      },
      {
        "line": 327,
        "token": "storage",
        "context": "- `tests/integration/test_storage.py` - ChromaDB storage diagnostic script"
      },
      {
        "line": 328,
        "token": "deletion",
        "context": "- `tests/unit/test_tags.py` - Tag deletion tests using deprecated CHROMA_PATH"
      },
      {
        "line": 329,
        "token": "content",
        "context": "- `tests/test_content_splitting.py::test_chromadb_limit()` - ChromaDB content limit test"
      },
      {
        "line": 330,
        "token": "database",
        "context": "- **Updated**: `tests/conftest.py` - Generic database testing fixture (removed ChromaDB reference)"
      },
      {
        "line": 331,
        "token": "backend",
        "context": "- **Context**: ChromaDB backend was fully replaced by SQLite-vec, Cloudflare, and Hybrid backends"
      },
      {
        "line": 332,
        "token": "suite",
        "context": "- **Impact**: Test suite no longer has broken imports or references to removed storage layer"
      },
      {
        "line": 337,
        "token": "critical",
        "context": "- **MCP Tool Handler Method Name** - Fixed critical bug where MCP tool handlers called non-existent `retrieve_memory()` method"
      },
      {
        "line": 338,
        "token": "name",
        "context": "- **Root Cause**: Method name mismatch introduced in commit 36e9845 during MemoryService refactoring (Oct 28, 2025)"
      },
      {
        "line": 339,
        "token": "object",
        "context": "- **Symptom**: `'MemoryService' object has no attribute 'retrieve_memory'` error when using MCP retrieve_memory tool"
      },
      {
        "line": 340,
        "token": "handlers",
        "context": "- **Fix**: Updated handlers to call correct `retrieve_memories()` method (plural)"
      },
      {
        "line": 341,
        "token": "line",
        "context": "- **Files Modified**: `src/mcp_memory_service/server.py` (line 2153), `src/mcp_memory_service/mcp_server.py` (line 227)"
      },
      {
        "line": 342,
        "token": "unsupported",
        "context": "- **Additional**: Removed unsupported `min_similarity` parameter from MCP tool definition"
      },
      {
        "line": 343,
        "token": "tool",
        "context": "- **Impact**: MCP retrieve_memory tool now functions correctly"
      },
      {
        "line": 344,
        "token": "https",
        "context": "- **Issue**: [#207](https://github.com/doobidoo/mcp-memory-service/issues/207)"
      },
      {
        "line": 349,
        "token": "critical",
        "context": "- **Test Suite Import Errors** - Resolved critical import failures blocking all test collection"
      },
      {
        "line": 350,
        "token": "deprecated",
        "context": "- **MCP Client Import**: Updated from deprecated `mcp` module to `mcp.client.session` (v1.1.2 API)"
      },
      {
        "line": 351,
        "token": "obsolete",
        "context": "- **Storage Path Import**: Removed obsolete `CHROMA_PATH` constant that no longer exists in current architecture"
      },
      {
        "line": 352,
        "token": "ability",
        "context": "- **Impact**: Restored ability to collect and run 190 test cases across unit, integration, and E2E test suites"
      },
      {
        "line": 353,
        "token": "https",
        "context": "- **PR**: [#205](https://github.com/doobidoo/mcp-memory-service/pull/205)"
      },
      {
        "line": 354,
        "token": "https",
        "context": "- **Issue**: [#204](https://github.com/doobidoo/mcp-memory-service/issues/204)"
      },
      {
        "line": 358,
        "token": "mcp",
        "context": "- **Import Fix**: `from mcp import ClientSession, StdioServerParameters` â†’ `from mcp.client.session import ClientSession`"
      },
      {
        "line": 359,
        "token": "dependency",
        "context": "- **Cleanup**: Removed dependency on deprecated storage constants"
      },
      {
        "line": 364,
        "token": "performance",
        "context": "- **Analytics Dashboard Optimization** - 90% performance improvement for dashboard analytics"
      },
      {
        "line": 365,
        "token": "added",
        "context": "- **New Method**: `get_memory_timestamps()` added to all storage backends (SQLite-Vec, Cloudflare, Hybrid)"
      },
      {
        "line": 366,
        "token": "optimized",
        "context": "- **Optimization**: Single optimized SQL query instead of N individual queries for timestamp retrieval"
      },
      {
        "line": 367,
        "token": "analytics",
        "context": "- **Impact**: Dashboard analytics load significantly faster, especially with large memory datasets"
      },
      {
        "line": 368,
        "token": "https",
        "context": "- **PR**: [#203](https://github.com/doobidoo/mcp-memory-service/pull/203)"
      },
      {
        "line": 369,
        "token": "https",
        "context": "- **Issue**: [#186](https://github.com/doobidoo/mcp-memory-service/issues/186)"
      },
      {
        "line": 372,
        "token": "models",
        "context": "- **Type Safety Enhancements** - Pydantic models for analytics data structures"
      },
      {
        "line": 373,
        "token": "content",
        "context": "- **Models**: `LargestMemory` (content hash, size, created timestamp) and `GrowthTrendPoint` (date, cumulative count)"
      },
      {
        "line": 374,
        "token": "type",
        "context": "- **Benefit**: Enhanced type checking and validation for analytics endpoints"
      },
      {
        "line": 378,
        "token": "incorrect",
        "context": "- **Weekly Activity Year Handling** - Fixed incorrect aggregation of same week numbers across different years"
      },
      {
        "line": 379,
        "token": "were",
        "context": "- **Issue**: Week 1 of 2024 and Week 1 of 2025 were being combined in weekly activity charts"
      },
      {
        "line": 380,
        "token": "included",
        "context": "- **Solution**: Year included in grouping logic for proper temporal separation"
      },
      {
        "line": 381,
        "token": "activity",
        "context": "- **Impact**: Weekly activity charts now accurately reflect year boundaries"
      },
      {
        "line": 384,
        "token": "method",
        "context": "- **Storage Interface**: `get_memory_timestamps()` method added to base `MemoryStorage` class"
      },
      {
        "line": 385,
        "token": "queries",
        "context": "- **Backend Implementation**: Optimized SQL queries for SQLite-Vec, Cloudflare D1, and Hybrid storage"
      },
      {
        "line": 386,
        "token": "organization",
        "context": "- **Code Quality**: Import organization and naming consistency improvements per Gemini Code Assist review"
      },
      {
        "line": 391,
        "token": "project",
        "context": "- **Workflow Documentation Harvest** - Comprehensive project management templates adapted from PR #199"
      },
      {
        "line": 392,
        "token": "reports",
        "context": "- **GitHub Issue Templates**: Structured bug/feature/performance reports with environment validation"
      },
      {
        "line": 393,
        "token": "version",
        "context": "- `bug_report.yml`: OS, Python version, storage backend, reproduction steps"
      },
      {
        "line": 394,
        "token": "case",
        "context": "- `feature_request.yml`: Use case, alternatives, impact assessment"
      },
      {
        "line": 395,
        "token": "database",
        "context": "- `performance_issue.yml`: Metrics, database size, profiling data"
      },
      {
        "line": 396,
        "token": "selector",
        "context": "- `config.yml`: Template selector with Wiki/Discussions links"
      },
      {
        "line": 397,
        "token": "structured",
        "context": "- **Regression Test Scenarios**: 10 structured test procedures (Setup â†’ Execute â†’ Evidence â†’ Pass/Fail)"
      },
      {
        "line": 398,
        "token": "locking",
        "context": "- Database locking tests (concurrent MCP servers, concurrent operations)"
      },
      {
        "line": 399,
        "token": "backend",
        "context": "- Storage backend integrity (hybrid sync, backend switching)"
      },
      {
        "line": 400,
        "token": "performance",
        "context": "- Dashboard performance (page load <2s, operations <1s)"
      },
      {
        "line": 401,
        "token": "filtering",
        "context": "- Tag filtering correctness (exact matching, index usage)"
      },
      {
        "line": 402,
        "token": "protocol",
        "context": "- MCP protocol compliance (schema validation, tool execution)"
      },
      {
        "line": 403,
        "token": "code",
        "context": "- **PR Review Guide**: Standardized code review with Gemini integration"
      },
      {
        "line": 404,
        "token": "compliance",
        "context": "- Template compliance checklist, code quality standards (type hints, async patterns, security)"
      },
      {
        "line": 405,
        "token": "verification",
        "context": "- Testing verification (>80% coverage), merge criteria, effective feedback templates"
      },
      {
        "line": 406,
        "token": "closure",
        "context": "- **Issue Management Guide**: Triage, closure, and post-release workflows"
      },
      {
        "line": 407,
        "token": "triage",
        "context": "- 48h triage response, professional closure templates, GitHub CLI automation"
      },
      {
        "line": 408,
        "token": "tracking",
        "context": "- Issueâ†’PRâ†’Release tracking, post-release systematic review"
      },
      {
        "line": 409,
        "token": "management",
        "context": "- **Release Checklist Enhancements**: Version management and emergency procedures"
      },
      {
        "line": 410,
        "token": "file",
        "context": "- 3-file version bump procedure (`__init__.py` â†’ `pyproject.toml` â†’ `uv lock`)"
      },
      {
        "line": 411,
        "token": "quality",
        "context": "- CHANGELOG quality gates, GitHub workflow verification"
      },
      {
        "line": 412,
        "token": "rollback",
        "context": "- Emergency rollback procedure (Docker/PyPI/Git steps, recovery timeline)"
      },
      {
        "line": 413,
        "token": "lines",
        "context": "- **Impact**: 2,400+ lines of actionable documentation (7 new files, 1 enhanced)"
      },
      {
        "line": 414,
        "token": "docs/testing/regression-tests.md",
        "context": "- **Files**: `.github/ISSUE_TEMPLATE/`, `docs/testing/regression-tests.md`, `docs/development/pr-review-guide.md`, `docs/development/issue-management.md`, `docs"
      },
      {
        "line": 415,
        "token": "https",
        "context": "- **Source**: Adapted from [PR #199](https://github.com/doobidoo/mcp-memory-service/pull/199) by Ray Walker (27Bslash6)"
      },
      {
        "line": 416,
        "token": "https",
        "context": "- **Commit**: [ca5ccf3](https://github.com/doobidoo/mcp-memory-service/commit/ca5ccf3f460feca06d3c9232303a6e528ca2c76f)"
      },
      {
        "line": 419,
        "token": "analytics",
        "context": "- **CRITICAL: Dashboard Analytics Accuracy** - Fixed analytics endpoint showing incorrect memory count"
      },
      {
        "line": 420,
        "token": "displayed",
        "context": "- **Issue**: Dashboard displayed 1,000 memories (sampling) instead of actual 2,222 total"
      },
      {
        "line": 421,
        "token": "endpoint",
        "context": "- **Root Cause**: Analytics endpoint used `get_recent_memories(n=1000)` sampling approach instead of direct SQL query"
      },
      {
        "line": 422,
        "token": "query",
        "context": "- **Solution**: Direct SQL query via `storage.primary.conn` for `HybridMemoryStorage` backend"
      },
      {
        "line": 423,
        "token": "line",
        "context": "- **File**: `src/mcp_memory_service/web/api/analytics.py` (line 386)"
      },
      {
        "line": 424,
        "token": "now",
        "context": "- **Impact**: Dashboard now shows accurate memory totals for all storage backends"
      },
      {
        "line": 425,
        "token": "attribute",
        "context": "- **Additional Fix**: Corrected attribute check from `storage.sqlite` to `storage.primary` for hybrid backend detection"
      },
      {
        "line": 428,
        "token": "repair",
        "context": "- **Malformed Tags Repair Utility** - Intelligent repair tool for JSON serialization artifacts in tags"
      },
      {
        "line": 430,
        "token": "malformed",
        "context": "- **Repaired**: 1,870 malformed tags across 369 memories"
      },
      {
        "line": 431,
        "token": "JSON",
        "context": "- **Patterns Detected**: JSON quotes (`\\\"tag\\\"`), brackets (`[tag]`), mixed artifacts"
      },
      {
        "line": 432,
        "token": "parser",
        "context": "- **Features**: Multi-tier parser, dry-run mode, automatic backups, progress tracking"
      },
      {
        "line": 433,
        "token": "backup",
        "context": "- **Safety**: Creates backup before modifications, validates repairs"
      },
      {
        "line": 435,
        "token": "type",
        "context": "- **Intelligent Memory Type Assignment** - Automated type inference for untyped memories"
      },
      {
        "line": 437,
        "token": "untyped",
        "context": "- **Processed**: 119 untyped memories with multi-tier inference algorithm"
      },
      {
        "line": 439,
        "token": "mapping",
        "context": "- Tag-based mapping (80+ tag-to-type associations)"
      },
      {
        "line": 440,
        "token": "detection",
        "context": "- Pattern-based detection (40+ content patterns)"
      },
      {
        "line": 441,
        "token": "analysis",
        "context": "- Metadata analysis (activity indicators)"
      },
      {
        "line": 442,
        "token": "heuristics",
        "context": "- Fallback heuristics (default to \"note\")"
      },
      {
        "line": 443,
        "token": "confidence",
        "context": "- **Confidence Scoring**: High/medium/low confidence levels for inference quality"
      },
      {
        "line": 444,
        "token": "mode",
        "context": "- **Features**: Dry-run mode, automatic backups, detailed statistics"
      },
      {
        "line": 447,
        "token": "sampling",
        "context": "- **Analytics Fix**: Removed \"Using sampling approach\" warning from logs"
      },
      {
        "line": 448,
        "token": "maintenance",
        "context": "- **Database Backups**: Both maintenance scripts create timestamped backups before modifications"
      },
      {
        "line": 449,
        "token": "core",
        "context": "- **Type Taxonomy**: Follows 24 core types from consolidated memory type system"
      },
      {
        "line": 450,
        "token": "properly",
        "context": "- **Hybrid Backend**: Scripts properly detect and handle `HybridMemoryStorage` architecture"
      },
      {
        "line": 455,
        "token": "database",
        "context": "- **Platform-Aware Consolidation Tool** - Cross-platform database path detection for memory type consolidation"
      },
      {
        "line": 457,
        "token": "enhanced",
        "context": "- **Script**: `scripts/maintenance/consolidate_memory_types.py` enhanced with `platform.system()` detection"
      },
      {
        "line": 458,
        "token": "seamlessly",
        "context": "- **Benefit**: Works seamlessly across all platforms without manual path configuration"
      },
      {
        "line": 459,
        "token": "https",
        "context": "- **PR**: [#201](https://github.com/doobidoo/mcp-memory-service/pull/201)"
      },
      {
        "line": 461,
        "token": "JSON",
        "context": "- **External JSON Configuration** - Editable consolidation mappings for flexible type management"
      },
      {
        "line": 462,
        "token": "mappings",
        "context": "- **File**: `scripts/maintenance/consolidation_mappings.json` (294 mappings, v1.1.0)"
      },
      {
        "line": 463,
        "token": "JSON",
        "context": "- **Schema**: JSON Schema validation with taxonomy documentation"
      },
      {
        "line": 464,
        "token": "custom",
        "context": "- **Extensibility**: Add custom type mappings without code changes"
      },
      {
        "line": 465,
        "token": "core",
        "context": "- **Taxonomy**: 24 core types organized into 5 categories"
      },
      {
        "line": 466,
        "token": "https",
        "context": "- **PR**: [#201](https://github.com/doobidoo/mcp-memory-service/pull/201)"
      },
      {
        "line": 468,
        "token": "agent",
        "context": "- **Agent System Documentation** - Comprehensive agent guidelines for development workflows"
      },
      {
        "line": 469,
        "token": "documentation",
        "context": "- **File**: `AGENTS.md` - Central documentation for available agents"
      },
      {
        "line": 470,
        "token": "integration",
        "context": "- **Agent**: `amp-bridge` - Amp CLI integration for research without credit consumption"
      },
      {
        "line": 471,
        "token": "workflow",
        "context": "- **Integration**: Semi-automated file-based workflow with Amp's `@file` reference syntax"
      },
      {
        "line": 472,
        "token": "architecture",
        "context": "- **CLAUDE.md**: Updated with Amp CLI Bridge architecture and quick start guide"
      },
      {
        "line": 473,
        "token": "https",
        "context": "- **PR**: [#201](https://github.com/doobidoo/mcp-memory-service/pull/201)"
      },
      {
        "line": 476,
        "token": "rendering",
        "context": "- **Dashboard Analytics Chart Layout** - Resolved rendering and proportionality issues"
      },
      {
        "line": 477,
        "token": "bars",
        "context": "- **Fixed**: Chart bars rendering outside containers"
      },
      {
        "line": 478,
        "token": "bar",
        "context": "- **Fixed**: Uniform bar sizes despite different values"
      },
      {
        "line": 479,
        "token": "type",
        "context": "- **Fixed**: Memory type distribution showing incorrect proportions"
      },
      {
        "line": 480,
        "token": "pixel",
        "context": "- **Enhancement**: Switched to 200px pixel scale for proper visualization"
      },
      {
        "line": 481,
        "token": "container",
        "context": "- **Enhancement**: CSS container constraints with `overflow-x: auto` and flexbox improvements"
      },
      {
        "line": 483,
        "token": "https",
        "context": "- **PR**: [#200](https://github.com/doobidoo/mcp-memory-service/pull/200)"
      },
      {
        "line": 487,
        "token": "scripts",
        "context": "- **Backward Compatibility**: Existing scripts continue to work with new platform-aware paths"
      },
      {
        "line": 488,
        "token": "creates",
        "context": "- **Agent Workflow**: Claude Code creates prompts â†’ User runs `amp @prompt-file` â†’ Amp writes response â†’ Agent presents results"
      },
      {
        "line": 489,
        "token": "now",
        "context": "- **Chart Rendering**: Dashboard now properly visualizes memory distribution with accurate proportions"
      },
      {
        "line": 494,
        "token": "bidirectional",
        "context": "- **Critical Bug**: Fixed bidirectional sync script crash due to incorrect Memory attribute access"
      },
      {
        "line": 496,
        "token": "accessed",
        "context": "- **Root Cause**: Script accessed non-existent `memory.id` and `memory.hash` attributes instead of correct `memory.content_hash`"
      },
      {
        "line": 497,
        "token": "sync",
        "context": "- **Impact**: Bidirectional sync between SQLite-vec and Cloudflare backends completely broken"
      },
      {
        "line": 499,
        "token": "validated",
        "context": "- **Testing**: Dry-run validated with 1,978 SQLite memories and 1,958 Cloudflare memories"
      },
      {
        "line": 500,
        "token": "identified",
        "context": "- **Result**: Successfully identified 338 memories to sync, 1,640 duplicates correctly skipped"
      },
      {
        "line": 503,
        "token": "object",
        "context": "- **Error Type**: `AttributeError: 'Memory' object has no attribute 'id'/'hash'`"
      },
      {
        "line": 504,
        "token": "based",
        "context": "- **Correct Attribute**: `content_hash` - SHA-256 based unique identifier for memory content"
      },
      {
        "line": 506,
        "token": "breaking",
        "context": "- **Backward Compatibility**: No breaking changes, only fixes broken functionality"
      },
      {
        "line": 511,
        "token": "message",
        "context": "- **Critical Bug**: Fixed `KeyError: 'message'` in MCP server handler (`server.py:2118`)"
      },
      {
        "line": 512,
        "token": "https",
        "context": "- **Issue**: [#198](https://github.com/doobidoo/mcp-memory-service/issues/198)"
      },
      {
        "line": 513,
        "token": "attempted",
        "context": "- **Root Cause**: `handle_store_memory()` attempted to access non-existent `result[\"message\"]` key"
      },
      {
        "line": 514,
        "token": "memory",
        "context": "- **Impact**: All memory store operations via MCP `server.py` handler failed completely"
      },
      {
        "line": 515,
        "token": "handle",
        "context": "- **Fix**: Properly handle `MemoryService.store_memory()` response format:"
      },
      {
        "line": 516,
        "token": "single",
        "context": "- Success (single): `{\"success\": True, \"memory\": {...}}`"
      },
      {
        "line": 517,
        "token": "chunked",
        "context": "- Success (chunked): `{\"success\": True, \"memories\": [...], \"total_chunks\": N}`"
      },
      {
        "line": 518,
        "token": "success",
        "context": "- Failure: `{\"success\": False, \"error\": \"...\"}`"
      },
      {
        "line": 519,
        "token": "include",
        "context": "- **Response Messages**: Now include truncated content hash for verification"
      },
      {
        "line": 520,
        "token": "was",
        "context": "- **Related**: This was part of issue #197 where async/await bug was fixed in v8.16.0, but this response format bug was missed"
      },
      {
        "line": 523,
        "token": "test",
        "context": "- **Integration Tests**: New test suite for MCP handler methods (`tests/integration/test_mcp_handlers.py`)"
      },
      {
        "line": 524,
        "token": "test",
        "context": "- **Coverage**: 11 test cases for `handle_store_memory()`, `handle_retrieve_memory()`, `handle_search_by_tag()`"
      },
      {
        "line": 525,
        "token": "tests",
        "context": "- **Regression Tests**: Specific tests for issue #198 to prevent future KeyError bugs"
      },
      {
        "line": 526,
        "token": "chunked",
        "context": "- **Test Scenarios**: Success, chunked response, error handling, edge cases"
      },
      {
        "line": 527,
        "token": "similar",
        "context": "- **Purpose**: Prevent similar bugs in future releases"
      },
      {
        "line": 530,
        "token": "was",
        "context": "- **Affected Handler**: Only `handle_store_memory()` was affected by this bug"
      },
      {
        "line": 531,
        "token": "correct",
        "context": "- **Fixed Code Pattern**: Matches the correct pattern used in `mcp_server.py:182-205`"
      },
      {
        "line": 532,
        "token": "breaking",
        "context": "- **Backward Compatibility**: No breaking changes, only fixes broken functionality"
      },
      {
        "line": 537,
        "token": "database",
        "context": "- **Memory Type Consolidation Tool** ğŸ†• - Professional-grade database maintenance for type taxonomy cleanup"
      },
      {
        "line": 539,
        "token": "predefined",
        "context": "- **Configuration**: `scripts/maintenance/consolidation_mappings.json` (168 predefined mappings)"
      },
      {
        "line": 540,
        "token": "seconds",
        "context": "- **Performance**: ~5 seconds for 1,000 memory updates"
      },
      {
        "line": 542,
        "token": "timestamped",
        "context": "- âœ… Automatic timestamped backups before execution"
      },
      {
        "line": 543,
        "token": "mode",
        "context": "- âœ… Dry-run mode for safe preview"
      },
      {
        "line": 544,
        "token": "safety",
        "context": "- âœ… Transaction safety (atomic with rollback)"
      },
      {
        "line": 545,
        "token": "lock",
        "context": "- âœ… Database lock detection"
      },
      {
        "line": 546,
        "token": "HTTP",
        "context": "- âœ… HTTP server status warnings"
      },
      {
        "line": 547,
        "token": "space",
        "context": "- âœ… Disk space verification"
      },
      {
        "line": 548,
        "token": "integrity",
        "context": "- âœ… Backup integrity validation"
      },
      {
        "line": 549,
        "token": "fragmented",
        "context": "- **Consolidates**: 341 fragmented types â†’ 24 core taxonomy types"
      },
      {
        "line": 550,
        "token": "test",
        "context": "- **Real-world test**: 1,049 memories updated in 5s (59% of database)"
      },
      {
        "line": 551,
        "token": "reduction",
        "context": "- **Type reduction**: 342 â†’ 128 unique types (63% reduction)"
      },
      {
        "line": 552,
        "token": "data",
        "context": "- **Zero data loss**: Only type reassignments, preserves all content"
      },
      {
        "line": 554,
        "token": "core",
        "context": "- **Standardized Memory Type Taxonomy** - 24 core types organized into 5 categories"
      },
      {
        "line": 555,
        "token": "note",
        "context": "- **Content Types** (4): note, reference, document, guide"
      },
      {
        "line": 556,
        "token": "session",
        "context": "- **Activity Types** (5): session, implementation, analysis, troubleshooting, test"
      },
      {
        "line": 557,
        "token": "fix",
        "context": "- **Artifact Types** (4): fix, feature, release, deployment"
      },
      {
        "line": 558,
        "token": "milestone",
        "context": "- **Progress Types** (2): milestone, status"
      },
      {
        "line": 559,
        "token": "configuration",
        "context": "- **Infrastructure Types** (5): configuration, infrastructure, process, security, architecture"
      },
      {
        "line": 560,
        "token": "documentation",
        "context": "- **Other Types** (4): documentation, solution, achievement, technical"
      },
      {
        "line": 561,
        "token": "future",
        "context": "- **Purpose**: Prevents future type fragmentation"
      },
      {
        "line": 562,
        "token": "query",
        "context": "- **Benefits**: Improved query efficiency, consistent naming, better semantic grouping"
      },
      {
        "line": 565,
        "token": "section",
        "context": "- **CLAUDE.md** - Added Memory Type Taxonomy section to Development Guidelines"
      },
      {
        "line": 566,
        "token": "core",
        "context": "- Documents 24 core types with clear usage guidelines"
      },
      {
        "line": 567,
        "token": "examples",
        "context": "- Provides examples of what to avoid (bug-fix vs fix, technical-* prefixes)"
      },
      {
        "line": 568,
        "token": "consolidation",
        "context": "- Added consolidation commands to Essential Commands section"
      },
      {
        "line": 569,
        "token": "best",
        "context": "- Includes best practices for maintaining type consistency"
      },
      {
        "line": 573,
        "token": "consolidation",
        "context": "- Updated `scripts/maintenance/README.md` with consolidation tool guide"
      },
      {
        "line": 574,
        "token": "table",
        "context": "- Added to Quick Reference table with performance metrics"
      },
      {
        "line": 575,
        "token": "usage",
        "context": "- Detailed usage instructions with safety prerequisites"
      },
      {
        "line": 576,
        "token": "procedures",
        "context": "- Recovery procedures for backup restoration"
      },
      {
        "line": 577,
        "token": "schedule",
        "context": "- Maintenance schedule recommendations (monthly dry-run checks)"
      },
      {
        "line": 578,
        "token": "example",
        "context": "- **Real-world example**: Production consolidation results from Nov 2025"
      },
      {
        "line": 582,
        "token": "note",
        "context": "- NULL/empty â†’ `note` (609 memories in real test)"
      },
      {
        "line": 583,
        "token": "variants",
        "context": "- Milestone/completion variants â†’ `milestone` (21 source types â†’ 60 memories)"
      },
      {
        "line": 584,
        "token": "variants",
        "context": "- Session variants â†’ `session` (8 source types â†’ 37 memories)"
      },
      {
        "line": 585,
        "token": "prefix",
        "context": "- Technical-* prefix removal â†’ base types (62 memories)"
      },
      {
        "line": 586,
        "token": "prefix",
        "context": "- Project-* prefix removal â†’ base types (67 memories)"
      },
      {
        "line": 587,
        "token": "variants",
        "context": "- Fix/bug variants â†’ `fix` (8 source types â†’ 28 memories)"
      },
      {
        "line": 588,
        "token": "complete",
        "context": "- See `consolidation_mappings.json` for complete mapping list (168 rules)"
      },
      {
        "line": 591,
        "token": "customize",
        "context": "- **Customizable**: Edit `consolidation_mappings.json` to customize behavior"
      },
      {
        "line": 592,
        "token": "run",
        "context": "- **Idempotent**: Safe to run multiple times with same mappings"
      },
      {
        "line": 593,
        "token": "support",
        "context": "- **Platform support**: Linux, macOS, Windows (disk space check requires statvfs)"
      },
      {
        "line": 594,
        "token": "schedule",
        "context": "- **Recommended schedule**: Run --dry-run monthly, execute when types exceed 150"
      },
      {
        "line": 599,
        "token": "line",
        "context": "- **Critical Python Syntax Error in Hook Installer** - Fixed IndentationError in `claude-hooks/install_hooks.py` (line 790)"
      },
      {
        "line": 600,
        "token": "closing",
        "context": "- **Issue**: Extra closing braces in SessionEnd hook configuration caused installation to fail"
      },
      {
        "line": 601,
        "token": "unexpected",
        "context": "- **Symptom**: `IndentationError: unexpected indent` when running `python install_hooks.py`"
      },
      {
        "line": 602,
        "token": "merge",
        "context": "- **Root Cause**: Git merge conflict resolution left two extra `}` characters (lines 790-791)"
      },
      {
        "line": 603,
        "token": "could",
        "context": "- **Impact**: Users could not install or update hooks after pulling v8.15.0"
      },
      {
        "line": 604,
        "token": "extra",
        "context": "- **Fix**: Removed extra closing braces, corrected indentation"
      },
      {
        "line": 606,
        "token": "successful",
        "context": "- **Testing**: Verified successful installation on macOS after fix"
      },
      {
        "line": 610,
        "token": "syntax",
        "context": "- **Error Type**: IndentationError (Python syntax)"
      },
      {
        "line": 611,
        "token": "testing",
        "context": "- **Detection Method**: Manual testing during hook reinstallation"
      },
      {
        "line": 612,
        "token": "patch",
        "context": "- **Resolution Time**: Immediate (same-day patch)"
      },
      {
        "line": 617,
        "token": "session",
        "context": "- **`/session-start` Slash Command** - Manual session initialization for all platforms"
      },
      {
        "line": 618,
        "token": "same",
        "context": "- Provides same functionality as automatic SessionStart hook"
      },
      {
        "line": 619,
        "token": "project",
        "context": "- Displays project context, git history, relevant memories"
      },
      {
        "line": 621,
        "token": "workaround",
        "context": "- **Use Case**: Primary workaround for Windows SessionStart hook bug (#160)"
      },
      {
        "line": 622,
        "token": "claude_commands/session-start.md",
        "context": "- **Location**: `claude_commands/session-start.md`"
      },
      {
        "line": 624,
        "token": "manual",
        "context": "- âœ… Safe manual alternative to automatic hooks"
      },
      {
        "line": 625,
        "token": "configuration",
        "context": "- âœ… No configuration changes needed"
      },
      {
        "line": 626,
        "token": "memory",
        "context": "- âœ… Full memory awareness functionality"
      },
      {
        "line": 627,
        "token": "hangs",
        "context": "- âœ… Prevents Claude Code hangs on Windows"
      },
      {
        "line": 630,
        "token": "detection",
        "context": "- **Windows-Aware Installer** - Platform detection and automatic configuration"
      },
      {
        "line": 631,
        "token": "platform",
        "context": "- Detects Windows platform during hook installation"
      },
      {
        "line": 632,
        "token": "skips",
        "context": "- Automatically skips SessionStart hook configuration on Windows"
      },
      {
        "line": 633,
        "token": "clear",
        "context": "- Shows clear warning about SessionStart limitation"
      },
      {
        "line": 634,
        "token": "slash",
        "context": "- Suggests `/session-start` slash command as alternative"
      },
      {
        "line": 635,
        "token": "skips",
        "context": "- Also skips statusLine configuration on Windows (requires bash)"
      },
      {
        "line": 636,
        "token": "lines",
        "context": "- **Files Modified**: `claude-hooks/install_hooks.py` (lines 749-817)"
      },
      {
        "line": 637,
        "token": "users",
        "context": "- **User Impact**: Prevents Windows users from accidentally breaking Claude Code"
      },
      {
        "line": 641,
        "token": "command",
        "context": "- Updated `claude_commands/README.md` with `/session-start` command details"
      },
      {
        "line": 642,
        "token": "workaround",
        "context": "- Added Windows workaround section to `claude-hooks/README.md`"
      },
      {
        "line": 643,
        "token": "recommended",
        "context": "- Updated `CLAUDE.md` with `/session-start` as #1 recommended workaround"
      },
      {
        "line": 644,
        "token": "comprehensive",
        "context": "- Added comprehensive troubleshooting guidance"
      },
      {
        "line": 645,
        "token": "issue",
        "context": "- Updated GitHub issue #160 with new workaround instructions"
      },
      {
        "line": 648,
        "token": "hook",
        "context": "- **Windows Installation Experience** - Prevents SessionStart hook deadlock (Issue #160)"
      },
      {
        "line": 649,
        "token": "users",
        "context": "- **Previous Behavior**: Windows users install hooks â†’ Claude Code hangs â†’ frustration"
      },
      {
        "line": 650,
        "token": "users",
        "context": "- **New Behavior**: Windows users see warning â†’ skip SessionStart â†’ use `/session-start` â†’ works"
      },
      {
        "line": 651,
        "token": "fully",
        "context": "- **Breaking Change**: None - fully backward compatible"
      },
      {
        "line": 652,
        "token": "fix",
        "context": "- **Upstream Issue**: Awaiting fix from Anthropic Claude Code team (claude-code#9542)"
      },
      {
        "line": 655,
        "token": "new",
        "context": "- **Files Created**: 1 new slash command"
      },
      {
        "line": 656,
        "token": "claude_commands/session-start.md",
        "context": "- `claude_commands/session-start.md` - Full command documentation"
      },
      {
        "line": 657,
        "token": "files",
        "context": "- **Files Modified**: 4 files"
      },
      {
        "line": 658,
        "token": "platform",
        "context": "- `claude-hooks/install_hooks.py` - Windows platform detection and warnings"
      },
      {
        "line": 659,
        "token": "available",
        "context": "- `claude_commands/README.md` - Added `/session-start` to available commands"
      },
      {
        "line": 660,
        "token": "slash",
        "context": "- `claude-hooks/README.md` - Added slash command workaround reference"
      },
      {
        "line": 661,
        "token": "workaround",
        "context": "- `CLAUDE.md` - Updated workaround prioritization"
      },
      {
        "line": 664,
        "token": "command",
        "context": "- âœ… Windows: `/session-start` command works, automatic hooks skipped"
      },
      {
        "line": 665,
        "token": "features",
        "context": "- âœ… macOS: All features work (automatic hooks + slash command)"
      },
      {
        "line": 666,
        "token": "features",
        "context": "- âœ… Linux: All features work (automatic hooks + slash command)"
      },
      {
        "line": 671,
        "token": "direct",
        "context": "- **Optimized MemoryService.get_memory_by_hash()** - O(1) direct lookup replaces O(n) scan (Issue #196)"
      },
      {
        "line": 672,
        "token": "memories",
        "context": "- **Previous Implementation**: Loaded ALL memories via `storage.get_all_memories()`, then filtered by hash"
      },
      {
        "line": 673,
        "token": "database",
        "context": "- **New Implementation**: Direct O(1) database lookup via `storage.get_by_hash()`"
      },
      {
        "line": 675,
        "token": "datasets",
        "context": "- Small datasets (10-100 memories): ~2x faster"
      },
      {
        "line": 676,
        "token": "datasets",
        "context": "- Medium datasets (100-1000 memories): ~10-50x faster"
      },
      {
        "line": 677,
        "token": "datasets",
        "context": "- Large datasets (1000+ memories): ~100x+ faster"
      },
      {
        "line": 678,
        "token": "memory",
        "context": "- **Memory Usage**: Single memory object vs loading entire dataset into memory"
      },
      {
        "line": 681,
        "token": "method",
        "context": "- **Abstract method `get_by_hash()` in MemoryStorage base class** (storage/base.py)"
      },
      {
        "line": 682,
        "token": "direct",
        "context": "- Enforces O(1) direct hash lookup across all storage backends"
      },
      {
        "line": 683,
        "token": "implementation",
        "context": "- Required implementation for all storage backends"
      },
      {
        "line": 684,
        "token": "not",
        "context": "- Returns `Optional[Memory]` (None if not found)"
      },
      {
        "line": 687,
        "token": "query",
        "context": "- Direct D1 SQL query: `SELECT * FROM memories WHERE content_hash = ?`"
      },
      {
        "line": 688,
        "token": "content",
        "context": "- Handles R2 content loading if needed"
      },
      {
        "line": 689,
        "token": "tags",
        "context": "- Loads tags separately"
      },
      {
        "line": 690,
        "token": "same",
        "context": "- Follows same pattern as SqliteVecMemoryStorage implementation"
      },
      {
        "line": 693,
        "token": "now",
        "context": "- **MemoryService.get_memory_by_hash()** now uses direct storage lookup"
      },
      {
        "line": 694,
        "token": "inefficient",
        "context": "- Removed inefficient `get_all_memories()` + filter approach"
      },
      {
        "line": 695,
        "token": "implementation",
        "context": "- Simplified implementation (5 lines vs 10 lines)"
      },
      {
        "line": 696,
        "token": "docstring",
        "context": "- Updated docstring to reflect O(1) lookup"
      },
      {
        "line": 699,
        "token": "unit",
        "context": "- **Updated unit tests** (tests/unit/test_memory_service.py)"
      },
      {
        "line": 700,
        "token": "now",
        "context": "- Mocks now use `storage.get_by_hash()` instead of `storage.get_all_memories()`"
      },
      {
        "line": 701,
        "token": "assertions",
        "context": "- Added assertions to verify method calls"
      },
      {
        "line": 702,
        "token": "test",
        "context": "- All 3 test cases pass (found, not found, error handling)"
      },
      {
        "line": 704,
        "token": "integration",
        "context": "- **Updated integration tests** (tests/integration/test_api_with_memory_service.py)"
      },
      {
        "line": 705,
        "token": "updated",
        "context": "- Mock updated for proper method delegation"
      },
      {
        "line": 706,
        "token": "storage",
        "context": "- Real storage backends (SqliteVecMemoryStorage, HybridMemoryStorage) work correctly"
      },
      {
        "line": 709,
        "token": "files",
        "context": "- **Files Modified**: 5 files"
      },
      {
        "line": 710,
        "token": "abstract",
        "context": "- `src/mcp_memory_service/storage/base.py`: Added abstract `get_by_hash()` method"
      },
      {
        "line": 711,
        "token": "lines",
        "context": "- `src/mcp_memory_service/storage/cloudflare.py`: Implemented `get_by_hash()` (40 lines)"
      },
      {
        "line": 713,
        "token": "mocks",
        "context": "- `tests/unit/test_memory_service.py`: Updated mocks"
      },
      {
        "line": 714,
        "token": "mocks",
        "context": "- `tests/integration/test_api_with_memory_service.py`: Updated mocks"
      },
      {
        "line": 716,
        "token": "fully",
        "context": "- **Breaking Changes**: None - fully backward compatible"
      },
      {
        "line": 718,
        "token": "line",
        "context": "- âœ… SqliteVecMemoryStorage (line 1153)"
      },
      {
        "line": 719,
        "token": "line",
        "context": "- âœ… CloudflareStorage (line 666)"
      },
      {
        "line": 720,
        "token": "line",
        "context": "- âœ… HybridMemoryStorage (line 974, delegates to primary)"
      },
      {
        "line": 725,
        "token": "definitions",
        "context": "- **Type Safety Improvements** - Comprehensive TypedDict definitions for all MemoryService return types"
      },
      {
        "line": 726,
        "token": "methods",
        "context": "- **Problem**: All MemoryService methods returned loose `Dict[str, Any]` types, providing no IDE support or compile-time validation"
      },
      {
        "line": 727,
        "token": "specific",
        "context": "- **Solution**: Created 14 specific TypedDict classes for structured return types"
      },
      {
        "line": 728,
        "token": "operations",
        "context": "- Store operations: `StoreMemorySingleSuccess`, `StoreMemoryChunkedSuccess`, `StoreMemoryFailure`"
      },
      {
        "line": 729,
        "token": "operations",
        "context": "- List operations: `ListMemoriesSuccess`, `ListMemoriesError`"
      },
      {
        "line": 730,
        "token": "operations",
        "context": "- Retrieve operations: `RetrieveMemoriesSuccess`, `RetrieveMemoriesError`"
      },
      {
        "line": 731,
        "token": "operations",
        "context": "- Search operations: `SearchByTagSuccess`, `SearchByTagError`"
      },
      {
        "line": 732,
        "token": "operations",
        "context": "- Delete operations: `DeleteMemorySuccess`, `DeleteMemoryFailure`"
      },
      {
        "line": 733,
        "token": "operations",
        "context": "- Health operations: `HealthCheckSuccess`, `HealthCheckFailure`"
      },
      {
        "line": 735,
        "token": "autocomplete",
        "context": "- âœ… IDE autocomplete for all return values (type `result[\"` to see available keys)"
      },
      {
        "line": 736,
        "token": "type",
        "context": "- âœ… Compile-time type checking catches typos (e.g., `result[\"succes\"]` â†’ type error)"
      },
      {
        "line": 737,
        "token": "clear",
        "context": "- âœ… Self-documenting API - clear contracts for all methods"
      },
      {
        "line": 738,
        "token": "safety",
        "context": "- âœ… Refactoring safety - renaming keys shows all affected code"
      },
      {
        "line": 739,
        "token": "backward",
        "context": "- âœ… 100% backward compatible - no runtime changes"
      },
      {
        "line": 740,
        "token": "performance",
        "context": "- âœ… Zero performance impact - pure static typing"
      },
      {
        "line": 743,
        "token": "delegation",
        "context": "- **Missing HybridMemoryStorage.get_by_hash()** - Added delegation method to HybridMemoryStorage"
      },
      {
        "line": 744,
        "token": "object",
        "context": "- Fixed `AttributeError: 'HybridMemoryStorage' object has no attribute 'get_by_hash'`"
      },
      {
        "line": 745,
        "token": "storage",
        "context": "- All storage backends now implement `get_by_hash()`: SqliteVecMemoryStorage, CloudflareMemoryStorage, HybridMemoryStorage"
      },
      {
        "line": 746,
        "token": "direct",
        "context": "- Enables direct memory retrieval by content hash without loading all memories"
      },
      {
        "line": 747,
        "token": "issue",
        "context": "- See issue #196 for planned optimization to use this method in MemoryService"
      },
      {
        "line": 751,
        "token": "classes",
        "context": "- `src/mcp_memory_service/services/memory_service.py`: Added 14 TypedDict classes, updated 6 method signatures"
      },
      {
        "line": 752,
        "token": "delegation",
        "context": "- `src/mcp_memory_service/storage/hybrid.py`: Added `get_by_hash()` delegation method"
      },
      {
        "line": 753,
        "token": "fully",
        "context": "- **Breaking Changes**: None - fully backward compatible (TypedDict is structural typing)"
      },
      {
        "line": 754,
        "token": "tests",
        "context": "- **Testing**: All tests pass (15/15), comprehensive structure validation, HTTP API integration verified"
      },
      {
        "line": 759,
        "token": "solution",
        "context": "- **Comprehensive Tag Normalization** - DRY solution for all tag format handling"
      },
      {
        "line": 760,
        "token": "tag",
        "context": "- **Problem**: Inconsistent tag handling across different APIs caused validation errors"
      },
      {
        "line": 761,
        "token": "tags",
        "context": "- Top-level `tags` parameter accepted strings, but MemoryService expected arrays"
      },
      {
        "line": 762,
        "token": "field",
        "context": "- `metadata.tags` field had no normalization, causing \"is not of type 'array'\" errors"
      },
      {
        "line": 763,
        "token": "strings",
        "context": "- Comma-separated strings like `\"tag1,tag2,tag3\"` were not split into arrays"
      },
      {
        "line": 764,
        "token": "logic",
        "context": "- Normalization logic was duplicated in some methods but missing in others"
      },
      {
        "line": 766,
        "token": "adapters",
        "context": "- MCP/HTTP adapters accepted `Union[str, List[str], None]` in signatures"
      },
      {
        "line": 767,
        "token": "passed",
        "context": "- But passed values to MemoryService without normalization"
      },
      {
        "line": 768,
        "token": "expected",
        "context": "- MemoryService expected `Optional[List[str]]`, causing type mismatch"
      },
      {
        "line": 769,
        "token": "had",
        "context": "- `search_by_tag()` had normalization, but `store_memory()` did not (DRY violation)"
      },
      {
        "line": 771,
        "token": "centralized",
        "context": "- Created centralized `normalize_tags()` utility function (services/memory_service.py:27-56)"
      },
      {
        "line": 772,
        "token": "input",
        "context": "- Handles ALL input formats:"
      },
      {
        "line": 776,
        "token": "passthrough",
        "context": "- `[\"tag1\", \"tag2\"]` â†’ `[\"tag1\", \"tag2\"]` (passthrough)"
      },
      {
        "line": 778,
        "token": "str",
        "context": "- Accept `Union[str, List[str], None]` type hint"
      },
      {
        "line": 779,
        "token": "both",
        "context": "- Normalize both `tags` parameter and `metadata.tags` field"
      },
      {
        "line": 780,
        "token": "tags",
        "context": "- Merge tags from both sources with deduplication"
      },
      {
        "line": 781,
        "token": "use",
        "context": "- Updated `MemoryService.search_by_tag()` to use utility (removed duplicate code)"
      },
      {
        "line": 783,
        "token": "updated",
        "context": "- `src/mcp_memory_service/services/memory_service.py`: Added normalize_tags(), updated store_memory() and search_by_tag()"
      },
      {
        "line": 784,
        "token": "docstring",
        "context": "- `src/mcp_memory_service/mcp_server.py`: Updated docstring to reflect all formats supported"
      },
      {
        "line": 786,
        "token": "source",
        "context": "- âœ… Single source of truth for tag normalization (DRY)"
      },
      {
        "line": 787,
        "token": "tag",
        "context": "- âœ… All tag formats work everywhere (top-level, metadata, any protocol)"
      },
      {
        "line": 788,
        "token": "more",
        "context": "- âœ… No more validation errors for comma-separated strings"
      },
      {
        "line": 789,
        "token": "backward",
        "context": "- âœ… Fully backward compatible"
      },
      {
        "line": 790,
        "token": "behavior",
        "context": "- âœ… Consistent behavior across all endpoints"
      },
      {
        "line": 792,
        "token": "use",
        "context": "- Can use any tag format anywhere without errors"
      },
      {
        "line": 793,
        "token": "need",
        "context": "- No need to remember which parameter accepts which format"
      },
      {
        "line": 794,
        "token": "developer",
        "context": "- Improved developer experience and reduced friction"
      },
      {
        "line": 797,
        "token": "business",
        "context": "- **Affected Components**: MemoryService (business logic layer), MCP server documentation"
      },
      {
        "line": 798,
        "token": "fully",
        "context": "- **Breaking Changes**: None - fully backward compatible"
      },
      {
        "line": 799,
        "token": "tags",
        "context": "- **Tag Merge Behavior**: When tags provided in both parameter and metadata, they are merged and deduplicated"
      },
      {
        "line": 800,
        "token": "all",
        "context": "- **Testing**: Verified with all format combinations (None, string, comma-separated, array, metadata.tags)"
      },
      {
        "line": 805,
        "token": "improvements",
        "context": "- **Memory Hooks Display Polish** - Visual improvements for cleaner, more professional CLI output"
      },
      {
        "line": 806,
        "token": "visual",
        "context": "- **Issue**: Multiple visual inconsistencies in memory hooks tree structure display"
      },
      {
        "line": 808,
        "token": "bottom",
        "context": "1. Redundant bottom frame (`â•°â”€â”€â”€â”€â•¯`) after tree naturally ended with `â””â”€`"
      },
      {
        "line": 809,
        "token": "text",
        "context": "2. Wrapped text continuation showing vertical lines (`â”‚`) after last items"
      },
      {
        "line": 810,
        "token": "final",
        "context": "3. Duplicate final summary message (\"Context injected\") when header already shows count"
      },
      {
        "line": 811,
        "token": "formatting",
        "context": "4. Embedded formatting (âœ…, â€¢, markdown) conflicting with tree structure"
      },
      {
        "line": 812,
        "token": "content",
        "context": "5. Excessive content length despite adaptive truncation"
      },
      {
        "line": 813,
        "token": "commits",
        "context": "- **Fixes** (commits ed46d24, 998a39c):"
      },
      {
        "line": 814,
        "token": "checkmarks",
        "context": "- **Content Sanitization**: Remove checkmarks, bullets, markdown formatting that conflicts with tree characters"
      },
      {
        "line": 815,
        "token": "first",
        "context": "- **Smart Truncation**: Extract first 1-2 sentences for <400 char limits using sentence boundary detection"
      },
      {
        "line": 816,
        "token": "items",
        "context": "- **Tree Continuation Logic**: Last items show clean indentation without vertical lines on wrapped text"
      },
      {
        "line": 817,
        "token": "ends",
        "context": "- **Remove Redundant Frame**: Tree ends naturally with `â””â”€`, no separate closing box"
      },
      {
        "line": 818,
        "token": "shows",
        "context": "- **Remove Duplicate Message**: Header shows \"X memories loaded\", no redundant final summary"
      },
      {
        "line": 820,
        "token": "sanitization",
        "context": "- `claude-hooks/utilities/context-formatter.js`: Content sanitization, smart truncation, tree continuation fixes"
      },
      {
        "line": 821,
        "token": "redundant",
        "context": "- `claude-hooks/core/session-start.js`: Removed redundant success message"
      },
      {
        "line": 822,
        "token": "consistent",
        "context": "- **Result**: Clean, consistent tree structure with proper visual hierarchy and no redundancy"
      },
      {
        "line": 823,
        "token": "output",
        "context": "- **User Impact**: Professional CLI output, easier to scan, maintains continuous blue tree lines properly"
      },
      {
        "line": 826,
        "token": "memory",
        "context": "- **Affected Component**: Claude Code memory awareness hooks (SessionStart display)"
      },
      {
        "line": 827,
        "token": "loaded",
        "context": "- **Deployment**: Hooks loaded from repository automatically, no server restart needed"
      },
      {
        "line": 828,
        "token": "mock",
        "context": "- **Testing**: Verified with mock execution and real Claude Code session"
      },
      {
        "line": 833,
        "token": "unit",
        "context": "- **Critical: Memory Hooks Showing Incorrect Ages** (#195) - Timestamp unit mismatch causing 20,371-day ages"
      },
      {
        "line": 834,
        "token": "hooks",
        "context": "- **Error**: Memory hooks reporting `avgAge: 20371 days, medianAge: 20371 days` when actual age was 6 days"
      },
      {
        "line": 835,
        "token": "memories",
        "context": "- **User Impact**: Recent memories didn't surface, auto-calibration incorrectly triggered \"stale memory\" warnings"
      },
      {
        "line": 836,
        "token": "unit",
        "context": "- **Root Cause** (claude-hooks/utilities/memory-client.js:273): Timestamp unit mismatch"
      },
      {
        "line": 837,
        "token": "HTTP",
        "context": "- HTTP API returns Unix timestamps in **SECONDS**: `1758344479.729`"
      },
      {
        "line": 838,
        "token": "expects",
        "context": "- JavaScript `Date()` expects **MILLISECONDS**: Interpreted as `Jan 21, 1970` (55 years ago)"
      },
      {
        "line": 839,
        "token": "calculation",
        "context": "- Age calculation: `(now - 1758344479ms) / 86400000 = 20371 days`"
      },
      {
        "line": 841,
        "token": "true",
        "context": "- `[Memory Age Analyzer] { avgAge: 20371, recentPercent: 0, isStale: true }`"
      },
      {
        "line": 842,
        "token": "showed",
        "context": "- Hooks showed \"Stale memory set detected (median: 20371d old)\""
      },
      {
        "line": 843,
        "token": "development",
        "context": "- Recent development work (< 7 days) never surfaced in context"
      },
      {
        "line": 844,
        "token": "commit",
        "context": "- **Fix** (claude-hooks/utilities/memory-client.js:273-294, commit 5c54894):"
      },
      {
        "line": 845,
        "token": "timestamps",
        "context": "- Convert API timestamps from seconds to milliseconds (`Ã— 1000`)"
      },
      {
        "line": 846,
        "token": "year",
        "context": "- Added year 2100 check (`< 4102444800`) to prevent double-conversion"
      },
      {
        "line": 847,
        "token": "response",
        "context": "- Applied in `_performApiPost()` response handler for both `created_at` and `updated_at`"
      },
      {
        "line": 849,
        "token": "days",
        "context": "- `avgAge: 6 days, medianAge: 5 days, recentPercent: 100%, isStale: false`"
      },
      {
        "line": 850,
        "token": "memories",
        "context": "- Recent memories surface correctly"
      },
      {
        "line": 851,
        "token": "works",
        "context": "- Auto-calibration works properly"
      },
      {
        "line": 852,
        "token": "context",
        "context": "- Git context weight adjusts based on actual ages"
      },
      {
        "line": 853,
        "token": "all",
        "context": "- **Note**: Affects all users using HTTP protocol for memory hooks"
      },
      {
        "line": 856,
        "token": "memory",
        "context": "- **Affected Component**: Claude Code memory awareness hooks (HTTP protocol path)"
      },
      {
        "line": 857,
        "token": "lines",
        "context": "- **File Changed**: `claude-hooks/utilities/memory-client.js` (lines 273-294)"
      },
      {
        "line": 858,
        "token": "loaded",
        "context": "- **Deployment**: Hooks loaded from repository automatically, no server restart needed"
      },
      {
        "line": 859,
        "token": "https",
        "context": "- **Issue**: https://github.com/doobidoo/mcp-memory-service/issues/195"
      },
      {
        "line": 864,
        "token": "regression",
        "context": "- **Critical: MCP Memory Tools Broken** - v8.12.0 regression preventing all MCP memory operations"
      },
      {
        "line": 865,
        "token": "message",
        "context": "- **Error**: `KeyError: 'message'` when calling any MCP memory tool (store, retrieve, search, etc.)"
      },
      {
        "line": 866,
        "token": "tools",
        "context": "- **User Impact**: MCP tools completely non-functional - \"Error storing memory: 'message'\""
      },
      {
        "line": 867,
        "token": "format",
        "context": "- **Root Cause** (mcp_server.py:175): Return format mismatch between MemoryService and MCP tool expectations"
      },
      {
        "line": 868,
        "token": "tool",
        "context": "- MCP tool expects: `{success: bool, message: str, content_hash: str}`"
      },
      {
        "line": 869,
        "token": "returns",
        "context": "- MemoryService returns: `{success: bool, memory: {...}}`"
      },
      {
        "line": 870,
        "token": "protocol",
        "context": "- MCP protocol tries to access missing 'message' field â†’ KeyError"
      },
      {
        "line": 871,
        "token": "HTTP",
        "context": "- **Why It Persisted**: HTTP API doesn't require these specific fields, so integration tests passed"
      },
      {
        "line": 872,
        "token": "response",
        "context": "- **Fix** (mcp_server.py:173-206): Transform MemoryService response to MCP TypedDict format"
      },
      {
        "line": 873,
        "token": "result",
        "context": "- Capture result from MemoryService.store_memory()"
      },
      {
        "line": 874,
        "token": "nested",
        "context": "- Extract content_hash from nested memory object"
      },
      {
        "line": 875,
        "token": "descriptive",
        "context": "- Add descriptive \"message\" field"
      },
      {
        "line": 876,
        "token": "cases",
        "context": "- Handle 3 cases: failure (error message), chunked (multiple memories), single memory"
      },
      {
        "line": 877,
        "token": "tools",
        "context": "- **Result**: MCP tools now work correctly with proper error messages"
      },
      {
        "line": 878,
        "token": "server",
        "context": "- **Note**: Requires MCP server restart (`/mcp` command in Claude Code) to load fix"
      },
      {
        "line": 881,
        "token": "architecture",
        "context": "- **Introduced**: v8.12.0 MemoryService architecture refactoring (#176)"
      },
      {
        "line": 882,
        "token": "all",
        "context": "- **Affected Tools**: store_memory, all MCP protocol operations"
      },
      {
        "line": 883,
        "token": "HTTP",
        "context": "- **HTTP API**: Unaffected (different response format requirements)"
      },
      {
        "line": 884,
        "token": "integration",
        "context": "- **Test Gap**: No integration tests validating MCP tool response formats"
      },
      {
        "line": 889,
        "token": "calling",
        "context": "- **Memory Sync Script Broken** (#193): Fixed sync_memory_backends.py calling non-existent `store_memory()` method"
      },
      {
        "line": 890,
        "token": "object",
        "context": "- **Error**: `AttributeError: 'CloudflareStorage' object has no attribute 'store_memory'`"
      },
      {
        "line": 891,
        "token": "script",
        "context": "- **User Impact**: Sync script completely non-functional - couldn't sync memories between Cloudflare and SQLite backends"
      },
      {
        "line": 892,
        "token": "used",
        "context": "- **Root Cause** (scripts/sync/sync_memory_backends.py:144-147): Script used old `store_memory()` API that no longer exists"
      },
      {
        "line": 893,
        "token": "use",
        "context": "- **Fix** (#194, b69de83): Updated to use proper `Memory` object creation and `storage.store()` method"
      },
      {
        "line": 894,
        "token": "object",
        "context": "- Create `Memory` object with `content`, `content_hash`, `tags`, `metadata`, `created_at`"
      },
      {
        "line": 895,
        "token": "await",
        "context": "- Call `await target_storage.store(memory_obj)` instead of non-existent `store_memory()`"
      },
      {
        "line": 896,
        "token": "safe",
        "context": "- Added safe `.get('metadata', {})` to prevent KeyError on missing metadata"
      },
      {
        "line": 897,
        "token": "import",
        "context": "- Fixed import order to comply with PEP 8 (config â†’ models â†’ storage)"
      },
      {
        "line": 898,
        "token": "script",
        "context": "- **Result**: Sync script now successfully syncs memories between backends"
      },
      {
        "line": 899,
        "token": "via",
        "context": "- **Credit**: Fix by AMP via PR #194, reviewed by Gemini"
      },
      {
        "line": 904,
        "token": "server",
        "context": "- **Critical Concurrent Access Bug**: MCP server initialization failed with \"database is locked\" when HTTP server running"
      },
      {
        "line": 905,
        "token": "database",
        "context": "- **Error**: `sqlite3.OperationalError: database is locked` during MCP tool initialization"
      },
      {
        "line": 906,
        "token": "memory",
        "context": "- **User Impact**: MCP memory tools completely non-functional while HTTP server running - \"this worked before without any flaws\""
      },
      {
        "line": 907,
        "token": "timeout",
        "context": "- **Root Cause #1** (sqlite_vec.py:329): Connection timeout set AFTER opening database instead of during connection"
      },
      {
        "line": 908,
        "token": "path",
        "context": "- Original: `sqlite3.connect(path)` used default 5-second timeout, then applied `PRAGMA busy_timeout=15000`"
      },
      {
        "line": 909,
        "token": "only",
        "context": "- SQLite only respects timeout parameter passed to `connect()`, not pragma applied afterward"
      },
      {
        "line": 910,
        "token": "server",
        "context": "- MCP server timed out before it could set the higher timeout value"
      },
      {
        "line": 911,
        "token": "servers",
        "context": "- **Root Cause #2** (sqlite_vec.py:467-476): Both servers attempting DDL operations (CREATE TABLE, CREATE INDEX) simultaneously"
      },
      {
        "line": 912,
        "token": "mode",
        "context": "- Even with WAL mode, DDL operations require brief exclusive locks"
      },
      {
        "line": 913,
        "token": "detection",
        "context": "- No detection of already-initialized database before running DDL"
      },
      {
        "line": 914,
        "token": "environment",
        "context": "- **Fix #1** (sqlite_vec.py:291-326): Parse `busy_timeout` from `MCP_MEMORY_SQLITE_PRAGMAS` environment variable BEFORE opening connection"
      },
      {
        "line": 915,
        "token": "milliseconds",
        "context": "- Convert from milliseconds to seconds (15000ms â†’ 15.0s)"
      },
      {
        "line": 916,
        "token": "timeout",
        "context": "- Pass timeout to `sqlite3.connect(path, timeout=15.0)` for immediate effect"
      },
      {
        "line": 917,
        "token": "server",
        "context": "- Allows MCP server to wait up to 15 seconds for HTTP server's DDL operations"
      },
      {
        "line": 918,
        "token": "database",
        "context": "- **Fix #2** (sqlite_vec.py:355-373): Detect already-initialized database and skip DDL operations"
      },
      {
        "line": 919,
        "token": "memories",
        "context": "- Check if `memories` and `memory_embeddings` tables exist after loading sqlite-vec extension"
      },
      {
        "line": 920,
        "token": "tables",
        "context": "- If tables exist, just load embedding model and mark as initialized"
      },
      {
        "line": 921,
        "token": "database",
        "context": "- Prevents \"database is locked\" errors from concurrent CREATE TABLE/INDEX attempts"
      },
      {
        "line": 922,
        "token": "HTTP",
        "context": "- **Result**: MCP and HTTP servers now coexist without conflicts, maintaining pre-v8.9.0 concurrent access behavior"
      },
      {
        "line": 925,
        "token": "discovered",
        "context": "- **Timeline**: Bug discovered during memory consolidation testing, fixed same day"
      },
      {
        "line": 926,
        "token": "introduced",
        "context": "- **Affected Versions**: v8.9.0 introduced database lock prevention pragmas but didn't fix concurrent initialization"
      },
      {
        "line": 927,
        "token": "health",
        "context": "- **Test Validation**: MCP health check returns healthy with 1857 memories while HTTP server running"
      },
      {
        "line": 928,
        "token": "already",
        "context": "- **Log Evidence**: \"Database already initialized by another process, skipping DDL operations\" confirms fix working"
      },
      {
        "line": 933,
        "token": "HTTP",
        "context": "- **HTTP Server Integration Tests** (#190): Comprehensive test suite with 32 tests prevents production bugs like v8.12.0"
      },
      {
        "line": 934,
        "token": "tests",
        "context": "- `tests/integration/test_http_server_startup.py`: 8 tests for server startup validation"
      },
      {
        "line": 935,
        "token": "tests",
        "context": "- `tests/unit/test_fastapi_dependencies.py`: 11 tests for dependency injection"
      },
      {
        "line": 936,
        "token": "tests",
        "context": "- `tests/unit/test_storage_interface_compatibility.py`: 13 tests for backend interface consistency"
      },
      {
        "line": 937,
        "token": "HTTP",
        "context": "- Extended `tests/integration/test_api_with_memory_service.py`: +11 HTTP API tests with TestClient"
      },
      {
        "line": 938,
        "token": "would",
        "context": "- Tests would have caught all 3 v8.12.0 production bugs (import-time evaluation, syntax errors, interface mismatches)"
      },
      {
        "line": 940,
        "token": "database",
        "context": "- **Storage Method: get_largest_memories()** (#186): Efficient database queries for largest memories by content length"
      },
      {
        "line": 941,
        "token": "all",
        "context": "- Added to all storage backends (SQLite, Cloudflare, Hybrid)"
      },
      {
        "line": 942,
        "token": "content",
        "context": "- Uses `ORDER BY LENGTH(content) DESC LIMIT n` instead of loading 1000 memories and sorting in Python"
      },
      {
        "line": 943,
        "token": "dashboard",
        "context": "- Analytics dashboard now queries entire dataset for truly largest memories"
      },
      {
        "line": 946,
        "token": "heatmap",
        "context": "- **Analytics Dashboard Timezone Bug** (#186): Fixed heatmap calendar showing wrong day-of-week near timezone boundaries"
      },
      {
        "line": 947,
        "token": "new",
        "context": "- JavaScript `new Date('YYYY-MM-DD')` parsed as UTC midnight, but `getDay()` used local timezone"
      },
      {
        "line": 948,
        "token": "parse",
        "context": "- Changed to parse date components in local timezone: `new Date(year, month-1, day)`"
      },
      {
        "line": 949,
        "token": "calendar",
        "context": "- Prevents calendar cells from shifting to previous/next day for users in UTC-12 to UTC+12 timezones"
      },
      {
        "line": 952,
        "token": "memory",
        "context": "- **Analytics Performance**: Reduced memory sample for average size calculation from 1000â†’100 memories"
      },
      {
        "line": 953,
        "token": "HTTP",
        "context": "- **Test Coverage**: Zero HTTP integration tests â†’ 32 comprehensive tests covering server startup, dependencies, and API endpoints"
      },
      {
        "line": 956,
        "token": "comprehensive",
        "context": "- **MCP Schema Caching** (#173): Closed with comprehensive documentation in CLAUDE.md and troubleshooting guides"
      },
      {
        "line": 957,
        "token": "cause",
        "context": "- Root cause: MCP protocol caches tool schemas client-side"
      },
      {
        "line": 958,
        "token": "mcp",
        "context": "- Workaround: `/mcp` command reconnects server with fresh schema"
      },
      {
        "line": 959,
        "token": "symptoms",
        "context": "- Documented symptoms, diagnosis, and resolution steps"
      },
      {
        "line": 964,
        "token": "default",
        "context": "- **Critical Production Bug #1** (ef2c64d): Import-time default parameter evaluation in `get_memory_service()`"
      },
      {
        "line": 965,
        "token": "not",
        "context": "- **Error**: `HTTPException: 503: Storage not initialized` during module import"
      },
      {
        "line": 966,
        "token": "evaluates",
        "context": "- **Root Cause**: Python evaluates default parameters at function definition time, not call time"
      },
      {
        "line": 967,
        "token": "HTTP",
        "context": "- **Impact**: HTTP server couldn't start - module import failed immediately"
      },
      {
        "line": 968,
        "token": "storage",
        "context": "- **Fix**: Changed from `storage: MemoryStorage = get_storage()` to `storage: MemoryStorage = Depends(get_storage)`"
      },
      {
        "line": 969,
        "token": "defers",
        "context": "- **Technical**: FastAPI's `Depends()` defers evaluation until request time and integrates with dependency injection"
      },
      {
        "line": 971,
        "token": "de4d2",
        "context": "- **Critical Production Bug #2** (77de4d2): Syntax error + missing FastAPI Depends import in `memories.py`"
      },
      {
        "line": 972,
        "token": "expected",
        "context": "- **Error**: `SyntaxError: expected an indented block after 'if' statement on line 152`"
      },
      {
        "line": 973,
        "token": "had",
        "context": "- **Root Cause**: `if INCLUDE_HOSTNAME:` had no indented body, nested if-elif-else block not indented"
      },
      {
        "line": 974,
        "token": "prevented",
        "context": "- **Impact**: SyntaxError prevented module import + FastAPI validation failure"
      },
      {
        "line": 975,
        "token": "indented",
        "context": "- **Fix**: Properly indented hostname resolution logic, added missing `Depends` import to dependencies.py"
      },
      {
        "line": 977,
        "token": "tags",
        "context": "- **Critical Production Bug #3** (f935c56): Missing `tags` parameter in `count_all_memories()` across all storage backends"
      },
      {
        "line": 978,
        "token": "got",
        "context": "- **Error**: `TypeError: count_all_memories() got an unexpected keyword argument 'tags'`"
      },
      {
        "line": 979,
        "token": "failed",
        "context": "- **User Report**: \"failed to load dashboard data\""
      },
      {
        "line": 980,
        "token": "called",
        "context": "- **Root Cause**: MemoryService called `count_all_memories(memory_type=type, tags=tags)` but base class and implementations didn't accept tags parameter"
      },
      {
        "line": 981,
        "token": "completely",
        "context": "- **Impact**: Dashboard completely broken - GET /api/memories returned 500 errors"
      },
      {
        "line": 982,
        "token": "files",
        "context": "- **Fix**: Updated 4 files (base.py, hybrid.py, sqlite_vec.py, cloudflare.py) to add tags parameter with SQL LIKE filtering"
      },
      {
        "line": 983,
        "token": "accepts",
        "context": "- **Why Tests Missed It**: AsyncMock accepts ANY parameters, never tested real storage backend implementations"
      },
      {
        "line": 985,
        "token": "beeb07",
        "context": "- **Analytics Metrics Bug** (8beeb07): Analytics tab showed different metrics than Dashboard tab"
      },
      {
        "line": 986,
        "token": "queried",
        "context": "- **Problem**: Dashboard queried ALL memories, Analytics sampled only 1000 recent memories"
      },
      {
        "line": 987,
        "token": "count",
        "context": "- **Impact**: \"This Week\" count was inaccurate when total memories > 1000"
      },
      {
        "line": 988,
        "token": "endpoint",
        "context": "- **Fix**: Changed Analytics endpoint to use `storage.get_stats()` instead of sampling"
      },
      {
        "line": 989,
        "token": "memory",
        "context": "- **Performance**: Eliminated O(n) memory loading for simple count operation, now uses efficient SQL COUNT"
      },
      {
        "line": 992,
        "token": "monthly",
        "context": "- **Analytics Endpoint Performance** - Increased monthly sample from 2,000 to 5,000 memories"
      },
      {
        "line": 993,
        "token": "comments",
        "context": "- **Code Quality** - Added TODO comments for moving monthly calculations to storage layer"
      },
      {
        "line": 996,
        "token": "bugs",
        "context": "- **Timeline**: All 4 bugs discovered and fixed within 4 hours of v8.12.0 release (15:03 UTC â†’ 22:03 UTC)"
      },
      {
        "line": 997,
        "token": "HTTP",
        "context": "- **Post-Mortem**: Created Issue #190 for HTTP server integration tests to prevent future production bugs"
      },
      {
        "line": 998,
        "token": "had",
        "context": "- **Test Coverage Gap**: v8.12.0 had 55 tests but zero HTTP server integration tests"
      },
      {
        "line": 999,
        "token": "used",
        "context": "- **Lesson Learned**: Tests used mocked storage that never actually started the server or tested real FastAPI dependency injection"
      },
      {
        "line": 1001,
        "token": "patch",
        "context": "**Note**: This patch release resolves all production issues from v8.12.0 architectural changes. Comprehensive analysis stored in memory with tag `v8.12.0,post-r"
      },
      {
        "line": 1006,
        "token": "business",
        "context": "- **MemoryService Architecture** - Centralized business logic layer (Issue #188, PR #189)"
      },
      {
        "line": 1007,
        "token": "source",
        "context": "- Single source of truth for all memory operations"
      },
      {
        "line": 1008,
        "token": "behavior",
        "context": "- Consistent behavior across API endpoints and MCP tools"
      },
      {
        "line": 1009,
        "token": "code",
        "context": "- 80% code duplication reduction between API and MCP servers"
      },
      {
        "line": 1010,
        "token": "injection",
        "context": "- Dependency injection pattern for clean architecture"
      },
      {
        "line": 1012,
        "token": "unit",
        "context": "- 34 unit tests (100% pass rate)"
      },
      {
        "line": 1013,
        "token": "integration",
        "context": "- 21 integration tests for API layer"
      },
      {
        "line": 1014,
        "token": "workflow",
        "context": "- End-to-end workflow tests with real storage"
      },
      {
        "line": 1015,
        "token": "validation",
        "context": "- Performance validation for database-level filtering"
      },
      {
        "line": 1018,
        "token": "missing",
        "context": "- **Critical Bug #1**: `split_content()` missing required `max_length` parameter"
      },
      {
        "line": 1019,
        "token": "crash",
        "context": "- Impact: Would crash immediately on any content chunking operation"
      },
      {
        "line": 1020,
        "token": "proper",
        "context": "- Fix: Added proper parameter passing with storage backend max_length"
      },
      {
        "line": 1021,
        "token": "method",
        "context": "- **Critical Bug #2**: `storage.delete_memory()` method does not exist in base class"
      },
      {
        "line": 1022,
        "token": "functionality",
        "context": "- Impact: Delete functionality completely broken"
      },
      {
        "line": 1023,
        "token": "use",
        "context": "- Fix: Changed to use `storage.delete(content_hash)` from base class"
      },
      {
        "line": 1024,
        "token": "method",
        "context": "- **Critical Bug #3**: `storage.get_memory()` method does not exist in base class"
      },
      {
        "line": 1025,
        "token": "hash",
        "context": "- Impact: Get by hash functionality completely broken"
      },
      {
        "line": 1026,
        "token": "using",
        "context": "- Fix: Implemented using `get_all_memories()` with client-side filtering"
      },
      {
        "line": 1027,
        "token": "method",
        "context": "- **Critical Bug #4**: `storage.health_check()` method does not exist in base class"
      },
      {
        "line": 1028,
        "token": "check",
        "context": "- Impact: Health check functionality completely broken"
      },
      {
        "line": 1029,
        "token": "use",
        "context": "- Fix: Changed to use `storage.get_stats()` from base class"
      },
      {
        "line": 1030,
        "token": "method",
        "context": "- **Critical Bug #5**: `storage.search_by_tags()` method mismatch (plural vs singular)"
      },
      {
        "line": 1031,
        "token": "search",
        "context": "- Impact: Tag search functionality completely broken"
      },
      {
        "line": 1032,
        "token": "use",
        "context": "- Fix: Changed to use `storage.search_by_tag()` (singular) from base class"
      },
      {
        "line": 1033,
        "token": "chunking",
        "context": "- **Critical Bug #6**: Incorrect chunking logic comparing `len(content) > CONTENT_PRESERVE_BOUNDARIES`"
      },
      {
        "line": 1034,
        "token": "content",
        "context": "- Impact: ALL content >1 character would trigger chunking (CONTENT_PRESERVE_BOUNDARIES is boolean `True`)"
      },
      {
        "line": 1035,
        "token": "comparison",
        "context": "- Fix: Proper comparison using `storage.max_content_length` numeric value"
      },
      {
        "line": 1036,
        "token": "store",
        "context": "- **Critical Bug #7**: Missing `store()` return value handling"
      },
      {
        "line": 1037,
        "token": "not",
        "context": "- Impact: Success/failure not properly tracked"
      },
      {
        "line": 1038,
        "token": "unpacking",
        "context": "- Fix: Proper unpacking of `(success, message)` tuple from storage operations"
      },
      {
        "line": 1041,
        "token": "use",
        "context": "- **API Endpoints** - Refactored to use MemoryService dependency injection"
      },
      {
        "line": 1042,
        "token": "list",
        "context": "- `/api/memories` (list, create) uses MemoryService"
      },
      {
        "line": 1043,
        "token": "endpoints",
        "context": "- `/api/search` endpoints use MemoryService"
      },
      {
        "line": 1044,
        "token": "response",
        "context": "- Consistent response formatting via service layer"
      },
      {
        "line": 1045,
        "token": "lines",
        "context": "- **Code Maintainability** - Removed 356 lines of duplicated code"
      },
      {
        "line": 1046,
        "token": "place",
        "context": "- Single place to modify business logic"
      },
      {
        "line": 1047,
        "token": "error",
        "context": "- Unified error handling"
      },
      {
        "line": 1048,
        "token": "hostname",
        "context": "- Consistent hostname tagging logic"
      },
      {
        "line": 1049,
        "token": "filtering",
        "context": "- **Performance** - Database-level filtering prevents O(n) memory loading"
      },
      {
        "line": 1050,
        "token": "pagination",
        "context": "- Scalable pagination with offset/limit at storage layer"
      },
      {
        "line": 1051,
        "token": "tag",
        "context": "- Efficient tag and type filtering"
      },
      {
        "line": 1054,
        "token": "files",
        "context": "- **Files Modified**: 6 files, 1469 additions, 356 deletions"
      },
      {
        "line": 1055,
        "token": "new",
        "context": "- **Test Coverage**: 55 new tests (34 unit + 21 integration)"
      },
      {
        "line": 1056,
        "token": "testing",
        "context": "- **Bug Discovery**: Comprehensive testing revealed 7 critical bugs that would have made the release non-functional"
      },
      {
        "line": 1057,
        "token": "debugging",
        "context": "- **Quality Process**: Test-driven debugging approach prevented broken release"
      },
      {
        "line": 1059,
        "token": "release",
        "context": "**Note**: This release demonstrates the critical importance of comprehensive testing before merging architectural changes. All 7 bugs were caught through system"
      },
      {
        "line": 1064,
        "token": "JSON",
        "context": "- **JSON Document Loader** - Complete implementation of JSON file ingestion (Issue #181, PR #187)"
      },
      {
        "line": 1065,
        "token": "nested",
        "context": "- **Nested Structure Flattening**: Converts nested JSON to searchable text with dot notation or bracket notation"
      },
      {
        "line": 1066,
        "token": "flattening",
        "context": "- **Configurable Strategies**: Choose flattening style, max depth, type inclusion"
      },
      {
        "line": 1067,
        "token": "modes",
        "context": "- **Array Handling**: Multiple modes (expand, summarize, flatten) for different use cases"
      },
      {
        "line": 1068,
        "token": "unit",
        "context": "- **Comprehensive Tests**: 15 unit tests covering all functionality"
      },
      {
        "line": 1069,
        "token": "base",
        "context": "- **Use Cases**: Knowledge base exports, API documentation, config files, structured metadata"
      },
      {
        "line": 1071,
        "token": "CSV",
        "context": "- **CSV Document Loader** - Complete implementation of CSV file ingestion (Issue #181, PR #187)"
      },
      {
        "line": 1072,
        "token": "detects",
        "context": "- **Auto-Detection**: Automatically detects delimiters (comma, semicolon, tab, pipe) and headers"
      },
      {
        "line": 1073,
        "token": "tabular",
        "context": "- **Row-Based Formatting**: Converts tabular data to searchable text with column context"
      },
      {
        "line": 1075,
        "token": "chunking",
        "context": "- **Large File Handling**: Efficient row-based chunking for scalability"
      },
      {
        "line": 1076,
        "token": "unit",
        "context": "- **Comprehensive Tests**: 14 unit tests covering all functionality"
      },
      {
        "line": 1077,
        "token": "dictionaries",
        "context": "- **Use Cases**: Data dictionaries, reference tables, tabular documentation, log analysis"
      },
      {
        "line": 1080,
        "token": "issue",
        "context": "- **False Advertising** - Resolved issue where JSON and CSV were listed in `SUPPORTED_FORMATS` but had no loader implementations"
      },
      {
        "line": 1081,
        "token": "behavior",
        "context": "- Previous behavior: Upload would fail with \"No loader available\" error"
      },
      {
        "line": 1082,
        "token": "behavior",
        "context": "- New behavior: Full functional support with proper chunking and metadata"
      },
      {
        "line": 1085,
        "token": "register",
        "context": "- **Ingestion Module** - Updated to register new JSON and CSV loaders"
      },
      {
        "line": 1086,
        "token": "new",
        "context": "- **Test Coverage** - Added 29 new unit tests (15 JSON + 14 CSV)"
      },
      {
        "line": 1092,
        "token": "pie",
        "context": "- Memory Types Breakdown (pie chart)"
      },
      {
        "line": 1093,
        "token": "calendar",
        "context": "- Activity Heatmap (GitHub-style calendar with 90d/6mo/1yr periods)"
      },
      {
        "line": 1094,
        "token": "usage",
        "context": "- Top Tags Report (usage trends, co-occurrence patterns)"
      },
      {
        "line": 1095,
        "token": "breakdowns",
        "context": "- Recent Activity Report (hourly/daily/weekly breakdowns)"
      },
      {
        "line": 1096,
        "token": "largest",
        "context": "- Storage Report (largest memories, efficiency metrics)"
      },
      {
        "line": 1097,
        "token": "current",
        "context": "- Streak Tracking (current and longest consecutive days)"
      },
      {
        "line": 1100,
        "token": "current",
        "context": "- **Activity Streak Calculation** - Fixed current streak to include today check"
      },
      {
        "line": 1101,
        "token": "date",
        "context": "- **Total Days Calculation** - Corrected date span vs active days count"
      },
      {
        "line": 1105,
        "token": "new",
        "context": "- **Analytics API** - Added 5 new endpoints with Pydantic models"
      },
      {
        "line": 1106,
        "token": "wiki",
        "context": "- **Dashboard Documentation** - Updated wiki with complete analytics features"
      },
      {
        "line": 1111,
        "token": "database",
        "context": "- **Database Lock Prevention** - Resolved \"database is locked\" errors during concurrent HTTP + MCP server access (Issue discovered during performance troublesho"
      },
      {
        "line": 1112,
        "token": "too",
        "context": "- **Root Cause**: Default `busy_timeout=5000ms` too short for concurrent writes from multiple MCP clients"
      },
      {
        "line": 1113,
        "token": "recommended",
        "context": "- **Solution**: Applied recommended SQLite pragmas (`busy_timeout=15000,cache_size=20000`)"
      },
      {
        "line": 1114,
        "token": "enabled",
        "context": "- **WAL Mode**: Already enabled by default, now properly configured for multi-client access"
      },
      {
        "line": 1115,
        "token": "database",
        "context": "- **Impact**: Zero database locks during testing with 5 concurrent write operations"
      },
      {
        "line": 1116,
        "token": "architecture",
        "context": "- **Documentation**: Updated multi-client architecture docs with pragma recommendations"
      },
      {
        "line": 1119,
        "token": "hybrid",
        "context": "- **Hybrid Backend Installer Support** - Full hybrid backend support in simplified installer (`scripts/installation/install.py`)"
      },
      {
        "line": 1120,
        "token": "now",
        "context": "- **Interactive Selection**: Hybrid now option 4 (recommended default) in installer menu"
      },
      {
        "line": 1121,
        "token": "pragmas",
        "context": "- **Automatic Configuration**: SQLite pragmas set automatically for sqlite_vec and hybrid backends"
      },
      {
        "line": 1122,
        "token": "credential",
        "context": "- **Cloudflare Setup**: Interactive credential configuration with connection testing"
      },
      {
        "line": 1123,
        "token": "back",
        "context": "- **Graceful Fallback**: Falls back to sqlite_vec if Cloudflare setup cancelled or fails"
      },
      {
        "line": 1124,
        "token": "backend",
        "context": "- **Claude Desktop Integration**: Hybrid backend configuration includes:"
      },
      {
        "line": 1125,
        "token": "pragmas",
        "context": "- SQLite pragmas for concurrent access (`MCP_MEMORY_SQLITE_PRAGMAS`)"
      },
      {
        "line": 1126,
        "token": "credentials",
        "context": "- Cloudflare credentials for background sync"
      },
      {
        "line": 1127,
        "token": "environment",
        "context": "- Proper environment variable propagation"
      },
      {
        "line": 1129,
        "token": "local",
        "context": "- 5ms local reads (SQLite-vec)"
      },
      {
        "line": 1130,
        "token": "latency",
        "context": "- Zero user-facing latency (background Cloudflare sync)"
      },
      {
        "line": 1131,
        "token": "synchronization",
        "context": "- Multi-device synchronization"
      },
      {
        "line": 1132,
        "token": "access",
        "context": "- Concurrent access support"
      },
      {
        "line": 1135,
        "token": "backend",
        "context": "- **Installer Defaults** - Hybrid backend now recommended for production use"
      },
      {
        "line": 1136,
        "token": "argparse",
        "context": "- Updated argparse choices to include `hybrid` option"
      },
      {
        "line": 1137,
        "token": "default",
        "context": "- Changed default selection from sqlite_vec to hybrid (option 4)"
      },
      {
        "line": 1138,
        "token": "compatibility",
        "context": "- Enhanced compatibility detection with \"recommended\" status for hybrid"
      },
      {
        "line": 1139,
        "token": "final",
        "context": "- Improved final installation messages with backend-specific guidance"
      },
      {
        "line": 1140,
        "token": "credentials",
        "context": "- **Environment Management** - Cloudflare credentials now set in current environment immediately"
      },
      {
        "line": 1141,
        "token": "sets",
        "context": "- `save_credentials_to_env()` sets both .env file AND os.environ"
      },
      {
        "line": 1142,
        "token": "credentials",
        "context": "- Ensures credentials available for Claude Desktop config generation"
      },
      {
        "line": 1143,
        "token": "variable",
        "context": "- Proper variable propagation for hybrid and cloudflare backends"
      },
      {
        "line": 1144,
        "token": "handle",
        "context": "- **Path Configuration** - Updated `configure_paths()` to handle all backends"
      },
      {
        "line": 1145,
        "token": "database",
        "context": "- SQLite database paths for: `sqlite_vec`, `hybrid`, `cloudflare`"
      },
      {
        "line": 1146,
        "token": "credentials",
        "context": "- Cloudflare credentials included when backend requires them"
      },
      {
        "line": 1147,
        "token": "compatible",
        "context": "- Backward compatible with existing installations"
      },
      {
        "line": 1151,
        "token": "compatibility",
        "context": "- `scripts/installation/install.py`: Lines 655-659 (compatibility), 758 (menu), 784-802 (selection), 970-1017 (hybrid install), 1123-1133 (env config), 1304 (pa"
      },
      {
        "line": 1152,
        "token": "version",
        "context": "- `src/mcp_memory_service/__init__.py`: Line 50 (version bump)"
      },
      {
        "line": 1153,
        "token": "version",
        "context": "- `pyproject.toml`: Line 7 (version bump)"
      },
      {
        "line": 1154,
        "token": "simultaneous",
        "context": "- **Concurrent Access Testing**: 5/5 simultaneous writes succeeded without locks"
      },
      {
        "line": 1155,
        "token": "HTTP",
        "context": "- **HTTP Server Logs**: Confirmed background Cloudflare sync working (line 369: \"Successfully stored memory\")"
      },
      {
        "line": 1160,
        "token": "bloated",
        "context": "- **Document Upload Tag Validation** - Prevents bloated tags from space-separated file paths (Issue #174, PR #179)"
      },
      {
        "line": 1161,
        "token": "tags",
        "context": "- **Enhanced Tag Parsing**: Split tags by comma OR space instead of comma only"
      },
      {
        "line": 1162,
        "token": "file",
        "context": "- **Robust file:// URI Handling**: Uses `urllib.parse` for proper URL decoding and path handling"
      },
      {
        "line": 1163,
        "token": "characters",
        "context": "- Handles URL-encoded characters (e.g., `%20` for spaces)"
      },
      {
        "line": 1164,
        "token": "different",
        "context": "- Handles different path formats (e.g., `file:///C:/...`)"
      },
      {
        "line": 1165,
        "token": "handles",
        "context": "- Properly handles Windows paths with leading slash from urlparse"
      },
      {
        "line": 1166,
        "token": "file",
        "context": "- **File Path Sanitization**: Remove `file://` prefixes, extract filenames only, clean path separators"
      },
      {
        "line": 1167,
        "token": "exceeding",
        "context": "- **Explicit Tag Length Validation**: Tags exceeding 100 chars now raise explicit HTTPException instead of being silently dropped"
      },
      {
        "line": 1170,
        "token": "enhancement",
        "context": "- **Processing Mode Toggle** - UI enhancement for multiple file uploads (PR #179)"
      },
      {
        "line": 1171,
        "token": "files",
        "context": "- **Batch Processing**: All files processed together (faster, default)"
      },
      {
        "line": 1172,
        "token": "file",
        "context": "- **Individual Processing**: Each file processed separately with better error isolation"
      },
      {
        "line": 1173,
        "token": "only",
        "context": "- Toggle only appears when multiple files are selected"
      },
      {
        "line": 1174,
        "token": "help",
        "context": "- Comprehensive help section explaining both modes with pros/cons"
      },
      {
        "line": 1177,
        "token": "code",
        "context": "- **Code Quality Improvements** - Eliminated code duplication in document upload endpoints (PR #179)"
      },
      {
        "line": 1178,
        "token": "helper",
        "context": "- Extracted `parse_and_validate_tags()` helper function to eliminate duplicate tag parsing logic"
      },
      {
        "line": 1179,
        "token": "lines",
        "context": "- Removed 44 lines of duplicate code from `upload_document` and `batch_upload_documents`"
      },
      {
        "line": 1180,
        "token": "magic",
        "context": "- Extracted magic number (500ms upload delay) to static constant `INDIVIDUAL_UPLOAD_DELAY`"
      },
      {
        "line": 1181,
        "token": "toggle",
        "context": "- Simplified toggle display logic with ternary operator"
      },
      {
        "line": 1182,
        "token": "remaining",
        "context": "- Created Issue #180 for remaining medium-priority code quality suggestions"
      },
      {
        "line": 1187,
        "token": "robustness",
        "context": "- **Error Handling Improvements** - Enhanced robustness in MemoryService and maintenance scripts (Issue #177)"
      },
      {
        "line": 1188,
        "token": "specific",
        "context": "- **MemoryService.store_memory()**: Added specific exception handling for better error classification"
      },
      {
        "line": 1189,
        "token": "validation",
        "context": "- `ValueError` â†’ validation errors with \"Validation error\" messages"
      },
      {
        "line": 1190,
        "token": "storage",
        "context": "- `httpx.NetworkError/TimeoutException/HTTPStatusError` â†’ storage errors with \"Storage error\" messages"
      },
      {
        "line": 1191,
        "token": "unexpected",
        "context": "- Generic `Exception` â†’ unexpected errors with full logging and \"unexpected error\" messages"
      },
      {
        "line": 1192,
        "token": "proper",
        "context": "- **Maintenance Scripts**: Added proper error handling to prevent crashes"
      },
      {
        "line": 1193,
        "token": "graceful",
        "context": "- `find_cloudflare_duplicates.py`: Wrapped `get_all_memories_bulk()` in try/except, graceful handling of empty results"
      },
      {
        "line": 1194,
        "token": "used",
        "context": "- `delete_orphaned_vectors_fixed.py`: Already used public API (no changes needed)"
      },
      {
        "line": 1197,
        "token": "public",
        "context": "- **Encapsulation Methods** - New public APIs for Cloudflare storage operations (Issue #177)"
      },
      {
        "line": 1198,
        "token": "vector",
        "context": "- `CloudflareStorage.delete_vectors_by_ids()` - Batch vector deletion with proper error handling"
      },
      {
        "line": 1199,
        "token": "bulk",
        "context": "- `CloudflareStorage.get_all_memories_bulk()` - Efficient bulk loading without N+1 tag queries"
      },
      {
        "line": 1200,
        "token": "converting",
        "context": "- `CloudflareStorage._row_to_memory()` - Helper for converting D1 rows to Memory objects"
      },
      {
        "line": 1201,
        "token": "operations",
        "context": "- **Performance**: Bulk operations avoid expensive individual tag lookups"
      },
      {
        "line": 1202,
        "token": "instead",
        "context": "- **Maintainability**: Public APIs instead of direct access to private `_retry_request` method"
      },
      {
        "line": 1205,
        "token": "conditional",
        "context": "- **Dependency Management** - Added conditional typing-extensions for Python 3.10 (Issue #177)"
      },
      {
        "line": 1207,
        "token": "import",
        "context": "- Ensures `NotRequired` import works correctly on Python 3.10"
      },
      {
        "line": 1208,
        "token": "impact",
        "context": "- No impact on Python 3.11+ installations"
      },
      {
        "line": 1211,
        "token": "pull",
        "context": "- **Gemini Code Assist**: \"This pull request significantly improves the codebase by enhancing error handling and improving encapsulation... well-executed and co"
      },
      {
        "line": 1212,
        "token": "review",
        "context": "- **Feedback Addressed**: All review suggestions implemented, including enhanced exception handling"
      },
      {
        "line": 1217,
        "token": "code",
        "context": "- **DRY Refactoring** - Eliminated code duplication between MCP and HTTP servers (PR #176, Issue #172)"
      },
      {
        "line": 1218,
        "token": "HTTP",
        "context": "- **Problem**: MCP (`mcp_server.py`) and HTTP (`server.py`) servers had 364 lines of duplicated business logic"
      },
      {
        "line": 1219,
        "token": "fixes",
        "context": "- Bug fixes applied to one server were missed in the other (e.g., PR #162 tags validation)"
      },
      {
        "line": 1220,
        "token": "burden",
        "context": "- Maintenance burden of keeping two implementations synchronized"
      },
      {
        "line": 1221,
        "token": "behavioral",
        "context": "- Risk of behavioral inconsistencies between protocols"
      },
      {
        "line": 1223,
        "token": "class",
        "context": "- Created `MemoryService` class (442 lines) as single source of truth for business logic"
      },
      {
        "line": 1224,
        "token": "thin",
        "context": "- Refactored `mcp_server.py` to thin adapter (-338 lines, now ~50 lines per method)"
      },
      {
        "line": 1225,
        "token": "use",
        "context": "- Refactored `server.py` to use MemoryService (169 lines modified)"
      },
      {
        "line": 1226,
        "token": "servers",
        "context": "- Both servers now delegate to shared business logic"
      },
      {
        "line": 1228,
        "token": "source",
        "context": "- **Single source of truth**: All memory operations (store, retrieve, search, delete) in one place"
      },
      {
        "line": 1229,
        "token": "behavior",
        "context": "- **Consistent behavior**: Both protocols guaranteed identical business logic"
      },
      {
        "line": 1230,
        "token": "maintenance",
        "context": "- **Easier maintenance**: Bug fixes automatically apply to both servers"
      },
      {
        "line": 1231,
        "token": "testability",
        "context": "- **Better testability**: Business logic isolated and independently testable"
      },
      {
        "line": 1232,
        "token": "future",
        "context": "- **Prevents future bugs**: Impossible to fix one server and forget the other"
      },
      {
        "line": 1233,
        "token": "classes",
        "context": "- **Type Safety**: Added TypedDict classes (`MemoryResult`, `OperationResult`, `HealthStats`) for better type annotations"
      },
      {
        "line": 1234,
        "token": "changes",
        "context": "- **Backward Compatibility**: No API changes, both servers remain fully compatible"
      },
      {
        "line": 1235,
        "token": "tests",
        "context": "- **Testing**: All tests passing (15/15 Cloudflare storage tests)"
      },
      {
        "line": 1236,
        "token": "significant",
        "context": "- **Review**: Gemini Code Assist: \"significant and valuable refactoring... greatly improves maintainability and consistency\""
      },
      {
        "line": 1237,
        "token": "improvements",
        "context": "- **Follow-up**: Minor improvements tracked in Issue #177 (error handling, encapsulation)"
      },
      {
        "line": 1240,
        "token": "import",
        "context": "- **Python 3.10 Compatibility** - Added `NotRequired` import fallback (src/mcp_memory_service/mcp_server.py:23-26)"
      },
      {
        "line": 1242,
        "token": "back",
        "context": "- Falls back to `typing_extensions.NotRequired` on Python 3.10"
      },
      {
        "line": 1243,
        "token": "compatibility",
        "context": "- Ensures compatibility across Python versions"
      },
      {
        "line": 1246,
        "token": "cleanup",
        "context": "- **Maintenance Scripts** - Cloudflare cleanup utilities (from v8.7.1 work)"
      },
      {
        "line": 1247,
        "token": "duplicates",
        "context": "- `scripts/maintenance/find_cloudflare_duplicates.py` - Detect duplicates in Cloudflare D1"
      },
      {
        "line": 1248,
        "token": "orphaned",
        "context": "- `scripts/maintenance/delete_orphaned_vectors_fixed.py` - Clean orphaned Vectorize vectors"
      },
      {
        "line": 1249,
        "token": "cleanup",
        "context": "- `scripts/maintenance/fast_cleanup_duplicates_with_tracking.sh` - Platform-aware SQLite cleanup"
      },
      {
        "line": 1250,
        "token": "detection",
        "context": "- `scripts/maintenance/find_all_duplicates.py` - Platform detection (macOS/Linux paths)"
      },
      {
        "line": 1255,
        "token": "vector",
        "context": "- **Cloudflare Vectorize Deletion** - Fixed vector deletion endpoint bug (src/mcp_memory_service/storage/cloudflare.py:671)"
      },
      {
        "line": 1256,
        "token": "incorrect",
        "context": "- **Problem**: Used incorrect endpoint `/delete-by-ids` (hyphens) causing 404 Not Found errors, preventing vector deletion"
      },
      {
        "line": 1258,
        "token": "correct",
        "context": "- Changed to correct Cloudflare API endpoint `/delete_by_ids` (underscores)"
      },
      {
        "line": 1259,
        "token": "payload",
        "context": "- Fixed payload format from `[vector_id]` to `{\"ids\": [vector_id]}`"
      },
      {
        "line": 1260,
        "token": "working",
        "context": "- Created working cleanup script: `scripts/maintenance/delete_orphaned_vectors_fixed.py`"
      },
      {
        "line": 1261,
        "token": "obsolete",
        "context": "- Removed obsolete broken script: `scripts/maintenance/delete_orphaned_vectors.py`"
      },
      {
        "line": 1262,
        "token": "deleted",
        "context": "- **Impact**: Successfully deleted 646 orphaned vectors from Vectorize in 7 batches"
      },
      {
        "line": 1263,
        "token": "production",
        "context": "- **Testing**: Verified with production data (646 vectors, 100/batch, all mutations successful)"
      },
      {
        "line": 1264,
        "token": "via",
        "context": "- **Discovery**: Found via web research of official Cloudflare Vectorize API documentation"
      },
      {
        "line": 1269,
        "token": "similarity",
        "context": "- **Cosine Similarity Migration** - Fixed 0% similarity scores in search results (src/mcp_memory_service/storage/sqlite_vec.py:187)"
      },
      {
        "line": 1270,
        "token": "distance",
        "context": "- **Problem**: L2 distance metric gave 0% similarity for all searches due to score calculation `max(0, 1-distance)` returning 0 for distances >1.0"
      },
      {
        "line": 1272,
        "token": "embeddings",
        "context": "- Migrated embeddings table from L2 to cosine distance metric"
      },
      {
        "line": 1273,
        "token": "score",
        "context": "- Updated score calculation to `1.0 - (distance/2.0)` for cosine range [0,2]"
      },
      {
        "line": 1274,
        "token": "automatic",
        "context": "- Added automatic migration logic with database locking retry (exponential backoff)"
      },
      {
        "line": 1275,
        "token": "initialized",
        "context": "- Implemented `_initialized` flag to prevent multiple initialization"
      },
      {
        "line": 1276,
        "token": "metadata",
        "context": "- Created metadata table for storage configuration persistence"
      },
      {
        "line": 1277,
        "token": "scores",
        "context": "- **Performance**: Search scores improved from 0% to 70-79%, exact match accuracy 79.2% (was 61%)"
      },
      {
        "line": 1278,
        "token": "embeddings",
        "context": "- **Impact**: 2605 embeddings regenerated successfully"
      },
      {
        "line": 1280,
        "token": "search",
        "context": "- **Dashboard Search Improvements** - Enhanced search threshold handling (src/mcp_memory_service/web/static/app.js:283)"
      },
      {
        "line": 1281,
        "token": "search",
        "context": "- Fixed search threshold always being sent even when not explicitly set"
      },
      {
        "line": 1282,
        "token": "document",
        "context": "- Improved document filtering to properly handle memory object structure"
      },
      {
        "line": 1283,
        "token": "send",
        "context": "- Only send `similarity_threshold` parameter when user explicitly sets it"
      },
      {
        "line": 1284,
        "token": "handling",
        "context": "- Better handling of `memory.memory_type` and `memory.tags` for document results"
      },
      {
        "line": 1287,
        "token": "database",
        "context": "- **Maintenance Scripts** - Comprehensive database maintenance tooling (scripts/maintenance/)"
      },
      {
        "line": 1288,
        "token": "all",
        "context": "- **regenerate_embeddings.py** - Regenerate all embeddings after migrations (~5min for 2600 memories)"
      },
      {
        "line": 1289,
        "token": "faster",
        "context": "- **fast_cleanup_duplicates.sh** - 1800x faster duplicate removal using direct SQL (<5s for 100+ duplicates vs 2.5 hours via API)"
      },
      {
        "line": 1290,
        "token": "duplicate",
        "context": "- **find_all_duplicates.py** - Fast duplicate detection with timestamp normalization (<2s for 2000 memories)"
      },
      {
        "line": 1291,
        "token": "documentation",
        "context": "- **README.md** - Complete documentation with performance benchmarks, best practices, and troubleshooting"
      },
      {
        "line": 1294,
        "token": "embeddings",
        "context": "- **Migration Approach**: Drop-and-recreate embeddings table to change distance metric (vec0 limitation)"
      },
      {
        "line": 1295,
        "token": "backoff",
        "context": "- **Retry Logic**: Exponential backoff for database locking (1s â†’ 2s â†’ 4s delays)"
      },
      {
        "line": 1296,
        "token": "operations",
        "context": "- **Performance Benchmark**: Direct SQL vs API operations show 1800x speedup for bulk deletions"
      },
      {
        "line": 1297,
        "token": "normalization",
        "context": "- **Duplicate Detection**: Content normalization removes timestamps for semantic comparison using MD5 hashing"
      },
      {
        "line": 1302,
        "token": "document",
        "context": "- **Document Ingestion System** - Complete document upload and management through web UI (#147, #164)"
      },
      {
        "line": 1303,
        "token": "file",
        "context": "- **Single and Batch Upload**: Drag-and-drop or file browser support for PDF, TXT, MD, JSON documents"
      },
      {
        "line": 1304,
        "token": "document",
        "context": "- **Background Processing**: Async document processing with progress tracking and status updates"
      },
      {
        "line": 1305,
        "token": "tab",
        "context": "- **Document Management UI**: New Documents tab in web dashboard with full CRUD operations"
      },
      {
        "line": 1306,
        "token": "all",
        "context": "- **Upload History**: Track all document ingestion with status, chunk counts, and file sizes"
      },
      {
        "line": 1307,
        "token": "displaying",
        "context": "- **Document Viewer**: Modal displaying all memory chunks from uploaded documents (up to 1000 chunks)"
      },
      {
        "line": 1308,
        "token": "documents",
        "context": "- **Document Removal**: Delete documents and their associated memory chunks with confirmation"
      },
      {
        "line": 1309,
        "token": "search",
        "context": "- **Search Ingested Content**: Semantic search within uploaded documents to verify indexing"
      },
      {
        "line": 1310,
        "token": "document",
        "context": "- **Claude Commands**: `/memory-ingest` and `/memory-ingest-dir` for CLI document upload"
      },
      {
        "line": 1312,
        "token": "document",
        "context": "- `POST /api/documents/upload` - Single document upload"
      },
      {
        "line": 1313,
        "token": "document",
        "context": "- `POST /api/documents/batch-upload` - Multiple document upload"
      },
      {
        "line": 1314,
        "token": "history",
        "context": "- `GET /api/documents/history` - Upload history"
      },
      {
        "line": 1315,
        "token": "status",
        "context": "- `GET /api/documents/status/{upload_id}` - Upload status"
      },
      {
        "line": 1316,
        "token": "document",
        "context": "- `GET /api/documents/search-content/{upload_id}` - View document chunks"
      },
      {
        "line": 1317,
        "token": "document",
        "context": "- `DELETE /api/documents/remove/{upload_id}` - Remove document"
      },
      {
        "line": 1318,
        "token": "remove",
        "context": "- `DELETE /api/documents/remove-by-tags` - Bulk remove by tags"
      },
      {
        "line": 1320,
        "token": "lines",
        "context": "- `src/mcp_memory_service/web/api/documents.py` (779 lines) - Document API"
      },
      {
        "line": 1321,
        "token": "claude_commands/memory-ingest.md",
        "context": "- `claude_commands/memory-ingest.md` - Single document ingestion command"
      },
      {
        "line": 1322,
        "token": "claude_commands/memory-ingest-dir.md",
        "context": "- `claude_commands/memory-ingest-dir.md` - Directory ingestion command"
      },
      {
        "line": 1323,
        "token": "docs/development/dashboard-workflow.md",
        "context": "- `docs/development/dashboard-workflow.md` - Development workflow documentation"
      },
      {
        "line": 1325,
        "token": "guidance",
        "context": "- **Chunking Configuration Help** - Interactive UI guidance for document chunking parameters"
      },
      {
        "line": 1326,
        "token": "help",
        "context": "- Inline help panels with collapsible sections for chunk size and overlap settings"
      },
      {
        "line": 1327,
        "token": "diagram",
        "context": "- Visual diagram showing how overlap works between consecutive chunks"
      },
      {
        "line": 1328,
        "token": "recommendations",
        "context": "- Pre-configured recommendations (Default: 1000/200, Smaller: 500/100, Larger: 2000/400)"
      },
      {
        "line": 1329,
        "token": "guidelines",
        "context": "- Rule-of-thumb guidelines (15-25% overlap of chunk size)"
      },
      {
        "line": 1330,
        "token": "dark",
        "context": "- Full dark mode support for all help elements"
      },
      {
        "line": 1332,
        "token": "validation",
        "context": "- **Tag Length Validation** - Server-side validation to prevent data corruption (#174)"
      },
      {
        "line": 1333,
        "token": "tag",
        "context": "- Maximum tag length enforced at 100 characters"
      },
      {
        "line": 1334,
        "token": "both",
        "context": "- Validation on both single and batch upload endpoints"
      },
      {
        "line": 1335,
        "token": "error",
        "context": "- Clear error messages showing first invalid tag"
      },
      {
        "line": 1336,
        "token": "filtering",
        "context": "- Frontend filtering to hide malformed tags in display"
      },
      {
        "line": 1337,
        "token": "bloated",
        "context": "- Prevents bloated tags from accidental file path pasting"
      },
      {
        "line": 1340,
        "token": "critical",
        "context": "- **Security Vulnerabilities** - Multiple critical security fixes addressed"
      },
      {
        "line": 1341,
        "token": "traversal",
        "context": "- Path traversal vulnerability in file uploads (use `tempfile.NamedTemporaryFile()`)"
      },
      {
        "line": 1342,
        "token": "prevention",
        "context": "- XSS prevention in tag display and event handlers (escape all user-provided filenames)"
      },
      {
        "line": 1343,
        "token": "compliance",
        "context": "- CSP compliance by removing inline `onclick` handlers, using `addEventListener` instead"
      },
      {
        "line": 1344,
        "token": "input",
        "context": "- Proper input validation and sanitization throughout upload flow"
      },
      {
        "line": 1346,
        "token": "fixes",
        "context": "- **Document Viewer Critical Bugs** - Comprehensive fixes for document management"
      },
      {
        "line": 1347,
        "token": "chunks",
        "context": "- **Chunk Limit**: Increased from 10 to 1000 chunks (was only showing first 10 of 430 chunks)"
      },
      {
        "line": 1348,
        "token": "now",
        "context": "- **Upload Session Persistence**: Documents now viewable after server restart (session optional, uses `upload_id` tag search)"
      },
      {
        "line": 1349,
        "token": "filename",
        "context": "- **Filename Retrieval**: Get filename from memory metadata when session unavailable"
      },
      {
        "line": 1350,
        "token": "display",
        "context": "- **Batch File Size**: Calculate and display total file size for batch uploads (was showing 0.0 KB)"
      },
      {
        "line": 1351,
        "token": "duplicate",
        "context": "- **Multiple Confirmation Dialogs**: Fixed duplicate event listeners causing N dialogs for N uploads"
      },
      {
        "line": 1352,
        "token": "flag",
        "context": "- **Event Listener Deduplication**: Added `documentsListenersSetup` flag to prevent duplicate setup"
      },
      {
        "line": 1354,
        "token": "implementation",
        "context": "- **Storage Backend Enhancements** - `delete_by_tags` implementation for document deletion"
      },
      {
        "line": 1355,
        "token": "method",
        "context": "- Added `delete_by_tags()` method to `MemoryStorage` base class with error aggregation"
      },
      {
        "line": 1356,
        "token": "single",
        "context": "- Optimized `SqliteVecMemoryStorage.delete_by_tags()` with single SQL query using OR conditions"
      },
      {
        "line": 1357,
        "token": "sync",
        "context": "- Added `HybridMemoryStorage.delete_by_tags()` with sync queue support for cloud backends"
      },
      {
        "line": 1358,
        "token": "return",
        "context": "- Fixed return value handling (tuple unpacking instead of dict access)"
      },
      {
        "line": 1360,
        "token": "user",
        "context": "- **UI/UX Improvements** - Enhanced user experience across document management"
      },
      {
        "line": 1361,
        "token": "scrolling",
        "context": "- Added scrolling to Recent Memories section (max-height: 600px) to prevent infinite expansion"
      },
      {
        "line": 1362,
        "token": "chunk",
        "context": "- Document chunk modal now scrollable (max-height: 400px) for long content"
      },
      {
        "line": 1363,
        "token": "visibility",
        "context": "- Modal visibility fixed with proper `active` class pattern and CSS transitions"
      },
      {
        "line": 1364,
        "token": "mode",
        "context": "- Dark mode support for all document UI components (chunk items, modals, previews)"
      },
      {
        "line": 1365,
        "token": "handlers",
        "context": "- Event handlers for View/Remove buttons in document preview cards"
      },
      {
        "line": 1366,
        "token": "design",
        "context": "- Responsive design with mobile breakpoints (768px, 1024px)"
      },
      {
        "line": 1368,
        "token": "cleanup",
        "context": "- **Resource Management** - Proper cleanup and error handling"
      },
      {
        "line": 1369,
        "token": "file",
        "context": "- Temp file cleanup moved to `finally` blocks to prevent orphaned files"
      },
      {
        "line": 1370,
        "token": "extension",
        "context": "- File extension validation fixed (strip leading dot for consistent checking)"
      },
      {
        "line": 1371,
        "token": "cleanup",
        "context": "- Session cleanup timing bug fixed (use `total_seconds()` instead of `.seconds`)"
      },
      {
        "line": 1372,
        "token": "registration",
        "context": "- Loader registration order corrected (PDFLoader takes precedence as fallback)"
      },
      {
        "line": 1374,
        "token": "both",
        "context": "- **MCP Server Tag Format Support** - Accept both string and array formats"
      },
      {
        "line": 1375,
        "token": "tools",
        "context": "- MCP tools now accept `\"tag1,tag2\"` (string) and `[\"tag1\", \"tag2\"]` (array)"
      },
      {
        "line": 1376,
        "token": "tag",
        "context": "- Consistent tag handling between API and MCP endpoints"
      },
      {
        "line": 1377,
        "token": "validation",
        "context": "- Fixes validation errors from schema mismatches"
      },
      {
        "line": 1380,
        "token": "error",
        "context": "- **API Response Improvements** - Better error messages and status handling"
      },
      {
        "line": 1381,
        "token": "timestamp",
        "context": "- Float timestamp handling in document search (convert via `datetime.fromtimestamp()`)"
      },
      {
        "line": 1382,
        "token": "success",
        "context": "- Partial success handling for bulk operations with clear error reporting"
      },
      {
        "line": 1383,
        "token": "tracking",
        "context": "- Progress tracking for background tasks with status updates"
      },
      {
        "line": 1386,
        "token": "reviews",
        "context": "- **Testing**: 19 Gemini Code Assist reviews addressed with comprehensive fixes"
      },
      {
        "line": 1387,
        "token": "viewer",
        "context": "- **Performance**: Document viewer handles 430+ chunks efficiently"
      },
      {
        "line": 1388,
        "token": "temp",
        "context": "- **Compatibility**: Cross-platform temp file handling (Windows, macOS, Linux)"
      },
      {
        "line": 1389,
        "token": "dead",
        "context": "- **Code Quality**: Removed dead code, duplicate docstrings, and unused Pydantic models"
      },
      {
        "line": 1392,
        "token": "breaking",
        "context": "- No breaking changes - fully backward compatible"
      },
      {
        "line": 1393,
        "token": "installations",
        "context": "- Existing installations will automatically gain document ingestion capabilities"
      },
      {
        "line": 1394,
        "token": "validation",
        "context": "- Tag validation only affects new uploads (existing tags unchanged)"
      },
      {
        "line": 1399,
        "token": "improved",
        "context": "- **Memory Hooks: Expanded Git Keyword Extraction** - Dramatically improved memory retrieval by capturing more relevant technical terms from git commits"
      },
      {
        "line": 1400,
        "token": "keyword",
        "context": "- **Problem**: Limited keyword extraction (only 12 terms) missed important development context"
      },
      {
        "line": 1401,
        "token": "analyzer",
        "context": "- Git analyzer captured only generic terms: `fix, memory, chore, feat, refactor`"
      },
      {
        "line": 1402,
        "token": "work",
        "context": "- Recent work on timestamp parsing, dashboard, analytics not reflected in queries"
      },
      {
        "line": 1403,
        "token": "numbers",
        "context": "- Version numbers (v8.5.12, v8.5.13) not extracted"
      },
      {
        "line": 1404,
        "token": "hooks",
        "context": "- Memory hooks couldn't match against specific technical work"
      },
      {
        "line": 1405,
        "token": "keyword",
        "context": "- **Solution**: Expanded keyword extraction in `git-analyzer.js`"
      },
      {
        "line": 1406,
        "token": "terms",
        "context": "- **Technical Terms**: Increased from 12 to 38 terms including:"
      },
      {
        "line": 1407,
        "token": "timestamp",
        "context": "- Time/Date: `timestamp, parsing, sort, sorting, date, age`"
      },
      {
        "line": 1408,
        "token": "dashboard",
        "context": "- Dashboard: `dashboard, analytics, footer, layout, grid, css, stats, display`"
      },
      {
        "line": 1409,
        "token": "async",
        "context": "- Development: `async, sync, bugfix, release, version`"
      },
      {
        "line": 1410,
        "token": "embedding",
        "context": "- Features: `embedding, consolidation, memory, retrieval, scoring`"
      },
      {
        "line": 1411,
        "token": "api",
        "context": "- Infrastructure: `api, endpoint, server, http, mcp, client, protocol`"
      },
      {
        "line": 1412,
        "token": "regex",
        "context": "- **Version Extraction**: Added regex to capture version numbers (v8.5.12, v8.5.13, etc.)"
      },
      {
        "line": 1413,
        "token": "terms",
        "context": "- **Changelog Terms**: Expanded from 12 to 23 terms with same additions"
      },
      {
        "line": 1414,
        "token": "capacity",
        "context": "- **Keyword Limits**: Increased capacity"
      },
      {
        "line": 1415,
        "token": "keywords",
        "context": "- keywords: 15 â†’ 20 terms"
      },
      {
        "line": 1416,
        "token": "themes",
        "context": "- themes: 10 â†’ 12 entries"
      },
      {
        "line": 1417,
        "token": "entries",
        "context": "- filePatterns: 10 â†’ 12 entries"
      },
      {
        "line": 1419,
        "token": "generic",
        "context": "- **Before**: 5 generic terms â†’ limited semantic matching"
      },
      {
        "line": 1420,
        "token": "specific",
        "context": "- **After**: 20 specific development terms â†’ precise context retrieval"
      },
      {
        "line": 1421,
        "token": "feat",
        "context": "- Example: `feat, git, memory, retrieval, fix, timestamp, age, v8.5.8, chore, version, v8.5.13, sort, date, dashboard, analytics, stats, display, footer, layout"
      },
      {
        "line": 1422,
        "token": "hooks",
        "context": "- **Result**: Memory hooks now capture and retrieve memories about specific technical work (releases, features, bugfixes)"
      },
      {
        "line": 1424,
        "token": "function",
        "context": "- `claude-hooks/utilities/git-analyzer.js` - Expanded `extractDevelopmentKeywords()` function (commit 4a02c1a)"
      },
      {
        "line": 1425,
        "token": "improved",
        "context": "- **Testing**: Verified improved extraction with test run showing 20 relevant keywords vs previous 5 generic terms"
      },
      {
        "line": 1430,
        "token": "critical",
        "context": "- **Memory Hooks: Unix Timestamp Parsing in Date Sorting** - Fixed critical bug where memories were not sorting chronologically in Claude Code session start"
      },
      {
        "line": 1431,
        "token": "constructor",
        "context": "- **Root Cause**: JavaScript `Date()` constructor expects milliseconds but API returns Unix timestamps in seconds"
      },
      {
        "line": 1432,
        "token": "hooks",
        "context": "- **Impact**: Memory hooks showed old memories (Oct 11-21) before recent ones (Oct 23) despite `sortByCreationDate: true` configuration"
      },
      {
        "line": 1434,
        "token": "returns",
        "context": "- API returns `created_at` as Unix timestamp in seconds (e.g., 1729700000)"
      },
      {
        "line": 1435,
        "token": "new",
        "context": "- JavaScript `new Date(1729700000)` interprets this as milliseconds â†’ January 21, 1970"
      },
      {
        "line": 1436,
        "token": "dates",
        "context": "- All dates appeared as 1970-01-01, breaking chronological sort"
      },
      {
        "line": 1437,
        "token": "scores",
        "context": "- Relevance scores then determined order, causing old high-scoring memories to rank first"
      },
      {
        "line": 1439,
        "token": "helper",
        "context": "- Created `getTimestamp()` helper function in `session-start.js` (lines 907-928)"
      },
      {
        "line": 1440,
        "token": "seconds",
        "context": "- Converts `created_at` (seconds) to milliseconds by multiplying by 1000"
      },
      {
        "line": 1441,
        "token": "back",
        "context": "- Falls back to `created_at_iso` string parsing if available"
      },
      {
        "line": 1442,
        "token": "date",
        "context": "- Proper date comparison ensures newest memories sort first"
      },
      {
        "line": 1443,
        "token": "hooks",
        "context": "- **Result**: Memory hooks now correctly show most recent project memories at session start"
      },
      {
        "line": 1445,
        "token": "timestamp",
        "context": "- `claude-hooks/core/session-start.js` - Added Unix timestamp conversion helper (commit 71606e5)"
      },
      {
        "line": 1450,
        "token": "analytics",
        "context": "- **Dashboard: Analytics Stats Display** - Fixed analytics tab showing 0/N/A for key metrics"
      },
      {
        "line": 1451,
        "token": "mismatch",
        "context": "- **Root Cause**: Async/sync mismatch in `get_stats()` method implementations"
      },
      {
        "line": 1452,
        "token": "dashboard",
        "context": "- **Impact**: Analytics dashboard displayed only \"this week\" count; total memories, unique tags, and database size showed 0 or N/A"
      },
      {
        "line": 1454,
        "token": "async",
        "context": "- Made `SqliteVecMemoryStorage.get_stats()` async (line 1242)"
      },
      {
        "line": 1455,
        "token": "properly",
        "context": "- Updated `HybridMemoryStorage.get_stats()` to properly await primary storage call (line 878)"
      },
      {
        "line": 1456,
        "token": "hybrid",
        "context": "- Added `database_size_bytes` and `database_size_mb` to hybrid stats response"
      },
      {
        "line": 1457,
        "token": "all",
        "context": "- Fixed all callers in `health.py` and `mcp.py` to await `get_stats()`"
      },
      {
        "line": 1458,
        "token": "metrics",
        "context": "- **Result**: All metrics now display correctly (1778 memories, 2549 tags, 7.74MB)"
      },
      {
        "line": 1460,
        "token": "async",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` - Made get_stats() async"
      },
      {
        "line": 1461,
        "token": "await",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` - Added await and database size fields"
      },
      {
        "line": 1462,
        "token": "async",
        "context": "- `src/mcp_memory_service/web/api/health.py` - Simplified async handling"
      },
      {
        "line": 1463,
        "token": "await",
        "context": "- `src/mcp_memory_service/web/api/mcp.py` - Added await calls"
      },
      {
        "line": 1465,
        "token": "footer",
        "context": "- **Dashboard: Footer Layout** - Fixed footer appearing between header and content instead of at bottom"
      },
      {
        "line": 1466,
        "token": "not",
        "context": "- **Root Cause**: Footer not included in CSS grid layout template"
      },
      {
        "line": 1467,
        "token": "visual",
        "context": "- **Impact**: Broken visual layout with footer misplaced in page flow"
      },
      {
        "line": 1469,
        "token": "grid",
        "context": "- Updated `.app-container` grid to include 5th row with \"footer\" area"
      },
      {
        "line": 1470,
        "token": "footer",
        "context": "- Assigned `grid-area: footer` to `.app-footer` class"
      },
      {
        "line": 1471,
        "token": "now",
        "context": "- **Result**: Footer now correctly positioned at bottom of page"
      },
      {
        "line": 1473,
        "token": "grid",
        "context": "- `src/mcp_memory_service/web/static/style.css` - Updated grid layout (lines 101-110, 1899)"
      },
      {
        "line": 1475,
        "token": "HTTP",
        "context": "- **HTTP Server: Runtime Warnings** - Eliminated \"coroutine was never awaited\" warnings in logs"
      },
      {
        "line": 1476,
        "token": "detection",
        "context": "- **Root Cause**: Legacy sync/async detection code after all backends became async"
      },
      {
        "line": 1477,
        "token": "warnings",
        "context": "- **Impact**: Runtime warnings cluttering server logs"
      },
      {
        "line": 1478,
        "token": "hybrid",
        "context": "- **Fix**: Removed hybrid backend detection logic, all `get_stats()` calls now consistently await"
      },
      {
        "line": 1479,
        "token": "server",
        "context": "- **Result**: Clean server logs with no warnings"
      },
      {
        "line": 1484,
        "token": "backend",
        "context": "- **Consolidation System: Embedding Retrieval in get_all_memories()** - Fixed SQLite-vec backend to actually retrieve embeddings (PR #171, fixes #169)"
      },
      {
        "line": 1485,
        "token": "methods",
        "context": "- **Root Cause**: `get_all_memories()` methods only queried `memories` table without joining `memory_embeddings` virtual table"
      },
      {
        "line": 1486,
        "token": "system",
        "context": "- **Impact**: Consolidation system received 0 embeddings despite 1773 memories in database, preventing association discovery and semantic clustering"
      },
      {
        "line": 1487,
        "token": "claimed",
        "context": "- **Discovery**: PR #170 claimed to fix this but only modified debug tools; actual fix required changes to `sqlite_vec.py`"
      },
      {
        "line": 1489,
        "token": "helper",
        "context": "- Added `deserialize_embedding()` helper function using numpy.frombuffer() (sqlite-vec only provides serialize, not deserialize)"
      },
      {
        "line": 1490,
        "token": "both",
        "context": "- Updated both `get_all_memories()` methods (lines 1468 and 1681) with LEFT JOIN to `memory_embeddings` table"
      },
      {
        "line": 1491,
        "token": "helper",
        "context": "- Modified `_row_to_memory()` helper to handle 10-column rows with embeddings"
      },
      {
        "line": 1492,
        "token": "improvement",
        "context": "- Applied Gemini Code Assist improvement to simplify row unpacking logic"
      },
      {
        "line": 1493,
        "token": "memories",
        "context": "- **Test Results** (1773 memories):"
      },
      {
        "line": 1494,
        "token": "retrieved",
        "context": "- Embeddings retrieved: 1773/1773 (100%)"
      },
      {
        "line": 1495,
        "token": "discovered",
        "context": "- Associations discovered: 90-91 (0.3-0.7 similarity range)"
      },
      {
        "line": 1496,
        "token": "clusters",
        "context": "- Semantic clusters created: 3 (DBSCAN grouping)"
      },
      {
        "line": 1498,
        "token": "seconds",
        "context": "- Duration: 1.25-1.42 seconds"
      },
      {
        "line": 1499,
        "token": "all",
        "context": "- **Consolidation Status**: âœ… **FULLY FUNCTIONAL** (all three blockers fixed: PR #166, #168, #171)"
      },
      {
        "line": 1501,
        "token": "embedding",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` - Added embedding retrieval to all memory fetch operations"
      },
      {
        "line": 1506,
        "token": "debug",
        "context": "- **Debug Tools: Embedding Retrieval Functionality** - Fixed debug MCP tools for SQLite-vec backend (PR #170, addresses #169)"
      },
      {
        "line": 1507,
        "token": "function",
        "context": "- **Root Cause**: `debug_retrieve_memory` function was written for ChromaDB but codebase now uses SQLite-vec storage"
      },
      {
        "line": 1508,
        "token": "tools",
        "context": "- **Impact**: Debug tools (`debug_retrieve`) were broken, preventing debugging of embedding retrieval operations"
      },
      {
        "line": 1509,
        "token": "debug",
        "context": "- **Fix**: Updated debug utilities to work with current SQLite-vec storage backend"
      },
      {
        "line": 1511,
        "token": "use",
        "context": "- Fixed `debug_retrieve_memory` in `src/mcp_memory_service/utils/debug.py` to use storage's `retrieve()` method"
      },
      {
        "line": 1512,
        "token": "debug",
        "context": "- Enhanced debug output with similarity scores, backend information, query details, and raw distance values"
      },
      {
        "line": 1513,
        "token": "proper",
        "context": "- Added proper filtering by similarity threshold"
      },
      {
        "line": 1515,
        "token": "compatibility",
        "context": "- `src/mcp_memory_service/utils/debug.py` - Updated for SQLite-vec compatibility"
      },
      {
        "line": 1516,
        "token": "debug",
        "context": "- `src/mcp_memory_service/server.py` - Enhanced debug output formatting"
      },
      {
        "line": 1519,
        "token": "debugging",
        "context": "- **Debug Tool: get_raw_embedding MCP Tool** - New debugging capability for embedding inspection (PR #170)"
      },
      {
        "line": 1520,
        "token": "debugging",
        "context": "- **Purpose**: Direct debugging of embedding generation process"
      },
      {
        "line": 1522,
        "token": "raw",
        "context": "- Shows raw embedding vectors with configurable display (first 10 and last 10 values for readability)"
      },
      {
        "line": 1523,
        "token": "embedding",
        "context": "- Displays embedding dimensions"
      },
      {
        "line": 1524,
        "token": "generation",
        "context": "- Shows generation status and error messages"
      },
      {
        "line": 1525,
        "token": "issues",
        "context": "- **Use Case**: Troubleshooting embedding-related issues in consolidation and semantic search"
      },
      {
        "line": 1527,
        "token": "tool",
        "context": "- `src/mcp_memory_service/server.py` - Added `get_raw_embedding` tool and handler"
      },
      {
        "line": 1532,
        "token": "method",
        "context": "- **Consolidation System: Missing update_memory() Method** - Added `update_memory()` method to all storage backends (PR #166, fixes #165)"
      },
      {
        "line": 1533,
        "token": "backends",
        "context": "- **Root Cause**: Storage backends only implemented `update_memory_metadata()`, but consolidation system's `StorageProtocol` required `update_memory()` for savi"
      },
      {
        "line": 1534,
        "token": "consolidation",
        "context": "- **Impact**: Prevented consolidation system from saving associations, clusters, compressions, and archived memories"
      },
      {
        "line": 1535,
        "token": "method",
        "context": "- **Fix**: Added `update_memory()` method to base `MemoryStorage` class, delegating to `update_memory_metadata()` for proper implementation"
      },
      {
        "line": 1538,
        "token": "backend",
        "context": "- Verified on SQLite-vec backend with 1773 memories"
      },
      {
        "line": 1539,
        "token": "local",
        "context": "- Performance: 5011 memories/second (local SQLite-vec) vs 2.5 mem/s (Cloudflare)"
      },
      {
        "line": 1540,
        "token": "successfully",
        "context": "- Method successfully executes without AttributeError"
      },
      {
        "line": 1542,
        "token": "base",
        "context": "- `src/mcp_memory_service/storage/base.py` - Added `update_memory()` to base class"
      },
      {
        "line": 1543,
        "token": "HTTP",
        "context": "- `src/mcp_memory_service/storage/http_client.py` - Updated HTTP client call"
      },
      {
        "line": 1544,
        "token": "method",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` - Fixed method reference"
      },
      {
        "line": 1546,
        "token": "timezone",
        "context": "- **Consolidation System: Datetime Timezone Mismatch** - Fixed timezone handling in decay calculator (PR #168, fixes #167)"
      },
      {
        "line": 1547,
        "token": "datetime",
        "context": "- **Root Cause**: Mixed offset-naive and offset-aware datetime objects causing `TypeError` when calculating time differences"
      },
      {
        "line": 1549,
        "token": "decay",
        "context": "- **Impact**: Blocked decay calculator from completing, preventing associations, clustering, compression, and archival"
      },
      {
        "line": 1550,
        "token": "timezone",
        "context": "- **Fix**: Added timezone normalization to ensure both `current_time` and `last_accessed` are timezone-aware (UTC) before subtraction"
      },
      {
        "line": 1552,
        "token": "datetime",
        "context": "- Check if datetime is timezone-naive and convert to UTC if needed"
      },
      {
        "line": 1553,
        "token": "consistent",
        "context": "- Ensures consistent timezone handling across all datetime operations"
      },
      {
        "line": 1555,
        "token": "timezone",
        "context": "- `src/mcp_memory_service/consolidation/decay.py` - Added timezone normalization logic"
      },
      {
        "line": 1558,
        "token": "setup",
        "context": "- **Consolidation Documentation** - Comprehensive setup and testing guides"
      },
      {
        "line": 1559,
        "token": "configuration",
        "context": "- `CONSOLIDATION_SETUP.md` - Complete configuration guide for dream-inspired memory consolidation"
      },
      {
        "line": 1560,
        "token": "results",
        "context": "- `CONSOLIDATION_TEST_RESULTS.md` - Expected results and troubleshooting guide"
      },
      {
        "line": 1561,
        "token": "covers",
        "context": "- Documentation covers all 7 consolidation engines and 7 MCP tools"
      },
      {
        "line": 1566,
        "token": "timestamp",
        "context": "- **Critical: Memory Age Calculation in Hooks** - Fixed Unix timestamp handling that caused memories to appear 20,363 days old (55 years) when they were actuall"
      },
      {
        "line": 1567,
        "token": "constructor",
        "context": "- **Root Cause**: JavaScript's `Date()` constructor expects milliseconds, but SQLite database stores Unix timestamps in seconds. Three functions incorrectly tre"
      },
      {
        "line": 1569,
        "token": "showed",
        "context": "- Memory Age Analyzer showed `avgAge: 20363` days instead of actual age"
      },
      {
        "line": 1570,
        "token": "memory",
        "context": "- Stale memory detection incorrectly triggered (`isStale: true`)"
      },
      {
        "line": 1571,
        "token": "memory",
        "context": "- Recent memory percentage showed 0% when should be 100%"
      },
      {
        "line": 1572,
        "token": "decay",
        "context": "- Time decay scores incorrect (1% instead of 100% for today's memories)"
      },
      {
        "line": 1573,
        "token": "bonus",
        "context": "- Recency bonus not applied (0% instead of +15%)"
      },
      {
        "line": 1574,
        "token": "type",
        "context": "- **Fix**: Added type checking to convert Unix timestamps properly - multiply by 1000 when timestamp is a number (seconds), pass through when it's an ISO string"
      },
      {
        "line": 1575,
        "token": "age",
        "context": "- **Impact**: Memory age calculations now accurate, stale detection works correctly, recency bonuses applied properly"
      },
      {
        "line": 1577,
        "token": "lines",
        "context": "- `claude-hooks/utilities/memory-scorer.js` (lines 11-17, 237-243, 524-534)"
      },
      {
        "line": 1578,
        "token": "now",
        "context": "- **Test Results**: Memories now show correct ages (0.4 days vs 20,363 days before fix)"
      },
      {
        "line": 1579,
        "token": "platforms",
        "context": "- **Platform**: All platforms (macOS, Linux, Windows)"
      },
      {
        "line": 1582,
        "token": "automatic",
        "context": "- **Installer Enhancement**: Added automatic statusLine configuration for v8.5.7 features"
      },
      {
        "line": 1583,
        "token": "now",
        "context": "- Installer now copies `statusline.sh` to `~/.claude/hooks/`"
      },
      {
        "line": 1584,
        "token": "dependency",
        "context": "- Checks for `jq` dependency (required for statusLine parsing)"
      },
      {
        "line": 1585,
        "token": "adds",
        "context": "- Automatically adds `statusLine` configuration to `settings.json`"
      },
      {
        "line": 1586,
        "token": "documentation",
        "context": "- Enhanced documentation for statusLine setup and requirements"
      },
      {
        "line": 1589,
        "token": "required",
        "context": "- Added `jq` as required dependency for statusLine feature"
      },
      {
        "line": 1590,
        "token": "configuration",
        "context": "- Documented statusLine configuration in README.md installation section"
      },
      {
        "line": 1591,
        "token": "timestamp",
        "context": "- Clarified Unix timestamp handling in memory-scorer.js code comments"
      },
      {
        "line": 1596,
        "token": "complementary",
        "context": "- **SessionStart Hook Visibility Features** - Three complementary methods to view session memory context"
      },
      {
        "line": 1597,
        "token": "bordered",
        "context": "- **Visible Summary Output**: Clean bordered console display showing project, storage, memory count with recent indicator, and git context"
      },
      {
        "line": 1598,
        "token": "session",
        "context": "- **Detailed Log File**: Complete session context written to `~/.claude/last-session-context.txt` including project details, storage backend, memory statistics,"
      },
      {
        "line": 1599,
        "token": "status",
        "context": "- **Status Line Display**: Always-visible status bar at bottom of Claude Code terminal showing `ğŸ§  8 (5 recent) | ğŸ“Š 10 commits`"
      },
      {
        "line": 1601,
        "token": "summary",
        "context": "- `~/.claude/hooks/core/session-start.js` - Added summary output, log file generation, and cache file write logic"
      },
      {
        "line": 1602,
        "token": "configuration",
        "context": "- `~/.claude/settings.json` - Added statusLine configuration"
      },
      {
        "line": 1604,
        "token": "script",
        "context": "- `~/.claude/statusline.sh` - Bash script for status line display (requires `jq`)"
      },
      {
        "line": 1605,
        "token": "detailed",
        "context": "- `~/.claude/last-session-context.txt` - Auto-generated detailed log file"
      },
      {
        "line": 1606,
        "token": "line",
        "context": "- `~/.claude/hooks/utilities/session-cache.json` - Status line data cache"
      },
      {
        "line": 1607,
        "token": "hook",
        "context": "- **Platform**: Linux/macOS (Windows SessionStart hook still broken - issue #160)"
      },
      {
        "line": 1610,
        "token": "hook",
        "context": "- SessionStart hook output now provides visible feedback instead of being hidden in system-reminder tags"
      },
      {
        "line": 1611,
        "token": "line",
        "context": "- Status line updates every 300ms with latest session memory context"
      },
      {
        "line": 1612,
        "token": "file",
        "context": "- Log file automatically updates on each SessionStart hook execution"
      },
      {
        "line": 1615,
        "token": "difference",
        "context": "- Clarified difference between macOS and Linux hook output behavior (both use system-reminder tags since v2.2.0)"
      },
      {
        "line": 1616,
        "token": "wrapper",
        "context": "- Documented that `<session-start-hook>` wrapper tags were intentionally removed in v2.2.0 for cleaner output"
      },
      {
        "line": 1617,
        "token": "troubleshooting",
        "context": "- Added troubleshooting guide for status line visibility features"
      },
      {
        "line": 1622,
        "token": "HTTPS",
        "context": "- **Critical: Memory Hooks HTTPS SSL Certificate Validation** - Fixed hooks failing to connect to HTTPS server with self-signed certificates"
      },
      {
        "line": 1623,
        "token": "HTTPS",
        "context": "- **Root Cause**: Node.js HTTPS requests were rejecting self-signed SSL certificates silently, causing \"No active connection available\" errors"
      },
      {
        "line": 1625,
        "token": "showed",
        "context": "- Hooks showed \"Failed to connect using any available protocol\""
      },
      {
        "line": 1626,
        "token": "memories",
        "context": "- No memories retrieved despite server being healthy"
      },
      {
        "line": 1627,
        "token": "HTTP",
        "context": "- HTTP server running but hooks couldn't establish connection"
      },
      {
        "line": 1628,
        "token": "false",
        "context": "- **Fix**: Added `rejectUnauthorized: false` to both health check and API POST request options in memory-client.js"
      },
      {
        "line": 1629,
        "token": "now",
        "context": "- **Impact**: Hooks now successfully connect via HTTPS to servers with self-signed certificates"
      },
      {
        "line": 1631,
        "token": "lines",
        "context": "- `claude-hooks/utilities/memory-client.js` (lines 174, 257)"
      },
      {
        "line": 1632,
        "token": "deployed",
        "context": "- `~/.claude/hooks/utilities/memory-client.js` (deployed)"
      },
      {
        "line": 1633,
        "token": "memories",
        "context": "- **Test Results**: âœ… 7 memories retrieved from 1558 total, all phases working correctly"
      },
      {
        "line": 1634,
        "token": "platforms",
        "context": "- **Platform**: All platforms (macOS, Linux, Windows)"
      },
      {
        "line": 1637,
        "token": "hooks",
        "context": "- Memory hooks now support HTTPS endpoints with self-signed certificates without manual certificate trust configuration"
      },
      {
        "line": 1642,
        "token": "hook",
        "context": "- **Critical: Claude Code Hooks Configuration** - Fixed session-start hook hanging/unresponsiveness on Windows"
      },
      {
        "line": 1643,
        "token": "forced",
        "context": "- **Root Cause**: Missing forced process exit in session-start.js caused Node.js event loop to remain active with unclosed connections"
      },
      {
        "line": 1644,
        "token": "finally",
        "context": "- **Fix 1**: Added `.finally()` block with 100ms delayed `process.exit(0)` to ensure clean termination"
      },
      {
        "line": 1645,
        "token": "port",
        "context": "- **Fix 2**: Corrected port mismatch in `~/.claude/hooks/config.json` (8889 â†’ 8000) to match HTTP server"
      },
      {
        "line": 1646,
        "token": "now",
        "context": "- **Impact**: Hooks now complete in <15 seconds without hanging, Claude Code remains responsive"
      },
      {
        "line": 1648,
        "token": "lines",
        "context": "- `~/.claude/hooks/core/session-start.js` (lines 1010-1013)"
      },
      {
        "line": 1649,
        "token": "line",
        "context": "- `~/.claude/hooks/config.json` (line 7)"
      },
      {
        "line": 1650,
        "token": "also",
        "context": "- **Platform**: Windows (also applies to macOS/Linux)"
      },
      {
        "line": 1653,
        "token": "critical",
        "context": "- **Documentation**: Added critical warning section to CLAUDE.md about hook configuration synchronization"
      },
      {
        "line": 1654,
        "token": "port",
        "context": "- Documents port mismatch symptoms (hanging hooks, unresponsive Claude Code, connection timeouts)"
      },
      {
        "line": 1655,
        "token": "all",
        "context": "- Lists all configuration files to check (`config.json`, HTTP server port, dashboard port)"
      },
      {
        "line": 1656,
        "token": "verification",
        "context": "- Provides verification commands for Windows/Linux/macOS"
      },
      {
        "line": 1657,
        "token": "common",
        "context": "- Explains common mistakes (using dashboard port 8888/8443 instead of API port 8000)"
      },
      {
        "line": 1662,
        "token": "explicit",
        "context": "- **MCP Server**: Added explicit documentation to `store_memory` tool clarifying that `metadata.tags` must be an array, not a comma-separated string"
      },
      {
        "line": 1663,
        "token": "validation",
        "context": "- Prevents validation error: `Input validation error: '...' is not of type 'array'`"
      },
      {
        "line": 1664,
        "token": "clear",
        "context": "- Includes clear examples showing correct (array) vs incorrect (string) format"
      },
      {
        "line": 1665,
        "token": "change",
        "context": "- Documentation-only change - no code logic modified"
      },
      {
        "line": 1668,
        "token": "tool",
        "context": "- Improved `store_memory` tool docstring with metadata format validation examples in `src/mcp_memory_service/mcp_server.py`"
      },
      {
        "line": 1674,
        "token": "systemd",
        "context": "#### **Linux systemd Service Support**"
      },
      {
        "line": 1675,
        "token": "comprehensive",
        "context": "Added comprehensive systemd user service support for automatic HTTP server management on Linux systems."
      },
      {
        "line": 1678,
        "token": "systemd",
        "context": "- `scripts/service/mcp-memory-http.service` - systemd user service definition"
      },
      {
        "line": 1679,
        "token": "installation",
        "context": "- `scripts/service/install_http_service.sh` - Interactive installation script"
      },
      {
        "line": 1680,
        "token": "docs/deployment/systemd-service.md",
        "context": "- `docs/deployment/systemd-service.md` - Detailed systemd setup guide"
      },
      {
        "line": 1683,
        "token": "startup",
        "context": "- âœ… **Automatic startup** on user login"
      },
      {
        "line": 1684,
        "token": "operation",
        "context": "- âœ… **Persistent operation** with loginctl linger support"
      },
      {
        "line": 1685,
        "token": "restarts",
        "context": "- âœ… **Automatic restarts** on failure (RestartSec=10)"
      },
      {
        "line": 1686,
        "token": "logging",
        "context": "- âœ… **Centralized logging** via journald"
      },
      {
        "line": 1687,
        "token": "management",
        "context": "- âœ… **Easy management** via systemctl commands"
      },
      {
        "line": 1688,
        "token": "loading",
        "context": "- âœ… **Environment loading** from .env file"
      },
      {
        "line": 1689,
        "token": "hardening",
        "context": "- âœ… **Security hardening** (NoNewPrivileges, PrivateTmp)"
      },
      {
        "line": 1701,
        "token": "HTTP",
        "context": "#### **Enhanced HTTP Server Management**"
      },
      {
        "line": 1702,
        "token": "docs/http-server-management.md",
        "context": "- Updated `docs/http-server-management.md` with systemd section"
      },
      {
        "line": 1703,
        "token": "troubleshooting",
        "context": "- Added troubleshooting for port mismatch issues (8000 vs 8889)"
      },
      {
        "line": 1704,
        "token": "hooks",
        "context": "- Documented hooks endpoint configuration requirements"
      },
      {
        "line": 1707,
        "token": "systemd",
        "context": "- Added systemd commands to Essential Commands section"
      },
      {
        "line": 1708,
        "token": "section",
        "context": "- Added \"Troubleshooting Hooks Not Retrieving Memories\" section"
      },
      {
        "line": 1709,
        "token": "detailed",
        "context": "- Cross-referenced detailed documentation guides"
      },
      {
        "line": 1714,
        "token": "common",
        "context": "- Documented common port mismatch issue between hooks config and HTTP server"
      },
      {
        "line": 1715,
        "token": "diagnostic",
        "context": "- Added diagnostic commands for verifying HTTP server status"
      },
      {
        "line": 1716,
        "token": "HTTP",
        "context": "- Clarified that HTTP server is **required** for hooks (stdio MCP cannot be used)"
      },
      {
        "line": 1718,
        "token": "installations",
        "context": "**Root Cause:** Many installations had hooks configured for port 8889 while HTTP server runs on port 8000 (default in .env). This caused silent failures where h"
      },
      {
        "line": 1721,
        "token": "hooks",
        "context": "1. Update hooks config endpoint to `http://127.0.0.1:8000`"
      },
      {
        "line": 1722,
        "token": "systemctl",
        "context": "2. Verify with: `systemctl --user status mcp-memory-http.service`"
      },
      {
        "line": 1723,
        "token": "curl",
        "context": "3. Test with: `curl http://127.0.0.1:8000/api/health`"
      },
      {
        "line": 1727,
        "token": "files",
        "context": "- Service files now use `WantedBy=default.target` for user services (not multi-user.target)"
      },
      {
        "line": 1728,
        "token": "directives",
        "context": "- Removed `User=` and `Group=` directives from user service (causes GROUP error)"
      },
      {
        "line": 1729,
        "token": "error",
        "context": "- Enhanced error messages and troubleshooting documentation"
      },
      {
        "line": 1734,
        "token": "improved",
        "context": "Significantly improved visual formatting and readability of memory context injection in Claude Code hooks."
      },
      {
        "line": 1737,
        "token": "function",
        "context": "- âœ… **Intelligent Text Wrapping** - New `wrapText()` function preserves word boundaries and indentation"
      },
      {
        "line": 1738,
        "token": "visual",
        "context": "- âœ… **Unicode Box Drawing** - Professional visual formatting with â•­â•®â•¯â•° characters for better structure"
      },
      {
        "line": 1739,
        "token": "memories",
        "context": "- âœ… **Recency-Based Display** - Recent memories (< 7 days) stay prominent, older ones are dimmed"
      },
      {
        "line": 1740,
        "token": "date",
        "context": "- âœ… **Simplified Date Formatting** - Cleaner date display with recency indicators (today, yesterday, day name, date)"
      },
      {
        "line": 1741,
        "token": "visual",
        "context": "- âœ… **Enhanced Memory Categorization** - Better visual hierarchy for different memory types"
      },
      {
        "line": 1744,
        "token": "refactoring",
        "context": "- `claude-hooks/utilities/context-formatter.js` - Major refactoring with wrapText function and enhanced formatMemoryForCLI"
      },
      {
        "line": 1745,
        "token": "display",
        "context": "- `claude-hooks/core/session-start.js` - Minor display improvements for project detection"
      },
      {
        "line": 1746,
        "token": "configuration",
        "context": "- `.claude/settings.local.json` - Platform-specific configuration updates (Windowsâ†’Linux path migration)"
      },
      {
        "line": 1749,
        "token": "performance",
        "context": "- No performance impact - Lightweight formatting enhancements"
      },
      {
        "line": 1750,
        "token": "readability",
        "context": "- Better readability improves development efficiency"
      },
      {
        "line": 1751,
        "token": "all",
        "context": "- Maintains all existing functionality while improving presentation"
      },
      {
        "line": 1760,
        "token": "critical",
        "context": "Fixed critical bugs preventing memory retrieval in Claude Code session-start hooks. Memory awareness now works correctly with both semantic and time-based searc"
      },
      {
        "line": 1762,
        "token": "hooks",
        "context": "**Problem**: Memory hooks showed \"No relevant memories found\" despite 1,419 memories in database. Retrieved memories were unrelated (from wrong projects) and so"
      },
      {
        "line": 1767,
        "token": "empty",
        "context": "- **Issue**: `storage.retrieve(\"\")` with empty string returned no results"
      },
      {
        "line": 1768,
        "token": "uses",
        "context": "- **Fix**: Now uses `get_recent_memories()` when `semantic_query` is empty"
      },
      {
        "line": 1769,
        "token": "searches",
        "context": "- **Impact**: Time-based searches without semantic filtering now work correctly"
      },
      {
        "line": 1772,
        "token": "sends",
        "context": "- **Issue**: Hook sends `'last-2-weeks'` but parser didn't recognize it"
      },
      {
        "line": 1773,
        "token": "support",
        "context": "- **Fix**: Added support for 'last 2 weeks', 'past 2 weeks', 'last-2-weeks'"
      },
      {
        "line": 1774,
        "token": "fallback",
        "context": "- **Impact**: Phase 2 fallback queries now work properly"
      },
      {
        "line": 1777,
        "token": "candidate",
        "context": "- **Change**: Reduced candidate pool from 1000 to 100 for time filtering"
      },
      {
        "line": 1778,
        "token": "timeout",
        "context": "- **Rationale**: Prevents timeout on large databases, improves response time"
      },
      {
        "line": 1779,
        "token": "completes",
        "context": "- **Impact**: Search completes in <100ms vs timing out"
      },
      {
        "line": 1781,
        "token": "await",
        "context": "4. **CRITICAL: Missing `await` Keywords** (hybrid.py:912, 916, 935, 947)"
      },
      {
        "line": 1782,
        "token": "async",
        "context": "- **Issue**: 4 async methods returned unawaited coroutines, causing server hangs"
      },
      {
        "line": 1786,
        "token": "query",
        "context": "- Line 935: `recall_memory(query, n_results)`"
      },
      {
        "line": 1788,
        "token": "backend",
        "context": "- **Impact**: Hybrid backend now works perfectly (11ms response time!)"
      },
      {
        "line": 1791,
        "token": "lines",
        "context": "- **Issue**: ~100 lines of duplicated HTTP request code"
      },
      {
        "line": 1792,
        "token": "helper",
        "context": "- **Fix**: Created `_performApiPost()` helper to eliminate duplication"
      },
      {
        "line": 1793,
        "token": "maintainability",
        "context": "- **Impact**: Improved maintainability, DRY compliance"
      },
      {
        "line": 1796,
        "token": "checks",
        "context": "- **Issue**: Health checks used standard web ports (443/80) while API calls used dev ports (8443/8889)"
      },
      {
        "line": 1797,
        "token": "both",
        "context": "- **Fix**: Made both use development ports consistently"
      },
      {
        "line": 1798,
        "token": "connection",
        "context": "- **Impact**: Prevents connection failures with development endpoints"
      },
      {
        "line": 1813,
        "token": "query",
        "context": "- `src/mcp_memory_service/web/api/search.py` - Empty query fix, time expression, pool size, UTC timezone"
      },
      {
        "line": 1814,
        "token": "missing",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` - Fixed 4 missing await keywords"
      },
      {
        "line": 1815,
        "token": "HTTP",
        "context": "- `claude-hooks/utilities/memory-client.js` - Refactored HTTP helpers, port consistency, API contract"
      },
      {
        "line": 1816,
        "token": "hardcoded",
        "context": "- `claude-hooks/core/session-start.js` - Updated hardcoded endpoint fallbacks"
      },
      {
        "line": 1817,
        "token": "HTTP",
        "context": "- `claude-hooks/config.json` - HTTP endpoint configuration"
      },
      {
        "line": 1819,
        "token": "fixes",
        "context": "**Code Review**: All fixes reviewed and approved by Gemini Code Assist with PEP 8 compliance, timezone-aware datetimes, list comprehensions, and proper error ha"
      },
      {
        "line": 1821,
        "token": "https",
        "context": "**PR Reference**: [#156](https://github.com/doobidoo/mcp-memory-service/pull/156)"
      },
      {
        "line": 1828,
        "token": "implementation",
        "context": "Complete implementation of Hybrid Backend Sync Dashboard feature that was documented in v8.5.0 CHANGELOG but code was never committed."
      },
      {
        "line": 1830,
        "token": "release",
        "context": "**Context**: v8.5.0 release (c241292) included CHANGELOG documentation and version bump but the actual implementation files were accidentally not staged/committ"
      },
      {
        "line": 1833,
        "token": "endpoints",
        "context": "- `src/mcp_memory_service/web/api/sync.py` - Sync API endpoints (GET /api/sync/status, POST /api/sync/force)"
      },
      {
        "line": 1834,
        "token": "HTTP",
        "context": "- `start_http_server.sh` - Cross-platform HTTP server management script"
      },
      {
        "line": 1837,
        "token": "sync",
        "context": "- `src/mcp_memory_service/web/app.py` - Integrated sync router"
      },
      {
        "line": 1838,
        "token": "status",
        "context": "- `src/mcp_memory_service/web/static/app.js` - Sync status UI with polling"
      },
      {
        "line": 1839,
        "token": "status",
        "context": "- `src/mcp_memory_service/web/static/index.html` - Sync status bar markup"
      },
      {
        "line": 1840,
        "token": "bar",
        "context": "- `src/mcp_memory_service/web/static/style.css` - Sync bar styling + grid layout"
      },
      {
        "line": 1841,
        "token": "method",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` - Added `get_sync_status()` method"
      },
      {
        "line": 1842,
        "token": "check",
        "context": "- `src/mcp_memory_service/web/api/health.py` - Health check enhancements"
      },
      {
        "line": 1843,
        "token": "path",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` - Database path fixes"
      },
      {
        "line": 1846,
        "token": "text",
        "context": "- `claude-hooks/utilities/context-formatter.js` - Tree text wrapping improvements for better CLI output"
      },
      {
        "line": 1848,
        "token": "can",
        "context": "**Impact**: Users can now access the complete Hybrid Backend Sync Dashboard feature including manual sync triggers and real-time status monitoring as originally"
      },
      {
        "line": 1855,
        "token": "prevents",
        "context": "Intelligent auto-calibration prevents stale memories from dominating session context when recent development exists."
      },
      {
        "line": 1858,
        "token": "reported",
        "context": "Users reported \"Current Development\" section showing outdated memories (24-57 days old) instead of recent work from the last 7 days. Root cause: static configur"
      },
      {
        "line": 1861,
        "token": "memory",
        "context": "- **Auto-Detection**: Analyzes memory age percentiles (median, p75, p90, avg)"
      },
      {
        "line": 1862,
        "token": "when",
        "context": "- **Staleness Detection**: Triggers when median > 30 days or < 20% recent memories"
      },
      {
        "line": 1863,
        "token": "adjusts",
        "context": "- **Smart Calibration**: Automatically adjusts weights:"
      },
      {
        "line": 1864,
        "token": "boost",
        "context": "- `timeDecay`: 0.25 â†’ 0.50 (+100% boost for recent memories)"
      },
      {
        "line": 1865,
        "token": "reduce",
        "context": "- `tagRelevance`: 0.35 â†’ 0.20 (-43% reduce old tag matches)"
      },
      {
        "line": 1866,
        "token": "memory",
        "context": "- **Impact**: Stale memory sets automatically prioritize any recent memories"
      },
      {
        "line": 1869,
        "token": "commits",
        "context": "- **Scenario 1**: Recent commits (< 7d) + Stale memories (median > 30d)"
      },
      {
        "line": 1870,
        "token": "git",
        "context": "- Reduces git weight by 30%: `1.8x â†’ 1.3x`"
      },
      {
        "line": 1871,
        "token": "old",
        "context": "- Prevents old git-related memories from dominating"
      },
      {
        "line": 1872,
        "token": "commits",
        "context": "- **Scenario 2**: Recent commits + Recent memories (both < 14d)"
      },
      {
        "line": 1873,
        "token": "configured",
        "context": "- Keeps configured weight: `1.8x â†’ 1.8x`"
      },
      {
        "line": 1874,
        "token": "context",
        "context": "- Git context is relevant and aligned"
      },
      {
        "line": 1875,
        "token": "commits",
        "context": "- **Scenario 3**: Old commits (> 14d) + Some recent memories"
      },
      {
        "line": 1876,
        "token": "git",
        "context": "- Reduces git weight by 15%: `1.8x â†’ 1.5x`"
      },
      {
        "line": 1877,
        "token": "recent",
        "context": "- Lets recent non-git memories surface"
      },
      {
        "line": 1899,
        "token": "test",
        "context": "- `claude-hooks/test-adaptive-weights.js` - Comprehensive test scenarios"
      },
      {
        "line": 1902,
        "token": "lines",
        "context": "- `claude-hooks/utilities/memory-scorer.js` (+162 lines):"
      },
      {
        "line": 1903,
        "token": "staleness",
        "context": "- `analyzeMemoryAgeDistribution()` - Detects staleness and recommends adjustments"
      },
      {
        "line": 1904,
        "token": "adjusts",
        "context": "- `calculateAdaptiveGitWeight()` - Dynamically adjusts git boost based on context alignment"
      },
      {
        "line": 1905,
        "token": "lines",
        "context": "- `claude-hooks/core/session-start.js` (+60 lines):"
      },
      {
        "line": 1906,
        "token": "age",
        "context": "- Integrated age analysis before scoring"
      },
      {
        "line": 1907,
        "token": "logic",
        "context": "- Auto-calibration logic with config check"
      },
      {
        "line": 1908,
        "token": "git",
        "context": "- Adaptive git weight calculation with transparency output"
      },
      {
        "line": 1909,
        "token": "options",
        "context": "- `claude-hooks/config.json` (+2 options):"
      },
      {
        "line": 1910,
        "token": "true",
        "context": "- Added `memoryScoring.autoCalibrate: true` (default enabled)"
      },
      {
        "line": 1911,
        "token": "true",
        "context": "- Added `gitAnalysis.adaptiveGitWeight: true` (default enabled)"
      },
      {
        "line": 1914,
        "token": "manual",
        "context": "- âœ… **Automatic Detection**: No manual config changes when memories become stale"
      },
      {
        "line": 1915,
        "token": "boost",
        "context": "- âœ… **Context-Aware**: Git boost only applies when it enhances (not harms) relevance"
      },
      {
        "line": 1916,
        "token": "reasoning",
        "context": "- âœ… **Transparent**: Shows reasoning for adjustments in session output"
      },
      {
        "line": 1917,
        "token": "can",
        "context": "- âœ… **Opt-Out Available**: Users can disable via config if desired"
      },
      {
        "line": 1918,
        "token": "preserve",
        "context": "- âœ… **Backward Compatible**: Defaults preserve existing behavior when memories are recent"
      },
      {
        "line": 1921,
        "token": "calibrated",
        "context": "- Scenario 1 (Stale): Automatically calibrated weights and reduced git boost 1.8x â†’ 1.3x"
      },
      {
        "line": 1922,
        "token": "calibration",
        "context": "- Scenario 2 (Recent): No calibration needed, preserved git weight at 1.8x"
      },
      {
        "line": 1923,
        "token": "scenarios",
        "context": "- Both scenarios working as expected, preventing outdated context issues"
      },
      {
        "line": 1930,
        "token": "sync",
        "context": "Manual sync management UI with real-time status monitoring for hybrid storage backend."
      },
      {
        "line": 1933,
        "token": "visual",
        "context": "- **Sync Status Bar** - Color-coded visual indicator between navigation and main content"
      },
      {
        "line": 1934,
        "token": "blue",
        "context": "- ğŸ”„ Syncing (blue gradient) - Active synchronization in progress"
      },
      {
        "line": 1935,
        "token": "yellow",
        "context": "- â±ï¸ Pending (yellow gradient) - Operations queued, shows ETA and count"
      },
      {
        "line": 1936,
        "token": "green",
        "context": "- âœ… Synced (green gradient) - All operations synchronized, shows last sync time"
      },
      {
        "line": 1937,
        "token": "red",
        "context": "- âš ï¸ Error (red gradient) - Sync failures detected, shows failed operation count"
      },
      {
        "line": 1938,
        "token": "trigger",
        "context": "- **\"Sync Now\" Button** - Manual trigger for immediate Cloudflare â†” SQLite synchronization"
      },
      {
        "line": 1939,
        "token": "second",
        "context": "- **Real-time Monitoring** - 10-second polling for live sync status updates"
      },
      {
        "line": 1941,
        "token": "sync",
        "context": "- `GET /api/sync/status` - Current sync state, pending operations, last sync time"
      },
      {
        "line": 1942,
        "token": "trigger",
        "context": "- `POST /api/sync/force` - Manually trigger immediate sync"
      },
      {
        "line": 1945,
        "token": "sync",
        "context": "- New sync API router: `src/mcp_memory_service/web/api/sync.py` (complete CRUD endpoints)"
      },
      {
        "line": 1946,
        "token": "integration",
        "context": "- Frontend integration: `src/mcp_memory_service/web/static/app.js:379-485` (status monitoring + manual sync)"
      },
      {
        "line": 1947,
        "token": "styling",
        "context": "- CSS styling: `src/mcp_memory_service/web/static/style.css:292-403` (grid layout + animations)"
      },
      {
        "line": 1948,
        "token": "HTML",
        "context": "- HTML structure: `src/mcp_memory_service/web/static/index.html:125-138` (sync bar markup)"
      },
      {
        "line": 1949,
        "token": "method",
        "context": "- Backend method: `src/mcp_memory_service/storage/hybrid.py:982-994` (added `get_sync_status()`)"
      },
      {
        "line": 1953,
        "token": "status",
        "context": "- **CSS Grid Layout Bug** - Sync status bar invisible despite JavaScript detecting hybrid mode"
      },
      {
        "line": 1954,
        "token": "grid",
        "context": "- **Root Cause**: `.app-container` grid layout defined `\"header\" \"nav\" \"main\"` but sync bar wasn't assigned a grid area"
      },
      {
        "line": 1955,
        "token": "sync",
        "context": "- **Fix**: Added `grid-area: sync` to `.sync-status-bar` and expanded grid to include sync row"
      },
      {
        "line": 1956,
        "token": "grid",
        "context": "- **Files**: `style.css:101-109` (grid layout), `style.css:293` (sync bar grid area)"
      },
      {
        "line": 1958,
        "token": "button",
        "context": "- **Sync Status Logic Error** - \"Sync Now\" button incorrectly disabled when background service running"
      },
      {
        "line": 1959,
        "token": "service",
        "context": "- **Root Cause**: Confused `is_running` (service alive) with `actively_syncing` (active sync operation)"
      },
      {
        "line": 1960,
        "token": "status",
        "context": "- **Fix**: Changed status determination to check `actively_syncing` field instead of `is_running`"
      },
      {
        "line": 1961,
        "token": "now",
        "context": "- **Impact**: Button now correctly enabled when 0 pending operations"
      },
      {
        "line": 1964,
        "token": "HTTP",
        "context": "- **Database Path Mismatch** - HTTP server using different SQLite database than Claude Code MCP"
      },
      {
        "line": 1965,
        "token": "environment",
        "context": "- **Root Cause**: Missing `MCP_MEMORY_SQLITE_PATH` environment variable in HTTP server startup"
      },
      {
        "line": 1966,
        "token": "explicit",
        "context": "- **Fix**: Added explicit database path to match Claude Desktop config"
      },
      {
        "line": 1967,
        "token": "added",
        "context": "- **File**: `start_http_server.sh:4` (added `MCP_MEMORY_SQLITE_PATH` export)"
      },
      {
        "line": 1969,
        "token": "using",
        "context": "- **Backend Configuration Inconsistency** - Claude Desktop using `cloudflare` backend while HTTP server using `hybrid`"
      },
      {
        "line": 1970,
        "token": "storage",
        "context": "- **Root Cause**: Mismatched storage backend configurations preventing data synchronization"
      },
      {
        "line": 1971,
        "token": "both",
        "context": "- **Fix**: Unified both to use `hybrid` backend with same SQLite database"
      },
      {
        "line": 1972,
        "token": "changed",
        "context": "- **File**: `claude_desktop_config.json:70` (changed `\"cloudflare\"` â†’ `\"hybrid\"`)"
      },
      {
        "line": 1973,
        "token": "now",
        "context": "- **Impact**: Dashboard now shows same 1413 memories as Claude Code"
      },
      {
        "line": 1977,
        "token": "now",
        "context": "- **Enhanced Health Check** - `/api/health/detailed` now includes sync status for hybrid backend"
      },
      {
        "line": 1978,
        "token": "sync",
        "context": "- Shows sync service state, pending operations, last sync time, failed operations"
      },
      {
        "line": 1981,
        "token": "obsolete",
        "context": "- **Cleaned Database Files** - Removed obsolete SQLite databases to prevent confusion"
      },
      {
        "line": 1982,
        "token": "memories",
        "context": "- Deleted: `memory_http.db` (701 memories), `backup_sqlite_vec.db`, `sqlite_vec_backup_20250822_230643.db`"
      },
      {
        "line": 1984,
        "token": "now",
        "context": "- **Updated Startup Script** - `start_http_server.sh` now includes all required environment variables"
      },
      {
        "line": 1986,
        "token": "HTTP",
        "context": "- Ensures HTTP server uses same database as Claude Code"
      },
      {
        "line": 1990,
        "token": "now",
        "context": "- **User Experience**: Dashboard now provides complete visibility and control over hybrid backend synchronization"
      },
      {
        "line": 1991,
        "token": "backend",
        "context": "- **Data Consistency**: Unified backend configuration ensures Claude Code and HTTP dashboard always show same data"
      },
      {
        "line": 1992,
        "token": "sync",
        "context": "- **Performance**: Manual sync trigger allows immediate synchronization instead of waiting 5 minutes"
      },
      {
        "line": 1993,
        "token": "grid",
        "context": "- **Reliability**: Fixed grid layout bug ensures sync status bar always visible when in hybrid mode"
      },
      {
        "line": 1998,
        "token": "module",
        "context": "- **Sync Script Import Path:** Fixed `scripts/sync/sync_memory_backends.py` module import path to work correctly from scripts directory"
      },
      {
        "line": 1999,
        "token": "str",
        "context": "- Changed `sys.path.insert(0, str(Path(__file__).parent.parent))` â†’ `sys.path.insert(0, str(Path(__file__).parent.parent.parent))`"
      },
      {
        "line": 2000,
        "token": "module",
        "context": "- Resolves `ModuleNotFoundError: No module named 'src'` when using manual sync commands"
      },
      {
        "line": 2001,
        "token": "python",
        "context": "- Fixes: `python scripts/sync/claude_sync_commands.py backup/restore/sync` commands"
      },
      {
        "line": 2004,
        "token": "can",
        "context": "- Users can now successfully run manual sync utilities for hybrid backend"
      },
      {
        "line": 2005,
        "token": "synchronization",
        "context": "- Manual Cloudflare â†” SQLite synchronization commands now functional"
      },
      {
        "line": 2012,
        "token": "context",
        "context": "- **Problem**: Continuing context optimization efforts from v8.4.1, identified 2 additional low-value debug tools"
      },
      {
        "line": 2013,
        "token": "tools",
        "context": "- **Solution**: Removed debug/maintenance MCP tools with zero test dependencies"
      },
      {
        "line": 2016,
        "token": "tokens",
        "context": "- `get_embedding` (606 tokens) - Returns raw embedding vectors; low-level debugging only"
      },
      {
        "line": 2017,
        "token": "tokens",
        "context": "- `check_embedding_model` (553 tokens) - Checks if embedding model loaded; errors surface naturally"
      },
      {
        "line": 2019,
        "token": "were",
        "context": "**Rationale:** These were specialized debugging tools rarely needed in practice. Embedding errors are caught during normal retrieval operations, and raw embeddi"
      },
      {
        "line": 2022,
        "token": "tools",
        "context": "- âœ… **MCP tools**: 26.8k â†’ 25.6k tokens (4.5% additional reduction, -1.2k tokens)"
      },
      {
        "line": 2023,
        "token": "optimization",
        "context": "- âœ… **Total optimization since v8.4.0**: 31.4k â†’ 25.6k tokens (18.5% reduction, -5.8k tokens saved)"
      },
      {
        "line": 2024,
        "token": "breaking",
        "context": "- âœ… **Zero breaking changes**: No test coverage for these tools"
      },
      {
        "line": 2025,
        "token": "approach",
        "context": "- âœ… **Conservative approach**: Removed only tools with no dependencies"
      },
      {
        "line": 2028,
        "token": "tool",
        "context": "- `src/mcp_memory_service/server.py`: Removed 2 tool definitions, handlers, and implementations (~61 lines)"
      },
      {
        "line": 2030,
        "token": "optimization",
        "context": "**Note:** Further optimization possible with MODERATE approach (debug_retrieve, exact_match_retrieve, cleanup_duplicates) if additional context savings needed."
      },
      {
        "line": 2037,
        "token": "tools",
        "context": "- **Problem**: MCP tools consuming 31.4k tokens (15.7% of context budget) with redundant dashboard variants that duplicated web UI functionality"
      },
      {
        "line": 2038,
        "token": "tools",
        "context": "- **Solution**: Removed 8 dashboard-specific MCP tools that were unnecessary for Claude Code integration"
      },
      {
        "line": 2045,
        "token": "dashboard",
        "context": "**Rationale:** Web dashboard uses REST API endpoints (`/api/*`), not MCP tools. These were legacy wrappers created during early dashboard development that bloat"
      },
      {
        "line": 2048,
        "token": "tools",
        "context": "- âœ… **MCP tools**: 31.4k â†’ 26.8k tokens (15% reduction, -4.6k tokens saved)"
      },
      {
        "line": 2049,
        "token": "functional",
        "context": "- âœ… **Zero functional impact**: Core memory tools preserved (`check_database_health`, `recall_memory`, etc.)"
      },
      {
        "line": 2050,
        "token": "separation",
        "context": "- âœ… **Cleaner separation**: MCP protocol for Claude Code integration, HTTP REST API for web dashboard"
      },
      {
        "line": 2053,
        "token": "tool",
        "context": "- `src/mcp_memory_service/server.py`: Removed 8 tool definitions, call_tool handlers, and method implementations (~506 lines)"
      },
      {
        "line": 2054,
        "token": "docs/api/tag-standardization.md",
        "context": "- `docs/api/tag-standardization.md`: Updated to use `check_database_health()` instead of `dashboard_get_stats()`"
      },
      {
        "line": 2055,
        "token": "docs/maintenance/memory-maintenance.md",
        "context": "- `docs/maintenance/memory-maintenance.md`: Removed redundant dashboard tool reference"
      },
      {
        "line": 2056,
        "token": "docs/guides/mcp-enhancements.md",
        "context": "- `docs/guides/mcp-enhancements.md`: Removed `dashboard_optimize_db` progress tracking example"
      },
      {
        "line": 2057,
        "token": "ops",
        "context": "- `docs/assets/images/project-infographic.svg`: Removed `dashboard_*_ops` visual reference"
      },
      {
        "line": 2059,
        "token": "dashboard",
        "context": "**Note:** Web dashboard at `https://localhost:8443` continues working normally via REST API. No user-facing changes."
      },
      {
        "line": 2066,
        "token": "hooks",
        "context": "- **Problem Solved**: Memory hooks were surfacing 60+ day old memories instead of recent development work (Oct v8.0-v8.3), causing critical development context "
      },
      {
        "line": 2067,
        "token": "recency",
        "context": "- **Core Enhancement**: Comprehensive recency optimization with rebalanced scoring algorithm to prioritize recent memories over well-tagged old content"
      },
      {
        "line": 2071,
        "token": "influence",
        "context": "- `timeDecay`: 0.25 â†’ 0.40 (+60% influence on recency)"
      },
      {
        "line": 2072,
        "token": "reduce",
        "context": "- `tagRelevance`: 0.35 â†’ 0.25 (-29% to reduce tag dominance)"
      },
      {
        "line": 2073,
        "token": "balance",
        "context": "- `contentQuality`: 0.25 â†’ 0.20 (-20% to balance with time)"
      },
      {
        "line": 2075,
        "token": "day",
        "context": "- `timeDecayRate`: 0.1 â†’ 0.05 (30-day memories: 0.22 vs 0.05 score - preserves older memories)"
      },
      {
        "line": 2077,
        "token": "boost",
        "context": "- `gitContextWeight`: 1.2 â†’ 1.8 (80% boost vs 20% for git-derived memories)"
      },
      {
        "line": 2078,
        "token": "multiplication",
        "context": "- Implemented multiplication in `session-start.js` after scoring"
      },
      {
        "line": 2080,
        "token": "broader",
        "context": "- `recentTimeWindow`: \"last-week\" â†’ \"last-month\" (broader recent search)"
      },
      {
        "line": 2081,
        "token": "wider",
        "context": "- `fallbackTimeWindow`: \"last-month\" â†’ \"last-3-months\" (wider fallback range)"
      },
      {
        "line": 2082,
        "token": "filters",
        "context": "- **Higher Quality Bar**: `minRelevanceScore`: 0.3 â†’ 0.4 (filters generic old content)"
      },
      {
        "line": 2086,
        "token": "days",
        "context": "- < 7 days: +0.15 bonus (strong boost for last week)"
      },
      {
        "line": 2087,
        "token": "days",
        "context": "- < 14 days: +0.10 bonus (moderate boost for last 2 weeks)"
      },
      {
        "line": 2088,
        "token": "days",
        "context": "- < 30 days: +0.05 bonus (small boost for last month)"
      },
      {
        "line": 2089,
        "token": "system",
        "context": "- **Implementation**: Configurable tier-based system using `RECENCY_TIERS` array"
      },
      {
        "line": 2090,
        "token": "recent",
        "context": "- **Impact**: Ensures recent memories always get advantage regardless of tag relevance"
      },
      {
        "line": 2093,
        "token": "lines",
        "context": "- **Added**: Comprehensive `CONFIGURATION.md` (450+ lines)"
      },
      {
        "line": 2094,
        "token": "scoring",
        "context": "- All scoring weights with impact analysis"
      },
      {
        "line": 2095,
        "token": "decay",
        "context": "- Time decay behavior and examples"
      },
      {
        "line": 2096,
        "token": "context",
        "context": "- Git context weight strategy"
      },
      {
        "line": 2097,
        "token": "bonus",
        "context": "- Recency bonus system documentation"
      },
      {
        "line": 2098,
        "token": "guide",
        "context": "- Tuning guide for different workflows"
      },
      {
        "line": 2099,
        "token": "notes",
        "context": "- Migration notes from v1.0"
      },
      {
        "line": 2100,
        "token": "test",
        "context": "- **Added**: Validation test suite (`test-recency-scoring.js`)"
      },
      {
        "line": 2101,
        "token": "scoring",
        "context": "- Tests scoring algorithm with memories of different ages"
      },
      {
        "line": 2102,
        "token": "time",
        "context": "- Validates time decay and recency bonus calculations"
      },
      {
        "line": 2103,
        "token": "recent",
        "context": "- Confirms recent memories rank higher (success criteria: 2 of top 3 < 7 days old)"
      },
      {
        "line": 2106,
        "token": "memories",
        "context": "- **Before**: Top 3 memories averaged 45+ days old (July-Sept content)"
      },
      {
        "line": 2107,
        "token": "top",
        "context": "- **After**: All top 3 memories < 7 days old âœ…"
      },
      {
        "line": 2108,
        "token": "higher",
        "context": "- **Validation**: 80% higher likelihood of surfacing recent work"
      },
      {
        "line": 2110,
        "token": "hooks",
        "context": "**Impact**: âœ… Memory hooks now reliably surface recent development context, significantly improving Claude Code session awareness for active projects"
      },
      {
        "line": 2113,
        "token": "https",
        "context": "- **PR**: [#155](https://github.com/doobidoo/mcp-memory-service/pull/155) - Memory hooks recency optimization"
      },
      {
        "line": 2115,
        "token": "scoring",
        "context": "- Configuration: `claude-hooks/config.json` (scoring weights, time windows, git context)"
      },
      {
        "line": 2116,
        "token": "recency",
        "context": "- Scoring: `claude-hooks/utilities/memory-scorer.js` (recency bonus, configurable decay)"
      },
      {
        "line": 2117,
        "token": "git",
        "context": "- Session: `claude-hooks/core/session-start.js` (git context weight implementation)"
      },
      {
        "line": 2118,
        "token": "validation",
        "context": "- Tests: `claude-hooks/test-recency-scoring.js` (validation suite)"
      },
      {
        "line": 2119,
        "token": "comprehensive",
        "context": "- Documentation: `claude-hooks/CONFIGURATION.md` (comprehensive guide)"
      },
      {
        "line": 2120,
        "token": "rounds",
        "context": "- **Code Review**: 7 rounds of Gemini Code Assist review completed"
      },
      {
        "line": 2121,
        "token": "bugs",
        "context": "- **CRITICAL bugs fixed**: Config values not being used (round 5), gitContextWeight not implemented (round 6)"
      },
      {
        "line": 2122,
        "token": "fixes",
        "context": "- **Security fixes**: TLS certificate validation, future timestamp handling"
      },
      {
        "line": 2123,
        "token": "refactoring",
        "context": "- **Maintainability**: DRY refactoring, tier-based configuration, comprehensive docs"
      },
      {
        "line": 2124,
        "token": "validation",
        "context": "- **Test Results**: âœ… All validation checks passed - recent memories consistently prioritized"
      },
      {
        "line": 2130,
        "token": "HTTP",
        "context": "#### **HTTP Server Management Tools**"
      },
      {
        "line": 2131,
        "token": "HTTP",
        "context": "- **Added**: Cross-platform HTTP server management utilities for Claude Code Natural Memory Triggers"
      },
      {
        "line": 2133,
        "token": "check",
        "context": "- `scripts/server/check_http_server.py`: Health check utility for HTTP server status verification"
      },
      {
        "line": 2134,
        "token": "both",
        "context": "- Supports both HTTP and HTTPS endpoints via environment variables"
      },
      {
        "line": 2135,
        "token": "output",
        "context": "- Verbose output by default, `-q` flag for quiet mode (exit codes only)"
      },
      {
        "line": 2136,
        "token": "configuration",
        "context": "- Detects MCP_HTTPS_ENABLED, MCP_HTTP_PORT, MCP_HTTPS_PORT configuration"
      },
      {
        "line": 2137,
        "token": "script",
        "context": "- `scripts/server/start_http_server.sh`: Auto-start script for Unix/macOS"
      },
      {
        "line": 2138,
        "token": "server",
        "context": "- Intelligent server detection with 5-second polling loop"
      },
      {
        "line": 2139,
        "token": "process",
        "context": "- Background process management via nohup"
      },
      {
        "line": 2141,
        "token": "script",
        "context": "- `scripts/server/start_http_server.bat`: Auto-start script for Windows"
      },
      {
        "line": 2142,
        "token": "second",
        "context": "- 5-second polling loop for reliable startup detection"
      },
      {
        "line": 2143,
        "token": "server",
        "context": "- Starts server in new window for easy monitoring"
      },
      {
        "line": 2144,
        "token": "servers",
        "context": "- Handles already-running servers gracefully"
      },
      {
        "line": 2145,
        "token": "docs/http-server-management.md",
        "context": "- **Documentation**: Comprehensive `docs/http-server-management.md` guide"
      },
      {
        "line": 2146,
        "token": "HTTP",
        "context": "- Why HTTP server is required for Natural Memory Triggers"
      },
      {
        "line": 2147,
        "token": "health",
        "context": "- Quick health check commands"
      },
      {
        "line": 2148,
        "token": "procedures",
        "context": "- Manual and auto-start procedures"
      },
      {
        "line": 2149,
        "token": "guide",
        "context": "- Troubleshooting guide with common issues"
      },
      {
        "line": 2150,
        "token": "hooks",
        "context": "- Integration with Claude Code hooks"
      },
      {
        "line": 2151,
        "token": "examples",
        "context": "- Automation examples (launchd, Task Scheduler, shell aliases)"
      },
      {
        "line": 2152,
        "token": "hooks",
        "context": "- **Use Case**: Essential for Claude Code hooks to inject relevant memories at session start without MCP conflicts"
      },
      {
        "line": 2153,
        "token": "setup",
        "context": "- **Wiki**: User-specific setup examples moved to wiki as reference guides"
      },
      {
        "line": 2157,
        "token": "HTTP",
        "context": "**Impact**: âœ… Streamlined HTTP server management, improved Natural Memory Triggers reliability, better cross-platform support"
      },
      {
        "line": 2160,
        "token": "https",
        "context": "- **PR**: [#154](https://github.com/doobidoo/mcp-memory-service/pull/154) - HTTP server management tools"
      },
      {
        "line": 2161,
        "token": "new",
        "context": "- **Files Added**: 4 new files"
      },
      {
        "line": 2163,
        "token": "http-server-management.md",
        "context": "- Documentation: `http-server-management.md`"
      },
      {
        "line": 2164,
        "token": "rounds",
        "context": "- **Gemini Reviews**: 3 rounds of code review and refinement"
      },
      {
        "line": 2165,
        "token": "hardcoded",
        "context": "- Security: Removed hardcoded credentials (replaced with placeholders)"
      },
      {
        "line": 2166,
        "token": "exception",
        "context": "- Robustness: Improved exception handling, added polling loops"
      },
      {
        "line": 2167,
        "token": "argument",
        "context": "- CLI Usability: Simplified argument parsing (removed redundant `-v` flag)"
      },
      {
        "line": 2168,
        "token": "tested",
        "context": "- **Cross-platform**: Fully tested on Unix/macOS and Windows environments"
      },
      {
        "line": 2169,
        "token": "seamlessly",
        "context": "- **Integration**: Works seamlessly with existing `run_http_server.py` script"
      },
      {
        "line": 2176,
        "token": "lines",
        "context": "- **Removed**: ~300-500 lines of ChromaDB dead code following v8.0.0 deprecation"
      },
      {
        "line": 2177,
        "token": "cleanup",
        "context": "- **Scope**: Complete cleanup across 18 files including configuration, CLI, server, storage, utilities, and web interface"
      },
      {
        "line": 2180,
        "token": "option",
        "context": "- **CLI** (`cli/main.py`, `cli/ingestion.py`): Removed `--chroma-path` option, removed 'chromadb' from storage backend choices"
      },
      {
        "line": 2181,
        "token": "initialization",
        "context": "- **Server** (`server.py`): Removed ChromaDB initialization (~60 lines), stats fallback (~40 lines), backup handler, validation logic"
      },
      {
        "line": 2182,
        "token": "validation",
        "context": "- **Utilities** (`utils/db_utils.py`): Removed ChromaDB validation, stats, and repair functions (~140 lines)"
      },
      {
        "line": 2183,
        "token": "docstrings",
        "context": "- **Storage** (`storage/cloudflare.py`, `storage/sqlite_vec.py`): Updated docstrings to be backend-agnostic"
      },
      {
        "line": 2184,
        "token": "chromadb",
        "context": "- **Web** (`web/app.py`): Removed 'chromadb' from backend display name mapping"
      },
      {
        "line": 2185,
        "token": "all",
        "context": "- **Documentation**: Updated all error messages to suggest Cloudflare instead of ChromaDB"
      },
      {
        "line": 2186,
        "token": "codebase",
        "context": "- **Impact**: âœ… Cleaner codebase, reduced technical debt, no misleading ChromaDB references"
      },
      {
        "line": 2187,
        "token": "correctly",
        "context": "- **SUPPORTED_BACKENDS**: Now correctly shows `['sqlite_vec', 'sqlite-vec', 'cloudflare', 'hybrid']`"
      },
      {
        "line": 2190,
        "token": "hyphenated",
        "context": "- **Added**: 'sqlite-vec' hyphenated alias to all CLI storage backend choices"
      },
      {
        "line": 2191,
        "token": "commands",
        "context": "- **Affected commands**: `server`, `status`, `ingest_document`, `ingest_directory`"
      },
      {
        "line": 2192,
        "token": "behavior",
        "context": "- **Rationale**: Ensures CLI behavior matches SUPPORTED_BACKENDS configuration"
      },
      {
        "line": 2193,
        "token": "user",
        "context": "- **Impact**: âœ… Improved user experience with consistent backend naming across CLI and configuration"
      },
      {
        "line": 2198,
        "token": "showing",
        "context": "- **Fixed**: Dashboard showing \"N/A\" for embedding model, embedding dimensions, and database size on non-hybrid backends"
      },
      {
        "line": 2199,
        "token": "cause",
        "context": "- **Root cause**: JavaScript expected hybrid-backend-specific nested paths (`storage.primary_stats.*`)"
      },
      {
        "line": 2200,
        "token": "fallback",
        "context": "- **Solution**: Added fallback paths in `app.js` SYSTEM_INFO_CONFIG:"
      },
      {
        "line": 2201,
        "token": "back",
        "context": "- `settingsEmbeddingModel`: Falls back to `storage.embedding_model`"
      },
      {
        "line": 2202,
        "token": "back",
        "context": "- `settingsEmbeddingDim`: Falls back to `storage.embedding_dimension`"
      },
      {
        "line": 2203,
        "token": "back",
        "context": "- `settingsDbSize`: Falls back to `storage.database_size_mb`"
      },
      {
        "line": 2204,
        "token": "now",
        "context": "- **Impact**: âœ… Dashboard now correctly displays system information for sqlite-vec, cloudflare, and hybrid backends"
      },
      {
        "line": 2207,
        "token": "https",
        "context": "- **PR**: [#153](https://github.com/doobidoo/mcp-memory-service/pull/153) - ChromaDB dead code removal + Issue #151 fix"
      },
      {
        "line": 2208,
        "token": "files",
        "context": "- **Files Modified**: 18 files"
      },
      {
        "line": 2209,
        "token": "cleanup",
        "context": "- Core cleanup: `config.py`, `server.py`, `mcp_server.py`, `utils/db_utils.py`"
      },
      {
        "line": 2215,
        "token": "feedback",
        "context": "- **Code Review**: Approved by Gemini Code Assist with high-quality feedback"
      },
      {
        "line": 2216,
        "token": "backend",
        "context": "- **Testing**: âœ… SQLite-vec backend initialization, âœ… SUPPORTED_BACKENDS verification, âœ… Service startup"
      },
      {
        "line": 2222,
        "token": "JSON",
        "context": "#### **Critical: Memory Hooks JSON Parsing Failure**"
      },
      {
        "line": 2223,
        "token": "awareness",
        "context": "- **Fixed**: Memory awareness hooks completely broken - unable to retrieve memories due to JSON parsing errors"
      },
      {
        "line": 2224,
        "token": "cause",
        "context": "- **Root cause**: Naive string replacement in HTTP client destroyed valid JSON"
      },
      {
        "line": 2225,
        "token": "replace",
        "context": "- `replace(/'/g, '\"')` broke apostrophes in content (e.g., \"it's\" â†’ \"it\"s\")"
      },
      {
        "line": 2226,
        "token": "values",
        "context": "- Replaced Python-style values (True/False/None) in already-valid JSON"
      },
      {
        "line": 2227,
        "token": "mcp",
        "context": "- Used `/mcp` MCP-over-HTTP bridge instead of direct REST API"
      },
      {
        "line": 2229,
        "token": "destructive",
        "context": "- Removed destructive string replacements"
      },
      {
        "line": 2230,
        "token": "use",
        "context": "- Updated to use direct REST API endpoints (`/api/search`, `/api/search/by-time`)"
      },
      {
        "line": 2231,
        "token": "JSON",
        "context": "- Parse JSON responses directly without conversion"
      },
      {
        "line": 2232,
        "token": "hooks",
        "context": "- **Impact**: âœ… Memory hooks now successfully retrieve context-relevant memories at session start"
      },
      {
        "line": 2234,
        "token": "HTTP",
        "context": "#### **HTTP Server Backend Configuration Override**"
      },
      {
        "line": 2235,
        "token": "HTTP",
        "context": "- **Fixed**: HTTP server ignored `.env` configuration, forcing `sqlite_vec` instead of configured `hybrid` backend"
      },
      {
        "line": 2236,
        "token": "cause",
        "context": "- **Root cause**: `run_http_server.py` used `os.environ.setdefault()` after `.env` loading, overriding user config"
      },
      {
        "line": 2237,
        "token": "out",
        "context": "- **Solution**: Commented out the backend override line to respect `.env` settings"
      },
      {
        "line": 2238,
        "token": "backend",
        "context": "- **Impact**: âœ… Hybrid backend now works correctly via HTTP server"
      },
      {
        "line": 2242,
        "token": "claude",
        "context": "- `C:\\Users\\heinrich.krupp\\.claude\\hooks\\utilities\\memory-client.js` - Fixed `queryMemoriesHTTP()` method"
      },
      {
        "line": 2243,
        "token": "backend",
        "context": "- `scripts/server/run_http_server.py` - Removed backend configuration override (line 148)"
      },
      {
        "line": 2244,
        "token": "users",
        "context": "- **Affected**: All users using memory hooks with HTTP protocol (automatic session awareness)"
      },
      {
        "line": 2251,
        "token": "footer",
        "context": "- **Added**: Comprehensive footer to dashboard with three sections"
      },
      {
        "line": 2253,
        "token": "icon",
        "context": "- **Resources**: GitHub Repository (with icon), Portfolio (doobidoo.github.io), API Documentation"
      },
      {
        "line": 2254,
        "token": "description",
        "context": "- **About**: Project description, Apache 2.0 license link, copyright notice"
      },
      {
        "line": 2255,
        "token": "attributes",
        "context": "- **Features**: Security attributes (target=\"_blank\", rel=\"noopener\"), responsive design (mobile breakpoint 768px)"
      },
      {
        "line": 2256,
        "token": "discoverability",
        "context": "- **Impact**: âœ… Improved discoverability of documentation and resources from dashboard"
      },
      {
        "line": 2261,
        "token": "fix",
        "context": "- **Critical fix**: Footer appearing bright/light in dark mode instead of dark"
      },
      {
        "line": 2262,
        "token": "cause",
        "context": "- **Root cause**: Incorrect CSS variable usage - using wrong end of inverted color scale"
      },
      {
        "line": 2263,
        "token": "used",
        "context": "- Background used `var(--neutral-900)` (#f9fafb - light) instead of `var(--neutral-100)` (#1f2937 - dark)"
      },
      {
        "line": 2264,
        "token": "used",
        "context": "- Headings used `var(--neutral-100)` (dark text) instead of `var(--neutral-900)` (light text)"
      },
      {
        "line": 2265,
        "token": "variables",
        "context": "- **Solution**: Corrected CSS variables to match dashboard card pattern with !important flags"
      },
      {
        "line": 2266,
        "token": "now",
        "context": "- **Impact**: âœ… Footer now properly displays with dark background and light text in dark mode"
      },
      {
        "line": 2270,
        "token": "HTML",
        "context": "- `src/mcp_memory_service/web/static/index.html` - Footer HTML structure (lines 463-517)"
      },
      {
        "line": 2271,
        "token": "styling",
        "context": "- `src/mcp_memory_service/web/static/style.css` - Footer styling and dark mode overrides (lines 1757-1893)"
      },
      {
        "line": 2277,
        "token": "HTTP-MCP",
        "context": "#### **HTTP-MCP Bridge: recall_memory Tool Support**"
      },
      {
        "line": 2278,
        "token": "tool",
        "context": "- **Added**: `recall_memory` tool to MCP HTTP bridge API"
      },
      {
        "line": 2279,
        "token": "language",
        "context": "- **Functionality**: Natural language time-based memory retrieval (e.g., \"last week\", \"yesterday\")"
      },
      {
        "line": 2280,
        "token": "maps",
        "context": "- **Integration**: Seamlessly maps to storage backend's `recall_memory` method"
      },
      {
        "line": 2281,
        "token": "query",
        "context": "- **API**: Accepts `query` (natural language) and optional `n_results` parameter"
      },
      {
        "line": 2282,
        "token": "memory",
        "context": "- **Use Case**: Enables time-aware memory recall through HTTP/MCP bridge interface"
      },
      {
        "line": 2286,
        "token": "tool",
        "context": "- Added `recall_memory` tool definition to `MCP_TOOLS` array"
      },
      {
        "line": 2287,
        "token": "handler",
        "context": "- Implemented handler in `handle_tool_call()` function"
      },
      {
        "line": 2288,
        "token": "standardized",
        "context": "- Returns standardized format: content, content_hash, tags, created_at"
      },
      {
        "line": 2295,
        "token": "torch",
        "context": "- **Fixed**: `sentence-transformers` and `torch` moved from optional `[ml]` extras to base dependencies"
      },
      {
        "line": 2296,
        "token": "cause",
        "context": "- **Root cause**: v8.2.0 removed ChromaDB but accidentally made semantic search dependencies optional"
      },
      {
        "line": 2297,
        "token": "failed",
        "context": "- **Impact**: Service failed to start with `ImportError: sentence-transformers is not available`"
      },
      {
        "line": 2298,
        "token": "core",
        "context": "- **Resolution**: These are core dependencies required for semantic memory functionality"
      },
      {
        "line": 2299,
        "token": "upgrading",
        "context": "- **Breaking**: Users upgrading from v8.2.0 must run `uv sync` to install corrected dependencies"
      },
      {
        "line": 2303,
        "token": "dependencies",
        "context": "- Moved `sentence-transformers>=2.2.2` from `[ml]` to `dependencies`"
      },
      {
        "line": 2304,
        "token": "torch",
        "context": "- Moved `torch>=2.0.0` from `[ml]` to `dependencies`"
      },
      {
        "line": 2305,
        "token": "search",
        "context": "- Semantic search is core functionality, not optional"
      },
      {
        "line": 2312,
        "token": "status",
        "context": "- **Fixed**: Connection status indicator now properly displays in dark mode"
      },
      {
        "line": 2313,
        "token": "dark",
        "context": "- **Implementation**: Added dark mode CSS override for `.connection-status` component"
      },
      {
        "line": 2314,
        "token": "dashboard",
        "context": "- **Impact**: âœ… All dashboard elements now fully support dark mode without visual glitches"
      },
      {
        "line": 2317,
        "token": "smooth",
        "context": "- **Enhancement**: Automatic smooth scroll to results when clicking a tag"
      },
      {
        "line": 2318,
        "token": "smooth",
        "context": "- **Implementation**: Added `scrollIntoView()` with smooth behavior to `filterByTag()` method"
      },
      {
        "line": 2319,
        "token": "more",
        "context": "- **User Benefit**: No more manual scrolling needed - tag selection immediately shows filtered memories"
      },
      {
        "line": 2320,
        "token": "improved",
        "context": "- **Impact**: âœ… Significantly improved discoverability and flow in Browse by Tags view"
      },
      {
        "line": 2324,
        "token": "dark",
        "context": "- Added dark mode override for connection status background, border, and text colors"
      },
      {
        "line": 2325,
        "token": "variables",
        "context": "- Uses CSS variables for consistency with theme system"
      },
      {
        "line": 2327,
        "token": "smooth",
        "context": "- Added smooth scroll animation when displaying tag-filtered results"
      },
      {
        "line": 2328,
        "token": "results",
        "context": "- Scrolls results section into view with `block: 'start'` positioning"
      },
      {
        "line": 2335,
        "token": "fix",
        "context": "- **Critical fix**: Dashboard showing 0 for \"This Week\" and \"Tags\" statistics on Hybrid and Cloudflare backends"
      },
      {
        "line": 2336,
        "token": "cause",
        "context": "- **Root cause**: Statistics fields not exposed at top level of storage health response"
      },
      {
        "line": 2339,
        "token": "stats",
        "context": "- Extract `unique_tags` from `primary_stats` to top-level stats dictionary"
      },
      {
        "line": 2340,
        "token": "stats",
        "context": "- Extract `memories_this_week` from `primary_stats` to top-level stats dictionary"
      },
      {
        "line": 2341,
        "token": "consistency",
        "context": "- Maintains consistency with SQLite-vec standalone backend behavior"
      },
      {
        "line": 2344,
        "token": "subquery",
        "context": "- Added SQL subquery to calculate `unique_tags` from tags table"
      },
      {
        "line": 2345,
        "token": "subquery",
        "context": "- Added SQL subquery to calculate `memories_this_week` (last 7 days)"
      },
      {
        "line": 2346,
        "token": "returns",
        "context": "- Now returns both statistics in `get_stats()` response"
      },
      {
        "line": 2349,
        "token": "now",
        "context": "- âœ… Dashboard now correctly displays weekly memory count for all backends"
      },
      {
        "line": 2350,
        "token": "now",
        "context": "- âœ… Dashboard now correctly displays unique tags count for all backends"
      },
      {
        "line": 2351,
        "token": "standalone",
        "context": "- âœ… SQLite-vec standalone backend already had these fields (no change needed)"
      },
      {
        "line": 2352,
        "token": "issue",
        "context": "- âœ… Fixes issue where hybrid/cloudflare users saw \"0\" despite having memories and tags"
      },
      {
        "line": 2359,
        "token": "fix",
        "context": "- **Critical fix**: Memory card text barely visible in dark mode due to hardcoded white backgrounds"
      },
      {
        "line": 2360,
        "token": "cause",
        "context": "- **Root cause**: CSS variable redefinition made text colors too faint when applied to white backgrounds"
      },
      {
        "line": 2361,
        "token": "all",
        "context": "- **Solution**: Override all major containers with dark backgrounds (`#1f2937`) and force bright text colors"
      },
      {
        "line": 2364,
        "token": "cards",
        "context": "- Memory cards: Now use dark card backgrounds with bright white text (`#f9fafb`)"
      },
      {
        "line": 2365,
        "token": "metadata",
        "context": "- Memory metadata: Labels bright white (`#f9fafb`), values light gray (`#d1d5db`)"
      },
      {
        "line": 2366,
        "token": "cards",
        "context": "- Action cards: Dark backgrounds for proper contrast"
      },
      {
        "line": 2367,
        "token": "containers",
        "context": "- All containers: App header, welcome card, search filters, modals now properly dark"
      },
      {
        "line": 2370,
        "token": "important",
        "context": "- Added `!important` overrides for 11 container backgrounds"
      },
      {
        "line": 2371,
        "token": "content",
        "context": "- Memory content text: `var(--neutral-900) !important` â†’ `#f9fafb`"
      },
      {
        "line": 2372,
        "token": "meta",
        "context": "- Memory meta labels: `var(--neutral-900) !important` â†’ `#f9fafb`"
      },
      {
        "line": 2373,
        "token": "meta",
        "context": "- Memory meta values: `var(--neutral-600) !important` â†’ `#d1d5db`"
      },
      {
        "line": 2374,
        "token": "comments",
        "context": "- Cache-busting comments to force browser reload"
      },
      {
        "line": 2377,
        "token": "mode",
        "context": "- âœ… Dark mode now fully readable across all dashboard views"
      },
      {
        "line": 2378,
        "token": "contrast",
        "context": "- âœ… Proper contrast ratios for accessibility"
      },
      {
        "line": 2379,
        "token": "visual",
        "context": "- âœ… No visual regression from v8.1.0 light mode"
      },
      {
        "line": 2385,
        "token": "dashboard",
        "context": "Production-ready dashboard improvements with comprehensive dark mode support, settings management, and optimized CSS architecture."
      },
      {
        "line": 2390,
        "token": "theme",
        "context": "- **Clean theme switching** with sun/moon icon toggle in header"
      },
      {
        "line": 2391,
        "token": "preference",
        "context": "- **Persistent preference** via localStorage - theme survives page reloads"
      },
      {
        "line": 2392,
        "token": "transitions",
        "context": "- **Smooth transitions** between light and dark themes"
      },
      {
        "line": 2393,
        "token": "coverage",
        "context": "- **Full coverage** across all dashboard views (Dashboard, Search, Browse)"
      },
      {
        "line": 2394,
        "token": "theme",
        "context": "- **Performance**: Instant theme switching with CSS class toggle"
      },
      {
        "line": 2397,
        "token": "preferences",
        "context": "- **Centralized preferences** accessible via cogwheel button"
      },
      {
        "line": 2398,
        "token": "preferences",
        "context": "- **User preferences**:"
      },
      {
        "line": 2399,
        "token": "selection",
        "context": "- Theme selection (Light/Dark)"
      },
      {
        "line": 2400,
        "token": "density",
        "context": "- View density (Comfortable/Compact)"
      },
      {
        "line": 2401,
        "token": "preview",
        "context": "- Memory preview lines (1-10)"
      },
      {
        "line": 2402,
        "token": "information",
        "context": "- **System information display**:"
      },
      {
        "line": 2403,
        "token": "version",
        "context": "- Application version"
      },
      {
        "line": 2404,
        "token": "backend",
        "context": "- Storage backend configuration (Hybrid/SQLite/Cloudflare)"
      },
      {
        "line": 2405,
        "token": "backend",
        "context": "- Primary/secondary backend details"
      },
      {
        "line": 2406,
        "token": "model",
        "context": "- Embedding model and dimensions"
      },
      {
        "line": 2407,
        "token": "size",
        "context": "- Database size"
      },
      {
        "line": 2408,
        "token": "memories",
        "context": "- Total memories count"
      },
      {
        "line": 2409,
        "token": "uptime",
        "context": "- Server uptime (human-readable format)"
      },
      {
        "line": 2410,
        "token": "data",
        "context": "- **Robust data loading**: Promise.allSettled() for graceful error handling"
      },
      {
        "line": 2411,
        "token": "feedback",
        "context": "- **User feedback**: Toast notifications for save failures"
      },
      {
        "line": 2416,
        "token": "code",
        "context": "- **Massive code reduction**: 2116 â†’ 1708 lines (**-408 lines, -19% smaller**)"
      },
      {
        "line": 2417,
        "token": "implementation",
        "context": "- **Clean implementation**: Redefine CSS variables in `body.dark-mode` instead of 200+ hardcoded overrides"
      },
      {
        "line": 2418,
        "token": "source",
        "context": "- **Maintainability**: Single source of truth for dark mode colors"
      },
      {
        "line": 2419,
        "token": "theming",
        "context": "- **Automatic theming**: All components using CSS variables get dark mode support"
      },
      {
        "line": 2420,
        "token": "important",
        "context": "- **No !important abuse**: Eliminated all !important tags except `.hidden` utility class"
      },
      {
        "line": 2423,
        "token": "configuration",
        "context": "- **Data-driven configuration**: System info fields defined in static config object"
      },
      {
        "line": 2424,
        "token": "class",
        "context": "- **Static class properties**: Constants defined once per class, not per instance"
      },
      {
        "line": 2425,
        "token": "error",
        "context": "- **Robust error handling**: Promise.allSettled() prevents partial failures"
      },
      {
        "line": 2426,
        "token": "value",
        "context": "- **Zero value handling**: Proper `!= null` checks (displays 0 MB, 0 memories correctly)"
      },
      {
        "line": 2427,
        "token": "field",
        "context": "- **Smart field updates**: Targeted element updates using config keys"
      },
      {
        "line": 2429,
        "token": "HTML",
        "context": "##### **HTML Optimization**"
      },
      {
        "line": 2430,
        "token": "SVG",
        "context": "- **SVG icon deduplication**: Info icon defined once in `<defs>`, reused via `<use>`"
      },
      {
        "line": 2431,
        "token": "size",
        "context": "- **File size reduction**: 4 inline SVG instances â†’ 1 reusable symbol"
      },
      {
        "line": 2432,
        "token": "semantic",
        "context": "- **Accessibility**: Proper `aria-hidden` and semantic structure"
      },
      {
        "line": 2433,
        "token": "inline",
        "context": "- **No inline styles**: All styling moved to CSS for better separation of concerns"
      },
      {
        "line": 2448,
        "token": "review",
        "context": "- **8 review iterations** - All feedback addressed"
      },
      {
        "line": 2449,
        "token": "verdict",
        "context": "- **Final verdict**: \"Solid enhancement to the dashboard's user experience\""
      },
      {
        "line": 2450,
        "token": "improvements",
        "context": "- **Key improvements**:"
      },
      {
        "line": 2451,
        "token": "redefinition",
        "context": "- Variable redefinition pattern for dark mode"
      },
      {
        "line": 2452,
        "token": "redundant",
        "context": "- Removed redundant arrays (derive from Object.keys)"
      },
      {
        "line": 2453,
        "token": "SVG",
        "context": "- SVG icon deduplication"
      },
      {
        "line": 2454,
        "token": "error",
        "context": "- Better error messages for users"
      },
      {
        "line": 2455,
        "token": "method",
        "context": "- Static method optimization"
      },
      {
        "line": 2458,
        "token": "lines",
        "context": "- `src/mcp_memory_service/web/static/style.css`: -408 lines (major refactoring)"
      },
      {
        "line": 2459,
        "token": "lines",
        "context": "- `src/mcp_memory_service/web/static/app.js`: +255 lines (settings, theme management)"
      },
      {
        "line": 2460,
        "token": "lines",
        "context": "- `src/mcp_memory_service/web/static/index.html`: +134 lines (modal, icons, SVG defs)"
      },
      {
        "line": 2461,
        "token": "change",
        "context": "- **Net change**: -19 lines (improved functionality with less code)"
      },
      {
        "line": 2465,
        "token": "comfort",
        "context": "- **Visual comfort**: Dark mode reduces eye strain for long sessions"
      },
      {
        "line": 2466,
        "token": "theme",
        "context": "- **Personalization**: User-controlled theme and display preferences"
      },
      {
        "line": 2467,
        "token": "information",
        "context": "- **Transparency**: System information visible in settings modal"
      },
      {
        "line": 2468,
        "token": "notifications",
        "context": "- **Feedback**: Error notifications for localStorage failures"
      },
      {
        "line": 2469,
        "token": "mode",
        "context": "- **Consistency**: Dark mode styling matches across all views"
      },
      {
        "line": 2470,
        "token": "contrast",
        "context": "- **Accessibility**: High contrast, semantic HTML, keyboard navigation"
      },
      {
        "line": 2474,
        "token": "approach",
        "context": "- **Conservative approach**: Original light mode design preserved pixel-perfect"
      },
      {
        "line": 2475,
        "token": "mode",
        "context": "- **Additive CSS**: Dark mode styles never modify existing rules"
      },
      {
        "line": 2476,
        "token": "compatibility",
        "context": "- **Browser compatibility**: CSS variables, localStorage, SSE all widely supported"
      },
      {
        "line": 2477,
        "token": "responsive",
        "context": "- **Mobile responsive**: Works on all screen sizes (tested 768px, 1024px breakpoints)"
      },
      {
        "line": 2478,
        "token": "protection",
        "context": "- **XSS protection**: All user inputs properly escaped via `escapeHtml()`"
      },
      {
        "line": 2480,
        "token": "commits",
        "context": "**PR**: #150 (16 commits, 543 additions, 23 deletions)"
      },
      {
        "line": 2488,
        "token": "major",
        "context": "**This is a major breaking change release**. The ChromaDB backend has been completely removed from the codebase after being deprecated since v5.x."
      },
      {
        "line": 2493,
        "token": "lines",
        "context": "- **Deleted 2,841 lines** of ChromaDB-related code from the codebase"
      },
      {
        "line": 2494,
        "token": "files",
        "context": "- **Core files removed**:"
      },
      {
        "line": 2495,
        "token": "lines",
        "context": "- `src/mcp_memory_service/storage/chroma.py` (1,501 lines)"
      },
      {
        "line": 2496,
        "token": "lines",
        "context": "- `src/mcp_memory_service/storage/chroma_enhanced.py` (176 lines)"
      },
      {
        "line": 2499,
        "token": "removed",
        "context": "- **Dependencies removed**:"
      },
      {
        "line": 2500,
        "token": "chromadb",
        "context": "- `chromadb` optional dependency group from `pyproject.toml`"
      },
      {
        "line": 2501,
        "token": "dependency",
        "context": "- ~2GB PyTorch + sentence-transformers dependency burden eliminated"
      },
      {
        "line": 2502,
        "token": "updates",
        "context": "- **Factory updates**:"
      },
      {
        "line": 2503,
        "token": "backend",
        "context": "- Removed ChromaDB backend case from storage factory"
      },
      {
        "line": 2504,
        "token": "initialization",
        "context": "- Removed ChromaStorage initialization logic"
      },
      {
        "line": 2505,
        "token": "clear",
        "context": "- Added clear error messages directing to migration guide"
      },
      {
        "line": 2510,
        "token": "https",
        "context": "- **Branch**: [`chromadb-legacy`](https://github.com/doobidoo/mcp-memory-service/tree/chromadb-legacy)"
      },
      {
        "line": 2511,
        "token": "code",
        "context": "- **Tag**: `chromadb-legacy-final` - Final ChromaDB code snapshot before removal"
      },
      {
        "line": 2512,
        "token": "active",
        "context": "- **Status**: Frozen/Archived - No active maintenance"
      },
      {
        "line": 2513,
        "token": "reference",
        "context": "- **Purpose**: Historical reference and migration support"
      },
      {
        "line": 2517,
        "token": "legacy",
        "context": "- **Status**: Moved to legacy folder, still functional for migrations"
      },
      {
        "line": 2518,
        "token": "branch",
        "context": "- **Alternative**: Check chromadb-legacy branch for additional migration tools"
      },
      {
        "line": 2521,
        "token": "comprehensive",
        "context": "See **Issue #148** for comprehensive ChromaDB to Hybrid/SQLite-vec/Cloudflare migration instructions:"
      },
      {
        "line": 2522,
        "token": "migration",
        "context": "- Step-by-step migration procedures"
      },
      {
        "line": 2523,
        "token": "backup",
        "context": "- Data backup and validation steps"
      },
      {
        "line": 2524,
        "token": "migration",
        "context": "- Recommended migration path: **ChromaDB â†’ Hybrid Backend**"
      },
      {
        "line": 2530,
        "token": "cloud",
        "context": "| **Hybrid** | â­ RECOMMENDED | Production, multi-device | 5ms (SQLite) + cloud sync |"
      },
      {
        "line": 2532,
        "token": "serverless",
        "context": "| **Cloudflare** | âœ… Supported | Cloud-native, serverless | Network dependent |"
      },
      {
        "line": 2533,
        "token": "HTTP",
        "context": "| **HTTP Client** | âœ… Supported | Distributed, multi-client | Network dependent |"
      },
      {
        "line": 2534,
        "token": "legacy",
        "context": "| **ChromaDB** | âŒ REMOVED | N/A - See legacy branch | N/A |"
      },
      {
        "line": 2539,
        "token": "slower",
        "context": "- **Performance**: ChromaDB 15ms vs SQLite-vec 5ms (3x slower)"
      },
      {
        "line": 2540,
        "token": "download",
        "context": "- **Dependencies**: ~2GB PyTorch download eliminated"
      },
      {
        "line": 2541,
        "token": "lines",
        "context": "- **Maintenance**: 2,841 lines of code removed reduces complexity"
      },
      {
        "line": 2542,
        "token": "backend",
        "context": "- **Better Alternatives**: Hybrid backend provides superior performance with cloud sync"
      },
      {
        "line": 2545,
        "token": "immediate",
        "context": "- **No immediate action required** - Can continue using v7.x releases"
      },
      {
        "line": 2546,
        "token": "path",
        "context": "- **Upgrade path available** - Migration guide in Issue #148"
      },
      {
        "line": 2547,
        "token": "branch",
        "context": "- **Legacy branch available** - Full code preserved for reference"
      },
      {
        "line": 2548,
        "token": "timeline",
        "context": "- **Support timeline**: v7.x will remain available, but no new features"
      },
      {
        "line": 2553,
        "token": "storage",
        "context": "- ChromaDB storage backend implementations"
      },
      {
        "line": 2554,
        "token": "tests",
        "context": "- ChromaDB-specific tests and fixtures"
      },
      {
        "line": 2555,
        "token": "configuration",
        "context": "- ChromaDB configuration handling in factory"
      },
      {
        "line": 2556,
        "token": "deprecation",
        "context": "- ChromaDB deprecation warnings in server.py"
      },
      {
        "line": 2559,
        "token": "use",
        "context": "- Attempting to use `MCP_MEMORY_STORAGE_BACKEND=chroma` now raises clear `ValueError`"
      },
      {
        "line": 2560,
        "token": "message",
        "context": "- Error message includes link to migration guide and legacy branch"
      },
      {
        "line": 2561,
        "token": "logic",
        "context": "- Fallback logic removed - only valid backends accepted"
      },
      {
        "line": 2564,
        "token": "chromadb",
        "context": "- Removed `chromadb>=0.5.0` from optional dependencies"
      },
      {
        "line": 2565,
        "token": "full",
        "context": "- Updated `full` dependency group to exclude chromadb"
      },
      {
        "line": 2566,
        "token": "impact",
        "context": "- No impact on core dependencies - only optional dependency cleanup"
      },
      {
        "line": 2571,
        "token": "your",
        "context": "1. **Backup your data**:"
      },
      {
        "line": 2578,
        "token": "backend",
        "context": "2. **Switch backend**:"
      },
      {
        "line": 2597,
        "token": "migration",
        "context": "4. **Validate migration**:"
      },
      {
        "line": 2603,
        "token": "seamlessly",
        "context": "- Upgrade seamlessly - no breaking changes for SQLite-vec, Cloudflare, or Hybrid users"
      },
      {
        "line": 2604,
        "token": "reduced",
        "context": "- Enjoy reduced dependency footprint and simplified codebase"
      },
      {
        "line": 2607,
        "token": "architecture",
        "context": "- Updated architecture diagrams to show ChromaDB as deprecated/removed"
      },
      {
        "line": 2608,
        "token": "storage",
        "context": "- Updated storage backend comparison tables"
      },
      {
        "line": 2609,
        "token": "migration",
        "context": "- Added migration guide in Issue #148"
      },
      {
        "line": 2610,
        "token": "branch",
        "context": "- Legacy branch README updated with archive notice"
      },
      {
        "line": 2614,
        "token": "https",
        "context": "- **Legacy Branch**: https://github.com/doobidoo/mcp-memory-service/tree/chromadb-legacy"
      },
      {
        "line": 2615,
        "token": "detailed",
        "context": "- **Migration Guide**: See Issue #148 for detailed migration instructions"
      },
      {
        "line": 2621,
        "token": "older",
        "context": "For older releases (v7.21.0 and earlier), see [CHANGELOG-HISTORIC.md](./CHANGELOG-HISTORIC.md)."
      },
      {
        "line": 2623,
        "token": "through",
        "context": "**Historic Version Range**: v0.1.0 through v7.21.0 (2025-07-XX through 2025-10-03)"
      },
      {
        "line": 2629,
        "token": "loader",
        "context": "- **Semtools loader integration** - Optional Rust-based document parser with LlamaParse API for superior extraction quality"
      },
      {
        "line": 2630,
        "token": "format",
        "context": "- **New format support** - DOCX, DOC, PPTX, XLSX (requires semtools installation)"
      },
      {
        "line": 2631,
        "token": "chunking",
        "context": "- **Intelligent chunking** - Respects paragraph and sentence boundaries for better semantic coherence"
      },
      {
        "line": 2632,
        "token": "fallback",
        "context": "- **Graceful fallback** - Auto-detects semtools availability, uses native parsers (PyPDF2/pdfplumber) if unavailable"
      },
      {
        "line": 2633,
        "token": "options",
        "context": "- **Configuration options** - Environment variables for LLAMAPARSE_API_KEY, MCP_DOCUMENT_CHUNK_SIZE, MCP_DOCUMENT_CHUNK_OVERLAP"
      },
      {
        "line": 2634,
        "token": "breaking",
        "context": "- **Zero breaking changes** - Fully backward compatible, existing document ingestion unchanged"
      },
      {
        "line": 2639,
        "token": "PDF",
        "context": "| PDF | PyPDF2/pdfplumber | âœ… LlamaParse | Excellent (OCR, tables) |"
      },
      {
        "line": 2640,
        "token": "supported",
        "context": "| DOCX/DOC | âŒ Not supported | âœ… LlamaParse | Excellent |"
      },
      {
        "line": 2641,
        "token": "supported",
        "context": "| PPTX | âŒ Not supported | âœ… LlamaParse | Excellent |"
      },
      {
        "line": 2642,
        "token": "supported",
        "context": "| XLSX | âŒ Not supported | âœ… LlamaParse | Excellent |"
      },
      {
        "line": 2646,
        "token": "file",
        "context": "- **New file**: `src/mcp_memory_service/ingestion/semtools_loader.py` (220 lines)"
      },
      {
        "line": 2647,
        "token": "class",
        "context": "- SemtoolsLoader class implementing DocumentLoader interface"
      },
      {
        "line": 2648,
        "token": "subprocess",
        "context": "- Async subprocess execution with 5-minute timeout for large documents"
      },
      {
        "line": 2649,
        "token": "semtools",
        "context": "- Automatic semtools availability detection via `shutil.which()`"
      },
      {
        "line": 2650,
        "token": "key",
        "context": "- LlamaParse API key support via LLAMAPARSE_API_KEY environment variable"
      },
      {
        "line": 2651,
        "token": "error",
        "context": "- Comprehensive error handling with detailed logging"
      },
      {
        "line": 2652,
        "token": "document",
        "context": "- **Modified**: `src/mcp_memory_service/config.py` - Added document processing configuration section (lines 564-586)"
      },
      {
        "line": 2653,
        "token": "new",
        "context": "- **Modified**: `src/mcp_memory_service/ingestion/registry.py` - Registered new formats (DOCX, PPTX, XLSX)"
      },
      {
        "line": 2654,
        "token": "semtools",
        "context": "- **Modified**: `src/mcp_memory_service/ingestion/__init__.py` - Auto-registration of semtools loader"
      },
      {
        "line": 2655,
        "token": "comprehensive",
        "context": "- **Modified**: `CLAUDE.md` - Added comprehensive \"Document Ingestion (v7.6.0+)\" section with usage examples"
      },
      {
        "line": 2656,
        "token": "comprehensive",
        "context": "- **Tests**: `tests/unit/test_semtools_loader.py` - 12 comprehensive unit tests, all passing âœ…"
      },
      {
        "line": 2685,
        "token": "PDF",
        "context": "- **Superior PDF parsing** - OCR capabilities and table extraction via LlamaParse"
      },
      {
        "line": 2686,
        "token": "support",
        "context": "- **Microsoft Office support** - DOCX, PPTX formats now supported (previously unavailable)"
      },
      {
        "line": 2687,
        "token": "error",
        "context": "- **Production-ready** - Comprehensive error handling, timeout protection, detailed logging"
      },
      {
        "line": 2688,
        "token": "deployment",
        "context": "- **Flexible deployment** - Optional enhancement, works perfectly without semtools"
      },
      {
        "line": 2689,
        "token": "detection",
        "context": "- **Automatic detection** - No configuration needed, auto-selects best available parser"
      },
      {
        "line": 2690,
        "token": "overhead",
        "context": "- **Minimal overhead** - Only ~5ms initialization cost when semtools not installed"
      },
      {
        "line": 2694,
        "token": "work",
        "context": "- Future work tracked in #147 - CLI commands, batch processing, progress reporting, benchmarks"
      },
      {
        "line": 2697,
        "token": "unit",
        "context": "- 12/12 unit tests passing"
      },
      {
        "line": 2698,
        "token": "cover",
        "context": "- Tests cover: initialization, availability checking, file handling, successful extraction, API key usage, error scenarios, timeout handling, empty content, reg"
      },
      {
        "line": 2699,
        "token": "mocking",
        "context": "- Comprehensive mocking of subprocess execution for reliable CI/CD"
      },
      {
        "line": 2706,
        "token": "recognition",
        "context": "- **HybridMemoryStorage recognition in health checks** - Resolved \"Unknown storage type: HybridMemoryStorage\" error"
      },
      {
        "line": 2707,
        "token": "statistics",
        "context": "- **Dashboard statistics for hybrid backend** - Added comprehensive stats collection from SQLite-vec primary storage"
      },
      {
        "line": 2708,
        "token": "validation",
        "context": "- **Health validation for hybrid storage** - Implemented proper validation logic for hybrid backend"
      },
      {
        "line": 2709,
        "token": "sync",
        "context": "- **Cloudflare sync status visibility** - Display sync service status (not_configured/configured/syncing)"
      },
      {
        "line": 2711,
        "token": "recall",
        "context": "#### Fixed - Missing recall() Method (PR #146)"
      },
      {
        "line": 2712,
        "token": "queries",
        "context": "- **AttributeError on time-based queries** - Added missing `recall()` method to HybridMemoryStorage"
      },
      {
        "line": 2713,
        "token": "compatibility",
        "context": "- **Server.py compatibility** - Resolves errors when server calls `storage.recall()` with time filtering"
      },
      {
        "line": 2714,
        "token": "method",
        "context": "- **Consistent API** - Matches method signature of SqliteVecMemoryStorage and CloudflareStorage"
      },
      {
        "line": 2715,
        "token": "primary",
        "context": "- **Delegation to primary** - Properly delegates to SQLite-vec primary storage for recall operations"
      },
      {
        "line": 2718,
        "token": "case",
        "context": "- Added `HybridMemoryStorage` case to `dashboard_get_stats()` endpoint (server.py:2503)"
      },
      {
        "line": 2719,
        "token": "case",
        "context": "- Added `HybridMemoryStorage` case to `check_database_health()` endpoint (server.py:3705)"
      },
      {
        "line": 2720,
        "token": "recall",
        "context": "- Added `recall()` method to HybridMemoryStorage (hybrid.py:916)"
      },
      {
        "line": 2721,
        "token": "signature",
        "context": "- Method signature: `async def recall(query: Optional[str] = None, n_results: int = 5, start_timestamp: Optional[float] = None, end_timestamp: Optional[float] ="
      },
      {
        "line": 2722,
        "token": "primary",
        "context": "- Query primary storage (SQLite-vec) for memory counts, tags, database info"
      },
      {
        "line": 2723,
        "token": "code",
        "context": "- Fixed code quality issues from Gemini Code Assist review (removed duplicate imports, refactored getattr usage)"
      },
      {
        "line": 2726,
        "token": "HTTP",
        "context": "- âœ… HTTP dashboard now properly displays hybrid backend statistics"
      },
      {
        "line": 2727,
        "token": "health",
        "context": "- âœ… MCP health check tool correctly validates hybrid storage"
      },
      {
        "line": 2728,
        "token": "recall",
        "context": "- âœ… Time-based recall queries now work correctly with hybrid backend"
      },
      {
        "line": 2729,
        "token": "more",
        "context": "- âœ… No more \"Unknown storage type\" or AttributeError exceptions"
      },
      {
        "line": 2730,
        "token": "fully",
        "context": "- âœ… HybridMemoryStorage fully compatible with all server.py operations"
      },
      {
        "line": 2737,
        "token": "early",
        "context": "- **Configurable early break conditions** - Made hybrid sync termination thresholds configurable via environment variables"
      },
      {
        "line": 2738,
        "token": "after",
        "context": "- `MCP_HYBRID_MAX_EMPTY_BATCHES` - Stop after N consecutive batches without new syncs (default: 20, was hardcoded 5)"
      },
      {
        "line": 2739,
        "token": "memories",
        "context": "- `MCP_HYBRID_MIN_CHECK_COUNT` - Minimum memories to check before early stop (default: 1000, was hardcoded 200)"
      },
      {
        "line": 2740,
        "token": "default",
        "context": "- **Increased default thresholds** - Quadrupled default values (5â†’20 batches, 200â†’1000 memories) to ensure complete synchronization"
      },
      {
        "line": 2741,
        "token": "logging",
        "context": "- **Enhanced logging** - Added detailed sync progress logging every 100 memories with consecutive empty batch tracking"
      },
      {
        "line": 2742,
        "token": "visibility",
        "context": "- **Threshold visibility** - Break condition log messages now display threshold values for better diagnostics"
      },
      {
        "line": 2745,
        "token": "incomplete",
        "context": "- **Resolved incomplete sync issue** - Dashboard was showing only 1040 memories instead of 1200+ from Cloudflare"
      },
      {
        "line": 2746,
        "token": "cause",
        "context": "- **Root cause** - Hardcoded early break conditions triggered prematurely causing missing memories"
      },
      {
        "line": 2747,
        "token": "memories",
        "context": "- **Impact** - Missing memories distributed throughout Cloudflare dataset were never synced to local SQLite"
      },
      {
        "line": 2757,
        "token": "input",
        "context": "- **Added input validation** - `min_value=1` constraint prevents zero values that would break sync"
      },
      {
        "line": 2758,
        "token": "progress",
        "context": "- **Fixed progress logging** - Prevents misleading initial log message at `processed_count=0`"
      },
      {
        "line": 2759,
        "token": "duplicate",
        "context": "- **Eliminated duplicate defaults** - Refactored to use `getattr` pattern for config imports"
      },
      {
        "line": 2760,
        "token": "maintainability",
        "context": "- **Improved maintainability** - Centralized default values in config.py"
      },
      {
        "line": 2763,
        "token": "synchronization",
        "context": "- Complete synchronization of all Cloudflare memories to SQLite"
      },
      {
        "line": 2764,
        "token": "per",
        "context": "- Configurable per deployment needs without code changes"
      },
      {
        "line": 2765,
        "token": "diagnostics",
        "context": "- Better diagnostics for troubleshooting sync issues"
      },
      {
        "line": 2766,
        "token": "protection",
        "context": "- Maintains protection against infinite loops (early break still active)"
      },
      {
        "line": 2767,
        "token": "protection",
        "context": "- Preserves Cloudflare API protection through configurable limits"
      },
      {
        "line": 2768,
        "token": "behavior",
        "context": "- No behavior change for deployments with small datasets"
      },
      {
        "line": 2771,
        "token": "issue",
        "context": "- Closes issue: Incomplete hybrid sync (1040/1200+ memories)"
      },
      {
        "line": 2772,
        "token": "hybrid",
        "context": "- PR #142: Configurable hybrid sync break conditions"
      },
      {
        "line": 2773,
        "token": "feedback",
        "context": "- All Gemini Code Assist feedback addressed"
      },
      {
        "line": 2780,
        "token": "scripts",
        "context": "- **Consolidated Litestream scripts** â†’ `scripts/sync/litestream/`"
      },
      {
        "line": 2781,
        "token": "shell",
        "context": "- Moved 9 shell scripts from `/sync/` directory (git-like staging workflow)"
      },
      {
        "line": 2782,
        "token": "setup",
        "context": "- Relocated 4 root-level setup scripts (`enhanced_memory_store.sh`, `setup_local_litestream.sh`, etc.)"
      },
      {
        "line": 2783,
        "token": "launchd",
        "context": "- Moved macOS launchd service (`io.litestream.replication.plist`)"
      },
      {
        "line": 2784,
        "token": "staging",
        "context": "- Moved staging database schema (`staging_db_init.sql`)"
      },
      {
        "line": 2785,
        "token": "comprehensive",
        "context": "- **Created comprehensive documentation** - `scripts/sync/litestream/README.md`"
      },
      {
        "line": 2786,
        "token": "network",
        "context": "- Local network HTTP API sync architecture"
      },
      {
        "line": 2787,
        "token": "staging",
        "context": "- Git-like staging workflow guide"
      },
      {
        "line": 2788,
        "token": "configuration",
        "context": "- Setup and configuration instructions"
      },
      {
        "line": 2789,
        "token": "hybrid",
        "context": "- Comparison with Cloudflare hybrid sync"
      },
      {
        "line": 2792,
        "token": "systemd",
        "context": "- **Moved systemd service** â†’ `scripts/service/mcp-memory.service`"
      },
      {
        "line": 2793,
        "token": "unused",
        "context": "- **Archived unused configs** â†’ `archive/deployment-configs/`"
      },
      {
        "line": 2796,
        "token": "empty",
        "context": "- **Removed empty `/deployment/` directory**"
      },
      {
        "line": 2800,
        "token": "backend",
        "context": "- `debug_server_initialization.py` - Cloudflare backend debugger"
      },
      {
        "line": 2801,
        "token": "storage",
        "context": "- `verify_hybrid_sync.py` - Hybrid storage verification"
      },
      {
        "line": 2802,
        "token": "documentation",
        "context": "- **Archived documentation** â†’ `archive/`"
      },
      {
        "line": 2804,
        "token": "release-notes-v7.1.4.md",
        "context": "- `release-notes-v7.1.4.md` â†’ `archive/release-notes/`"
      },
      {
        "line": 2807,
        "token": "dual",
        "context": "- **Enhanced `scripts/README.md`** with dual sync system documentation"
      },
      {
        "line": 2808,
        "token": "cloud",
        "context": "- Cloudflare Hybrid Sync (cloud backend) section"
      },
      {
        "line": 2809,
        "token": "local",
        "context": "- Litestream Sync (local network HTTP API) section"
      },
      {
        "line": 2810,
        "token": "distinction",
        "context": "- Clear distinction between the two systems"
      },
      {
        "line": 2813,
        "token": "sync",
        "context": "- **Litestream sync**: Multi-device synchronization via central SQLite-vec HTTP API (local network)"
      },
      {
        "line": 2814,
        "token": "case",
        "context": "- Use case: Privacy-focused, data stays on local network"
      },
      {
        "line": 2815,
        "token": "staging",
        "context": "- Architecture: Git-like staging workflow with conflict detection"
      },
      {
        "line": 2816,
        "token": "sync",
        "context": "- **Cloudflare sync**: Cloud-based hybrid backend (internet)"
      },
      {
        "line": 2817,
        "token": "case",
        "context": "- Use case: Global access, automatic cloud backup"
      },
      {
        "line": 2818,
        "token": "sync",
        "context": "- Architecture: Direct sync queue with background operations"
      },
      {
        "line": 2821,
        "token": "files",
        "context": "- 27 files changed, 594 insertions(+), 3 deletions(-)"
      },
      {
        "line": 2822,
        "token": "files",
        "context": "- 13 files renamed/relocated"
      },
      {
        "line": 2823,
        "token": "new",
        "context": "- 3 new documentation files"
      },
      {
        "line": 2824,
        "token": "new",
        "context": "- 3 new archive directories"
      },
      {
        "line": 2827,
        "token": "organizational",
        "context": "None - Purely organizational changes with no functional impact"
      },
      {
        "line": 2830,
        "token": "using",
        "context": "If using Litestream sync scripts:"
      },
      {
        "line": 2831,
        "token": "script",
        "context": "- Update script paths: `/sync/memory_sync.sh` â†’ `scripts/sync/litestream/memory_sync.sh`"
      },
      {
        "line": 2832,
        "token": "plist",
        "context": "- Launchd plist location: `/deployment/io.litestream.replication.plist` â†’ `scripts/sync/litestream/io.litestream.replication.plist`"
      },
      {
        "line": 2833,
        "token": "scripts",
        "context": "- All scripts remain functionally identical"
      },
      {
        "line": 2839,
        "token": "HTTP",
        "context": "#### ğŸ”§ **MCP HTTP Endpoint Fixes**"
      },
      {
        "line": 2840,
        "token": "JSON",
        "context": "- **Fixed JSON serialization** - Changed `str(result)` to `json.dumps(result)` for proper client parsing"
      },
      {
        "line": 2841,
        "token": "endpoint",
        "context": "- MCP endpoint was returning Python dict string representation (`{'key': 'value'}`) instead of valid JSON (`{\"key\": \"value\"}`)"
      },
      {
        "line": 2842,
        "token": "hook",
        "context": "- Caused hook clients to fail parsing responses with \"Expected ',' or '}'\" errors"
      },
      {
        "line": 2843,
        "token": "similarity",
        "context": "- **Fixed similarity threshold** - Changed default from `0.7` to `0.0` to return all relevant memories"
      },
      {
        "line": 2844,
        "token": "similarity",
        "context": "- 70% similarity threshold was too restrictive, filtering out memories with scores 0.2-0.5"
      },
      {
        "line": 2845,
        "token": "returns",
        "context": "- Now returns all results, allowing client-side scoring to determine relevance"
      },
      {
        "line": 2847,
        "token": "HTTP/HTTPS",
        "context": "#### ğŸ”Œ **Memory Hooks HTTP/HTTPS Protocol Detection**"
      },
      {
        "line": 2848,
        "token": "protocol",
        "context": "- **Fixed protocol detection** in `claude-hooks/utilities/memory-client.js`"
      },
      {
        "line": 2849,
        "token": "http",
        "context": "- Added `http` module import alongside existing `https` module"
      },
      {
        "line": 2850,
        "token": "dynamic",
        "context": "- Implemented dynamic protocol selection: `const protocol = url.protocol === 'https:' ? https : http`"
      },
      {
        "line": 2851,
        "token": "hardcoded",
        "context": "- Previously hardcoded `https.request()` failed for `http://` endpoints"
      },
      {
        "line": 2854,
        "token": "hooks",
        "context": "- âœ… Session-start hooks now properly inject memory context on Claude Code startup"
      },
      {
        "line": 2855,
        "token": "HTTP",
        "context": "- âœ… HTTP memory server (port 8888) connectivity fully restored"
      },
      {
        "line": 2856,
        "token": "memories",
        "context": "- âœ… Relevant memories (score 0.2-0.5) no longer filtered out by overly restrictive threshold"
      },
      {
        "line": 2857,
        "token": "JSON",
        "context": "- âœ… JSON parsing errors resolved for all memory retrieval operations"
      },
      {
        "line": 2864,
        "token": "script",
        "context": "- **`sync_now.py` script** - Manual on-demand synchronization for hybrid storage on Linux"
      },
      {
        "line": 2865,
        "token": "data",
        "context": "- Type-safe data structures with `TypedDict` (SyncResult, SyncStatus)"
      },
      {
        "line": 2866,
        "token": "logging",
        "context": "- Comprehensive logging with configurable levels"
      },
      {
        "line": 2867,
        "token": "mode",
        "context": "- Verbose mode (`--verbose`) for detailed error tracebacks"
      },
      {
        "line": 2868,
        "token": "status",
        "context": "- Robust status validation prevents misleading success reports"
      },
      {
        "line": 2869,
        "token": "error",
        "context": "- Proper error handling with specific exception types"
      },
      {
        "line": 2870,
        "token": "integration",
        "context": "- **Systemd integration** - Automated hourly background synchronization"
      },
      {
        "line": 2871,
        "token": "service",
        "context": "- `mcp-memory-sync.service` - Systemd service for executing sync operations"
      },
      {
        "line": 2872,
        "token": "timer",
        "context": "- `mcp-memory-sync.timer` - Systemd timer triggering hourly syncs (5min after boot, persistent across reboots)"
      },
      {
        "line": 2873,
        "token": "improvement",
        "context": "- **Security improvement** - API key moved to separate environment file in systemd service template"
      },
      {
        "line": 2876,
        "token": "error",
        "context": "- Enhanced error handling throughout sync utilities"
      },
      {
        "line": 2877,
        "token": "type",
        "context": "- Improved type safety with typed dictionaries for API results"
      },
      {
        "line": 2878,
        "token": "logging",
        "context": "- Better logging practices using `logger.exception()` for verbose errors"
      },
      {
        "line": 2879,
        "token": "import",
        "context": "- Modular import structure following Python best practices"
      },
      {
        "line": 2886,
        "token": "content",
        "context": "- **Intelligent content length management** - Prevents embedding failures by enforcing backend-specific limits"
      },
      {
        "line": 2887,
        "token": "content",
        "context": "- **Automatic content splitting** - Long content automatically splits into linked chunks with preserved context"
      },
      {
        "line": 2888,
        "token": "limits",
        "context": "- **Backend-aware limits**:"
      },
      {
        "line": 2889,
        "token": "characters",
        "context": "- Cloudflare: 800 characters (BGE-base-en-v1.5 model 512 token limit)"
      },
      {
        "line": 2890,
        "token": "characters",
        "context": "- ChromaDB: 1500 characters (all-MiniLM-L6-v2 model 384 token limit)"
      },
      {
        "line": 2891,
        "token": "local",
        "context": "- SQLite-vec: Unlimited (local storage)"
      },
      {
        "line": 2892,
        "token": "characters",
        "context": "- Hybrid: 800 characters (constrained by Cloudflare secondary storage)"
      },
      {
        "line": 2893,
        "token": "boundary",
        "context": "- **Smart boundary preservation** - Splits respect natural boundaries (paragraphs â†’ sentences â†’ words)"
      },
      {
        "line": 2894,
        "token": "preservation",
        "context": "- **Context preservation** - 50-character overlap between chunks maintains semantic continuity"
      },
      {
        "line": 2895,
        "token": "tool",
        "context": "- **LLM-friendly tool descriptions** - MCP tool docstrings inform LLMs about limits upfront"
      },
      {
        "line": 2900,
        "token": "module",
        "context": "- **`content_splitter.py` module** - Comprehensive content chunking with boundary-aware splitting"
      },
      {
        "line": 2901,
        "token": "split",
        "context": "- **Priority-based split points**:"
      },
      {
        "line": 2902,
        "token": "newlines",
        "context": "1. Double newlines (paragraph breaks)"
      },
      {
        "line": 2903,
        "token": "newlines",
        "context": "2. Single newlines"
      },
      {
        "line": 2904,
        "token": "endings",
        "context": "3. Sentence endings (. ! ? followed by space)"
      },
      {
        "line": 2905,
        "token": "word",
        "context": "4. Spaces (word boundaries)"
      },
      {
        "line": 2906,
        "token": "position",
        "context": "5. Character position (last resort)"
      },
      {
        "line": 2907,
        "token": "overlap",
        "context": "- **Configurable overlap** - Default 50 chars, customizable via `MCP_CONTENT_SPLIT_OVERLAP`"
      },
      {
        "line": 2908,
        "token": "helpers",
        "context": "- **Validation helpers** - `estimate_chunks_needed()`, `validate_chunk_lengths()` utilities"
      },
      {
        "line": 2911,
        "token": "base",
        "context": "- **Abstract base class properties** - Added `max_content_length` and `supports_chunking` to `MemoryStorage`"
      },
      {
        "line": 2912,
        "token": "implementations",
        "context": "- **Backend implementations**:"
      },
      {
        "line": 2913,
        "token": "char",
        "context": "- `CloudflareStorage`: 800 char limit, chunking supported"
      },
      {
        "line": 2914,
        "token": "char",
        "context": "- `ChromaMemoryStorage`: 1500 char limit, chunking supported"
      },
      {
        "line": 2915,
        "token": "limit",
        "context": "- `SqliteVecMemoryStorage`: No limit (None), chunking supported"
      },
      {
        "line": 2916,
        "token": "char",
        "context": "- `HybridMemoryStorage`: 800 char limit (follows Cloudflare), chunking supported"
      },
      {
        "line": 2919,
        "token": "config",
        "context": "- **New config constants** in `config.py`:"
      },
      {
        "line": 2920,
        "token": "default",
        "context": "- `CLOUDFLARE_MAX_CONTENT_LENGTH` (default: 800)"
      },
      {
        "line": 2921,
        "token": "default",
        "context": "- `CHROMADB_MAX_CONTENT_LENGTH` (default: 1500)"
      },
      {
        "line": 2922,
        "token": "default",
        "context": "- `SQLITEVEC_MAX_CONTENT_LENGTH` (default: None/unlimited)"
      },
      {
        "line": 2923,
        "token": "default",
        "context": "- `HYBRID_MAX_CONTENT_LENGTH` (default: 800)"
      },
      {
        "line": 2924,
        "token": "default",
        "context": "- `ENABLE_AUTO_SPLIT` (default: True)"
      },
      {
        "line": 2925,
        "token": "default",
        "context": "- `CONTENT_SPLIT_OVERLAP` (default: 50)"
      },
      {
        "line": 2926,
        "token": "default",
        "context": "- `CONTENT_PRESERVE_BOUNDARIES` (default: True)"
      },
      {
        "line": 2927,
        "token": "variable",
        "context": "- **Environment variable support** - All limits configurable via environment variables"
      },
      {
        "line": 2928,
        "token": "logging",
        "context": "- **Validation and logging** - Safe parsing with min/max bounds and startup logging"
      },
      {
        "line": 2933,
        "token": "content",
        "context": "- **Automatic content splitting** - Transparently handles content exceeding backend limits"
      },
      {
        "line": 2934,
        "token": "metadata",
        "context": "- **Chunk metadata tracking**:"
      },
      {
        "line": 2935,
        "token": "flag",
        "context": "- `is_chunk`: Boolean flag identifying chunked memories"
      },
      {
        "line": 2936,
        "token": "chunk",
        "context": "- `chunk_index`: Current chunk number (1-based)"
      },
      {
        "line": 2937,
        "token": "number",
        "context": "- `total_chunks`: Total number of chunks"
      },
      {
        "line": 2938,
        "token": "content",
        "context": "- `original_length`: Original content length before splitting"
      },
      {
        "line": 2939,
        "token": "tags",
        "context": "- **Chunk tags** - Automatic `chunk:N/M` tags for easy retrieval"
      },
      {
        "line": 2940,
        "token": "return",
        "context": "- **Enhanced return values**:"
      },
      {
        "line": 2941,
        "token": "memory",
        "context": "- Single memory: `content_hash`"
      },
      {
        "line": 2942,
        "token": "content",
        "context": "- Split content: `chunks_created`, `chunk_hashes` array"
      },
      {
        "line": 2943,
        "token": "docstring",
        "context": "- **Updated docstring** - Clear backend limits documentation visible to LLMs"
      },
      {
        "line": 2948,
        "token": "test",
        "context": "- **`test_content_splitting.py`** - 20+ test cases covering:"
      },
      {
        "line": 2949,
        "token": "splitting",
        "context": "- Basic splitting functionality (short/long content, empty strings)"
      },
      {
        "line": 2950,
        "token": "preservation",
        "context": "- Boundary preservation (paragraphs, sentences, words, code blocks)"
      },
      {
        "line": 2951,
        "token": "validation",
        "context": "- Overlap validation and chunk estimation"
      },
      {
        "line": 2952,
        "token": "limit",
        "context": "- Backend limit verification (all 4 backends)"
      },
      {
        "line": 2953,
        "token": "constant",
        "context": "- Configuration constant validation"
      },
      {
        "line": 2954,
        "token": "case",
        "context": "- **Edge case coverage** - Empty content, exact lengths, overlaps"
      },
      {
        "line": 2955,
        "token": "testing",
        "context": "- **Integration testing** - Ready for all storage backends"
      },
      {
        "line": 2960,
        "token": "limits",
        "context": "- **Conservative limits** - Buffer below actual token limits to account for tokenization variance"
      },
      {
        "line": 2961,
        "token": "priority",
        "context": "- **Cloudflare priority** - Hybrid backend follows Cloudflare's stricter limit for sync compatibility"
      },
      {
        "line": 2962,
        "token": "capable",
        "context": "- **Opt-out capable** - Set `MCP_ENABLE_AUTO_SPLIT=false` to disable auto-splitting"
      },
      {
        "line": 2963,
        "token": "compatible",
        "context": "- **Backward compatible** - No breaking changes to existing functionality"
      },
      {
        "line": 2966,
        "token": "overhead",
        "context": "- **Minimal overhead** - Content length checks are O(1) property access"
      },
      {
        "line": 2967,
        "token": "chunking",
        "context": "- **Efficient chunking** - Single-pass splitting with smart boundary detection"
      },
      {
        "line": 2968,
        "token": "unnecessary",
        "context": "- **No unnecessary splitting** - Content within limits passes through unchanged"
      },
      {
        "line": 2969,
        "token": "operations",
        "context": "- **Batch operations** - All chunks stored in single transaction when possible"
      },
      {
        "line": 2972,
        "token": "issue",
        "context": "- Addresses issue: First memory store attempt (1,570 chars) exceeded Cloudflare's BGE model limit"
      },
      {
        "line": 2973,
        "token": "limits",
        "context": "- Solution: Backend-specific limits with automatic intelligent content splitting"
      },
      {
        "line": 2974,
        "token": "branch",
        "context": "- Feature branch: `feat/content-length-limits-with-splitting`"
      },
      {
        "line": 2981,
        "token": "config",
        "context": "- **Fixed dual-protocol config compatibility** - Tests now support both legacy (direct endpoint) and new (dual-protocol) configuration structures"
      },
      {
        "line": 2982,
        "token": "compatibility",
        "context": "- **Improved CI/CD compatibility** - Tests gracefully handle scenarios when memory service is not running"
      },
      {
        "line": 2983,
        "token": "error",
        "context": "- **Enhanced error handling** - Better detection and handling of connection failures and missing dependencies"
      },
      {
        "line": 2984,
        "token": "test",
        "context": "- **Achieved 100% test pass rate** - Improved from 78.6% to 100% success rate across all 14 integration tests"
      },
      {
        "line": 2987,
        "token": "configuration",
        "context": "- Updated configuration loading test to detect both `config.memoryService.endpoint` and `config.memoryService.http.endpoint`"
      },
      {
        "line": 2988,
        "token": "connectivity",
        "context": "- Enhanced connectivity test to treat service unavailability as expected behavior in test environments"
      },
      {
        "line": 2989,
        "token": "mock",
        "context": "- Improved mock session start hook to handle `memoryClient` reference errors gracefully"
      },
      {
        "line": 2996,
        "token": "date",
        "context": "- **Enhanced date filter options** - Added \"Yesterday\" and \"This quarter\" options to improve time-based search granularity"
      },
      {
        "line": 2997,
        "token": "search",
        "context": "- **Live search mode with toggle** - Implemented intelligent live/manual search modes with debounced input (300ms) to prevent API overload"
      },
      {
        "line": 2998,
        "token": "semantic",
        "context": "- **Independent semantic search** - Semantic search now works independently from tag filtering for more flexible query combinations"
      },
      {
        "line": 2999,
        "token": "filter",
        "context": "- **Improved filter behavior** - Fixed confusing filter interactions and enhanced user experience with clear mode indicators"
      },
      {
        "line": 3002,
        "token": "toggle",
        "context": "- **Resolved toggle visibility issues** - Fixed Live Search toggle contrast and visibility problems on white backgrounds"
      },
      {
        "line": 3003,
        "token": "layout",
        "context": "- **Eliminated layout shifts** - Moved toggle to header to prevent dynamic position changes due to text length variations"
      },
      {
        "line": 3004,
        "token": "tooltips",
        "context": "- **Enhanced tooltips** - Increased tooltip widths (desktop: 300px, mobile: 250px) for better readability"
      },
      {
        "line": 3005,
        "token": "design",
        "context": "- **Accessible design patterns** - Implemented standard toggle design with proper contrast ratios and always-visible controls"
      },
      {
        "line": 3008,
        "token": "search",
        "context": "- **Debounced search input** - 300ms delay prevents overwhelming API with rapid keystrokes during tag searches"
      },
      {
        "line": 3009,
        "token": "search",
        "context": "- **Smart search triggering** - Live search mode provides immediate results while manual mode offers user control"
      },
      {
        "line": 3010,
        "token": "event",
        "context": "- **Efficient event handling** - Optimized DOM manipulation and event listener management"
      },
      {
        "line": 3015,
        "token": "code",
        "context": "- **Eliminated code duplication** - Refactored diagnostic script `test_cloudflare_token()` function following Gemini Code Assist feedback"
      },
      {
        "line": 3016,
        "token": "reusable",
        "context": "- **Extracted reusable helper** - Created `_verify_token_endpoint()` function reducing ~60 lines of duplicated token verification logic"
      },
      {
        "line": 3017,
        "token": "consistency",
        "context": "- **Enhanced consistency** - Both account-scoped and user endpoint tests now display identical token information fields"
      },
      {
        "line": 3018,
        "token": "maintainability",
        "context": "- **Improved maintainability** - Centralized error handling and output formatting for easier future extensions"
      },
      {
        "line": 3021,
        "token": "user",
        "context": "- Addresses user feedback on search tab UX requiring \"further attention\" with comprehensive improvements"
      },
      {
        "line": 3022,
        "token": "code",
        "context": "- Implements Gemini Code Assist code review recommendations from PR #139"
      },
      {
        "line": 3023,
        "token": "overall",
        "context": "- Enhances overall dashboard usability with systematic testing of filter combinations"
      },
      {
        "line": 3030,
        "token": "critical",
        "context": "- **Fixed critical import error** - Added missing `HybridMemoryStorage` import in `storage/__init__.py` after v7.3.0 update"
      },
      {
        "line": 3031,
        "token": "resolved",
        "context": "- **Symptom resolved** - \"Unknown storage type: HybridMemoryStorage\" error no longer occurs"
      },
      {
        "line": 3032,
        "token": "check",
        "context": "- **Health check restored** - HTTP dashboard now properly displays hybrid backend status"
      },
      {
        "line": 3033,
        "token": "compatibility",
        "context": "- **Backwards compatibility** - Import follows same conditional pattern as other storage backends"
      },
      {
        "line": 3036,
        "token": "token",
        "context": "- **Resolved token endpoint confusion** - Clear guidance on using account-scoped vs generic verification endpoints"
      },
      {
        "line": 3037,
        "token": "improvements",
        "context": "- **Documentation improvements** - Comprehensive `.env.example` with correct curl examples and warnings"
      },
      {
        "line": 3038,
        "token": "diagnostics",
        "context": "- **Enhanced diagnostics** - `diagnose_backend_config.py` now tests both token verification endpoints"
      },
      {
        "line": 3039,
        "token": "experience",
        "context": "- **Developer experience** - New troubleshooting guide prevents common authentication mistakes"
      },
      {
        "line": 3044,
        "token": "guide",
        "context": "- **New guide:** `docs/troubleshooting/cloudflare-authentication.md` with complete Cloudflare setup guidance"
      },
      {
        "line": 3045,
        "token": "verification",
        "context": "- **Token verification clarity** - Explains difference between account-scoped and generic API endpoints"
      },
      {
        "line": 3046,
        "token": "errors",
        "context": "- **Common errors documented** - Solutions for \"Invalid API Token\" and related authentication failures"
      },
      {
        "line": 3047,
        "token": "checklist",
        "context": "- **Step-by-step checklist** - Systematic approach to diagnosing token and authentication issues"
      },
      {
        "line": 3050,
        "token": "comprehensive",
        "context": "- **Improved .env.example** - Combines comprehensive v7.3.1 configuration with token verification guidance"
      },
      {
        "line": 3051,
        "token": "warnings",
        "context": "- **Clear warnings** - Explicit guidance on which endpoints to use and avoid"
      },
      {
        "line": 3052,
        "token": "best",
        "context": "- **Security best practices** - Token handling and verification recommendations"
      },
      {
        "line": 3055,
        "token": "critical",
        "context": "- Closes critical post-v7.3.0 hybrid storage import issue"
      },
      {
        "line": 3056,
        "token": "developer",
        "context": "- Addresses developer confusion around Cloudflare token verification endpoints"
      },
      {
        "line": 3057,
        "token": "import",
        "context": "- PR #139: Fix HybridMemoryStorage import + Add comprehensive Cloudflare token verification guide"
      },
      {
        "line": 3063,
        "token": "HTTP",
        "context": "#### ğŸ”§ **HTTP Dashboard Backend Selection**"
      },
      {
        "line": 3064,
        "token": "HTTP",
        "context": "- **Fixed HTTP dashboard backend selection** - Dashboard now properly respects `MCP_MEMORY_STORAGE_BACKEND` configuration"
      },
      {
        "line": 3065,
        "token": "backend",
        "context": "- **Universal backend support** - Web interface works with all backends: SQLite-vec, Cloudflare, ChromaDB, and Hybrid"
      },
      {
        "line": 3066,
        "token": "functionality",
        "context": "- **Tags functionality restored** - Fixed broken browse by tags feature for all storage backends"
      },
      {
        "line": 3067,
        "token": "factory",
        "context": "- **Shared factory pattern** - Eliminated code duplication between MCP server and web interface initialization"
      },
      {
        "line": 3070,
        "token": "fallback",
        "context": "- **Extracted fallback logic** - Centralized SQLite-vec fallback handling for better maintainability"
      },
      {
        "line": 3071,
        "token": "type",
        "context": "- **Enhanced type safety** - Improved type hints throughout web interface components"
      },
      {
        "line": 3072,
        "token": "feedback",
        "context": "- **Gemini Code Assistant feedback** - Addressed all code review suggestions for better robustness"
      },
      {
        "line": 3075,
        "token": "HTTP",
        "context": "- Closes #136: HTTP Dashboard doesn't use Cloudflare backend despite configuration"
      },
      {
        "line": 3076,
        "token": "universal",
        "context": "- PR #138: Complete universal storage backend support for HTTP dashboard"
      },
      {
        "line": 3082,
        "token": "restored",
        "context": "**Successfully restored comprehensive API documentation with interactive dashboard integration following PR #121.**"
      },
      {
        "line": 3087,
        "token": "route",
        "context": "- **Dedicated `/api-overview` route** - Standalone comprehensive API documentation page"
      },
      {
        "line": 3088,
        "token": "tab",
        "context": "- **API Documentation tab** - Integrated dashboard tab for seamless user experience"
      },
      {
        "line": 3089,
        "token": "navigation",
        "context": "- **Unified navigation** - Consistent access to API information across both interfaces"
      },
      {
        "line": 3092,
        "token": "version",
        "context": "- **Real-time version display** - Dynamic version loading via `/api/health/detailed` endpoint"
      },
      {
        "line": 3093,
        "token": "status",
        "context": "- **Backend status integration** - Live backend information display"
      },
      {
        "line": 3094,
        "token": "user",
        "context": "- **Enhanced user awareness** - Always shows current system state"
      },
      {
        "line": 3097,
        "token": "design",
        "context": "- **Responsive design** - Organized endpoint sections with mobile compatibility"
      },
      {
        "line": 3098,
        "token": "optimized",
        "context": "- **Performance optimized** - CSS transitions optimized for better performance"
      },
      {
        "line": 3099,
        "token": "navigation",
        "context": "- **Consistent navigation** - Fixed naming conflicts for seamless tab switching"
      },
      {
        "line": 3104,
        "token": "endpoint",
        "context": "- **Fixed endpoint path documentation** - Updated from `{hash}` to `{content_hash}` for accuracy"
      },
      {
        "line": 3105,
        "token": "endpoint",
        "context": "- **Comprehensive endpoint coverage** - All API endpoints properly documented"
      },
      {
        "line": 3106,
        "token": "functionality",
        "context": "- **Organized by functionality** - Logical grouping of endpoints for easy navigation"
      },
      {
        "line": 3109,
        "token": "performance",
        "context": "- **CSS performance** - Replaced `transition: all` with specific `border-color` and `box-shadow` transitions"
      },
      {
        "line": 3110,
        "token": "time",
        "context": "- **Load time maintained** - 25ms page load performance preserved"
      },
      {
        "line": 3111,
        "token": "operation",
        "context": "- **Memory operation speed** - 26ms operation performance maintained"
      },
      {
        "line": 3117,
        "token": "route",
        "context": "| API Overview Page | âœ… RESTORED | `/api-overview` route with full documentation |"
      },
      {
        "line": 3118,
        "token": "docs",
        "context": "| Dashboard Integration | âœ… NEW | API docs tab in interactive dashboard |"
      },
      {
        "line": 3119,
        "token": "version",
        "context": "| Dynamic Content | âœ… ENHANCED | Real-time version and backend display |"
      },
      {
        "line": 3120,
        "token": "breakpoints",
        "context": "| Mobile Responsive | âœ… MAINTAINED | CSS breakpoints preserved |"
      },
      {
        "line": 3121,
        "token": "transitions",
        "context": "| Performance | âœ… OPTIMIZED | Enhanced CSS transitions |"
      },
      {
        "line": 3126,
        "token": "function",
        "context": "- **FastAPI Integration** - `get_api_overview_html()` function with embedded JavaScript"
      },
      {
        "line": 3127,
        "token": "navigation",
        "context": "- **Dashboard Enhancement** - Additional navigation tab with organized content sections"
      },
      {
        "line": 3128,
        "token": "styling",
        "context": "- **Unified Styling** - Consistent CSS styling across both interfaces"
      },
      {
        "line": 3129,
        "token": "both",
        "context": "- **Protocol Independence** - Works with both HTTP and MCP protocols"
      },
      {
        "line": 3133,
        "token": "critical",
        "context": "**Addresses critical missing functionality:**"
      },
      {
        "line": 3134,
        "token": "documentation",
        "context": "- Restores API documentation that was missing after v7.2.2 interactive dashboard"
      },
      {
        "line": 3135,
        "token": "both",
        "context": "- Provides both standalone and integrated access to API information"
      },
      {
        "line": 3136,
        "token": "excellent",
        "context": "- Maintains excellent performance benchmarks while adding functionality"
      },
      {
        "line": 3137,
        "token": "developer",
        "context": "- Enhances developer experience with comprehensive endpoint documentation"
      },
      {
        "line": 3139,
        "token": "release",
        "context": "**This release ensures users have complete access to API documentation through multiple interfaces while preserving the performance excellence of the interactiv"
      },
      {
        "line": 3145,
        "token": "completed",
        "context": "**Successfully completed comprehensive testing and validation of the Interactive Dashboard (PR #125).**"
      },
      {
        "line": 3148,
        "token": "load",
        "context": "- **Performance Excellence**: Page load 25ms (target: <2s), Memory operations 26ms (target: <1s)"
      },
      {
        "line": 3149,
        "token": "search",
        "context": "- **Search Functionality**: Semantic search, tag-based search, and time-based search all working perfectly"
      },
      {
        "line": 3150,
        "token": "heartbeat",
        "context": "- **Real-time Updates**: Server-Sent Events (SSE) with heartbeat and connection management validated"
      },
      {
        "line": 3151,
        "token": "protection",
        "context": "- **Security**: XSS protection via escapeHtml function properly implemented throughout frontend"
      },
      {
        "line": 3152,
        "token": "enabled",
        "context": "- **OAuth Compatibility**: Both enabled and disabled OAuth modes tested and working"
      },
      {
        "line": 3153,
        "token": "breakpoints",
        "context": "- **Mobile Responsive**: CSS breakpoints for mobile (768px) and tablet (1024px) verified"
      },
      {
        "line": 3154,
        "token": "performance",
        "context": "- **Large Dataset Performance**: Excellent performance tested with 994+ memories"
      },
      {
        "line": 3155,
        "token": "protocol",
        "context": "- **Claude Desktop Integration**: MCP protocol compatibility confirmed"
      },
      {
        "line": 3158,
        "token": "now",
        "context": "The Interactive Dashboard is now **fully validated and ready for production use**, providing:"
      },
      {
        "line": 3159,
        "token": "memory",
        "context": "- Complete memory CRUD operations"
      },
      {
        "line": 3160,
        "token": "search",
        "context": "- Advanced search and filtering capabilities"
      },
      {
        "line": 3161,
        "token": "updates",
        "context": "- Real-time updates via Server-Sent Events"
      },
      {
        "line": 3162,
        "token": "design",
        "context": "- Mobile-responsive design"
      },
      {
        "line": 3163,
        "token": "best",
        "context": "- Security best practices"
      },
      {
        "line": 3164,
        "token": "performance",
        "context": "- Excellent performance with large datasets"
      },
      {
        "line": 3172,
        "token": "tested",
        "context": "| Large Dataset | 1000+ | 994+ tested | âœ… EXCELLENT |"
      },
      {
        "line": 3174,
        "token": "closed",
        "context": "**Issue #123 closed as completed. Dashboard provides immediate user value and solid foundation for future features.**"
      },
      {
        "line": 3180,
        "token": "longer",
        "context": "**âš ï¸ BREAKING CHANGE**: ChromaDB is no longer installed by default to dramatically improve Docker build performance and reduce image sizes."
      },
      {
        "line": 3183,
        "token": "faster",
        "context": "- **70-80% faster Docker build times** (from ~10-15 min to ~2-3 min)"
      },
      {
        "line": 3184,
        "token": "smaller",
        "context": "- **1-2GB smaller Docker images** (~2.5GB â†’ ~800MB standard, ~400MB slim)"
      },
      {
        "line": 3185,
        "token": "memory",
        "context": "- **Lower memory footprint** in production deployments"
      },
      {
        "line": 3186,
        "token": "backward",
        "context": "- **Maintained backward compatibility** with clear opt-in mechanism"
      },
      {
        "line": 3201,
        "token": "full",
        "context": "- **pyproject.toml**: Added `full` optional dependency group, moved ChromaDB to optional"
      },
      {
        "line": 3202,
        "token": "conditional",
        "context": "- **server.py**: Added conditional ChromaDB imports with graceful error handling"
      },
      {
        "line": 3203,
        "token": "import",
        "context": "- **mcp_server.py**: Enhanced ChromaDB import error messages and fallback logic"
      },
      {
        "line": 3204,
        "token": "flag",
        "context": "- **install.py**: Added `--with-chromadb` flag for opt-in ChromaDB installation"
      },
      {
        "line": 3205,
        "token": "storage",
        "context": "- **README.md**: Updated storage backend documentation with ChromaDB optional notes"
      },
      {
        "line": 3206,
        "token": "docs/docker-optimized-build.md",
        "context": "- **NEW**: `docs/docker-optimized-build.md` - Comprehensive Docker optimization guide"
      },
      {
        "line": 3209,
        "token": "users",
        "context": "**For users who need ChromaDB:**"
      },
      {
        "line": 3210,
        "token": "python",
        "context": "1. Run: `python scripts/installation/install.py --with-chromadb`"
      },
      {
        "line": 3211,
        "token": "install",
        "context": "2. Or install manually: `pip install mcp-memory-service[chromadb]`"
      },
      {
        "line": 3213,
        "token": "users",
        "context": "**For Docker users:**"
      },
      {
        "line": 3214,
        "token": "action",
        "context": "- No action needed - automatically get performance improvements"
      },
      {
        "line": 3215,
        "token": "builds",
        "context": "- Docker builds now default to optimized sqlite_vec backend"
      },
      {
        "line": 3218,
        "token": "error",
        "context": "- Clear error messages when ChromaDB backend selected but not installed"
      },
      {
        "line": 3219,
        "token": "fallback",
        "context": "- Graceful fallback to sqlite_vec when ChromaDB unavailable"
      },
      {
        "line": 3220,
        "token": "guidance",
        "context": "- Helpful guidance on how to install ChromaDB if needed"
      },
      {
        "line": 3225,
        "token": "build",
        "context": "| Docker build | ~10-15 min | ~2-3 min | **80% faster** |"
      },
      {
        "line": 3226,
        "token": "size",
        "context": "| Image size | ~2.5GB | ~800MB | **68% smaller** |"
      },
      {
        "line": 3227,
        "token": "usage",
        "context": "| Memory usage | High | Low | **Significantly reduced** |"
      },
      {
        "line": 3233,
        "token": "timestamp",
        "context": "- **Enhanced timestamp consistency across memory retrieval methods** - All memory retrieval endpoints now display consistent timestamp information:"
      },
      {
        "line": 3234,
        "token": "now",
        "context": "- `retrieve_memory` now shows timestamps in \"YYYY-MM-DD HH:MM:SS\" format matching `recall_memory`"
      },
      {
        "line": 3235,
        "token": "now",
        "context": "- `search_by_tag` now shows timestamps in same consistent format"
      },
      {
        "line": 3236,
        "token": "code",
        "context": "- Improved code quality using `getattr` pattern instead of `hasattr` checks"
      },
      {
        "line": 3237,
        "token": "timestamp",
        "context": "- Resolves timestamp metadata inconsistency reported in issue #126"
      },
      {
        "line": 3239,
        "token": "hybrid",
        "context": "- **Enhanced CLI hybrid backend support** - CLI commands now fully support hybrid storage backend:"
      },
      {
        "line": 3240,
        "token": "hybrid",
        "context": "- Added 'hybrid' option to `--storage-backend` choices for both `server` and `status` commands"
      },
      {
        "line": 3241,
        "token": "hybrid",
        "context": "- Completes hybrid backend integration across all system components"
      },
      {
        "line": 3242,
        "token": "seamless",
        "context": "- Enables seamless CLI usage with hybrid SQLite-vec + Cloudflare architecture"
      },
      {
        "line": 3244,
        "token": "storage",
        "context": "- **Hybrid storage backend server integration** - Server.py now fully supports hybrid backend operations:"
      },
      {
        "line": 3245,
        "token": "sanitized",
        "context": "- Added `sanitized` method to hybrid storage for tag handling compatibility"
      },
      {
        "line": 3246,
        "token": "initialization",
        "context": "- Enhanced initialization and health check support for hybrid backend"
      },
      {
        "line": 3247,
        "token": "performance",
        "context": "- Maintains performance optimization with Cloudflare synchronization"
      },
      {
        "line": 3251,
        "token": "exposure",
        "context": "- **Credential exposure prevention** - Enhanced security measures to prevent accidental credential exposure:"
      },
      {
        "line": 3252,
        "token": "handling",
        "context": "- Improved handling of environment variables in logging and error messages"
      },
      {
        "line": 3253,
        "token": "safeguards",
        "context": "- Additional safeguards against sensitive configuration leakage"
      },
      {
        "line": 3254,
        "token": "security",
        "context": "- Follows security best practices for credential management"
      },
      {
        "line": 3256,
        "token": "leak",
        "context": "- **Resource leak fixes** - Memory and resource management improvements:"
      },
      {
        "line": 3257,
        "token": "connection",
        "context": "- Enhanced connection cleanup in storage backends"
      },
      {
        "line": 3258,
        "token": "async",
        "context": "- Improved async resource handling to prevent leaks"
      },
      {
        "line": 3259,
        "token": "error",
        "context": "- Better error recovery and cleanup procedures"
      },
      {
        "line": 3263,
        "token": "improvements",
        "context": "- **Implemented Gemini Code Assistant improvements** - Enhanced code maintainability and safety:"
      },
      {
        "line": 3264,
        "token": "hasattr",
        "context": "- Replaced `hasattr` + direct attribute access with safer `getattr(obj, \"attr\", None)` pattern"
      },
      {
        "line": 3265,
        "token": "more",
        "context": "- Cleaner, more readable code with consistent error handling"
      },
      {
        "line": 3266,
        "token": "null",
        "context": "- Improved null safety and defensive programming practices"
      },
      {
        "line": 3272,
        "token": "installer",
        "context": "- **NEW: Single Python installer replaces 4+ platform-specific scripts**"
      },
      {
        "line": 3273,
        "token": "into",
        "context": "- Consolidated `install.sh`, `install-natural-triggers.sh`, `install_claude_hooks_windows.bat` into unified `install_hooks.py`"
      },
      {
        "line": 3274,
        "token": "compatibility",
        "context": "- Full cross-platform compatibility (Windows, macOS, Linux)"
      },
      {
        "line": 3275,
        "token": "JSON",
        "context": "- Intelligent JSON configuration merging preserves existing Claude Code hooks"
      },
      {
        "line": 3276,
        "token": "path",
        "context": "- Dynamic path resolution eliminates hardcoded developer paths"
      },
      {
        "line": 3277,
        "token": "installations",
        "context": "- Atomic installations with automatic rollback on failure"
      },
      {
        "line": 3280,
        "token": "merging",
        "context": "- Smart settings.json merging prevents configuration loss"
      },
      {
        "line": 3281,
        "token": "backup",
        "context": "- Comprehensive backup system with timestamped restore points"
      },
      {
        "line": 3282,
        "token": "directory",
        "context": "- Empty directory cleanup for proper uninstall process"
      },
      {
        "line": 3283,
        "token": "support",
        "context": "- Dry-run support for safe testing before installation"
      },
      {
        "line": 3284,
        "token": "error",
        "context": "- Enhanced error handling with detailed user feedback"
      },
      {
        "line": 3287,
        "token": "trigger",
        "context": "- Advanced trigger detection with 85%+ accuracy"
      },
      {
        "line": 3288,
        "token": "performance",
        "context": "- Multi-tier performance optimization (50ms/150ms/500ms)"
      },
      {
        "line": 3289,
        "token": "memory",
        "context": "- Mid-conversation memory injection"
      },
      {
        "line": 3290,
        "token": "management",
        "context": "- CLI management tools for real-time configuration"
      },
      {
        "line": 3291,
        "token": "context",
        "context": "- Git-aware context and repository integration"
      },
      {
        "line": 3306,
        "token": "comprehensive",
        "context": "- Added comprehensive `claude-hooks/MIGRATION.md` with transition guide"
      },
      {
        "line": 3307,
        "token": "installation",
        "context": "- Updated README.md installation instructions"
      },
      {
        "line": 3308,
        "token": "shell",
        "context": "- Legacy shell scripts removed (eliminates security and compatibility issues)"
      },
      {
        "line": 3309,
        "token": "upgrade",
        "context": "- Clear upgrade path for existing users"
      },
      {
        "line": 3312,
        "token": "all",
        "context": "- Addressed all Gemini Code Assist review feedback"
      },
      {
        "line": 3313,
        "token": "path",
        "context": "- Enhanced cross-platform path handling with proper quoting"
      },
      {
        "line": 3314,
        "token": "integration",
        "context": "- Improved integration between main installer and hook installer"
      },
      {
        "line": 3315,
        "token": "interface",
        "context": "- Professional CLI interface with consistent options across platforms"
      },
      {
        "line": 3318,
        "token": "shell",
        "context": "- Legacy shell installers (`install.sh`, `install-natural-triggers.sh`) removed"
      },
      {
        "line": 3319,
        "token": "commands",
        "context": "- Installation commands updated - see `claude-hooks/MIGRATION.md` for details"
      },
      {
        "line": 3320,
        "token": "must",
        "context": "- Users must switch to unified Python installer for future installations"
      },
      {
        "line": 3326,
        "token": "sensitive",
        "context": "- **CRITICAL: Removed sensitive configuration files from repository** - Immediate security remediation:"
      },
      {
        "line": 3327,
        "token": "files",
        "context": "- **Removed `.claude/settings.local.json*` files from git tracking and complete history**"
      },
      {
        "line": 3328,
        "token": "git",
        "context": "- **Used `git filter-branch` to purge all sensitive data from repository history**"
      },
      {
        "line": 3329,
        "token": "rewritten",
        "context": "- **Force-pushed rewritten history to remove exposed API tokens and secrets**"
      },
      {
        "line": 3330,
        "token": "comprehensive",
        "context": "- Added comprehensive `.gitignore` patterns for future protection"
      },
      {
        "line": 3331,
        "token": "history",
        "context": "- **BREAKING: Repository history rewritten - force pull required for existing clones**"
      },
      {
        "line": 3332,
        "token": "any",
        "context": "- **ACTION REQUIRED: Rotate any exposed Cloudflare API tokens immediately**"
      },
      {
        "line": 3333,
        "token": "critical",
        "context": "- Addresses critical security vulnerability from issues #118 and personal config exposure"
      },
      {
        "line": 3336,
        "token": "rotate",
        "context": "1. **Immediately rotate any Cloudflare API tokens** that were in the exposed files"
      },
      {
        "line": 3337,
        "token": "pull",
        "context": "2. **Force pull** or re-clone repository: `git fetch origin && git reset --hard origin/develop`"
      },
      {
        "line": 3338,
        "token": "local",
        "context": "3. **Review local `.claude/settings.local.json`** files for any other sensitive data"
      },
      {
        "line": 3339,
        "token": "sensitive",
        "context": "4. **Verify no sensitive data** remains in your local configurations"
      },
      {
        "line": 3345,
        "token": "tracking",
        "context": "- **Stop tracking personal Claude settings to prevent merge conflicts** - Added `.claude/settings.local.json*` patterns to `.gitignore`:"
      },
      {
        "line": 3346,
        "token": "future",
        "context": "- Prevents future tracking of personal configuration files"
      },
      {
        "line": 3347,
        "token": "ignore",
        "context": "- Uses `--skip-worktree` to ignore local changes to existing tracked files"
      },
      {
        "line": 3348,
        "token": "user",
        "context": "- Protects user privacy and eliminates merge conflicts"
      },
      {
        "line": 3349,
        "token": "existing",
        "context": "- Preserves existing user configurations while fixing repository hygiene (Fixes #118)"
      },
      {
        "line": 3355,
        "token": "misleading",
        "context": "- **Fixed misleading error message in document ingestion** - The `ingest_document` tool now provides accurate error messages:"
      },
      {
        "line": 3356,
        "token": "not",
        "context": "- Shows \"File not found\" with full resolved path when files don't exist"
      },
      {
        "line": 3357,
        "token": "shows",
        "context": "- Only shows \"Unsupported file format\" for truly unsupported formats"
      },
      {
        "line": 3358,
        "token": "list",
        "context": "- Includes list of supported formats (.md, .txt, .pdf, .json, .csv) in format errors"
      },
      {
        "line": 3359,
        "token": "issue",
        "context": "- Resolves issue where Markdown files were incorrectly reported as unsupported (Fixes #122)"
      },
      {
        "line": 3365,
        "token": "release",
        "context": "This release introduces **Natural Memory Triggers v7.1.0** - an intelligent memory awareness system that automatically detects when Claude should retrieve relev"
      },
      {
        "line": 3370,
        "token": "natural",
        "context": "- **âœ… Semantic Analysis** - Advanced natural language processing to understand memory-seeking patterns"
      },
      {
        "line": 3371,
        "token": "phrases",
        "context": "- **Pattern Recognition**: Detects phrases like \"What did we decide...\", \"How did we implement...\""
      },
      {
        "line": 3372,
        "token": "when",
        "context": "- **Question Classification**: Identifies when user is seeking information from past work"
      },
      {
        "line": 3373,
        "token": "conversation",
        "context": "- **Context Understanding**: Analyzes conversation flow and topic shifts"
      },
      {
        "line": 3374,
        "token": "integration",
        "context": "- **âœ… Git-Aware Context** - Repository integration for enhanced relevance"
      },
      {
        "line": 3375,
        "token": "development",
        "context": "- **Commit Analysis**: Extracts development themes from recent commit history"
      },
      {
        "line": 3376,
        "token": "project",
        "context": "- **Changelog Integration**: Parses project changelogs for version-specific context"
      },
      {
        "line": 3377,
        "token": "search",
        "context": "- **Development Keywords**: Builds search queries from git history and file patterns"
      },
      {
        "line": 3380,
        "token": "performance",
        "context": "- **âœ… Multi-Tier Processing** - Three-tier performance system"
      },
      {
        "line": 3381,
        "token": "matching",
        "context": "- **Instant Tier** (< 50ms): Pattern matching and cache checks"
      },
      {
        "line": 3382,
        "token": "semantic",
        "context": "- **Fast Tier** (< 150ms): Lightweight semantic analysis"
      },
      {
        "line": 3383,
        "token": "semantic",
        "context": "- **Intensive Tier** (< 500ms): Deep semantic understanding"
      },
      {
        "line": 3385,
        "token": "latency",
        "context": "- **Speed Focused**: Minimal latency, basic memory awareness"
      },
      {
        "line": 3386,
        "token": "balance",
        "context": "- **Balanced**: Optimal speed/context balance (recommended)"
      },
      {
        "line": 3387,
        "token": "context",
        "context": "- **Memory Aware**: Maximum context awareness"
      },
      {
        "line": 3388,
        "token": "optimization",
        "context": "- **Adaptive**: Machine learning-based optimization"
      },
      {
        "line": 3391,
        "token": "interface",
        "context": "- **âœ… Memory Mode Controller** - Comprehensive command-line interface"
      },
      {
        "line": 3392,
        "token": "node",
        "context": "- **Profile Switching**: `node memory-mode-controller.js profile balanced`"
      },
      {
        "line": 3393,
        "token": "node",
        "context": "- **Sensitivity Control**: `node memory-mode-controller.js sensitivity 0.7`"
      },
      {
        "line": 3394,
        "token": "performance",
        "context": "- **Status Monitoring**: Real-time performance metrics and configuration display"
      },
      {
        "line": 3395,
        "token": "triggers",
        "context": "- **System Management**: Enable/disable triggers, reset to defaults"
      },
      {
        "line": 3400,
        "token": "hook",
        "context": "- **`claude-hooks/core/mid-conversation.js`** - Main hook implementation with stateful management"
      },
      {
        "line": 3401,
        "token": "semantic",
        "context": "- **`claude-hooks/utilities/tiered-conversation-monitor.js`** - Multi-tier semantic analysis engine"
      },
      {
        "line": 3402,
        "token": "monitoring",
        "context": "- **`claude-hooks/utilities/performance-manager.js`** - Performance monitoring and adaptive optimization"
      },
      {
        "line": 3403,
        "token": "repository",
        "context": "- **`claude-hooks/utilities/git-analyzer.js`** - Git repository context analysis"
      },
      {
        "line": 3404,
        "token": "controller",
        "context": "- **`claude-hooks/memory-mode-controller.js`** - CLI controller for system management"
      },
      {
        "line": 3407,
        "token": "scoring",
        "context": "- **âœ… Multi-Factor Relevance** - Sophisticated scoring algorithm"
      },
      {
        "line": 3408,
        "token": "similarity",
        "context": "- **Content Relevance** (15%): Semantic similarity to current context"
      },
      {
        "line": 3409,
        "token": "weighting",
        "context": "- **Tag Relevance** (35%): Project and topic-specific weighting"
      },
      {
        "line": 3410,
        "token": "memories",
        "context": "- **Time Decay** (25%): Recent memories weighted higher"
      },
      {
        "line": 3411,
        "token": "out",
        "context": "- **Content Quality** (25%): Filters out low-value memories"
      },
      {
        "line": 3412,
        "token": "analysis",
        "context": "- **âœ… Conversation Context** - Session-aware analysis"
      },
      {
        "line": 3413,
        "token": "context",
        "context": "- **Topic Tracking**: Maintains context window for semantic analysis"
      },
      {
        "line": 3414,
        "token": "user",
        "context": "- **Pattern Detection**: Learns user preferences and conversation patterns"
      },
      {
        "line": 3415,
        "token": "triggers",
        "context": "- **Confidence Thresholds**: Only triggers when confidence meets user-defined threshold"
      },
      {
        "line": 3420,
        "token": "automated",
        "context": "- **âœ… Test Suite** - 18 automated tests covering all functionality"
      },
      {
        "line": 3421,
        "token": "JSON",
        "context": "- **Configuration Management**: Nested JSON handling and validation"
      },
      {
        "line": 3422,
        "token": "measurement",
        "context": "- **Performance Profiling**: Latency measurement and optimization"
      },
      {
        "line": 3423,
        "token": "detection",
        "context": "- **Semantic Analysis**: Pattern detection and confidence scoring"
      },
      {
        "line": 3424,
        "token": "processing",
        "context": "- **CLI Integration**: Command processing and state management"
      },
      {
        "line": 3425,
        "token": "code",
        "context": "- **âœ… Gemini Code Assist Integration** - AI-powered code review"
      },
      {
        "line": 3426,
        "token": "fixed",
        "context": "- **Static Analysis**: Identified and fixed 21 code quality issues"
      },
      {
        "line": 3427,
        "token": "prevention",
        "context": "- **Performance Optimization**: Division-by-zero prevention, cache management"
      },
      {
        "line": 3428,
        "token": "key",
        "context": "- **Configuration Validation**: Duplicate key detection and consolidation"
      },
      {
        "line": 3433,
        "token": "hook",
        "context": "- **âœ… Zero-Restart Installation** - Dynamic hook loading during Claude Code sessions"
      },
      {
        "line": 3434,
        "token": "alongside",
        "context": "- **âœ… Backward Compatibility** - Works alongside existing memory service functionality"
      },
      {
        "line": 3435,
        "token": "existing",
        "context": "- **âœ… Configuration Preservation** - Maintains existing settings while adding new features"
      },
      {
        "line": 3436,
        "token": "compatibility",
        "context": "- **âœ… Platform Support** - macOS, Windows, and Linux compatibility"
      },
      {
        "line": 3441,
        "token": "response",
        "context": "- **Instant Analysis**: < 50ms response time for pattern matching"
      },
      {
        "line": 3442,
        "token": "lightweight",
        "context": "- **Fast Analysis**: < 150ms for lightweight semantic processing"
      },
      {
        "line": 3443,
        "token": "cached",
        "context": "- **Cache Performance**: < 5ms for cached results with LRU management"
      },
      {
        "line": 3444,
        "token": "cleanup",
        "context": "- **Memory Efficiency**: Automatic cleanup prevents memory bloat"
      },
      {
        "line": 3445,
        "token": "confidence",
        "context": "- **Trigger Accuracy**: 85%+ confidence for memory-seeking pattern detection"
      },
      {
        "line": 3449,
        "token": "automatically",
        "context": "Natural Memory Triggers automatically activate for phrases like:"
      },
      {
        "line": 3450,
        "token": "approach",
        "context": "- \"What approach did we use for authentication?\""
      },
      {
        "line": 3451,
        "token": "did",
        "context": "- \"How did we handle error handling in this project?\""
      },
      {
        "line": 3452,
        "token": "were",
        "context": "- \"What were the main architectural decisions we made?\""
      },
      {
        "line": 3453,
        "token": "what",
        "context": "- \"Similar to what we implemented before...\""
      },
      {
        "line": 3454,
        "token": "when",
        "context": "- \"Remember when we discussed...\""
      },
      {
        "line": 3458,
        "token": "documentation",
        "context": "- **âœ… Complete User Guide** - Comprehensive documentation at `claude-hooks/README-NATURAL-TRIGGERS.md`"
      },
      {
        "line": 3459,
        "token": "command",
        "context": "- **âœ… CLI Reference** - Detailed command documentation and usage examples"
      },
      {
        "line": 3460,
        "token": "profile",
        "context": "- **âœ… Configuration Guide** - Performance profile explanations and optimization tips"
      },
      {
        "line": 3461,
        "token": "issues",
        "context": "- **âœ… Troubleshooting** - Common issues and resolution steps"
      },
      {
        "line": 3469,
        "token": "major",
        "context": "This major release introduces comprehensive **OAuth 2.1 Dynamic Client Registration**, enabling **Claude Code HTTP transport** and **enterprise-grade authentica"
      },
      {
        "line": 3474,
        "token": "compliant",
        "context": "- **âœ… Dynamic Client Registration** - Complete RFC 7591 compliant implementation"
      },
      {
        "line": 3475,
        "token": "endpoint",
        "context": "- **Auto-Discovery**: `.well-known/oauth-authorization-server/mcp` endpoint for client auto-configuration"
      },
      {
        "line": 3476,
        "token": "can",
        "context": "- **Runtime Registration**: Clients can register dynamically without manual setup"
      },
      {
        "line": 3477,
        "token": "authorization",
        "context": "- **Standards Compliance**: Full OAuth 2.1 and RFC 8414 authorization server metadata"
      },
      {
        "line": 3478,
        "token": "HTTPS",
        "context": "- **Security Best Practices**: HTTPS enforcement, secure redirect URI validation"
      },
      {
        "line": 3480,
        "token": "authentication",
        "context": "- **âœ… JWT Authentication** - Modern token-based authentication"
      },
      {
        "line": 3481,
        "token": "key",
        "context": "- **RS256 Signing**: RSA key pairs for enhanced security (with HS256 fallback)"
      },
      {
        "line": 3482,
        "token": "permissions",
        "context": "- **Scope-Based Authorization**: Granular permissions (`read`, `write`, `admin`)"
      },
      {
        "line": 3483,
        "token": "verification",
        "context": "- **Token Validation**: Comprehensive JWT verification with proper error handling"
      },
      {
        "line": 3484,
        "token": "token",
        "context": "- **Configurable Expiration**: Customizable token and authorization code lifetimes"
      },
      {
        "line": 3487,
        "token": "HTTP",
        "context": "- **âœ… HTTP Transport Support** - Direct integration with Claude Code"
      },
      {
        "line": 3488,
        "token": "discovers",
        "context": "- **Automatic Setup**: Claude Code discovers and registers OAuth client automatically"
      },
      {
        "line": 3489,
        "token": "team",
        "context": "- **Team Collaboration**: Enables Claude Code team features via HTTP transport"
      },
      {
        "line": 3490,
        "token": "tokens",
        "context": "- **Seamless Authentication**: JWT tokens handled transparently by client"
      },
      {
        "line": 3493,
        "token": "authentication",
        "context": "- **âœ… Multi-Method Authentication** - Flexible authentication options"
      },
      {
        "line": 3494,
        "token": "authentication",
        "context": "- **OAuth Bearer Tokens**: Primary authentication method for modern clients"
      },
      {
        "line": 3495,
        "token": "key",
        "context": "- **API Key Fallback**: Existing API key authentication preserved for backward compatibility"
      },
      {
        "line": 3496,
        "token": "anonymous",
        "context": "- **Anonymous Access**: Optional anonymous access with explicit opt-in (`MCP_ALLOW_ANONYMOUS_ACCESS`)"
      },
      {
        "line": 3499,
        "token": "proper",
        "context": "- **Thread-Safe Operations**: Async/await with proper locking mechanisms"
      },
      {
        "line": 3500,
        "token": "expiration",
        "context": "- **Background Token Cleanup**: Automatic expiration and cleanup of tokens/codes"
      },
      {
        "line": 3501,
        "token": "startup",
        "context": "- **Security Validation**: Comprehensive startup validation with production warnings"
      },
      {
        "line": 3502,
        "token": "HTTP",
        "context": "- **Configuration Hardening**: HTTP transport warnings, key strength validation"
      },
      {
        "line": 3507,
        "token": "server",
        "context": "- **`/.well-known/oauth-authorization-server/mcp`** - OAuth server metadata discovery"
      },
      {
        "line": 3508,
        "token": "compatibility",
        "context": "- **`/.well-known/openid-configuration/mcp`** - OpenID Connect compatibility endpoint"
      },
      {
        "line": 3509,
        "token": "client",
        "context": "- **`/oauth/register`** - Dynamic client registration endpoint"
      },
      {
        "line": 3510,
        "token": "code",
        "context": "- **`/oauth/authorize`** - Authorization code flow endpoint"
      },
      {
        "line": 3511,
        "token": "exchange",
        "context": "- **`/oauth/token`** - Token exchange endpoint (supports both `authorization_code` and `client_credentials` flows)"
      },
      {
        "line": 3514,
        "token": "middleware",
        "context": "- **âœ… Unified Auth Handling**: Single middleware protecting all API endpoints"
      },
      {
        "line": 3515,
        "token": "scope",
        "context": "- **âœ… Scope Validation**: Automatic scope checking for protected resources"
      },
      {
        "line": 3516,
        "token": "key",
        "context": "- **âœ… Graceful Fallback**: OAuth â†’ API key â†’ Anonymous (if enabled)"
      },
      {
        "line": 3517,
        "token": "authentication",
        "context": "- **âœ… Enhanced Error Messages**: Context-aware authentication error responses"
      },
      {
        "line": 3520,
        "token": "configuration",
        "context": "- **âœ… Environment Variables**: Comprehensive OAuth configuration options"
      },
      {
        "line": 3530,
        "token": "existing",
        "context": "- **âœ… Zero Breaking Changes**: All existing API key workflows continue to work unchanged"
      },
      {
        "line": 3531,
        "token": "can",
        "context": "- **âœ… Optional OAuth**: OAuth can be completely disabled with `MCP_OAUTH_ENABLED=false`"
      },
      {
        "line": 3532,
        "token": "key",
        "context": "- **âœ… Graceful Coexistence**: API key and OAuth authentication work side-by-side"
      },
      {
        "line": 3533,
        "token": "users",
        "context": "- **âœ… Migration Path**: Existing users can adopt OAuth gradually or continue with API keys"
      },
      {
        "line": 3536,
        "token": "feedback",
        "context": "- **âœ… 17 Comprehensive Review Cycles** with Gemini Code Assist feedback integration"
      },
      {
        "line": 3537,
        "token": "critical",
        "context": "- **âœ… All Security Issues Resolved** (critical, high, medium severity vulnerabilities addressed)"
      },
      {
        "line": 3538,
        "token": "integration",
        "context": "- **âœ… Extensive Testing Suite**: New integration tests for OAuth flows and security scenarios"
      },
      {
        "line": 3539,
        "token": "validation",
        "context": "- **âœ… Production Readiness**: Comprehensive validation, monitoring, and health checks"
      },
      {
        "line": 3544,
        "token": "using",
        "context": "- **No Changes Required**: Continue using API key authentication without modification"
      },
      {
        "line": 3545,
        "token": "upgrade",
        "context": "- **Enhanced Security**: Option to upgrade to industry-standard OAuth when ready"
      },
      {
        "line": 3546,
        "token": "additional",
        "context": "- **Future-Proof**: Foundation for additional enterprise features"
      },
      {
        "line": 3549,
        "token": "HTTP",
        "context": "- **Team Collaboration**: HTTP transport enables Claude Code team features"
      },
      {
        "line": 3550,
        "token": "setup",
        "context": "- **Automatic Setup**: Zero-configuration OAuth setup and token management"
      },
      {
        "line": 3551,
        "token": "authentication",
        "context": "- **Enterprise Ready**: Standards-compliant authentication for organizational use"
      },
      {
        "line": 3554,
        "token": "compliance",
        "context": "- **Standards Compliance**: Full OAuth 2.1 and RFC compliance for security audits"
      },
      {
        "line": 3555,
        "token": "integration",
        "context": "- **Centralized Auth**: Foundation for integration with existing identity providers"
      },
      {
        "line": 3556,
        "token": "logging",
        "context": "- **Audit Trail**: Comprehensive logging and token lifecycle management"
      },
      {
        "line": 3559,
        "token": "release",
        "context": "This release provides the foundation for additional OAuth features:"
      },
      {
        "line": 3560,
        "token": "client",
        "context": "- **Persistent Storage**: Production-ready client and token storage backends"
      },
      {
        "line": 3561,
        "token": "security",
        "context": "- **PKCE Support**: Enhanced security for public clients"
      },
      {
        "line": 3562,
        "token": "authentication",
        "context": "- **Refresh Tokens**: Long-lived authentication sessions"
      },
      {
        "line": 3563,
        "token": "authorization",
        "context": "- **User Consent UI**: Interactive authorization flows"
      },
      {
        "line": 3564,
        "token": "enterprise",
        "context": "- **Identity Provider Integration**: SAML, OIDC, and enterprise SSO support"
      },
      {
        "line": 3567,
        "token": "configuration",
        "context": "- **âœ… Complete Setup Guide**: Step-by-step OAuth configuration documentation (`docs/oauth-setup.md`)"
      },
      {
        "line": 3568,
        "token": "endpoint",
        "context": "- **âœ… API Reference**: Comprehensive endpoint documentation with examples"
      },
      {
        "line": 3569,
        "token": "deployment",
        "context": "- **âœ… Security Guide**: Production deployment best practices and security considerations"
      },
      {
        "line": 3570,
        "token": "transition",
        "context": "- **âœ… Migration Guide**: Smooth transition path for existing users"
      },
      {
        "line": 3574,
        "token": "major",
        "context": "**This major release transforms the MCP Memory Service from a simple memory tool into an enterprise-ready service with standards-compliant authentication, enabl"
      },
      {
        "line": 3580,
        "token": "release",
        "context": "This release combines three major improvements: comprehensive memory management tools, enhanced documentation, and dependency standardization. All changes have "
      },
      {
        "line": 3583,
        "token": "paginated",
        "context": "- **ğŸ› ï¸ New `list_memories` MCP Tool** - Added paginated memory browsing with filtering capabilities"
      },
      {
        "line": 3584,
        "token": "navigation",
        "context": "- âœ… **Pagination Support**: Page-based navigation (1-based indexing) with configurable page sizes (1-100)"
      },
      {
        "line": 3585,
        "token": "memory",
        "context": "- âœ… **Database-Level Filtering**: Filter by memory type and tags using efficient SQL queries"
      },
      {
        "line": 3586,
        "token": "database",
        "context": "- âœ… **Performance Optimized**: Direct database filtering instead of Python-level post-processing"
      },
      {
        "line": 3587,
        "token": "both",
        "context": "- âœ… **Consistent API**: Available in both MCP server and HTTP/REST endpoints"
      },
      {
        "line": 3590,
        "token": "inefficient",
        "context": "- **âš¡ Database-Level Filtering** - Replaced inefficient Python-level filtering with SQL WHERE clauses"
      },
      {
        "line": 3591,
        "token": "all",
        "context": "- âŒ **Previous**: Fetch all records â†’ filter in Python â†’ paginate (slow, memory-intensive)"
      },
      {
        "line": 3592,
        "token": "paginate",
        "context": "- âœ… **Now**: Filter + paginate in database â†’ return results (5ms response time)"
      },
      {
        "line": 3593,
        "token": "reduced",
        "context": "- âœ… **Benefits**: Dramatically reduced memory usage and improved response times for large datasets"
      },
      {
        "line": 3594,
        "token": "across",
        "context": "- âœ… **Backends**: Implemented across SQLite-vec, ChromaDB, Cloudflare, and Hybrid storage"
      },
      {
        "line": 3596,
        "token": "tags",
        "context": "- **ğŸ”§ Enhanced Storage Interface** - Extended `get_all_memories()` with tags parameter"
      },
      {
        "line": 3597,
        "token": "tag",
        "context": "- âœ… **Tag Filtering**: Support for OR-based tag matching at database level"
      },
      {
        "line": 3598,
        "token": "existing",
        "context": "- âœ… **Backward Compatible**: All existing code continues to work unchanged"
      },
      {
        "line": 3599,
        "token": "interface",
        "context": "- âœ… **Consistent**: Same interface across all storage backends"
      },
      {
        "line": 3602,
        "token": "dangerous",
        "context": "- **ğŸ”’ Eliminated Security Vulnerabilities** - Removed dangerous runtime dependency installation"
      },
      {
        "line": 3603,
        "token": "pip",
        "context": "- âŒ **Removed**: Automatic `pip install` execution in Docker containers"
      },
      {
        "line": 3604,
        "token": "potential",
        "context": "- âœ… **Security**: Prevents potential code injection and supply chain attacks"
      },
      {
        "line": 3605,
        "token": "now",
        "context": "- âœ… **Reliability**: Dependencies now properly managed through container build process"
      },
      {
        "line": 3607,
        "token": "hardcoded",
        "context": "- **ğŸ”‘ Fixed Hardcoded Credentials** - Replaced hardcoded API keys with environment variables"
      },
      {
        "line": 3608,
        "token": "keys",
        "context": "- âŒ **Previous**: API keys stored in plain text in debug scripts"
      },
      {
        "line": 3609,
        "token": "credentials",
        "context": "- âœ… **Fixed**: All credentials now sourced from secure environment variables"
      },
      {
        "line": 3610,
        "token": "security",
        "context": "- âœ… **Security**: Follows security best practices for credential management"
      },
      {
        "line": 3613,
        "token": "professional",
        "context": "- **ğŸ“– Comprehensive Documentation Suite** - Added professional documentation in `docs/mastery/`"
      },
      {
        "line": 3614,
        "token": "documentation",
        "context": "- âœ… **API Reference**: Complete API documentation with examples"
      },
      {
        "line": 3615,
        "token": "system",
        "context": "- âœ… **Architecture Overview**: Detailed system architecture documentation"
      },
      {
        "line": 3616,
        "token": "configuration",
        "context": "- âœ… **Configuration Guide**: Comprehensive configuration management guide"
      },
      {
        "line": 3617,
        "token": "local",
        "context": "- âœ… **Setup Instructions**: Step-by-step local setup and run guide"
      },
      {
        "line": 3618,
        "token": "strategies",
        "context": "- âœ… **Testing Guide**: Testing strategies and debugging instructions"
      },
      {
        "line": 3619,
        "token": "issues",
        "context": "- âœ… **Troubleshooting**: Common issues and solutions"
      },
      {
        "line": 3621,
        "token": "advanced",
        "context": "- **ğŸ”§ Enhanced Development Resources** - Added advanced search and refactoring documentation"
      },
      {
        "line": 3622,
        "token": "search",
        "context": "- âœ… **Search Enhancement Guide**: Advanced search capabilities and examples"
      },
      {
        "line": 3623,
        "token": "analysis",
        "context": "- âœ… **Refactoring Summary**: Complete analysis of architectural changes"
      },
      {
        "line": 3624,
        "token": "setup",
        "context": "- âœ… **Integration Examples**: Multi-client setup for various AI platforms"
      },
      {
        "line": 3627,
        "token": "configuration",
        "context": "- **ğŸ³ Docker Optimization** - Enhanced Docker configuration for production deployments"
      },
      {
        "line": 3628,
        "token": "base",
        "context": "- âœ… **Security Updates**: Updated base images and security patches"
      },
      {
        "line": 3629,
        "token": "container",
        "context": "- âœ… **Performance**: Optimized container size and startup time"
      },
      {
        "line": 3630,
        "token": "support",
        "context": "- âœ… **Flexibility**: Better support for different deployment scenarios"
      },
      {
        "line": 3632,
        "token": "improved",
        "context": "- **ğŸ“¦ Dependency Management** - Standardized and improved dependency handling"
      },
      {
        "line": 3633,
        "token": "optional",
        "context": "- âœ… **ChromaDB Compatibility**: Restored ChromaDB as optional dependency for backward compatibility"
      },
      {
        "line": 3634,
        "token": "better",
        "context": "- âœ… **Updated Dependencies**: Updated PyPDF2 â†’ pypdf2 for better maintenance"
      },
      {
        "line": 3635,
        "token": "separation",
        "context": "- âœ… **Optional Dependencies**: Clean separation of core vs optional features"
      },
      {
        "line": 3638,
        "token": "comprehensive",
        "context": "- **ğŸ’» Enhanced Windows Support** - Added comprehensive Windows debugging capabilities"
      },
      {
        "line": 3639,
        "token": "HTTP",
        "context": "- âœ… **Debug Script**: New `start_http_debug.bat` for Windows HTTP mode testing"
      },
      {
        "line": 3640,
        "token": "debugging",
        "context": "- âœ… **103 Lines Added**: Comprehensive Windows debugging and troubleshooting support"
      },
      {
        "line": 3641,
        "token": "environment",
        "context": "- âœ… **Environment Variables**: Proper Windows environment variable handling"
      },
      {
        "line": 3644,
        "token": "redundant",
        "context": "- **â™»ï¸ Major Refactoring** - Removed redundant functionality while maintaining compatibility"
      },
      {
        "line": 3645,
        "token": "duplicate",
        "context": "- âœ… **317 Lines Removed**: Eliminated duplicate `search_by_time` and `search_similar` tools"
      },
      {
        "line": 3646,
        "token": "tools",
        "context": "- âœ… **Functional Redundancy**: Removed tools that exactly duplicated existing functionality"
      },
      {
        "line": 3647,
        "token": "surface",
        "context": "- âœ… **API Consolidation**: Streamlined API surface while preserving all capabilities"
      },
      {
        "line": 3648,
        "token": "codebase",
        "context": "- âœ… **Performance**: Reduced codebase complexity without losing features"
      },
      {
        "line": 3651,
        "token": "changes",
        "context": "- **âœ… Gemini Code Assist Approved** - All changes reviewed and approved with very positive feedback"
      },
      {
        "line": 3652,
        "token": "filtering",
        "context": "- âœ… **Architecture Review**: Praised database-level filtering implementation"
      },
      {
        "line": 3653,
        "token": "elimination",
        "context": "- âœ… **Security Review**: Confirmed elimination of security vulnerabilities"
      },
      {
        "line": 3654,
        "token": "performance",
        "context": "- âœ… **Performance Review**: Validated performance optimization approach"
      },
      {
        "line": 3655,
        "token": "refactoring",
        "context": "- âœ… **Code Quality**: Approved refactoring and redundancy removal"
      },
      {
        "line": 3658,
        "token": "existing",
        "context": "- **ğŸ”„ Backward Compatibility**: All existing integrations continue to work unchanged"
      },
      {
        "line": 3659,
        "token": "users",
        "context": "- **ğŸ“¦ Optional Dependencies**: ChromaDB users should install with `pip install mcp-memory-service[chromadb]`"
      },
      {
        "line": 3660,
        "token": "tool",
        "context": "- **ğŸ› ï¸ New Tools**: The `list_memories` tool is automatically available to all MCP clients"
      },
      {
        "line": 3661,
        "token": "tools",
        "context": "- **âš ï¸ Removed Tools**: `search_by_time` and `search_similar` tools have been removed (functionality available through existing tools)"
      },
      {
        "line": 3684,
        "token": "use",
        "context": "- **ğŸ¯ Backend-Agnostic Dashboard Stats** - Fixed `dashboard_get_stats` to use configured storage backend instead of hardcoded ChromaDB"
      },
      {
        "line": 3685,
        "token": "always",
        "context": "- âŒ **Previous Issue**: Dashboard always showed ChromaDB stats (often 0 memories) regardless of actual backend"
      },
      {
        "line": 3686,
        "token": "properly",
        "context": "- âœ… **Fixed**: Now properly detects and uses SQLite-vec, Cloudflare, or ChromaDB based on configuration"
      },
      {
        "line": 3687,
        "token": "same",
        "context": "- âœ… **Consistency**: Uses same pattern as `handle_check_database_health` for reliable backend detection"
      },
      {
        "line": 3688,
        "token": "now",
        "context": "- âœ… **Accuracy**: Dashboard now shows correct memory counts and backend information"
      },
      {
        "line": 3691,
        "token": "storage",
        "context": "- **Backend Detection**: Dynamic storage type detection via `storage.__class__.__name__`"
      },
      {
        "line": 3692,
        "token": "handling",
        "context": "- **Error Handling**: Proper async/await handling and graceful error reporting"
      },
      {
        "line": 3693,
        "token": "approach",
        "context": "- **Code Consistency**: Unified approach with existing health check functionality"
      },
      {
        "line": 3697,
        "token": "where",
        "context": "**Resolves**: GitHub Issue where dashboard stats were incorrectly hardcoded to ChromaDB"
      },
      {
        "line": 3698,
        "token": "identifying",
        "context": "**Credit**: Thanks to @MichaelPaulukonis for identifying and fixing this backend detection issue"
      },
      {
        "line": 3707,
        "token": "endpoint",
        "context": "- **ğŸŒŸ Chronological Memory Ordering** - `/api/memories` endpoint now returns memories in chronological order (newest first)"
      },
      {
        "line": 3708,
        "token": "intuitive",
        "context": "- âœ… **Improved User Experience**: More intuitive memory browsing with recent memories prioritized"
      },
      {
        "line": 3710,
        "token": "sorting",
        "context": "- âœ… **Proper Pagination Support**: Server-side sorting with efficient limit/offset handling"
      },
      {
        "line": 3711,
        "token": "interface",
        "context": "- âœ… **Backward Compatible**: Same API interface with enhanced ordering"
      },
      {
        "line": 3714,
        "token": "critical",
        "context": "- **âš¡ Storage-Layer Memory Type Filtering** - Addressed critical performance bottleneck"
      },
      {
        "line": 3715,
        "token": "loaded",
        "context": "- âŒ **Previous Issue**: API loaded ALL memories into application memory when filtering by `memory_type`"
      },
      {
        "line": 3716,
        "token": "filtering",
        "context": "- âœ… **Fixed**: Efficient storage-layer filtering with SQL WHERE clauses"
      },
      {
        "line": 3717,
        "token": "improvement",
        "context": "- âœ… **Performance Impact**: 16.5% improvement in filtering operations"
      },
      {
        "line": 3718,
        "token": "service",
        "context": "- âœ… **Scalability**: Prevents service instability with large datasets (1000+ memories)"
      },
      {
        "line": 3720,
        "token": "parameter",
        "context": "- Added `memory_type` parameter to `get_all_memories()` and `count_all_memories()` methods"
      },
      {
        "line": 3721,
        "token": "across",
        "context": "- Implemented across all backends: SQLite-vec, ChromaDB, Cloudflare D1, Hybrid"
      },
      {
        "line": 3722,
        "token": "chronological",
        "context": "- Maintains chronological ordering while applying efficient filters"
      },
      {
        "line": 3725,
        "token": "code",
        "context": "- **ğŸ”§ ChromaDB Code Refactoring** - Eliminated code duplication"
      },
      {
        "line": 3726,
        "token": "helper",
        "context": "- Created `_create_memory_from_results()` helper method"
      },
      {
        "line": 3727,
        "token": "duplicate",
        "context": "- Consolidated 5 duplicate Memory object creation patterns"
      },
      {
        "line": 3728,
        "token": "maintainability",
        "context": "- Enhanced maintainability and consistency across ChromaDB operations"
      },
      {
        "line": 3730,
        "token": "new",
        "context": "- Added 10 new test cases specifically for chronological ordering"
      },
      {
        "line": 3731,
        "token": "edge",
        "context": "- Covers edge cases: empty storage, large offsets, mixed timestamps"
      },
      {
        "line": 3732,
        "token": "endpoint",
        "context": "- Validates API endpoint behavior and storage backend compatibility"
      },
      {
        "line": 3735,
        "token": "parameterized",
        "context": "- **SQLite-vec**: Efficient `ORDER BY created_at DESC` with parameterized WHERE clauses"
      },
      {
        "line": 3736,
        "token": "sorting",
        "context": "- **ChromaDB**: Client-side sorting with performance warnings for large datasets (>1000 memories)"
      },
      {
        "line": 3737,
        "token": "sorting",
        "context": "- **Cloudflare D1**: Server-side SQL sorting and filtering for optimal performance"
      },
      {
        "line": 3738,
        "token": "primary",
        "context": "- **Hybrid**: Delegates to primary storage (SQLite-vec) for consistent performance"
      },
      {
        "line": 3741,
        "token": "error",
        "context": "- Enhanced error handling and logging for filtering operations"
      },
      {
        "line": 3742,
        "token": "response",
        "context": "- Improved API response consistency across all storage backends"
      },
      {
        "line": 3743,
        "token": "performance",
        "context": "- Better performance monitoring and debugging capabilities"
      },
      {
        "line": 3747,
        "token": "chronological",
        "context": "**Resolves**: GitHub Issue #79 - Implement chronological ordering for /api/memories endpoint"
      },
      {
        "line": 3748,
        "token": "performance",
        "context": "**Addresses**: Gemini Code Assist performance and maintainability feedback"
      },
      {
        "line": 3757,
        "token": "best",
        "context": "- **ğŸŒŸ Revolutionary Hybrid Storage Backend** - Combines the best of both worlds:"
      },
      {
        "line": 3758,
        "token": "faster",
        "context": "- âœ… **SQLite-vec Performance**: ~5ms reads/writes (10-100x faster than Cloudflare-only)"
      },
      {
        "line": 3759,
        "token": "synchronization",
        "context": "- âœ… **Cloudflare Persistence**: Multi-device synchronization and cloud backup"
      },
      {
        "line": 3760,
        "token": "operations",
        "context": "- âœ… **Zero User-Facing Latency**: All operations hit SQLite-vec first, background sync to cloud"
      },
      {
        "line": 3761,
        "token": "response",
        "context": "- âœ… **Intelligent Write-Through Cache**: Instant response with async cloud synchronization"
      },
      {
        "line": 3765,
        "token": "queue",
        "context": "- Async queue with intelligent retry logic and exponential backoff"
      },
      {
        "line": 3766,
        "token": "sync",
        "context": "- Concurrent sync operations with configurable batch processing"
      },
      {
        "line": 3767,
        "token": "health",
        "context": "- Real-time health monitoring and capacity tracking"
      },
      {
        "line": 3768,
        "token": "degradation",
        "context": "- Graceful degradation when cloud services are unavailable"
      },
      {
        "line": 3770,
        "token": "error",
        "context": "- Intelligent error categorization (temporary vs permanent vs limit errors)"
      },
      {
        "line": 3771,
        "token": "retry",
        "context": "- Automatic retry for network/temporary issues"
      },
      {
        "line": 3772,
        "token": "policy",
        "context": "- No-retry policy for hard limits (prevents infinite loops)"
      },
      {
        "line": 3773,
        "token": "logging",
        "context": "- Comprehensive logging with error classification"
      },
      {
        "line": 3777,
        "token": "size",
        "context": "- Metadata size validation (10KB limit per vector)"
      },
      {
        "line": 3778,
        "token": "count",
        "context": "- Vector count monitoring (5M vector limit)"
      },
      {
        "line": 3779,
        "token": "capacity",
        "context": "- Automatic capacity checks before sync operations"
      },
      {
        "line": 3781,
        "token": "percentage",
        "context": "- Usage percentage tracking with warning thresholds"
      },
      {
        "line": 3782,
        "token": "alerts",
        "context": "- Critical alerts at 95% capacity, warnings at 80%"
      },
      {
        "line": 3783,
        "token": "limit",
        "context": "- Proactive limit detection and graceful handling"
      },
      {
        "line": 3785,
        "token": "quota",
        "context": "- Detection of 413, 507, and quota exceeded responses"
      },
      {
        "line": 3786,
        "token": "capacity",
        "context": "- Automatic capacity status updates on limit errors"
      },
      {
        "line": 3787,
        "token": "failure",
        "context": "- Permanent failure classification for hard limits"
      },
      {
        "line": 3790,
        "token": "set",
        "context": "- **Simple Setup**: Just set `MCP_MEMORY_STORAGE_BACKEND=hybrid` + Cloudflare credentials"
      },
      {
        "line": 3792,
        "token": "sync",
        "context": "- `MCP_HYBRID_SYNC_INTERVAL`: Background sync frequency (default: 300s)"
      },
      {
        "line": 3793,
        "token": "batch",
        "context": "- `MCP_HYBRID_BATCH_SIZE`: Sync batch size (default: 50)"
      },
      {
        "line": 3794,
        "token": "capacity",
        "context": "- `MCP_HYBRID_MAX_QUEUE_SIZE`: Queue capacity (default: 1000)"
      },
      {
        "line": 3795,
        "token": "check",
        "context": "- Health check intervals and retry configurations"
      },
      {
        "line": 3799,
        "token": "memory",
        "context": "- Instant memory operations (no more waiting for cloud responses)"
      },
      {
        "line": 3800,
        "token": "offline",
        "context": "- Reliable offline functionality with automatic sync when online"
      },
      {
        "line": 3801,
        "token": "access",
        "context": "- Seamless multi-device access to memories"
      },
      {
        "line": 3803,
        "token": "strict",
        "context": "- Handles Cloudflare's strict limits intelligently"
      },
      {
        "line": 3804,
        "token": "error",
        "context": "- Robust error recovery and monitoring"
      },
      {
        "line": 3805,
        "token": "enterprise",
        "context": "- Scales from single-user to enterprise deployments"
      },
      {
        "line": 3808,
        "token": "lines",
        "context": "- **347 lines of Cloudflare limit testing** (`tests/test_hybrid_cloudflare_limits.py`)"
      },
      {
        "line": 3809,
        "token": "characteristic",
        "context": "- **Performance characteristic validation**"
      },
      {
        "line": 3810,
        "token": "sync",
        "context": "- **Background sync verification scripts**"
      },
      {
        "line": 3811,
        "token": "testing",
        "context": "- **Live testing utilities for production validation**"
      },
      {
        "line": 3814,
        "token": "marked",
        "context": "- **CLAUDE.md**: Hybrid marked as **RECOMMENDED** default for new installations"
      },
      {
        "line": 3815,
        "token": "hybrid",
        "context": "- **Installation Script Updates**: Interactive hybrid backend selection"
      },
      {
        "line": 3816,
        "token": "diagnostic",
        "context": "- **Configuration Validation**: Enhanced diagnostic tools for setup verification"
      },
      {
        "line": 3818,
        "token": "should",
        "context": "**ğŸ¯ Recommendation**: This should become the **default backend for all new installations** due to its superior performance and reliability characteristics."
      },
      {
        "line": 3825,
        "token": "critical",
        "context": "- **Fixed MCP Server Initialization**: Corrected critical regression that prevented sqlite_vec backend from working"
      },
      {
        "line": 3826,
        "token": "class",
        "context": "- âœ… Fixed class name mismatch: `SqliteVecStorage` â†’ `SqliteVecMemoryStorage`"
      },
      {
        "line": 3827,
        "token": "constructor",
        "context": "- âœ… Fixed constructor parameters: Updated to use correct `db_path` and `embedding_model` parameters"
      },
      {
        "line": 3828,
        "token": "database",
        "context": "- âœ… Fixed database path: Use `SQLITE_VEC_PATH` instead of incorrect ChromaDB path"
      },
      {
        "line": 3829,
        "token": "missing",
        "context": "- âœ… Added missing imports: `SQLITE_VEC_PATH` and `EMBEDDING_MODEL_NAME` from config"
      },
      {
        "line": 3830,
        "token": "quality",
        "context": "- âœ… Code quality improvements: Added `_get_sqlite_vec_storage()` helper function to reduce duplication"
      },
      {
        "line": 3833,
        "token": "backend",
        "context": "- **Restores Default Backend**: sqlite_vec backend (default) now works correctly with MCP server"
      },
      {
        "line": 3834,
        "token": "embedding",
        "context": "- **Fixes Memory Operations**: Resolves \"No embedding model available\" errors during memory operations"
      },
      {
        "line": 3835,
        "token": "proper",
        "context": "- **Claude Desktop Integration**: Enables proper memory storage and retrieval functionality"
      },
      {
        "line": 3836,
        "token": "embedding",
        "context": "- **Embedding Support**: Ensures embedding model loads and generates embeddings successfully"
      },
      {
        "line": 3838,
        "token": "ergut",
        "context": "Thanks to @ergut for identifying and fixing this critical regression!"
      },
      {
        "line": 3845,
        "token": "enhancement",
        "context": "- **Dual Protocol Memory Hook Support** - Revolutionary enhancement to Claude Code memory hooks"
      },
      {
        "line": 3846,
        "token": "HTTP",
        "context": "- âœ… **HTTP Protocol Support**: Full compatibility with web-based memory services at `https://localhost:8443`"
      },
      {
        "line": 3847,
        "token": "integration",
        "context": "- âœ… **MCP Protocol Support**: Direct integration with MCP server processes via `uv run memory server`"
      },
      {
        "line": 3848,
        "token": "selects",
        "context": "- âœ… **Smart Auto-Detection**: Automatically selects best available protocol (MCP preferred, HTTP fallback)"
      },
      {
        "line": 3849,
        "token": "HTTP",
        "context": "- âœ… **Graceful Fallback Chain**: MCP â†’ HTTP â†’ Environment-based storage detection"
      },
      {
        "line": 3850,
        "token": "specific",
        "context": "- âœ… **Protocol Flexibility**: Choose specific protocols (`http`, `mcp`) or auto-selection (`auto`)"
      },
      {
        "line": 3854,
        "token": "protocol",
        "context": "- Transparent protocol switching with single interface"
      },
      {
        "line": 3855,
        "token": "pooling",
        "context": "- Connection pooling and error recovery"
      },
      {
        "line": 3856,
        "token": "optimizations",
        "context": "- Protocol-specific optimizations (MCP direct communication, HTTP REST API)"
      },
      {
        "line": 3857,
        "token": "error",
        "context": "- Comprehensive error handling and timeout management"
      },
      {
        "line": 3859,
        "token": "settings",
        "context": "- Protocol-specific settings (HTTP endpoint/API keys, MCP server commands)"
      },
      {
        "line": 3860,
        "token": "fallback",
        "context": "- Configurable fallback behavior and connection timeouts"
      },
      {
        "line": 3861,
        "token": "compatibility",
        "context": "- Backward compatibility with existing configurations"
      },
      {
        "line": 3864,
        "token": "work",
        "context": "- **Multi-Protocol Resilience**: Hooks work across diverse deployment scenarios"
      },
      {
        "line": 3865,
        "token": "development",
        "context": "- Local development (MCP direct), production servers (HTTP), hybrid setups"
      },
      {
        "line": 3866,
        "token": "connectivity",
        "context": "- Network connectivity issues gracefully handled"
      },
      {
        "line": 3867,
        "token": "unavailability",
        "context": "- Service unavailability doesn't break git analysis or project detection"
      },
      {
        "line": 3868,
        "token": "error",
        "context": "- **Enhanced Error Handling**: Clear protocol-specific error messages and fallback reporting"
      },
      {
        "line": 3869,
        "token": "cleanup",
        "context": "- **Connection Management**: Proper cleanup and resource management for both protocols"
      },
      {
        "line": 3873,
        "token": "all",
        "context": "- Tests all protocol combinations: auto-MCP-preferred, auto-HTTP-preferred, MCP-only, HTTP-only"
      },
      {
        "line": 3874,
        "token": "protocol",
        "context": "- Validates protocol detection, fallback behavior, and error handling"
      },
      {
        "line": 3875,
        "token": "graceful",
        "context": "- Demonstrates graceful degradation capabilities"
      },
      {
        "line": 3876,
        "token": "hook",
        "context": "- **Backward Compatibility**: Existing hook configurations continue working unchanged"
      },
      {
        "line": 3877,
        "token": "selection",
        "context": "- **Enhanced Debugging**: Protocol selection and connection status clearly reported"
      },
      {
        "line": 3880,
        "token": "interface",
        "context": "- **Protocol Abstraction Layer**: Single interface for memory operations regardless of protocol"
      },
      {
        "line": 3881,
        "token": "attempts",
        "context": "- **Smart Connection Logic**: Connection attempts with timeouts, fallback sequencing"
      },
      {
        "line": 3882,
        "token": "search",
        "context": "- **Memory Query Unification**: Semantic search, time-based queries work identically across protocols"
      },
      {
        "line": 3883,
        "token": "parsing",
        "context": "- **Storage Backend Detection**: Enhanced parsing for both HTTP JSON responses and MCP tool output"
      },
      {
        "line": 3886,
        "token": "reliability",
        "context": "- **Claude Desktop Users**: Better reliability with HTTP fallback when MCP struggles"
      },
      {
        "line": 3887,
        "token": "deployments",
        "context": "- **VS Code Extension Users**: Optimized for HTTP-based deployments"
      },
      {
        "line": 3888,
        "token": "robust",
        "context": "- **CI/CD Systems**: More robust memory operations in automated environments"
      },
      {
        "line": 3889,
        "token": "speed",
        "context": "- **Development Workflows**: Local MCP for speed, HTTP for production consistency"
      },
      {
        "line": 3896,
        "token": "validation",
        "context": "- **Consolidated validation scripts** - Merged `validate_config.py` and `validate_configuration.py` into comprehensive `validate_configuration_complete.py`"
      },
      {
        "line": 3897,
        "token": "support",
        "context": "- âœ… Multi-platform support (Windows/macOS/Linux)"
      },
      {
        "line": 3898,
        "token": "configuration",
        "context": "- âœ… All configuration sources validation (.env, Claude Desktop, Claude Code)"
      },
      {
        "line": 3899,
        "token": "consistency",
        "context": "- âœ… Cross-configuration consistency checking"
      },
      {
        "line": 3900,
        "token": "token",
        "context": "- âœ… Enhanced API token validation with known invalid token detection"
      },
      {
        "line": 3901,
        "token": "error",
        "context": "- âœ… Improved error reporting and recommendations"
      },
      {
        "line": 3902,
        "token": "console",
        "context": "- âœ… Windows console compatibility (no Unicode issues)"
      },
      {
        "line": 3905,
        "token": "scripts",
        "context": "- âŒ **Deprecated scripts**: `validate_config.py` and `validate_configuration.py` (redundant)"
      },
      {
        "line": 3908,
        "token": "missing",
        "context": "- **Cloudflare Backend Critical Issue**: Implemented missing `recall` method in CloudflareStorage class"
      },
      {
        "line": 3909,
        "token": "search",
        "context": "- âœ… Dual search strategy (semantic + time-based)"
      },
      {
        "line": 3910,
        "token": "fallback",
        "context": "- âœ… Graceful fallback mechanism"
      },
      {
        "line": 3911,
        "token": "error",
        "context": "- âœ… Comprehensive error handling"
      },
      {
        "line": 3912,
        "token": "filtering",
        "context": "- âœ… Time filtering support"
      },
      {
        "line": 3915,
        "token": "all",
        "context": "- **Updated all documentation references** to use new consolidated validation script"
      },
      {
        "line": 3916,
        "token": "comprehensive",
        "context": "- **Created comprehensive API token setup guide** (`docs/troubleshooting/cloudflare-api-token-setup.md`)"
      },
      {
        "line": 3923,
        "token": "comprehensive",
        "context": "- **Added comprehensive backend configuration diagnostic script** (`scripts/validation/diagnose_backend_config.py`)"
      },
      {
        "line": 3924,
        "token": "file",
        "context": "- Environment file validation with masked sensitive data display"
      },
      {
        "line": 3925,
        "token": "variable",
        "context": "- Environment variable loading verification with dotenv support"
      },
      {
        "line": 3926,
        "token": "module",
        "context": "- Configuration module import testing with clear error reporting"
      },
      {
        "line": 3927,
        "token": "backend",
        "context": "- Storage backend creation testing with full traceback on failures"
      },
      {
        "line": 3928,
        "token": "indicators",
        "context": "- Status indicators with clear success/warning/error messaging"
      },
      {
        "line": 3929,
        "token": "troubleshooting",
        "context": "- **Enhanced troubleshooting workflow** with step-by-step validation process"
      },
      {
        "line": 3932,
        "token": "streamlined",
        "context": "- **Created streamlined 5-minute setup guide** (`docs/quick-setup-cloudflare-dual-environment.md`)"
      },
      {
        "line": 3933,
        "token": "configuration",
        "context": "- Comprehensive dual-environment configuration for Claude Desktop + Claude Code"
      },
      {
        "line": 3934,
        "token": "templates",
        "context": "- Configuration templates with explicit environment variable examples"
      },
      {
        "line": 3935,
        "token": "commands",
        "context": "- Validation commands with expected health check results"
      },
      {
        "line": 3936,
        "token": "section",
        "context": "- Troubleshooting section for common configuration issues"
      },
      {
        "line": 3937,
        "token": "guide",
        "context": "- Migration guide from SQLite-vec to Cloudflare backend"
      },
      {
        "line": 3938,
        "token": "incorrect",
        "context": "- **Fixed incorrect CLAUDE.md documentation** that suggested SQLite-vec as \"expected behavior\""
      },
      {
        "line": 3939,
        "token": "configuration",
        "context": "- **Added configuration management best practices** with environment variable precedence"
      },
      {
        "line": 3940,
        "token": "troubleshooting",
        "context": "- **Enhanced troubleshooting sections** with specific solutions for environment variable loading issues"
      },
      {
        "line": 3943,
        "token": "environment",
        "context": "- **Improved environment variable loading reliability** with explicit MCP server configuration"
      },
      {
        "line": 3944,
        "token": "execution",
        "context": "- **Added execution context guidance** for different environments (Claude Desktop vs Claude Code)"
      },
      {
        "line": 3945,
        "token": "working",
        "context": "- **Enhanced working directory awareness** for proper .env file loading"
      },
      {
        "line": 3946,
        "token": "configuration",
        "context": "- **Better configuration validation** with clear error messages for missing required variables"
      },
      {
        "line": 3949,
        "token": "diagnostic",
        "context": "- **Unified diagnostic approach** for both Cloudflare and SQLite-vec backends"
      },
      {
        "line": 3950,
        "token": "error",
        "context": "- **Enhanced error reporting** with masked sensitive data for security"
      },
      {
        "line": 3951,
        "token": "configuration",
        "context": "- **Improved configuration precedence handling** between global and project settings"
      },
      {
        "line": 3952,
        "token": "path",
        "context": "- **Better cross-platform path handling** for Windows environments"
      },
      {
        "line": 3955,
        "token": "configuration",
        "context": "- **Eliminates configuration confusion** between different execution environments"
      },
      {
        "line": 3956,
        "token": "clear",
        "context": "- **Provides clear validation tools** to quickly identify and resolve setup issues"
      },
      {
        "line": 3957,
        "token": "consistent",
        "context": "- **Ensures consistent backend usage** across Claude Desktop and Claude Code"
      },
      {
        "line": 3958,
        "token": "backend",
        "context": "- **Streamlines Cloudflare backend adoption** with comprehensive setup guidance"
      },
      {
        "line": 3959,
        "token": "setup",
        "context": "- **Reduces setup time** from complex debugging to 5-minute guided process"
      },
      {
        "line": 3966,
        "token": "script",
        "context": "- **Enhanced script module loading** in `scripts/server/run_memory_server.py` to prevent version conflicts"
      },
      {
        "line": 3967,
        "token": "module",
        "context": "- **Added module cache clearing** to remove conflicting cached imports before loading local development code"
      },
      {
        "line": 3968,
        "token": "path",
        "context": "- **Improved path prioritization** to ensure local `src/` directory takes precedence over installed packages"
      },
      {
        "line": 3969,
        "token": "logging",
        "context": "- **Better logging** shows exactly which modules are being cleared and paths being added for debugging"
      },
      {
        "line": 3972,
        "token": "import",
        "context": "- **Prevents import conflicts** between development code and installed package versions"
      },
      {
        "line": 3973,
        "token": "consistent",
        "context": "- **Ensures consistent behavior** when switching between development and production environments"
      },
      {
        "line": 3974,
        "token": "version",
        "context": "- **Fixes version mismatch issues** that could cause `ImportError` for missing attributes like `INCLUDE_HOSTNAME`"
      },
      {
        "line": 3975,
        "token": "robust",
        "context": "- **More robust script execution** with conditional path management based on environment"
      },
      {
        "line": 3978,
        "token": "development",
        "context": "- **Reliable development environment** - Local changes always take precedence"
      },
      {
        "line": 3979,
        "token": "debugging",
        "context": "- **Easier debugging** - Clear logging of module loading process"
      },
      {
        "line": 3980,
        "token": "backend",
        "context": "- **Consistent Cloudflare backend** - No more fallback to ChromaDB due to version conflicts"
      },
      {
        "line": 3981,
        "token": "breaking",
        "context": "- **Zero breaking changes** - Maintains compatibility with all existing configurations"
      },
      {
        "line": 3988,
        "token": "compatibility",
        "context": "- **Added compatibility stub** at `scripts/run_memory_server.py` that redirects to new location with helpful migration notices"
      },
      {
        "line": 3989,
        "token": "configuration",
        "context": "- **Updated configuration templates** to use Python module approach as primary method for maximum stability"
      },
      {
        "line": 3990,
        "token": "comprehensive",
        "context": "- **Added comprehensive migration documentation** for users updating from pre-v6.17.0 versions"
      },
      {
        "line": 3991,
        "token": "disruption",
        "context": "- **Zero disruption approach**: Existing configurations continue working immediately"
      },
      {
        "line": 3993,
        "token": "order",
        "context": "#### Recommended Launch Methods (in order of stability)"
      },
      {
        "line": 3994,
        "token": "python",
        "context": "1. **`python -m mcp_memory_service.server`** - Most stable, no path dependencies, works across all reorganizations"
      },
      {
        "line": 3995,
        "token": "run",
        "context": "2. **`uv run memory server`** - Integrated with UV tooling, already documented as preferred"
      },
      {
        "line": 3996,
        "token": "script",
        "context": "3. **`scripts/server/run_memory_server.py`** - Direct script execution at new location"
      },
      {
        "line": 3997,
        "token": "location",
        "context": "4. **`scripts/run_memory_server.py`** - Legacy location with backward compatibility (shows migration notice)"
      },
      {
        "line": 4000,
        "token": "migration",
        "context": "- **Enhanced README**: Clear migration notice with multiple working options"
      },
      {
        "line": 4001,
        "token": "examples",
        "context": "- **Updated examples**: Python module approach as primary recommendation"
      },
      {
        "line": 4002,
        "token": "guide",
        "context": "- **Migration guide**: Created comprehensive GitHub issue ([#108](https://github.com/doobidoo/mcp-memory-service/issues/108)) with all approaches"
      },
      {
        "line": 4003,
        "token": "updates",
        "context": "- **Template updates**: Configuration templates now show most stable approaches first"
      },
      {
        "line": 4006,
        "token": "relief",
        "context": "- **Immediate relief**: No users are blocked during v6.17.0 update"
      },
      {
        "line": 4007,
        "token": "pathways",
        "context": "- **Multiple pathways**: Users can choose the approach that fits their setup"
      },
      {
        "line": 4008,
        "token": "module",
        "context": "- **Future-proof**: Python module approach survives any future directory changes"
      },
      {
        "line": 4009,
        "token": "migration",
        "context": "- **Clear migration path**: Informational notices guide users to better practices without forcing changes"
      },
      {
        "line": 4016,
        "token": "backend",
        "context": "- **Added Cloudflare backend to installer**: Full support for cloud-first installation workflow"
      },
      {
        "line": 4017,
        "token": "credential",
        "context": "- **Interactive credential setup**: Guided collection of API token, Account ID, D1 database, and Vectorize index"
      },
      {
        "line": 4018,
        "token": "env",
        "context": "- **Automatic .env generation**: Securely saves credentials to project environment file"
      },
      {
        "line": 4019,
        "token": "testing",
        "context": "- **Connection testing**: Validates Cloudflare API during installation process"
      },
      {
        "line": 4020,
        "token": "fallbacks",
        "context": "- **Graceful fallbacks**: Falls back to local backends if cloud setup fails"
      },
      {
        "line": 4021,
        "token": "backend",
        "context": "- **Enhanced backend selection logic**: Usage-based recommendations for optimal backend choice"
      },
      {
        "line": 4022,
        "token": "scenarios",
        "context": "- **Production scenarios**: Cloudflare for shared access and cloud storage"
      },
      {
        "line": 4023,
        "token": "scenarios",
        "context": "- **Development scenarios**: SQLite-vec for single-user, lightweight setup"
      },
      {
        "line": 4024,
        "token": "scenarios",
        "context": "- **Team scenarios**: ChromaDB for multi-client local collaboration"
      },
      {
        "line": 4025,
        "token": "options",
        "context": "- **Improved CLI options**: Updated `--storage-backend` with clear use case descriptions"
      },
      {
        "line": 4026,
        "token": "choices",
        "context": "- **New choices**: `cloudflare` (production), `sqlite_vec` (development), `chromadb` (team), `auto_detect`"
      },
      {
        "line": 4027,
        "token": "help",
        "context": "- **Better help text**: Explains when to use each backend option"
      },
      {
        "line": 4030,
        "token": "backend",
        "context": "- **Interactive backend selection**: Guided setup with compatibility analysis and recommendations"
      },
      {
        "line": 4031,
        "token": "usage",
        "context": "- **Clear usage guidance**: Backend selection now includes use case scenarios and performance characteristics"
      },
      {
        "line": 4032,
        "token": "most",
        "context": "- **Enhanced auto-detection**: Prioritizes most reliable backends for the detected system"
      },
      {
        "line": 4033,
        "token": "documentation",
        "context": "- **Comprehensive documentation**: Updated installation commands and backend comparison table"
      },
      {
        "line": 4036,
        "token": "error",
        "context": "- **Robust error handling**: Comprehensive fallback mechanisms for failed setups"
      },
      {
        "line": 4037,
        "token": "design",
        "context": "- **Modular design**: Separate functions for credential collection, validation, and environment setup"
      },
      {
        "line": 4038,
        "token": "validation",
        "context": "- **Connection validation**: Real-time API testing during Cloudflare backend configuration"
      },
      {
        "line": 4039,
        "token": "file",
        "context": "- **Environment file management**: Smart .env file handling that preserves existing settings"
      },
      {
        "line": 4042,
        "token": "production",
        "context": "- **Seamless production setup**: Single command path from installation to Cloudflare backend"
      },
      {
        "line": 4043,
        "token": "configuration",
        "context": "- **Reduced configuration errors**: Automated credential setup eliminates manual .env file creation"
      },
      {
        "line": 4044,
        "token": "backend",
        "context": "- **Better backend choice**: Clear guidance helps users select optimal storage for their use case"
      },
      {
        "line": 4045,
        "token": "reliability",
        "context": "- **Improved reliability**: Fallback mechanisms ensure installation succeeds even with setup issues"
      },
      {
        "line": 4052,
        "token": "build",
        "context": "- **Fixed Docker build failure**: Updated Dockerfile script path after v6.15.0 scripts reorganization"
      },
      {
        "line": 4053,
        "token": "build",
        "context": "- **Issue**: Docker build failing due to `scripts/install_uv.py` not found"
      },
      {
        "line": 4054,
        "token": "path",
        "context": "- **Solution**: Updated path to `scripts/installation/install_uv.py`"
      },
      {
        "line": 4055,
        "token": "automated",
        "context": "- **Impact**: Restores automated Docker publishing workflows"
      },
      {
        "line": 4056,
        "token": "functional",
        "context": "- **No functional changes**: Pure infrastructure fix for CI/CD"
      },
      {
        "line": 4063,
        "token": "backend",
        "context": "- **Fixed Cloudflare backend fallback issue**: Resolved service falling back to SQLite-vec despite correct Cloudflare configuration"
      },
      {
        "line": 4064,
        "token": "cause",
        "context": "- **Root cause**: Configuration module wasn't loading `.env` file automatically"
      },
      {
        "line": 4065,
        "token": "override",
        "context": "- **CLI override issue**: CLI default parameter was overriding environment variables"
      },
      {
        "line": 4066,
        "token": "automatic",
        "context": "- **Solution**: Added automatic `.env` loading and fixed CLI parameter precedence"
      },
      {
        "line": 4067,
        "token": "environment",
        "context": "- **Enhanced environment loading**: Added `load_dotenv()` to configuration initialization"
      },
      {
        "line": 4068,
        "token": "detection",
        "context": "- **Automatic detection**: Config module now automatically loads `.env` file when present"
      },
      {
        "line": 4069,
        "token": "compatibility",
        "context": "- **Backward compatibility**: Graceful fallback if python-dotenv not available"
      },
      {
        "line": 4070,
        "token": "confirmation",
        "context": "- **Logging**: Added confirmation logging when environment file is loaded"
      },
      {
        "line": 4071,
        "token": "parameter",
        "context": "- **Fixed CLI parameter precedence**: Changed CLI defaults to respect environment configuration"
      },
      {
        "line": 4072,
        "token": "command",
        "context": "- **Server command**: Changed `--storage-backend` default from `'sqlite_vec'` to `None`"
      },
      {
        "line": 4073,
        "token": "priority",
        "context": "- **Environment priority**: Environment variables now take precedence over CLI defaults"
      },
      {
        "line": 4074,
        "token": "overrides",
        "context": "- **Explicit overrides**: CLI parameters only override when explicitly provided"
      },
      {
        "line": 4077,
        "token": "content",
        "context": "- **Added Cloudflare content limits to context provider**: Enhanced memory management guidance"
      },
      {
        "line": 4078,
        "token": "size",
        "context": "- **Content size warnings**: Added ~1500 character limit documentation"
      },
      {
        "line": 4079,
        "token": "model",
        "context": "- **Embedding model constraints**: Documented `@cf/baai/bge-base-en-v1.5` strict input limits"
      },
      {
        "line": 4080,
        "token": "practices",
        "context": "- **Best practices**: Guidance for chunking large content and using document ingestion"
      },
      {
        "line": 4081,
        "token": "recognition",
        "context": "- **Error recognition**: Help identifying \"Failed to store vector\" errors from size issues"
      },
      {
        "line": 4082,
        "token": "troubleshooting",
        "context": "- **Enhanced troubleshooting**: Better error messages and debugging capabilities for configuration issues"
      },
      {
        "line": 4085,
        "token": "validation",
        "context": "- **Configuration validation**: Improved environment variable loading and validation"
      },
      {
        "line": 4086,
        "token": "handling",
        "context": "- **Error handling**: Better error messages when storage backend initialization fails"
      },
      {
        "line": 4087,
        "token": "context",
        "context": "- **Documentation**: Updated context provider with Cloudflare-specific constraints and best practices"
      },
      {
        "line": 4090,
        "token": "backend",
        "context": "- **Seamless backend switching**: Cloudflare configuration now works reliably out of the box"
      },
      {
        "line": 4091,
        "token": "configuration",
        "context": "- **Fewer configuration errors**: Automatic environment loading reduces setup friction"
      },
      {
        "line": 4092,
        "token": "error",
        "context": "- **Better error diagnosis**: Clear guidance on content size limits and chunking strategies"
      },
      {
        "line": 4093,
        "token": "reliability",
        "context": "- **Improved reliability**: Configuration precedence issues eliminated"
      },
      {
        "line": 4100,
        "token": "older",
        "context": "For older releases (v6.15.1 and earlier), see [CHANGELOG-HISTORIC.md](./CHANGELOG-HISTORIC.md)."
      },
      {
        "line": 4102,
        "token": "through",
        "context": "**Historic Version Range**: v0.1.0 through v6.15.1 (2025-07-XX through 2025-09-22)"
      },
      {
        "line": 4108,
        "token": "silent",
        "context": "- **Fixed silent fallback issue**: Resolved Cloudflare backend falling back to SQLite-vec during MCP startup"
      },
      {
        "line": 4109,
        "token": "cause",
        "context": "- **Root cause identified**: Silent failures in eager initialization phase were not properly logged"
      },
      {
        "line": 4110,
        "token": "error",
        "context": "- **Enhanced error reporting**: Added comprehensive logging with visual indicators for all initialization phases"
      },
      {
        "line": 4111,
        "token": "timeout",
        "context": "- **Improved timeout handling**: Better error messages when Cloudflare initialization times out"
      },
      {
        "line": 4112,
        "token": "initialization",
        "context": "- **Enhanced initialization logging**: Added detailed logging for both eager and lazy initialization paths"
      },
      {
        "line": 4113,
        "token": "indicators",
        "context": "- **Phase indicators**: ğŸš€ SERVER INIT, â˜ï¸ Cloudflare-specific, âœ… Success markers, âŒ Error indicators"
      },
      {
        "line": 4114,
        "token": "validation",
        "context": "- **Configuration validation**: Logs all Cloudflare environment variables for troubleshooting"
      },
      {
        "line": 4115,
        "token": "type",
        "context": "- **Storage type verification**: Confirms final storage backend type after initialization"
      },
      {
        "line": 4116,
        "token": "improvements",
        "context": "- **Diagnostic improvements**: Created comprehensive diagnostic tools for Cloudflare backend issues"
      },
      {
        "line": 4117,
        "token": "diagnostic",
        "context": "- **Enhanced diagnostic script**: `debug_server_initialization.py` for testing initialization flows"
      },
      {
        "line": 4118,
        "token": "environment",
        "context": "- **MCP environment testing**: `tests/integration/test_mcp_environment.py` for testing Claude Desktop integration"
      },
      {
        "line": 4119,
        "token": "test",
        "context": "- **Fixed test syntax errors**: Corrected f-string and async function issues in test files"
      },
      {
        "line": 4122,
        "token": "async",
        "context": "- **Fixed `db_utils.py` async issue**: Changed `get_database_stats()` to async function to support Cloudflare storage"
      },
      {
        "line": 4123,
        "token": "error",
        "context": "- **Enhanced error tracebacks**: Full exception details now logged for initialization failures"
      },
      {
        "line": 4124,
        "token": "fallback",
        "context": "- **Better fallback documentation**: Clear distinction between eager vs lazy initialization behaviors"
      },
      {
        "line": 4127,
        "token": "issue",
        "context": "- **Faster issue diagnosis**: Clear visual indicators help identify where initialization fails"
      },
      {
        "line": 4128,
        "token": "error",
        "context": "- **Better error messages**: Specific error details for common Cloudflare setup issues"
      },
      {
        "line": 4129,
        "token": "debugging",
        "context": "- **Proactive debugging**: Enhanced logging appears in Claude Desktop MCP logs for easier troubleshooting"
      },
      {
        "line": 4137,
        "token": "loose",
        "context": "- âœ… **Organized 62 loose scripts** into 12 logical categories for professional navigation"
      },
      {
        "line": 4138,
        "token": "systematic",
        "context": "- âœ… **Created systematic directory structure** with clear functional grouping"
      },
      {
        "line": 4139,
        "token": "loose",
        "context": "- âœ… **Zero loose scripts remaining** in root directory - all properly categorized"
      },
      {
        "line": 4140,
        "token": "full",
        "context": "- âœ… **Maintained full backward compatibility** - all scripts work exactly as before"
      },
      {
        "line": 4141,
        "token": "all",
        "context": "- âœ… **Updated all documentation references** to reflect new paths"
      },
      {
        "line": 4144,
        "token": "scripts",
        "context": "- **ğŸ”„ `sync/`** (4 scripts) - Backend synchronization utilities"
      },
      {
        "line": 4145,
        "token": "scripts",
        "context": "- **ğŸ› ï¸ `service/`** (5 scripts) - Service management and deployment"
      },
      {
        "line": 4146,
        "token": "scripts",
        "context": "- **âœ… `validation/`** (7 scripts) - Configuration and system validation"
      },
      {
        "line": 4147,
        "token": "scripts",
        "context": "- **ğŸ—„ï¸ `database/`** (4 scripts) - Database analysis and health monitoring"
      },
      {
        "line": 4148,
        "token": "scripts",
        "context": "- **ğŸ§¹ `maintenance/`** (7 scripts) - Database cleanup and repair operations"
      },
      {
        "line": 4149,
        "token": "scripts",
        "context": "- **ğŸ’¾ `backup/`** (4 scripts) - Backup and restore operations"
      },
      {
        "line": 4150,
        "token": "scripts",
        "context": "- **ğŸ”„ `migration/`** (11 scripts) - Data migration and schema updates"
      },
      {
        "line": 4151,
        "token": "scripts",
        "context": "- **ğŸ  `installation/`** (8 scripts) - Setup and installation scripts"
      },
      {
        "line": 4152,
        "token": "scripts",
        "context": "- **ğŸ–¥ï¸ `server/`** (5 scripts) - Server runtime and operational scripts"
      },
      {
        "line": 4153,
        "token": "scripts",
        "context": "- **ğŸ§ª `testing/`** (15 scripts) - Test scripts and validation"
      },
      {
        "line": 4154,
        "token": "scripts",
        "context": "- **ğŸ”§ `utils/`** (7 scripts) - General utility scripts and wrappers"
      },
      {
        "line": 4155,
        "token": "scripts",
        "context": "- **ğŸ› ï¸ `development/`** (6 scripts) - Development tools and debugging utilities"
      },
      {
        "line": 4158,
        "token": "rewrite",
        "context": "- **âœ… Complete README.md rewrite** with comprehensive script index and usage examples"
      },
      {
        "line": 4159,
        "token": "reference",
        "context": "- **âœ… Quick reference guide** for essential daily operations"
      },
      {
        "line": 4160,
        "token": "directory",
        "context": "- **âœ… Detailed directory explanations** with purpose and key features"
      },
      {
        "line": 4161,
        "token": "guidelines",
        "context": "- **âœ… Safety guidelines** and execution best practices"
      },
      {
        "line": 4162,
        "token": "use",
        "context": "- **âœ… Common use case workflows** for setup, operations, troubleshooting, and migration"
      },
      {
        "line": 4163,
        "token": "documentation",
        "context": "- **âœ… Integration documentation** linking to project wiki and guides"
      },
      {
        "line": 4166,
        "token": "script",
        "context": "- **ğŸ¯ Faster script discovery** - find tools by logical function instead of hunting through 62 files"
      },
      {
        "line": 4167,
        "token": "documentation",
        "context": "- **ğŸ“š Professional documentation** with tables, examples, and clear categorization"
      },
      {
        "line": 4168,
        "token": "examples",
        "context": "- **ğŸš€ Quick-start examples** for common operations and troubleshooting"
      },
      {
        "line": 4169,
        "token": "approach",
        "context": "- **ğŸ›¡ï¸ Safety-first approach** with dry-run recommendations and backup guidelines"
      },
      {
        "line": 4170,
        "token": "integration",
        "context": "- **ğŸ”— Seamless integration** with existing CLAUDE.md, AGENTS.md, and documentation"
      },
      {
        "line": 4173,
        "token": "organization",
        "context": "- **ğŸ—ï¸ Logical organization** makes adding new scripts intuitive"
      },
      {
        "line": 4174,
        "token": "naming",
        "context": "- **ğŸ“ Clear naming conventions** and directory purposes"
      },
      {
        "line": 4175,
        "token": "structure",
        "context": "- **ğŸ”„ Future-proof structure** that scales with project growth"
      },
      {
        "line": 4176,
        "token": "documentation",
        "context": "- **âœ… Consistent documentation patterns** across all categories"
      },
      {
        "line": 4177,
        "token": "functionality",
        "context": "- **ğŸ§ª Verified functionality** - all critical scripts tested post-reorganization"
      },
      {
        "line": 4180,
        "token": "documentation",
        "context": "- **`scripts/README.md`** - COMPLETE REWRITE: Professional documentation with comprehensive index"
      },
      {
        "line": 4181,
        "token": "script",
        "context": "- **`CLAUDE.md`** - UPDATED: All script paths updated to new locations"
      },
      {
        "line": 4182,
        "token": "workflow",
        "context": "- **`AGENTS.md`** - UPDATED: Development workflow script references"
      },
      {
        "line": 4183,
        "token": "script",
        "context": "- **`CHANGELOG.md`** - UPDATED: Historical script references to new paths"
      },
      {
        "line": 4186,
        "token": "user",
        "context": "- ğŸ¯ **Transforms user experience** from cluttered file hunting to professional navigation"
      },
      {
        "line": 4187,
        "token": "faster",
        "context": "- ğŸš€ **Enables faster development** with logical script organization"
      },
      {
        "line": 4188,
        "token": "maintenance",
        "context": "- ğŸ’» **Simplifies maintenance** with clear categorization and documentation"
      },
      {
        "line": 4189,
        "token": "appearance",
        "context": "- âœ… **Professional appearance** suitable for enterprise deployments"
      },
      {
        "line": 4190,
        "token": "scalable",
        "context": "- ğŸ”„ **Supports scalable growth** with extensible directory structure"
      },
      {
        "line": 4191,
        "token": "safety",
        "context": "- ğŸ›¡ï¸ **Improves safety** with comprehensive usage guidelines and best practices"
      },
      {
        "line": 4193,
        "token": "release",
        "context": "This release transforms the scripts directory from a disorganized collection into a professional, enterprise-ready toolkit that significantly improves developer"
      },
      {
        "line": 4201,
        "token": "sync",
        "context": "- âœ… `sync_memory_backends.py` - Core sync logic with intelligent deduplication"
      },
      {
        "line": 4202,
        "token": "wrapper",
        "context": "- âœ… `claude_sync_commands.py` - User-friendly CLI wrapper for sync operations"
      },
      {
        "line": 4203,
        "token": "synchronization",
        "context": "- âœ… Supports Cloudflare â†” SQLite-vec synchronization with dry-run mode"
      },
      {
        "line": 4204,
        "token": "hashing",
        "context": "- âœ… Content-based hashing prevents duplicates across backends"
      },
      {
        "line": 4205,
        "token": "status",
        "context": "- âœ… Comprehensive status reporting and error handling"
      },
      {
        "line": 4207,
        "token": "service",
        "context": "- âœ… `memory_service_manager.sh` - Linux service management for dual-backend deployments"
      },
      {
        "line": 4208,
        "token": "backend",
        "context": "- âœ… State-based backend detection using `/tmp/memory-service-backend.state`"
      },
      {
        "line": 4209,
        "token": "file",
        "context": "- âœ… Environment file management for Cloudflare and SQLite configurations"
      },
      {
        "line": 4210,
        "token": "sync",
        "context": "- âœ… Integrated sync operations and health monitoring"
      },
      {
        "line": 4212,
        "token": "configuration",
        "context": "- âœ… `validate_config.py` - Comprehensive configuration validator"
      },
      {
        "line": 4213,
        "token": "global",
        "context": "- âœ… Validates Claude Code global configuration (~/.claude.json)"
      },
      {
        "line": 4214,
        "token": "credentials",
        "context": "- âœ… Checks Cloudflare credentials and environment setup"
      },
      {
        "line": 4215,
        "token": "configuration",
        "context": "- âœ… Detects configuration conflicts and provides solutions"
      },
      {
        "line": 4217,
        "token": "comprehensive",
        "context": "- âœ… Updated `scripts/README.md` with comprehensive utility documentation"
      },
      {
        "line": 4218,
        "token": "backend",
        "context": "- âœ… Added backend sync references to main `README.md` and `CLAUDE.md`"
      },
      {
        "line": 4219,
        "token": "wiki",
        "context": "- âœ… Created `Backend-Synchronization-Guide.md` wiki page with complete setup guide"
      },
      {
        "line": 4223,
        "token": "use",
        "context": "- âœ… Refactored `sync_memory_backends.py` to use shared `_sync_between_backends()` method"
      },
      {
        "line": 4224,
        "token": "lines",
        "context": "- âœ… Reduced ~80 lines of duplicate code, improved maintainability"
      },
      {
        "line": 4226,
        "token": "hardcoded",
        "context": "- âœ… Replaced hardcoded `/home/hkr/` paths with `$HOME` variable"
      },
      {
        "line": 4227,
        "token": "missing",
        "context": "- âœ… Added missing final newlines to all utility scripts"
      },
      {
        "line": 4229,
        "token": "configuration",
        "context": "- âœ… Improved configuration validation with regex patterns instead of string matching"
      },
      {
        "line": 4230,
        "token": "encoding",
        "context": "- âœ… Added UTF-8 encoding to all file operations in `validate_config.py`"
      },
      {
        "line": 4231,
        "token": "conflict",
        "context": "- âœ… Fixed `.env.sqlite` conflict detection logic"
      },
      {
        "line": 4233,
        "token": "command",
        "context": "- âœ… Refactored command handling to dictionary-based dispatch pattern"
      },
      {
        "line": 4234,
        "token": "scalability",
        "context": "- âœ… Improved scalability for future command additions"
      },
      {
        "line": 4237,
        "token": "primary",
        "context": "- **Hybrid Cloud/Local Deployments**: Enable Cloudflare primary with SQLite backup"
      },
      {
        "line": 4238,
        "token": "backup",
        "context": "- **Disaster Recovery**: Automated backup and restore capabilities"
      },
      {
        "line": 4239,
        "token": "memory",
        "context": "- **Multi-Machine Sync**: Consistent memory sharing across devices"
      },
      {
        "line": 4240,
        "token": "sync",
        "context": "- **Development/Production Workflows**: Seamless sync between environments"
      },
      {
        "line": 4241,
        "token": "validation",
        "context": "- **Troubleshooting Tools**: Configuration validation and service management"
      },
      {
        "line": 4244,
        "token": "critical",
        "context": "- ğŸ¯ **Fills critical operational gaps** for production deployments"
      },
      {
        "line": 4245,
        "token": "advanced",
        "context": "- ğŸš€ **Enables advanced deployment strategies** (hybrid cloud/local)"
      },
      {
        "line": 4246,
        "token": "troubleshooting",
        "context": "- ğŸ’» **Simplifies troubleshooting** with validation and management tools"
      },
      {
        "line": 4247,
        "token": "code",
        "context": "- âœ… **Professional code quality** meeting all review standards"
      },
      {
        "line": 4248,
        "token": "complex",
        "context": "- ğŸ”„ **Supports complex workflows** for distributed teams"
      },
      {
        "line": 4251,
        "token": "sync",
        "context": "- `scripts/sync/sync_memory_backends.py` - NEW: Bidirectional sync engine"
      },
      {
        "line": 4252,
        "token": "wrapper",
        "context": "- `scripts/sync/claude_sync_commands.py` - NEW: CLI wrapper for sync operations"
      },
      {
        "line": 4253,
        "token": "service",
        "context": "- `scripts/service/memory_service_manager.sh` - NEW: Linux service manager"
      },
      {
        "line": 4254,
        "token": "validator",
        "context": "- `scripts/validation/validate_config.py` - NEW: Configuration validator"
      },
      {
        "line": 4255,
        "token": "utility",
        "context": "- `scripts/README.md` - UPDATED: Comprehensive utility documentation"
      },
      {
        "line": 4256,
        "token": "troubleshooting",
        "context": "- `README.md` - UPDATED: Added troubleshooting references"
      },
      {
        "line": 4257,
        "token": "sync",
        "context": "- `CLAUDE.md` - UPDATED: Added sync and validation commands"
      },
      {
        "line": 4258,
        "token": "sync",
        "context": "- Wiki: `Backend-Synchronization-Guide.md` - NEW: Complete sync setup guide"
      },
      {
        "line": 4265,
        "token": "critical",
        "context": "- **Fixed critical integration gaps**: Cloudflare backend now has complete feature parity with sqlite_vec and chroma"
      },
      {
        "line": 4267,
        "token": "storage",
        "context": "- âœ… **Resolved \"Unknown storage type: CloudflareStorage\" errors**"
      },
      {
        "line": 4268,
        "token": "check",
        "context": "- âœ… Health check now properly validates Cloudflare storage and returns \"healthy\" status"
      },
      {
        "line": 4269,
        "token": "support",
        "context": "- âœ… Added Cloudflare support to `server.py` health validation (lines 3410-3450)"
      },
      {
        "line": 4270,
        "token": "support",
        "context": "- âœ… Added Cloudflare support to `db_utils.py` validation, stats, and repair functions"
      },
      {
        "line": 4272,
        "token": "cloudflare",
        "context": "- âœ… Added 'cloudflare' option to all CLI storage backend choices"
      },
      {
        "line": 4273,
        "token": "cloudflare",
        "context": "- âœ… Updated `cli/main.py`, `cli/ingestion.py` with cloudflare backend support"
      },
      {
        "line": 4274,
        "token": "initialization",
        "context": "- âœ… Added CloudflareStorage initialization logic to `cli/utils.py`"
      },
      {
        "line": 4275,
        "token": "configuration",
        "context": "- âœ… Updated configuration documentation to include cloudflare option"
      },
      {
        "line": 4277,
        "token": "warning",
        "context": "- âœ… **Critical**: Added warning about inappropriate use of `memory_offline.py` with Cloudflare backend"
      },
      {
        "line": 4278,
        "token": "uses",
        "context": "- âœ… Cloudflare uses Workers AI for embeddings - offline mode breaks this functionality"
      },
      {
        "line": 4279,
        "token": "proper",
        "context": "- âœ… Added proper startup script recommendations in `docs/cloudflare-setup.md`"
      },
      {
        "line": 4280,
        "token": "run",
        "context": "- âœ… Recommended: `uv run memory server`, `python scripts/run_memory_server.py`"
      },
      {
        "line": 4282,
        "token": "comprehensive",
        "context": "- âœ… Added comprehensive tests for tag sanitization method"
      },
      {
        "line": 4283,
        "token": "existing",
        "context": "- âœ… Verified existing extensive test suite covers all major functionality"
      },
      {
        "line": 4285,
        "token": "backend",
        "context": "- ğŸ¯ **Cloudflare backend is now a first-class citizen** alongside sqlite_vec and chroma"
      },
      {
        "line": 4286,
        "token": "health",
        "context": "- ğŸš€ **Complete health check integration** - no more \"Unknown storage type\" errors"
      },
      {
        "line": 4287,
        "token": "support",
        "context": "- ğŸ’» **Full CLI support** for cloudflare backend selection"
      },
      {
        "line": 4288,
        "token": "startup",
        "context": "- ğŸ“š **Clear startup guidance** prevents Workers AI compatibility issues"
      },
      {
        "line": 4289,
        "token": "ready",
        "context": "- âœ… **Production ready** for distributed teams and cloud-native deployments"
      },
      {
        "line": 4292,
        "token": "health",
        "context": "- `src/mcp_memory_service/server.py` - Added Cloudflare health check case"
      },
      {
        "line": 4293,
        "token": "validation",
        "context": "- `src/mcp_memory_service/utils/db_utils.py` - Added validation, stats, repair support"
      },
      {
        "line": 4294,
        "token": "cloudflare",
        "context": "- `src/mcp_memory_service/cli/main.py` - Added cloudflare CLI option"
      },
      {
        "line": 4295,
        "token": "cloudflare",
        "context": "- `src/mcp_memory_service/cli/ingestion.py` - Added cloudflare CLI option"
      },
      {
        "line": 4296,
        "token": "initialization",
        "context": "- `src/mcp_memory_service/cli/utils.py` - Added CloudflareStorage initialization"
      },
      {
        "line": 4297,
        "token": "backend",
        "context": "- `src/mcp_memory_service/config.py` - Updated backend documentation"
      },
      {
        "line": 4298,
        "token": "docs/cloudflare-setup.md",
        "context": "- `docs/cloudflare-setup.md` - Added startup script guidance and warnings"
      },
      {
        "line": 4299,
        "token": "test",
        "context": "- `tests/unit/test_cloudflare_storage.py` - Enhanced test coverage"
      },
      {
        "line": 4300,
        "token": "bump",
        "context": "- `src/mcp_memory_service/__init__.py` - Version bump to 6.13.8"
      },
      {
        "line": 4301,
        "token": "bump",
        "context": "- `pyproject.toml` - Version bump to 6.13.8"
      },
      {
        "line": 4308,
        "token": "critical",
        "context": "- **Fixed critical bug**: Resolved Cloudflare Vectorize vector ID length limit error"
      },
      {
        "line": 4309,
        "token": "was",
        "context": "- **Root Cause**: CloudflareStorage was using `\"mem_\" + content_hash` format for vector IDs (68 characters)"
      },
      {
        "line": 4310,
        "token": "has",
        "context": "- **Cloudflare Limit**: Vectorize has a 64-byte maximum ID length restriction"
      },
      {
        "line": 4311,
        "token": "prefix",
        "context": "- **Solution**: Removed \"mem_\" prefix, now using `content_hash` directly (64 characters)"
      },
      {
        "line": 4312,
        "token": "proper",
        "context": "- **Impact**: **Enables proper bidirectional sync** between multiple machines using Cloudflare backend"
      },
      {
        "line": 4313,
        "token": "too",
        "context": "- **Error Fixed**: `\"id too long; max is 64 bytes, got 68 bytes\"` when storing memories"
      },
      {
        "line": 4314,
        "token": "users",
        "context": "- **Affects**: All users using Cloudflare backend for memory storage"
      },
      {
        "line": 4315,
        "token": "change",
        "context": "- **Backward Compatibility**: âš ï¸ **Breaking change** - existing Cloudflare vector IDs will have different format"
      },
      {
        "line": 4316,
        "token": "existing",
        "context": "- **Migration**: Users with existing Cloudflare deployments may need to re-import memories"
      },
      {
        "line": 4318,
        "token": "backend",
        "context": "- âœ… Cloudflare backend now works reliably for memory storage"
      },
      {
        "line": 4319,
        "token": "sync",
        "context": "- âœ… Multi-machine sync scenarios (e.g., replacing failed servers) now supported"
      },
      {
        "line": 4320,
        "token": "vector",
        "context": "- âœ… Consistent vector ID format aligns with Cloudflare specifications"
      },
      {
        "line": 4324,
        "token": "capability",
        "context": "- **New capability**: Cloudflare can now serve as central memory hub for multiple machines"
      },
      {
        "line": 4325,
        "token": "case",
        "context": "- **Use case**: Replacement for failed centralized servers (e.g., narrowbox failures)"
      },
      {
        "line": 4326,
        "token": "storage",
        "context": "- **Implementation**: Dual storage strategy with Cloudflare primary + local sqlite_vec backup"
      },
      {
        "line": 4327,
        "token": "sync",
        "context": "- **Tested**: Bidirectional sync verified between macOS machines using Cloudflare D1 + Vectorize"
      },
      {
        "line": 4334,
        "token": "standard",
        "context": "- **New standard format**: Added `AGENTS.md` following the industry-standard [agents.md](https://agents.md/) specification"
      },
      {
        "line": 4335,
        "token": "coding",
        "context": "- **Purpose**: Provides AI coding agents with project-specific instructions and context"
      },
      {
        "line": 4336,
        "token": "other",
        "context": "- **Compatibility**: Works with GitHub Copilot, Cursor, VS Code, Continue, and other AI tools"
      },
      {
        "line": 4337,
        "token": "instructions",
        "context": "- **Complements CLAUDE.md**: Generic instructions for all AI agents vs Claude-specific in CLAUDE.md"
      },
      {
        "line": 4338,
        "token": "includes",
        "context": "- **Content includes**:"
      },
      {
        "line": 4339,
        "token": "commands",
        "context": "- Setup commands and testing procedures"
      },
      {
        "line": 4340,
        "token": "structure",
        "context": "- Project structure and key files overview"
      },
      {
        "line": 4341,
        "token": "style",
        "context": "- Code style guidelines and conventions"
      },
      {
        "line": 4342,
        "token": "development",
        "context": "- Common development tasks and patterns"
      },
      {
        "line": 4343,
        "token": "guidelines",
        "context": "- Security guidelines and debugging tips"
      },
      {
        "line": 4345,
        "token": "location",
        "context": "- Standardized location for AI agent instructions (becoming industry standard)"
      },
      {
        "line": 4346,
        "token": "developer",
        "context": "- Improved developer experience when using AI coding assistants"
      },
      {
        "line": 4347,
        "token": "onboarding",
        "context": "- Better onboarding for contributors using AI tools"
      },
      {
        "line": 4351,
        "token": "dead",
        "context": "- **Fixed dead link**: Resolved broken reference in README.md line 195"
      },
      {
        "line": 4352,
        "token": "guidelines",
        "context": "- **Comprehensive guidelines**: Added detailed contribution instructions including:"
      },
      {
        "line": 4353,
        "token": "environment",
        "context": "- Development environment setup with platform-specific notes"
      },
      {
        "line": 4354,
        "token": "style",
        "context": "- Code style and Python conventions following PEP 8"
      },
      {
        "line": 4355,
        "token": "requirements",
        "context": "- Testing requirements with pytest examples"
      },
      {
        "line": 4356,
        "token": "commit",
        "context": "- Semantic commit message format"
      },
      {
        "line": 4357,
        "token": "request",
        "context": "- Pull request process and review guidelines"
      },
      {
        "line": 4358,
        "token": "basic",
        "context": "- **Code of Conduct**: Included basic behavioral guidelines for inclusive community"
      },
      {
        "line": 4359,
        "token": "contribution",
        "context": "- **Multiple contribution paths**: Documented various ways to contribute (code, docs, testing, support)"
      },
      {
        "line": 4360,
        "token": "existing",
        "context": "- **Integration**: Links to existing documentation (AGENTS.md, CLAUDE.md, Wiki)"
      },
      {
        "line": 4368,
        "token": "name",
        "context": "- **Fixed NameError**: Resolved `NameError: name 'paths' is not defined` in `install_macos_service.py` at line 238"
      },
      {
        "line": 4369,
        "token": "paths",
        "context": "- **Root Cause**: Variable `paths` was referenced in `platform_info` dictionary without being initialized"
      },
      {
        "line": 4370,
        "token": "paths",
        "context": "- **Solution**: Added `paths = get_service_paths()` call before usage, following existing code patterns"
      },
      {
        "line": 4371,
        "token": "service",
        "context": "- **Impact**: macOS service installation now works reliably without runtime errors"
      },
      {
        "line": 4372,
        "token": "hex",
        "context": "- **Credit**: Thanks to @hex for identifying and fixing this issue"
      },
      {
        "line": 4380,
        "token": "timezone",
        "context": "- **Fixed timezone handling bug**: Resolved critical inconsistency in timestamp validation between hook-generated and manual memories"
      },
      {
        "line": 4381,
        "token": "model",
        "context": "- **Root Cause**: Memory model was incorrectly interpreting ISO timestamps without 'Z' suffix as local time instead of UTC"
      },
      {
        "line": 4382,
        "token": "function",
        "context": "- **Solution**: Enhanced `iso_to_float()` function with explicit UTC handling using `calendar.timegm()`"
      },
      {
        "line": 4383,
        "token": "memory",
        "context": "- **Impact**: Time-based memory searches (e.g., \"yesterday\", \"last week\") now consistently find all memories regardless of storage method"
      },
      {
        "line": 4384,
        "token": "timestamp",
        "context": "- **Improved timestamp validation**: Enhanced `_sync_timestamps()` method with better timezone mismatch detection"
      },
      {
        "line": 4385,
        "token": "logic",
        "context": "- Added logic to detect timezone offset discrepancies between float and ISO timestamps"
      },
      {
        "line": 4386,
        "token": "correction",
        "context": "- Automatic correction when timezone issues detected (prefers float timestamp as authoritative)"
      },
      {
        "line": 4387,
        "token": "logging",
        "context": "- Better logging for timezone validation issues during memory creation"
      },
      {
        "line": 4388,
        "token": "test",
        "context": "- **Comprehensive test coverage**: Added extensive test suite validating fix effectiveness"
      },
      {
        "line": 4389,
        "token": "consistency",
        "context": "- `test_hook_vs_manual_storage.py`: Validates consistency between hook and manual memory storage"
      },
      {
        "line": 4390,
        "token": "timezone",
        "context": "- `test_issue99_final_validation.py`: Confirms timezone fix resolves the original issue"
      },
      {
        "line": 4391,
        "token": "cause",
        "context": "- `test_search_retrieval_inconsistency.py`: Root cause analysis and validation tests"
      },
      {
        "line": 4392,
        "token": "serialization",
        "context": "- `test_data_serialization_consistency.py`: Memory serialization consistency validation"
      },
      {
        "line": 4395,
        "token": "timestamp",
        "context": "- **Memory Model Enhancement**: Strengthened timestamp handling throughout the memory lifecycle"
      },
      {
        "line": 4396,
        "token": "robust",
        "context": "- More robust ISO string parsing with fallback mechanisms"
      },
      {
        "line": 4397,
        "token": "error",
        "context": "- Better error handling for edge cases in timestamp conversion"
      },
      {
        "line": 4398,
        "token": "interpretation",
        "context": "- Consistent UTC interpretation across all timestamp operations"
      },
      {
        "line": 4401,
        "token": "documented",
        "context": "- **Issue Resolution**: GitHub Issue #99 documented and resolved with comprehensive technical analysis"
      },
      {
        "line": 4402,
        "token": "detailed",
        "context": "- **Test Documentation**: Added detailed test suite documentation for memory storage consistency"
      },
      {
        "line": 4409,
        "token": "object",
        "context": "- **Fixed AttributeError**: Resolved `'sqlite3.Connection' object has no attribute 'enable_load_extension'` error on macOS"
      },
      {
        "line": 4410,
        "token": "comprehensive",
        "context": "- Added comprehensive extension support detection before attempting to load sqlite-vec"
      },
      {
        "line": 4411,
        "token": "error",
        "context": "- Graceful error handling with clear, actionable error messages"
      },
      {
        "line": 4412,
        "token": "guidance",
        "context": "- Platform-specific guidance for macOS users (Homebrew Python, pyenv with extension support)"
      },
      {
        "line": 4413,
        "token": "prompt",
        "context": "- Interactive prompt to switch to ChromaDB backend when extensions unavailable"
      },
      {
        "line": 4414,
        "token": "method",
        "context": "- **Enhanced sqlite_vec.py**: Added `_check_extension_support()` method with robust error handling"
      },
      {
        "line": 4415,
        "token": "extension",
        "context": "- **Improved install.py**: Added SQLite extension support detection and warnings during installation"
      },
      {
        "line": 4420,
        "token": "dedicated",
        "context": "- **README Updates**: Added dedicated macOS SQLite extension support section with solutions"
      },
      {
        "line": 4421,
        "token": "extension",
        "context": "- **First-Time Setup Guide**: Comprehensive macOS extension issues section with verification commands"
      },
      {
        "line": 4422,
        "token": "troubleshooting",
        "context": "- **Troubleshooting Guide**: Detailed troubleshooting for `enable_load_extension` AttributeError"
      },
      {
        "line": 4423,
        "token": "instructions",
        "context": "- **Clear Solutions**: Step-by-step instructions for Homebrew Python and pyenv with extension support"
      },
      {
        "line": 4426,
        "token": "now",
        "context": "- **Proactive Detection**: Installer now checks SQLite extension support before attempting sqlite-vec installation"
      },
      {
        "line": 4427,
        "token": "automatically",
        "context": "- **Interactive Fallback**: Option to automatically switch to ChromaDB when sqlite-vec cannot work"
      },
      {
        "line": 4428,
        "token": "solutions",
        "context": "- **Better Error Messages**: Platform-specific solutions instead of cryptic errors"
      },
      {
        "line": 4429,
        "token": "system",
        "context": "- **System Information**: Enhanced system info display includes SQLite extension support status"
      },
      {
        "line": 4432,
        "token": "backend",
        "context": "- **Runtime Protection**: sqlite-vec backend now fails gracefully with helpful error messages"
      },
      {
        "line": 4433,
        "token": "error",
        "context": "- **Clear Guidance**: Detailed error messages explain why the error occurs and provide multiple solutions"
      },
      {
        "line": 4434,
        "token": "automatically",
        "context": "- **Automatic Detection**: System automatically detects extension support capabilities"
      },
      {
        "line": 4441,
        "token": "intelligent",
        "context": "- **Enhanced sqlite-vec Installation**: Added intelligent fallback strategies for Python 3.13 where pre-built wheels are not yet available"
      },
      {
        "line": 4442,
        "token": "retry",
        "context": "- Automatic retry with multiple installation methods (uv pip, standard pip, source build, GitHub install)"
      },
      {
        "line": 4443,
        "token": "guidance",
        "context": "- Clear guidance for alternative solutions (Python 3.12, ChromaDB backend)"
      },
      {
        "line": 4444,
        "token": "prompt",
        "context": "- Interactive prompt to switch backends if sqlite-vec installation fails"
      },
      {
        "line": 4445,
        "token": "error",
        "context": "- **Improved Error Messages**: Better error reporting with actionable manual installation options"
      },
      {
        "line": 4446,
        "token": "pip",
        "context": "- **uv Package Manager Support**: Prioritizes uv pip when available for better dependency resolution"
      },
      {
        "line": 4451,
        "token": "compatibility",
        "context": "- **README Updates**: Added Python 3.13 compatibility note with recommended solutions"
      },
      {
        "line": 4452,
        "token": "section",
        "context": "- **First-Time Setup Guide**: New section on Python 3.13 known issues and workarounds"
      },
      {
        "line": 4453,
        "token": "installation",
        "context": "- **Troubleshooting Guide**: Comprehensive sqlite-vec installation troubleshooting for Python 3.13"
      },
      {
        "line": 4454,
        "token": "instructions",
        "context": "- **Clear Migration Path**: Step-by-step instructions for using Python 3.12 or switching to ChromaDB"
      },
      {
        "line": 4457,
        "token": "now",
        "context": "- **Multi-Strategy Installation**: Installer now tries 5 different methods before failing"
      },
      {
        "line": 4458,
        "token": "build",
        "context": "- **Source Build Fallback**: Attempts to build from source when wheels are unavailable"
      },
      {
        "line": 4459,
        "token": "back",
        "context": "- **GitHub Direct Install**: Falls back to installing directly from sqlite-vec repository"
      },
      {
        "line": 4460,
        "token": "automatically",
        "context": "- **Backend Switching**: Option to automatically switch to ChromaDB if sqlite-vec fails"
      },
      {
        "line": 4467,
        "token": "prominent",
        "context": "- **Added First-Time Setup Section**: New prominent section in README.md explaining expected warnings on initial run"
      },
      {
        "line": 4468,
        "token": "docs/first-time-setup.md",
        "context": "- **Created Comprehensive Guide**: New `docs/first-time-setup.md` with detailed explanations of:"
      },
      {
        "line": 4469,
        "token": "warnings",
        "context": "- Normal warnings vs actual errors"
      },
      {
        "line": 4470,
        "token": "download",
        "context": "- Model download process (~25MB, 1-2 minutes)"
      },
      {
        "line": 4471,
        "token": "indicators",
        "context": "- Success indicators and verification steps"
      },
      {
        "line": 4472,
        "token": "specific",
        "context": "- Ubuntu 24-specific installation instructions"
      },
      {
        "line": 4473,
        "token": "docs/troubleshooting/general.md",
        "context": "- **Enhanced Troubleshooting**: Updated `docs/troubleshooting/general.md` with first-time warnings section"
      },
      {
        "line": 4474,
        "token": "clear",
        "context": "- **Improved Installer Messages**: Enhanced `install.py` with clear first-time setup expectations and progress indicators"
      },
      {
        "line": 4479,
        "token": "snapshots",
        "context": "- **Fixed Issue #95**: Clarified that \"No snapshots directory\" warning is normal on first run"
      },
      {
        "line": 4480,
        "token": "between",
        "context": "- **Addressed Confusion**: Distinguished between expected initialization warnings and actual errors"
      },
      {
        "line": 4481,
        "token": "specific",
        "context": "- **Ubuntu 24 Support**: Added specific documentation for Ubuntu 24 installation issues"
      },
      {
        "line": 4484,
        "token": "clear",
        "context": "- Added clear messaging that warnings disappear after first successful run"
      },
      {
        "line": 4485,
        "token": "estimated",
        "context": "- Included estimated download times and model sizes in documentation"
      },
      {
        "line": 4486,
        "token": "installer",
        "context": "- Improved installer output to set proper expectations for first-time users"
      },
      {
        "line": 4493,
        "token": "hooks",
        "context": "- **Health Check Integration**: Claude Code hooks now use `/api/health/detailed` endpoint for **authoritative storage information**"
      },
      {
        "line": 4494,
        "token": "live",
        "context": "- **Real-time Backend Detection**: Queries live health data instead of environment variables"
      },
      {
        "line": 4495,
        "token": "memory",
        "context": "- **Rich Storage Information**: Displays memory count, database size, connection status, and embedding model"
      },
      {
        "line": 4496,
        "token": "unique",
        "context": "- **Comprehensive Database Stats**: Shows unique tags, file paths, platform info, and uptime"
      },
      {
        "line": 4497,
        "token": "check",
        "context": "- **Fallback Strategy**: Health check â†’ Environment variables â†’ Configuration inference"
      },
      {
        "line": 4500,
        "token": "memories",
        "context": "- **Brief Mode**: `ğŸ’¾ Storage â†’ ğŸª¶ sqlite-vec (Connected) â€¢ 990 memories â€¢ 5.21MB`"
      },
      {
        "line": 4501,
        "token": "lines",
        "context": "- **Detailed Mode**: Separate lines for storage type, location, and database statistics"
      },
      {
        "line": 4502,
        "token": "display",
        "context": "- **Icon-Only Mode**: Minimal display with backend type and memory count"
      },
      {
        "line": 4503,
        "token": "actual",
        "context": "- **Path Display**: Shows actual database file locations from health data"
      },
      {
        "line": 4506,
        "token": "backend",
        "context": "- **Storage Section**: Includes backend type, connection status, memory count, and database size"
      },
      {
        "line": 4507,
        "token": "file",
        "context": "- **Location Info**: Real file paths from health endpoint rather than configuration guesses"
      },
      {
        "line": 4508,
        "token": "active",
        "context": "- **Model Information**: Displays active embedding model (e.g., all-MiniLM-L6-v2)"
      },
      {
        "line": 4509,
        "token": "info",
        "context": "- **Health Metadata**: Platform info and database accessibility status"
      },
      {
        "line": 4514,
        "token": "health",
        "context": "- **`memoryService.healthCheckEnabled`**: Enable/disable health endpoint queries (default: true)"
      },
      {
        "line": 4515,
        "token": "health",
        "context": "- **`memoryService.healthCheckTimeout`**: Timeout for health requests in milliseconds (default: 3000)"
      },
      {
        "line": 4516,
        "token": "default",
        "context": "- **`memoryService.useDetailedHealthCheck`**: Use `/api/health/detailed` vs `/api/health` (default: true)"
      },
      {
        "line": 4517,
        "token": "supports",
        "context": "- **Enhanced Display Modes**: `sourceDisplayMode` supports \"brief\", \"detailed\", \"icon-only\""
      },
      {
        "line": 4522,
        "token": "path",
        "context": "- **Git Analyzer**: Fixed Windows path handling in `execSync` calls using `path.resolve()`"
      },
      {
        "line": 4523,
        "token": "path",
        "context": "- **Project Detector**: Resolved Windows path issues in git command execution"
      },
      {
        "line": 4524,
        "token": "working",
        "context": "- **Path Normalization**: All working directory paths properly normalized for cross-platform compatibility"
      },
      {
        "line": 4527,
        "token": "characters",
        "context": "- **Content Length Limits**: Increased from 300â†’500 characters to prevent truncation"
      },
      {
        "line": 4528,
        "token": "chars",
        "context": "- **CLI Formatting**: Enhanced from 180â†’400 chars for better context visibility"
      },
      {
        "line": 4529,
        "token": "chars",
        "context": "- **Categorized Display**: Improved from 160â†’350 chars for categorized memories"
      },
      {
        "line": 4530,
        "token": "misleading",
        "context": "- **Deduplication Logging**: Fixed misleading \"8 â†’ 2\" messages, now shows actual selection counts"
      },
      {
        "line": 4533,
        "token": "cleaning",
        "context": "- **Session Hook Tags**: Added cleaning logic to remove `<session-start-hook>` wrapper tags"
      },
      {
        "line": 4534,
        "token": "category",
        "context": "- **Memory Categories**: Enhanced category titles (e.g., \"Recent Work (Last 7 days)\", \"Bug Fixes & Issues\")"
      },
      {
        "line": 4535,
        "token": "visual",
        "context": "- **Better Hierarchy**: Improved visual organization and color coding"
      },
      {
        "line": 4536,
        "token": "content",
        "context": "- **Configurable Limits**: All content length limits now configurable via config.json"
      },
      {
        "line": 4541,
        "token": "data",
        "context": "1. **Health Endpoint** (Primary): Authoritative data from running service"
      },
      {
        "line": 4542,
        "token": "detection",
        "context": "2. **Environment Variables** (Secondary): MCP_MEMORY_STORAGE_BACKEND detection"
      },
      {
        "line": 4543,
        "token": "classification",
        "context": "3. **Configuration Inference** (Fallback): Endpoint-based local/remote classification"
      },
      {
        "line": 4546,
        "token": "database",
        "context": "- **SQLite-vec**: ğŸª¶ Local database with file path and size information"
      },
      {
        "line": 4547,
        "token": "endpoint",
        "context": "- **ChromaDB**: ğŸ“¦ Local or ğŸŒ Remote with endpoint details"
      },
      {
        "line": 4548,
        "token": "service",
        "context": "- **Cloudflare**: â˜ï¸ Cloud service with account information"
      },
      {
        "line": 4549,
        "token": "services",
        "context": "- **Generic Services**: ğŸ’¾ Local or ğŸŒ Remote MCP services"
      },
      {
        "line": 4554,
        "token": "health",
        "context": "- **Non-blocking**: Async health queries don't slow session start"
      },
      {
        "line": 4555,
        "token": "second",
        "context": "- **Timeout Protection**: 3-second default timeout prevents hanging"
      },
      {
        "line": 4556,
        "token": "fallback",
        "context": "- **Error Handling**: Graceful fallback to configuration-based detection"
      },
      {
        "line": 4557,
        "token": "info",
        "context": "- **Caching**: Health info cached during session to avoid repeated calls"
      },
      {
        "line": 4564,
        "token": "hooks",
        "context": "- **Repository Context Analysis**: Session hooks now analyze git commit history and changelog entries"
      },
      {
        "line": 4565,
        "token": "utility",
        "context": "- **Git Context Analyzer**: New utility (`git-analyzer.js`) extracts development keywords from recent commits"
      },
      {
        "line": 4566,
        "token": "last",
        "context": "- **Commit Mining**: Analyzes last 14 days of commits to understand development patterns"
      },
      {
        "line": 4567,
        "token": "identify",
        "context": "- **Changelog Integration**: Parses CHANGELOG.md to identify recent development themes"
      },
      {
        "line": 4568,
        "token": "semantic",
        "context": "- **Smart Query Generation**: Creates git-informed semantic queries for memory retrieval"
      },
      {
        "line": 4571,
        "token": "memory",
        "context": "- **Phase 0 (NEW)**: Git-aware memory search using repository context (highest priority)"
      },
      {
        "line": 4572,
        "token": "memories",
        "context": "- **Phase 1**: Recent memories enhanced with git development keywords"
      },
      {
        "line": 4573,
        "token": "tagged",
        "context": "- **Phase 2**: Important tagged memories with framework/language context"
      },
      {
        "line": 4574,
        "token": "general",
        "context": "- **Phase 3**: Fallback general context with extended time windows"
      },
      {
        "line": 4577,
        "token": "category",
        "context": "- **\"Current Development\" Category**: New category for git-context derived memories"
      },
      {
        "line": 4578,
        "token": "aligned",
        "context": "- **Repository-Aware Scoring**: Memories aligned with recent commits get higher relevance scores"
      },
      {
        "line": 4579,
        "token": "selection",
        "context": "- **Development Timeline Integration**: Memory selection based on actual coding activity"
      },
      {
        "line": 4584,
        "token": "git",
        "context": "- **`gitAnalysis.enabled`**: Enable/disable git context analysis (default: true)"
      },
      {
        "line": 4585,
        "token": "commit",
        "context": "- **`gitAnalysis.commitLookback`**: Days of commit history to analyze (default: 14)"
      },
      {
        "line": 4586,
        "token": "commits",
        "context": "- **`gitAnalysis.maxCommits`**: Maximum commits to process (default: 20)"
      },
      {
        "line": 4587,
        "token": "changelog",
        "context": "- **`gitAnalysis.includeChangelog`**: Parse changelog for context (default: true)"
      },
      {
        "line": 4588,
        "token": "slots",
        "context": "- **`gitAnalysis.maxGitMemories`**: Memory slots reserved for git context (default: 3)"
      },
      {
        "line": 4589,
        "token": "multiplier",
        "context": "- **`gitAnalysis.gitContextWeight`**: Relevance multiplier for git-derived memories (default: 1.2)"
      },
      {
        "line": 4592,
        "token": "git",
        "context": "- **`output.showGitAnalysis`**: Display git analysis information (default: true)"
      },
      {
        "line": 4593,
        "token": "detailed",
        "context": "- **`output.showPhaseDetails`**: Show detailed phase execution info (default: true)"
      },
      {
        "line": 4599,
        "token": "commit",
        "context": "- **Commit Message Context**: Latest commit messages influence memory search"
      },
      {
        "line": 4600,
        "token": "changed",
        "context": "- **File Pattern Recognition**: Recently changed files inform query building"
      },
      {
        "line": 4601,
        "token": "words",
        "context": "- **Technical Keyword Extraction**: Action words (feat, fix, refactor) enhance search relevance"
      },
      {
        "line": 4602,
        "token": "branch",
        "context": "- **Branch-Aware Queries**: Git branch context integrated into semantic search"
      },
      {
        "line": 4607,
        "token": "commit",
        "context": "- **Development Intensity Scoring**: High commit activity increases recent memory priority"
      },
      {
        "line": 4608,
        "token": "related",
        "context": "- **File-Based Context**: Memories related to recently changed files get boosted relevance"
      },
      {
        "line": 4609,
        "token": "selection",
        "context": "- **Changelog Correlation**: Memory selection aligned with documented changes"
      },
      {
        "line": 4610,
        "token": "development",
        "context": "- **Temporal Context Weighting**: Recent development activity influences memory scoring"
      },
      {
        "line": 4615,
        "token": "processes",
        "context": "- **Lazy Git Analysis**: Only processes git context when repository detected"
      },
      {
        "line": 4616,
        "token": "commit",
        "context": "- **Performance Limits**: Configurable commit analysis limits to prevent slowdowns"
      },
      {
        "line": 4617,
        "token": "back",
        "context": "- **Graceful Degradation**: Falls back to standard retrieval if git analysis fails"
      },
      {
        "line": 4618,
        "token": "git",
        "context": "- **Async Processing**: Non-blocking git analysis for faster session startup"
      },
      {
        "line": 4623,
        "token": "analyzed",
        "context": "- **Git Context Reporting**: Shows analyzed commits, changelog entries, and extracted keywords"
      },
      {
        "line": 4624,
        "token": "indication",
        "context": "- **Phase Execution Details**: Clear indication of which phase found which memories"
      },
      {
        "line": 4625,
        "token": "tagged",
        "context": "- **Query Source Tracking**: Memories tagged with their retrieval source (git-commits, git-files, etc.)"
      },
      {
        "line": 4626,
        "token": "extracted",
        "context": "- **Development Keywords Display**: Shows extracted technical terms from recent activity"
      },
      {
        "line": 4631,
        "token": "false",
        "context": "- **Legacy Mode Support**: `recentFirstMode: false` preserves original behavior"
      },
      {
        "line": 4632,
        "token": "existing",
        "context": "- **Configuration Migration**: All existing configurations continue to work"
      },
      {
        "line": 4633,
        "token": "analysis",
        "context": "- **Optional Git Features**: Git analysis can be completely disabled if needed"
      },
      {
        "line": 4634,
        "token": "can",
        "context": "- **Incremental Adoption**: Features can be enabled progressively"
      },
      {
        "line": 4643,
        "token": "path",
        "context": "- **Claude Code Hooks Installation**: Fixed Windows-specific path configuration issues"
      },
      {
        "line": 4644,
        "token": "outdated",
        "context": "- **Legacy Path Cleanup**: Removed outdated `.claude-code` references from installation scripts"
      },
      {
        "line": 4645,
        "token": "help",
        "context": "- **Windows Batch File**: Updated help text to use correct `.claude\\hooks` directory structure"
      },
      {
        "line": 4646,
        "token": "legacy",
        "context": "- **PowerShell Script**: Cleaned up legacy path alternatives for better reliability"
      },
      {
        "line": 4647,
        "token": "users",
        "context": "- **Impact**: Windows users no longer encounter `.claude-code` vs `.claude` directory confusion"
      },
      {
        "line": 4650,
        "token": "comprehensive",
        "context": "- **Windows Installation Guide**: Added comprehensive Windows-specific installation and troubleshooting section"
      },
      {
        "line": 4651,
        "token": "instructions",
        "context": "- **Path Format Guidance**: Clear instructions for JSON path formatting (forward slashes vs backslashes)"
      },
      {
        "line": 4652,
        "token": "errors",
        "context": "- **Common Issues**: Solutions for `session-start-wrapper.bat` errors and legacy directory migration"
      },
      {
        "line": 4653,
        "token": "configuration",
        "context": "- **Settings Examples**: Proper Windows configuration examples with correct Node.js script paths"
      },
      {
        "line": 4654,
        "token": "users",
        "context": "- **Impact**: Windows users have clear guidance for resolving path configuration issues"
      },
      {
        "line": 4657,
        "token": "path",
        "context": "- **Automated Detection**: Added path validation functions to detect and warn about configuration issues"
      },
      {
        "line": 4658,
        "token": "identifies",
        "context": "- **Legacy Path Detection**: Automatically identifies old `.claude-code` directories and provides migration steps"
      },
      {
        "line": 4659,
        "token": "JSON",
        "context": "- **Settings Validation**: Validates JSON settings files for Windows path issues and missing files"
      },
      {
        "line": 4660,
        "token": "convert",
        "context": "- **Path Normalization**: Utility to convert Windows backslash paths to JSON-compatible format"
      },
      {
        "line": 4661,
        "token": "python",
        "context": "- **Validation Command**: New `python scripts/claude_commands_utils.py --validate` command for configuration checking"
      },
      {
        "line": 4662,
        "token": "detection",
        "context": "- **Impact**: Proactive detection and resolution of Windows path issues during installation"
      },
      {
        "line": 4669,
        "token": "all",
        "context": "- **API Key Update**: Updated all Claude Code memory commands with current production API key"
      },
      {
        "line": 4670,
        "token": "commands",
        "context": "- Fixed `/memory-context`, `/memory-store`, `/memory-recall`, `/memory-search`, `/memory-health` commands"
      },
      {
        "line": 4671,
        "token": "outdated",
        "context": "- Replaced outdated `test-key-123` with current production API key"
      },
      {
        "line": 4672,
        "token": "memory",
        "context": "- **Impact**: All memory commands now work correctly with remote memory service"
      },
      {
        "line": 4675,
        "token": "hardcoded",
        "context": "- **Dynamic Session Capture**: Removed hardcoded session content, now captures real-time context"
      },
      {
        "line": 4676,
        "token": "current",
        "context": "- **Real-time Info**: Includes current timestamp, working directory, git branch, and recent commits"
      },
      {
        "line": 4677,
        "token": "includes",
        "context": "- **Dynamic Tags**: Automatically includes current project name as tag"
      },
      {
        "line": 4678,
        "token": "captures",
        "context": "- **User Context**: Properly captures user-provided session description via `$ARGUMENTS`"
      },
      {
        "line": 4679,
        "token": "now",
        "context": "- **Impact**: `/memory-context` now stores actual session context instead of static placeholder text"
      },
      {
        "line": 4686,
        "token": "content",
        "context": "- **Automatic Markdown Processing**: Memory content with markdown formatting is now automatically converted to ANSI colors"
      },
      {
        "line": 4687,
        "token": "visual",
        "context": "- **Headers**: `## Header` â†’ Bold Cyan, `### Subheader` â†’ Bold for visual hierarchy"
      },
      {
        "line": 4688,
        "token": "bold",
        "context": "- **Emphasis**: `**bold**` â†’ Bold, `*italic*` â†’ Dim for text emphasis"
      },
      {
        "line": 4689,
        "token": "inline",
        "context": "- **Code**: `` `inline code` `` â†’ Gray, code blocks properly formatted with gray text"
      },
      {
        "line": 4690,
        "token": "bullets",
        "context": "- **Lists**: Markdown bullets (`-`, `*`) â†’ Cyan bullet points (`â€¢`), numbered lists â†’ Cyan arrows (`â€º`)"
      },
      {
        "line": 4691,
        "token": "text",
        "context": "- **Links**: `[text](url)` â†’ Cyan text without URL clutter"
      },
      {
        "line": 4692,
        "token": "quote",
        "context": "- **Blockquotes**: `> quote` â†’ Dimmed with visual indicator (`â”‚`)"
      },
      {
        "line": 4693,
        "token": "markdown",
        "context": "- **Impact**: Raw markdown syntax no longer appears in CLI output, providing clean and professional display"
      },
      {
        "line": 4696,
        "token": "detects",
        "context": "- **Environment-Aware**: Automatically detects CLI environment and applies appropriate formatting"
      },
      {
        "line": 4697,
        "token": "disabled",
        "context": "- **Configuration Option**: Can be disabled via `CLAUDE_MARKDOWN_TO_ANSI=false` environment variable"
      },
      {
        "line": 4698,
        "token": "remove",
        "context": "- **Strip-Only Mode**: Option to remove markdown without adding ANSI colors for plain text output"
      },
      {
        "line": 4699,
        "token": "overhead",
        "context": "- **Performance**: Minimal overhead (<5ms) with single-pass regex transformation"
      },
      {
        "line": 4706,
        "token": "redesigned",
        "context": "- **Professional CLI Formatting**: Completely redesigned hook output with ANSI color coding and clean typography"
      },
      {
        "line": 4707,
        "token": "color",
        "context": "- **ANSI Color Support**: Full color coding with cyan, green, blue, yellow, gray, and red for different components"
      },
      {
        "line": 4708,
        "token": "all",
        "context": "- **Clean Typography**: Removed all markdown syntax (`**`, `#`, `##`) and HTML-like tags from CLI output"
      },
      {
        "line": 4709,
        "token": "icon",
        "context": "- **Consistent Visual Pattern**: Standardized `icon component â†’ description` format throughout all hook messages"
      },
      {
        "line": 4710,
        "token": "use",
        "context": "- **Unicode Box Drawing**: Enhanced use of `â”Œâ”€`, `â”œâ”€`, `â””â”€`, and `â”‚` characters for better visual structure"
      },
      {
        "line": 4711,
        "token": "output",
        "context": "- **Impact**: Hook output now looks professional and readable in Claude Code terminal sessions"
      },
      {
        "line": 4714,
        "token": "colors",
        "context": "- **Type-Based Coloring**: Different colors for memory types (decisions=yellow, insights=magenta, bugs=green, features=blue)"
      },
      {
        "line": 4715,
        "token": "information",
        "context": "- **Visual Hierarchy**: Important information highlighted with bright colors, metadata dimmed with gray"
      },
      {
        "line": 4716,
        "token": "gray",
        "context": "- **Date Formatting**: Consistent gray coloring for dates and timestamps"
      },
      {
        "line": 4717,
        "token": "category",
        "context": "- **Category Icons**: Enhanced category display with colored section headers"
      },
      {
        "line": 4720,
        "token": "console",
        "context": "- **Structured Messages**: All console output now follows consistent visual patterns"
      },
      {
        "line": 4721,
        "token": "visual",
        "context": "- **Progress Indicators**: Clear visual feedback for memory search, scoring, and processing steps"
      },
      {
        "line": 4722,
        "token": "error",
        "context": "- **Error Handling**: Enhanced error messages with proper color coding and clear descriptions"
      },
      {
        "line": 4723,
        "token": "success",
        "context": "- **Success Confirmation**: Prominent success indicators with checkmarks and summary information"
      },
      {
        "line": 4726,
        "token": "confidence",
        "context": "- **Confidence Visualization**: Color-coded confidence scores (green >80%, yellow >60%, gray <60%)"
      },
      {
        "line": 4727,
        "token": "project",
        "context": "- **Clean Project Info**: Streamlined project detection output with proper visual hierarchy"
      },
      {
        "line": 4728,
        "token": "formatting",
        "context": "- **Technology Stack Display**: Clear formatting for detected languages, frameworks, and tools"
      },
      {
        "line": 4735,
        "token": "hooks",
        "context": "- **Beautiful CLI Output**: Claude Code hooks now feature enhanced visual formatting with Unicode box-drawing characters"
      },
      {
        "line": 4736,
        "token": "tree",
        "context": "- **Visual Hierarchy**: Clean tree structure using `â”œâ”€`, `â””â”€`, and `â”‚` characters for better readability"
      },
      {
        "line": 4737,
        "token": "context",
        "context": "- **Contextual Icons**: Memory context (ğŸ§ ), project info (ğŸ“‚, ğŸ“), and category-specific icons (ğŸ—ï¸, ğŸ›, âœ¨)"
      },
      {
        "line": 4738,
        "token": "switches",
        "context": "- **Smart Environment Detection**: Automatically switches between Markdown (web) and enhanced CLI formatting"
      },
      {
        "line": 4739,
        "token": "grouping",
        "context": "- **Improved Categorization**: Visual grouping of memories by type with proper indentation and spacing"
      },
      {
        "line": 4740,
        "token": "improved",
        "context": "- **Impact**: Dramatically improved readability of hook output in Claude Code terminal sessions"
      },
      {
        "line": 4743,
        "token": "multiple",
        "context": "- **Automatic Detection**: Uses multiple detection methods including `CLAUDE_CODE_CLI` environment variable"
      },
      {
        "line": 4744,
        "token": "formatting",
        "context": "- **Terminal Compatibility**: Enhanced formatting works seamlessly across different terminal emulators"
      },
      {
        "line": 4745,
        "token": "degradation",
        "context": "- **Fallback Support**: Graceful degradation to standard formatting when enhanced features unavailable"
      },
      {
        "line": 4749,
        "token": "branch",
        "context": "- **Project Status Display**: Git branch (ğŸ“‚) and commit info (ğŸ“) with clean formatting"
      },
      {
        "line": 4750,
        "token": "display",
        "context": "- **Memory Count Indicators**: Clear display of loaded memory count with ğŸ“š icon"
      },
      {
        "line": 4751,
        "token": "display",
        "context": "- **Empty State Handling**: Elegant display when no memories available"
      },
      {
        "line": 4758,
        "token": "script",
        "context": "- **Enhanced API Integration**: Deduplication script now reads Claude Code hooks configuration for seamless integration"
      },
      {
        "line": 4759,
        "token": "reads",
        "context": "- **Configuration Auto-Detection**: Automatically reads `~/.claude/hooks/config.json` for memory service endpoint and API key"
      },
      {
        "line": 4760,
        "token": "remote",
        "context": "- **API-Based Analysis**: Supports remote memory service analysis via HTTPS API with self-signed certificate support"
      },
      {
        "line": 4761,
        "token": "large",
        "context": "- **Intelligent Pagination**: Handles large memory collections (972+ memories) with automatic page-by-page retrieval"
      },
      {
        "line": 4762,
        "token": "support",
        "context": "- **Backward Compatibility**: Maintains support for direct database access with `--db-path` parameter"
      },
      {
        "line": 4763,
        "token": "can",
        "context": "- **Impact**: Users can now run deduplication on remote memory services without manual configuration"
      },
      {
        "line": 4766,
        "token": "analysis",
        "context": "- **`--use-api`**: Force API-based analysis using configuration endpoint"
      },
      {
        "line": 4767,
        "token": "detects",
        "context": "- **Smart Fallback**: Automatically detects available options and suggests alternatives when paths missing"
      },
      {
        "line": 4768,
        "token": "guidance",
        "context": "- **Enhanced Error Messages**: Clear guidance on configuration requirements and troubleshooting steps"
      },
      {
        "line": 4771,
        "token": "handling",
        "context": "- **SSL Context Configuration**: Proper handling of self-signed certificates for secure remote connections"
      },
      {
        "line": 4772,
        "token": "response",
        "context": "- **Memory Format Normalization**: Converts API response format to internal analysis format seamlessly"
      },
      {
        "line": 4773,
        "token": "feedback",
        "context": "- **Progress Reporting**: Real-time feedback during multi-page memory retrieval operations"
      },
      {
        "line": 4776,
        "token": "processed",
        "context": "- **âœ… 972 Memories Analyzed**: Successfully processed complete memory collection via API"
      },
      {
        "line": 4777,
        "token": "content",
        "context": "- **âœ… No Duplicates Detected**: Confirms v6.7.0 content quality filters are preventing duplicate creation"
      },
      {
        "line": 4778,
        "token": "integration",
        "context": "- **âœ… Configuration Integration**: Seamless integration with existing Claude Code hooks setup"
      },
      {
        "line": 4779,
        "token": "pagination",
        "context": "- **âœ… Performance Maintained**: Efficient pagination and processing of large memory collections"
      },
      {
        "line": 4781,
        "token": "python",
        "context": "> **Usage**: Run `python scripts/find_duplicates.py --use-api` to analyze memories using your configured remote memory service"
      },
      {
        "line": 4788,
        "token": "critical",
        "context": "- **Fixed Missing v6.7.0 Files in Installation**: Resolved critical installation script bug that prevented complete v6.7.0 setup"
      },
      {
        "line": 4789,
        "token": "now",
        "context": "- **Added Missing Core Hook**: `memory-retrieval.js` now properly copied during installation"
      },
      {
        "line": 4790,
        "token": "now",
        "context": "- **Added Missing Utility**: `context-shift-detector.js` now properly copied during installation"
      },
      {
        "line": 4791,
        "token": "logs",
        "context": "- **Updated Install Messages**: Installation logs now accurately reflect all installed files"
      },
      {
        "line": 4792,
        "token": "find",
        "context": "- **Impact**: Eliminates \"Cannot find module\" errors on fresh v6.7.0 installations"
      },
      {
        "line": 4795,
        "token": "script",
        "context": "- **Issue**: Installation script (`install.sh`) used hardcoded file list that was missing new v6.7.0 files"
      },
      {
        "line": 4796,
        "token": "experienced",
        "context": "- **Symptoms**: Users experienced module import errors and incomplete feature sets after installation"
      },
      {
        "line": 4797,
        "token": "copied",
        "context": "- **Root Cause**: Script copied only `session-start.js`, `session-end.js` but missed `memory-retrieval.js` and `context-shift-detector.js`"
      },
      {
        "line": 4798,
        "token": "missing",
        "context": "- **Solution**: Added missing file copy commands and updated installation messaging"
      },
      {
        "line": 4801,
        "token": "files",
        "context": "- **âœ… Complete Installation**: All v6.7.0 files now properly installed"
      },
      {
        "line": 4802,
        "token": "tests",
        "context": "- **âœ… Integration Tests**: 14/14 tests pass immediately after fresh installation"
      },
      {
        "line": 4803,
        "token": "dependencies",
        "context": "- **âœ… No Module Errors**: All dependencies resolved correctly"
      },
      {
        "line": 4804,
        "token": "memory",
        "context": "- **âœ… Full Feature Set**: On-demand memory retrieval and smart timing work out-of-the-box"
      },
      {
        "line": 4806,
        "token": "critical",
        "context": "> **Note**: This is a critical patch for v6.7.0 users. If you installed v6.7.0 and experienced module errors, please reinstall using v6.7.1."
      },
      {
        "line": 4812,
        "token": "https",
        "context": "#### Smart Memory Context Presentation ([#Memory-Presentation-Fix](https://github.com/doobidoo/mcp-memory-service/issues/memory-presentation))"
      },
      {
        "line": 4813,
        "token": "overhaul",
        "context": "- **Eliminated Generic Content Fluff**: Complete overhaul of session-start hook memory presentation"
      },
      {
        "line": 4814,
        "token": "meaningful",
        "context": "- **Smart Content Extraction**: Extracts meaningful content from session summaries (decisions, insights, code changes) instead of truncating at 200 chars"
      },
      {
        "line": 4815,
        "token": "showing",
        "context": "- **Section-Aware Parsing**: Prioritizes showing actual decisions/insights over generic headers like \"Topics Discussed - implementation...\""
      },
      {
        "line": 4816,
        "token": "filters",
        "context": "- **Deduplication Logic**: Automatically filters out repetitive session summaries with 80% similarity threshold"
      },
      {
        "line": 4817,
        "token": "now",
        "context": "- **Impact**: Users now see actionable memory content instead of truncated generic summaries"
      },
      {
        "line": 4820,
        "token": "scoring",
        "context": "- **Content Quality Factor**: New scoring dimension that heavily penalizes generic/empty content"
      },
      {
        "line": 4821,
        "token": "substantial",
        "context": "- **Meaningful Indicators**: Detects substantial content using decision words (decided, implemented, fixed, learned)"
      },
      {
        "line": 4822,
        "token": "word",
        "context": "- **Information Density**: Analyzes word diversity and content richness"
      },
      {
        "line": 4823,
        "token": "identifies",
        "context": "- **Generic Pattern Detection**: Automatically identifies and demotes \"implementation...\" session summaries"
      },
      {
        "line": 4824,
        "token": "memories",
        "context": "- **Impact**: Quality memories now outrank recent-but-empty summaries"
      },
      {
        "line": 4827,
        "token": "false",
        "context": "- **Post-Compacting Control**: Added `injectAfterCompacting: false` configuration option"
      },
      {
        "line": 4828,
        "token": "disruptive",
        "context": "- **Problem Solved**: Stops disruptive mid-session memory injection after compacting events"
      },
      {
        "line": 4829,
        "token": "enabled",
        "context": "- **User-Controlled**: Can be enabled via `config.json` for users who prefer the old behavior"
      },
      {
        "line": 4830,
        "token": "timing",
        "context": "- **Context Shift Detection**: Intelligent timing for when to refresh memory context"
      },
      {
        "line": 4831,
        "token": "when",
        "context": "- **Project Change Detection**: Auto-refreshes when switching between projects/directories"
      },
      {
        "line": 4832,
        "token": "significant",
        "context": "- **Topic Shift Analysis**: Detects significant conversation topic changes"
      },
      {
        "line": 4833,
        "token": "explicit",
        "context": "- **User Request Recognition**: Responds to explicit memory requests (\"remind me\", \"what did we decide\")"
      },
      {
        "line": 4834,
        "token": "context",
        "context": "- **Impact**: Memory context appears only when contextually appropriate, not disruptively"
      },
      {
        "line": 4837,
        "token": "hook",
        "context": "- **On-Demand Memory Retrieval**: New `memory-retrieval.js` hook for manual context requests"
      },
      {
        "line": 4838,
        "token": "manual",
        "context": "- **User-Triggered**: Allows manual memory refresh when needed"
      },
      {
        "line": 4839,
        "token": "semantic",
        "context": "- **Query-Based**: Supports semantic search with user-provided queries"
      },
      {
        "line": 4840,
        "token": "confidence",
        "context": "- **Relevance Scoring**: Shows confidence scores for manual retrieval"
      },
      {
        "line": 4841,
        "token": "formatting",
        "context": "- **Streamlined Presentation**: Cleaner formatting with reduced metadata clutter"
      },
      {
        "line": 4842,
        "token": "groups",
        "context": "- **Smart Categorization**: Only groups memories when there's meaningful diverse content"
      },
      {
        "line": 4843,
        "token": "out",
        "context": "- **Relevant Tags Only**: Filters out machine-generated and generic tags"
      },
      {
        "line": 4844,
        "token": "compact",
        "context": "- **Concise Dating**: More compact date formatting (Aug 25 vs full timestamps)"
      },
      {
        "line": 4858,
        "token": "context",
        "context": "- `context-shift-detector.js`: Intelligent context change detection"
      },
      {
        "line": 4859,
        "token": "smart",
        "context": "- Enhanced `context-formatter.js` with smart content extraction"
      },
      {
        "line": 4860,
        "token": "scoring",
        "context": "- Quality-aware scoring in `memory-scorer.js`"
      },
      {
        "line": 4863,
        "token": "smart",
        "context": "- **Session-Start Hook**: Upgraded to v2.0.0 with smart timing and quality filtering"
      },
      {
        "line": 4864,
        "token": "new",
        "context": "- **Configuration Schema**: Added new options for memory quality control and compacting behavior"
      },
      {
        "line": 4865,
        "token": "session",
        "context": "- **Memory Filtering**: Generic session summaries are now automatically filtered out"
      },
      {
        "line": 4868,
        "token": "user",
        "context": "- **Automatic**: No user action required - existing configurations work with sensible defaults"
      },
      {
        "line": 4869,
        "token": "can",
        "context": "- **Optional**: Users can enable `injectAfterCompacting: true` in config.json if they prefer old behavior"
      },
      {
        "line": 4870,
        "token": "improvement",
        "context": "- **Benefit**: Immediate improvement in memory context quality and relevance"
      },
      {
        "line": 4876,
        "token": "https",
        "context": "#### Universal Installer Bug Fixes ([#92](https://github.com/doobidoo/mcp-memory-service/issues/92))"
      },
      {
        "line": 4877,
        "token": "multiple",
        "context": "- **Fixed \"Installer Gets Stuck\" Issues**: Resolved multiple causes of installation appearing frozen"
      },
      {
        "line": 4878,
        "token": "prominent",
        "context": "- Added prominent visual separators (`âš ï¸ USER INPUT REQUIRED`) around all input prompts"
      },
      {
        "line": 4879,
        "token": "system",
        "context": "- Extended system detection timeouts from 10 to 30 seconds (macOS `system_profiler`, Homebrew checks)"
      },
      {
        "line": 4880,
        "token": "progress",
        "context": "- Added progress indicators for long-running operations (package installations, hardware detection)"
      },
      {
        "line": 4881,
        "token": "now",
        "context": "- **Impact**: Users now clearly understand when installer needs input vs. processing in background"
      },
      {
        "line": 4884,
        "token": "fully",
        "context": "- **Added `--non-interactive` Flag**: Enables fully automated installations using sensible defaults"
      },
      {
        "line": 4885,
        "token": "selects",
        "context": "- Automatically selects SQLite-vec backend (recommended)"
      },
      {
        "line": 4886,
        "token": "optional",
        "context": "- Skips optional components (Claude Code commands, multi-client setup)"
      },
      {
        "line": 4887,
        "token": "builds",
        "context": "- Perfect for CI/CD, Docker builds, and scripted deployments"
      },
      {
        "line": 4888,
        "token": "python",
        "context": "- **Usage**: `python install.py --non-interactive`"
      },
      {
        "line": 4891,
        "token": "messaging",
        "context": "- **Better Progress Feedback**: Clear messaging during system detection and package installation phases"
      },
      {
        "line": 4892,
        "token": "resilient",
        "context": "- **Improved Timeout Handling**: More resilient system detection with graceful fallbacks"
      },
      {
        "line": 4893,
        "token": "displays",
        "context": "- **Log File Visibility**: Prominently displays location of `installation.log` for troubleshooting"
      },
      {
        "line": 4900,
        "token": "npm",
        "context": "- **Fixed npm dependency management**: Created proper `package.json` files for test directories"
      },
      {
        "line": 4901,
        "token": "YAML",
        "context": "- **Simplified YAML structure**: Replaced complex multi-line scripts with focused single-step commands"
      },
      {
        "line": 4902,
        "token": "error",
        "context": "- **Improved error reporting**: Split validation steps for clearer failure identification"
      },
      {
        "line": 4903,
        "token": "false",
        "context": "- **Fixed false positives**: Updated status code validation to avoid flagging legitimate 200/201 handling"
      },
      {
        "line": 4904,
        "token": "reliability",
        "context": "- **Enhanced reliability**: Used `working-directory` instead of embedded `cd` commands"
      },
      {
        "line": 4905,
        "token": "now",
        "context": "- **Impact**: GitHub Actions CI/CD now properly installs dependencies and validates bridge fixes"
      },
      {
        "line": 4908,
        "token": "dedicated",
        "context": "- **Added dedicated test packages**: Separate `package.json` for bridge and integration tests"
      },
      {
        "line": 4909,
        "token": "module",
        "context": "- **Improved module resolution**: Confirmed correct relative path handling in test files"
      },
      {
        "line": 4910,
        "token": "validation",
        "context": "- **Better validation coverage**: Enhanced API contract and smoke test verification"
      },
      {
        "line": 4916,
        "token": "HTTP-MCP",
        "context": "#### HTTP-MCP Bridge Complete Repair"
      },
      {
        "line": 4917,
        "token": "bridge",
        "context": "- **Fixed Status Code Handling**: Corrected bridge expectation from HTTP 201 to HTTP 200 with success field check"
      },
      {
        "line": 4918,
        "token": "returns",
        "context": "- Server returns HTTP 200 for both successful storage and duplicates"
      },
      {
        "line": 4919,
        "token": "now",
        "context": "- Bridge now properly checks `response.data.success` field to determine actual result"
      },
      {
        "line": 4920,
        "token": "both",
        "context": "- Supports both HTTP 200 and 201 for backward compatibility"
      },
      {
        "line": 4921,
        "token": "storage",
        "context": "- **Impact**: Memory storage operations now work correctly instead of always failing"
      },
      {
        "line": 4923,
        "token": "critical",
        "context": "- **Fixed URL Construction Bug**: Resolved critical path construction issue in `makeRequestInternal`"
      },
      {
        "line": 4924,
        "token": "new",
        "context": "- `new URL(path, baseUrl)` was incorrectly replacing `/api` base path"
      },
      {
        "line": 4925,
        "token": "properly",
        "context": "- Now properly concatenates base URL with API paths: `baseUrl + fullPath`"
      },
      {
        "line": 4926,
        "token": "operations",
        "context": "- **Impact**: All API operations now reach correct endpoints instead of returning 404"
      },
      {
        "line": 4929,
        "token": "expected",
        "context": "- **Memory Storage**: Bridge expected HTTP 201 but server returns 200 â†’ always interpreted as failure"
      },
      {
        "line": 4930,
        "token": "construction",
        "context": "- **All API Calls**: URL construction bug caused `/api` path to be lost â†’ all requests returned 404"
      },
      {
        "line": 4931,
        "token": "entire",
        "context": "- **Combined Effect**: Made entire bridge non-functional despite server working correctly"
      },
      {
        "line": 4936,
        "token": "test",
        "context": "- **Bridge Unit Tests** (`tests/bridge/test_http_mcp_bridge.js`): 20+ test cases covering:"
      },
      {
        "line": 4937,
        "token": "construction",
        "context": "- URL construction with various base path scenarios"
      },
      {
        "line": 4938,
        "token": "code",
        "context": "- Status code handling for success, duplicates, and errors"
      },
      {
        "line": 4939,
        "token": "protocol",
        "context": "- MCP protocol compliance and error conditions"
      },
      {
        "line": 4940,
        "token": "retry",
        "context": "- Authentication and retry logic"
      },
      {
        "line": 4942,
        "token": "testing",
        "context": "- **Integration Tests** (`tests/integration/test_bridge_integration.js`): End-to-end testing with:"
      },
      {
        "line": 4943,
        "token": "server",
        "context": "- Real server connectivity simulation"
      },
      {
        "line": 4944,
        "token": "protocol",
        "context": "- Complete MCP protocol flow validation"
      },
      {
        "line": 4945,
        "token": "error",
        "context": "- Authentication and error recovery testing"
      },
      {
        "line": 4946,
        "token": "bug",
        "context": "- Critical bug scenario reproduction"
      },
      {
        "line": 4948,
        "token": "server",
        "context": "- **Mock Response System** (`tests/bridge/mock_responses.js`): Accurate server behavior simulation"
      },
      {
        "line": 4949,
        "token": "actual",
        "context": "- Matches actual API responses (HTTP 200 with success field)"
      },
      {
        "line": 4950,
        "token": "all",
        "context": "- Covers all edge cases and error conditions"
      },
      {
        "line": 4951,
        "token": "future",
        "context": "- Prevents future assumption-based bugs"
      },
      {
        "line": 4955,
        "token": "testing",
        "context": "- Automated testing on every bridge-related change"
      },
      {
        "line": 4956,
        "token": "version",
        "context": "- Multiple Node.js version compatibility testing"
      },
      {
        "line": 4957,
        "token": "validation",
        "context": "- Contract validation against API specification"
      },
      {
        "line": 4958,
        "token": "merges",
        "context": "- Blocks merges if bridge tests fail"
      },
      {
        "line": 4962,
        "token": "server",
        "context": "- Documents ACTUAL server behavior vs assumptions"
      },
      {
        "line": 4963,
        "token": "notes",
        "context": "- Critical notes about HTTP 200 status codes and success fields"
      },
      {
        "line": 4964,
        "token": "path",
        "context": "- URL path requirements and authentication details"
      },
      {
        "line": 4967,
        "token": "item",
        "context": "- 50+ item checklist preventing critical bugs"
      },
      {
        "line": 4968,
        "token": "automated",
        "context": "- Manual and automated testing requirements"
      },
      {
        "line": 4969,
        "token": "monitoring",
        "context": "- Post-release monitoring procedures"
      },
      {
        "line": 4974,
        "token": "code",
        "context": "- `examples/http-mcp-bridge.js` - Status code and URL construction fixes"
      },
      {
        "line": 4975,
        "token": "bump",
        "context": "- `src/mcp_memory_service/__init__.py` - Version bump"
      },
      {
        "line": 4976,
        "token": "bump",
        "context": "- `pyproject.toml` - Version bump"
      },
      {
        "line": 4979,
        "token": "test",
        "context": "- Complete test infrastructure (6 new files)"
      },
      {
        "line": 4980,
        "token": "pipeline",
        "context": "- CI/CD pipeline configuration"
      },
      {
        "line": 4981,
        "token": "contract",
        "context": "- API contract documentation"
      },
      {
        "line": 4982,
        "token": "process",
        "context": "- Release process documentation"
      },
      {
        "line": 4985,
        "token": "existing",
        "context": "- All existing configurations continue working"
      },
      {
        "line": 4986,
        "token": "now",
        "context": "- Bridge now accepts both HTTP 200 and 201 responses"
      },
      {
        "line": 4987,
        "token": "breaking",
        "context": "- No breaking changes to client interfaces"
      },
      {
        "line": 4992,
        "token": "check",
        "context": "- âŒ Health check: \"unhealthy\" â†’ Fixed in v6.6.1"
      },
      {
        "line": 4993,
        "token": "storage",
        "context": "- âŒ Memory storage: \"Not Found\" errors"
      },
      {
        "line": 4994,
        "token": "retrieval",
        "context": "- âŒ Memory retrieval: 404 failures"
      },
      {
        "line": 4995,
        "token": "bridge",
        "context": "- âŒ All bridge operations non-functional"
      },
      {
        "line": 4998,
        "token": "check",
        "context": "- âœ… Health check: Returns \"healthy\" status"
      },
      {
        "line": 4999,
        "token": "storage",
        "context": "- âœ… Memory storage: Works correctly with proper success/duplicate handling"
      },
      {
        "line": 5000,
        "token": "retrieval",
        "context": "- âœ… Memory retrieval: Functions normally with semantic search"
      },
      {
        "line": 5001,
        "token": "bridge",
        "context": "- âœ… All bridge operations fully functional"
      },
      {
        "line": 5004,
        "token": "test",
        "context": "- âœ… Comprehensive test coverage prevents regression"
      },
      {
        "line": 5005,
        "token": "contract",
        "context": "- âœ… API contract validation catches assumption mismatches"
      },
      {
        "line": 5006,
        "token": "testing",
        "context": "- âœ… Automated CI/CD testing on every change"
      },
      {
        "line": 5007,
        "token": "release",
        "context": "- âœ… Detailed release checklist ensures quality"
      },
      {
        "line": 5009,
        "token": "release",
        "context": "This release completes the HTTP-MCP bridge repair, making it fully functional while establishing comprehensive testing infrastructure to prevent similar critica"
      },
      {
        "line": 5015,
        "token": "HTTP-MCP",
        "context": "#### HTTP-MCP Bridge Health Check Endpoint"
      },
      {
        "line": 5016,
        "token": "incorrect",
        "context": "- **Fixed Health Check URLs**: Corrected incorrect endpoint paths in `examples/http-mcp-bridge.js`"
      },
      {
        "line": 5017,
        "token": "method",
        "context": "- `testEndpoint()` method: Fixed `/health` â†’ `/api/health` path (line 241)"
      },
      {
        "line": 5018,
        "token": "method",
        "context": "- `checkHealth()` method: Fixed `/health` â†’ `/api/health` path (line 501)"
      },
      {
        "line": 5019,
        "token": "checks",
        "context": "- **Impact**: Health checks now return \"healthy\" status instead of 404 errors"
      },
      {
        "line": 5020,
        "token": "was",
        "context": "- **Root Cause**: Bridge was requesting wrong endpoint causing false \"unhealthy\" status"
      },
      {
        "line": 5021,
        "token": "memory",
        "context": "- **Verification**: Remote memory service connectivity confirmed working correctly"
      },
      {
        "line": 5024,
        "token": "endpoint",
        "context": "- Fixed endpoint inconsistencies that caused health checks to fail"
      },
      {
        "line": 5025,
        "token": "memory",
        "context": "- Remote memory service functionality was working correctly - issue was purely endpoint path mismatch"
      },
      {
        "line": 5026,
        "token": "memory",
        "context": "- All memory operations (store/retrieve) continue to work without changes"
      },
      {
        "line": 5027,
        "token": "check",
        "context": "- Health check now properly reports service status to MCP clients"
      },
      {
        "line": 5036,
        "token": "now",
        "context": "- **Installation Scripts Fixed** - Memory Awareness Hooks now install and work end-to-end without manual intervention"
      },
      {
        "line": 5037,
        "token": "configuration",
        "context": "- **Claude Code Integration** - Automatic `~/.claude/settings.json` configuration for seamless hook detection"
      },
      {
        "line": 5038,
        "token": "JSON",
        "context": "- **JSON Parsing Fixed** - Resolved Python dict conversion errors that caused runtime failures"
      },
      {
        "line": 5039,
        "token": "new",
        "context": "- **Enhanced Testing** - Added 4 new integration tests (total: 14 tests, 100% pass rate)"
      },
      {
        "line": 5042,
        "token": "script",
        "context": "- **Automated Claude Code Settings Integration** - Installation script now configures `~/.claude/settings.json` automatically"
      },
      {
        "line": 5043,
        "token": "wiki",
        "context": "- **Comprehensive Troubleshooting Guide** - Complete wiki documentation with diagnosis commands and solutions"
      },
      {
        "line": 5044,
        "token": "connectivity",
        "context": "- **Installation Verification** - Post-install connectivity tests and hook detection validation"
      },
      {
        "line": 5045,
        "token": "line",
        "context": "- **GitHub Wiki Documentation** - Detailed 500+ line guide for advanced users and developers"
      },
      {
        "line": 5048,
        "token": "correct",
        "context": "- **Installation Directory** - Changed from `~/.claude-code/hooks/` to correct `~/.claude/hooks/` location"
      },
      {
        "line": 5049,
        "token": "JSON",
        "context": "- **JSON Parsing Errors** - Added Python dict to JSON conversion (single quotes, True/False/None handling)"
      },
      {
        "line": 5050,
        "token": "now",
        "context": "- **Hook Detection** - Claude Code now properly detects installed hooks via settings configuration"
      },
      {
        "line": 5051,
        "token": "error",
        "context": "- **Memory Service Connectivity** - Enhanced error handling and connection testing"
      },
      {
        "line": 5054,
        "token": "test",
        "context": "- **Integration Tests** - Expanded test suite from 10 to 14 tests (40% increase):"
      },
      {
        "line": 5055,
        "token": "settings",
        "context": "- Claude Code settings validation"
      },
      {
        "line": 5056,
        "token": "files",
        "context": "- Hook files location verification"
      },
      {
        "line": 5057,
        "token": "availability",
        "context": "- Claude Code CLI availability check"
      },
      {
        "line": 5058,
        "token": "service",
        "context": "- Memory service connectivity testing"
      },
      {
        "line": 5059,
        "token": "streamlined",
        "context": "- **Documentation Structure** - README streamlined (47% size reduction), detailed content moved to wiki"
      },
      {
        "line": 5060,
        "token": "debugging",
        "context": "- **Error Messages** - Improved debugging output and user-friendly error reporting"
      },
      {
        "line": 5063,
        "token": "command",
        "context": "- **Quick Start** - Single command installation: `./install.sh`"
      },
      {
        "line": 5064,
        "token": "testing",
        "context": "- **Verification Commands** - Easy testing with `claude --debug hooks`"
      },
      {
        "line": 5065,
        "token": "guide",
        "context": "- **Troubleshooting** - Comprehensive guide covers all common issues"
      },
      {
        "line": 5066,
        "token": "extending",
        "context": "- **Custom Development** - Examples for extending hooks and memory integration"
      },
      {
        "line": 5068,
        "token": "now",
        "context": "**Impact**: Memory Awareness Hooks are now publicly usable without the manual debugging sessions that were previously required. Users can run `./install.sh` and"
      },
      {
        "line": 5075,
        "token": "location",
        "context": "- **`deployment/` Directory** - Centralized location for service and configuration files"
      },
      {
        "line": 5076,
        "token": "synchronization",
        "context": "- **`sync/` Directory** - Organized synchronization scripts in dedicated folder"
      },
      {
        "line": 5077,
        "token": "file",
        "context": "- **Dependency-Safe Reorganization** - All file references properly updated"
      },
      {
        "line": 5080,
        "token": "clutter",
        "context": "- **Root Directory Cleanup** - Reduced clutter from 80+ files to ~65 files (19% reduction)"
      },
      {
        "line": 5081,
        "token": "deployment",
        "context": "- **File Organization** - Moved deployment configs and sync scripts to logical subdirectories"
      },
      {
        "line": 5082,
        "token": "scripts",
        "context": "- **Path References Updated** - All scripts and configurations point to new file locations"
      },
      {
        "line": 5083,
        "token": "paths",
        "context": "- **Claude Code Settings** - Updated paths in `.claude/settings.local.json` for moved scripts"
      },
      {
        "line": 5087,
        "token": "service",
        "context": "- `mcp-memory.service` - Systemd service configuration"
      },
      {
        "line": 5088,
        "token": "package",
        "context": "- `smithery.yaml` - Smithery package configuration"
      },
      {
        "line": 5089,
        "token": "configuration",
        "context": "- `io.litestream.replication.plist` - macOS LaunchDaemon configuration"
      },
      {
        "line": 5090,
        "token": "initialization",
        "context": "- `staging_db_init.sql` - Database initialization schema"
      },
      {
        "line": 5091,
        "token": "configuration",
        "context": "- `empty_config.yml` - Template configuration file"
      },
      {
        "line": 5094,
        "token": "synchronization",
        "context": "- `manual_sync.sh`, `memory_sync.sh` - Core synchronization scripts"
      },
      {
        "line": 5095,
        "token": "sync",
        "context": "- `pull_remote_changes.sh`, `push_to_remote.sh` - Remote sync operations"
      },
      {
        "line": 5096,
        "token": "pull",
        "context": "- `sync_from_remote.sh`, `sync_from_remote_noconfig.sh` - Remote pull variants"
      },
      {
        "line": 5097,
        "token": "sync",
        "context": "- `apply_local_changes.sh`, `stash_local_changes.sh`, `resolve_conflicts.sh` - Local sync operations"
      },
      {
        "line": 5100,
        "token": "all",
        "context": "- **Broken References** - Updated all hardcoded paths in scripts and configurations"
      },
      {
        "line": 5101,
        "token": "path",
        "context": "- **Claude Code Integration** - Fixed manual_sync.sh path reference"
      },
      {
        "line": 5102,
        "token": "service",
        "context": "- **Installation Scripts** - Updated service file and SQL schema paths"
      },
      {
        "line": 5103,
        "token": "plist",
        "context": "- **Litestream Setup** - Fixed LaunchDaemon plist file reference"
      },
      {
        "line": 5106,
        "token": "release",
        "context": "This release significantly improves repository navigation and organization while maintaining full backward compatibility through proper reference updates. Users"
      },
      {
        "line": 5113,
        "token": "wiki",
        "context": "- **Comprehensive Installation Guide** in wiki consolidating 6+ previous scattered guides"
      },
      {
        "line": 5114,
        "token": "optimizations",
        "context": "- **Platform-Specific Setup Guide** with optimizations for Windows, macOS, and Linux"
      },
      {
        "line": 5115,
        "token": "covering",
        "context": "- **Complete Integration Guide** covering Claude Desktop, Claude Code, VS Code, and 13+ tools"
      },
      {
        "line": 5116,
        "token": "clear",
        "context": "- **Streamlined README.md** with clear quick start and wiki navigation (56KB â†’ 8KB)"
      },
      {
        "line": 5117,
        "token": "preserving",
        "context": "- **Safe Documentation Archive** preserving all removed files for reference"
      },
      {
        "line": 5120,
        "token": "improved",
        "context": "- **Major Documentation Restructuring** for improved user experience and maintainability"
      },
      {
        "line": 5121,
        "token": "established",
        "context": "- **Single Source of Truth** established for installation, platform setup, and integrations"
      },
      {
        "line": 5122,
        "token": "updated",
        "context": "- **Wiki Home Page** updated with organized navigation to consolidated guides"
      },
      {
        "line": 5123,
        "token": "simplified",
        "context": "- **User Onboarding Journey** simplified from overwhelming choice to clear path"
      },
      {
        "line": 5126,
        "token": "safely",
        "context": "- **26+ Redundant Documentation Files** safely archived while preserving git history"
      },
      {
        "line": 5127,
        "token": "installation",
        "context": "- **Choice Paralysis** from 6 installation guides, 5 integration guides, 4 platform guides"
      },
      {
        "line": 5128,
        "token": "updating",
        "context": "- **Maintenance Burden** of updating multiple files for single concept changes"
      },
      {
        "line": 5129,
        "token": "across",
        "context": "- **Inconsistent Information** across overlapping documentation"
      },
      {
        "line": 5132,
        "token": "overwhelming",
        "context": "- **User Confusion** from overwhelming documentation choices and unclear paths"
      },
      {
        "line": 5133,
        "token": "requiring",
        "context": "- **Maintenance Complexity** requiring updates to 6+ files for installation changes"
      },
      {
        "line": 5134,
        "token": "organized",
        "context": "- **Professional Image** with organized structure reflecting code quality"
      },
      {
        "line": 5135,
        "token": "through",
        "context": "- **Information Discovery** through logical wiki organization vs scattered files"
      },
      {
        "line": 5138,
        "token": "release",
        "context": "This release transforms MCP Memory Service from having overwhelming documentation chaos to organized, professional, maintainable structure. Users now have clear"
      },
      {
        "line": 5141,
        "token": "guides",
        "context": "- Installation guides: 6 â†’ 1 comprehensive wiki page"
      },
      {
        "line": 5142,
        "token": "guides",
        "context": "- Integration guides: 5 â†’ 1 complete reference"
      },
      {
        "line": 5143,
        "token": "guides",
        "context": "- Platform guides: 4 â†’ 1 optimized guide"
      },
      {
        "line": 5144,
        "token": "experience",
        "context": "- User experience: Confusion â†’ Clarity"
      },
      {
        "line": 5145,
        "token": "places",
        "context": "- Maintenance: 6+ places â†’ 1 place per topic"
      },
      {
        "line": 5152,
        "token": "docs",
        "context": "- **API Documentation Version**: Fixed API docs dashboard showing outdated version `1.0.0` instead of current version"
      },
      {
        "line": 5153,
        "token": "hardcoded",
        "context": "- **Version Inconsistencies**: Synchronized hardcoded versions across FastAPI app, web module, and server configuration"
      },
      {
        "line": 5154,
        "token": "single",
        "context": "- **Maintenance Overhead**: Established single source of truth for version management"
      },
      {
        "line": 5157,
        "token": "version",
        "context": "- **Dynamic Version Management**: All version references now import from main `__version__` variable"
      },
      {
        "line": 5158,
        "token": "updates",
        "context": "- **Future-Proofing**: Version updates now only require changes in 2 files (pyproject.toml + __init__.py)"
      },
      {
        "line": 5159,
        "token": "version",
        "context": "- **Developer Experience**: Consistent version display across all interfaces and documentation"
      },
      {
        "line": 5162,
        "token": "hardcoded",
        "context": "- **FastAPI App**: Changed from hardcoded `version=\"1.0.0\"` to dynamic `version=__version__`"
      },
      {
        "line": 5163,
        "token": "separate",
        "context": "- **Web Module**: Removed separate version `0.2.0`, now imports from parent package"
      },
      {
        "line": 5164,
        "token": "use",
        "context": "- **Server Config**: Updated `SERVER_VERSION` from `0.2.2` to use main version import"
      },
      {
        "line": 5165,
        "token": "dashboards",
        "context": "- **Impact**: All dashboards, API docs, and mDNS advertisements now show consistent version"
      },
      {
        "line": 5172,
        "token": "backward",
        "context": "- **Claude Desktop Integration**: Restored backward compatibility for `uv run memory` command"
      },
      {
        "line": 5173,
        "token": "JSON",
        "context": "- **MCP Protocol Errors**: Fixed JSON parsing errors when Claude Desktop tried to parse CLI help text as MCP messages"
      },
      {
        "line": 5174,
        "token": "consolidation",
        "context": "- **Regression from v6.3.1**: CLI consolidation accidentally broke existing Claude Desktop configurations"
      },
      {
        "line": 5177,
        "token": "consolidation",
        "context": "- **Root Cause**: CLI consolidation removed ability to start MCP server with `uv run memory` (without `server` subcommand)"
      },
      {
        "line": 5178,
        "token": "configurations",
        "context": "- **Impact**: Claude Desktop configurations calling `uv run memory` received help text instead of MCP server"
      },
      {
        "line": 5179,
        "token": "backward",
        "context": "- **Solution**: Added backward compatibility logic to default to `server` command when no subcommand provided"
      },
      {
        "line": 5182,
        "token": "run",
        "context": "- **Backward Compatibility**: `uv run memory` now starts MCP server automatically for existing integrations"
      },
      {
        "line": 5183,
        "token": "warning",
        "context": "- **Deprecation Warning**: Informative warning guides users to explicit `memory server` syntax"
      },
      {
        "line": 5184,
        "token": "test",
        "context": "- **Integration Test**: New test case verifies backward compatibility warning functionality"
      },
      {
        "line": 5185,
        "token": "proper",
        "context": "- **MCP Protocol Validation**: Confirmed proper JSON-RPC responses instead of help text parsing errors"
      },
      {
        "line": 5188,
        "token": "works",
        "context": "- **Claude Desktop works again**: Existing configurations continue working without changes"
      },
      {
        "line": 5189,
        "token": "message",
        "context": "- **Migration Encouraged**: Warning message guides users toward preferred `memory server` syntax"
      },
      {
        "line": 5190,
        "token": "existing",
        "context": "- **No Breaking Changes**: All existing usage patterns maintained while encouraging modern syntax"
      },
      {
        "line": 5197,
        "token": "installation",
        "context": "- **CLI Conflicts Eliminated**: Resolved installation conflicts between argparse and Click CLI implementations"
      },
      {
        "line": 5198,
        "token": "run",
        "context": "- **Command Consistency**: Established `uv run memory server` as the single, reliable server start pattern"
      },
      {
        "line": 5199,
        "token": "stale",
        "context": "- **Installation Issues**: Fixed stale entry point problems that caused \"command not found\" errors"
      },
      {
        "line": 5202,
        "token": "server",
        "context": "- **Unified CLI Interface**: All server commands now route through Click-based CLI for consistency"
      },
      {
        "line": 5203,
        "token": "graceful",
        "context": "- **Deprecation Warnings**: Added graceful migration path with informative deprecation warnings for `memory-server`"
      },
      {
        "line": 5204,
        "token": "error",
        "context": "- **Error Handling**: Improved error messages and graceful failure handling across all CLI commands"
      },
      {
        "line": 5205,
        "token": "comprehensive",
        "context": "- **Documentation**: Added comprehensive CLI Migration Guide with clear upgrade paths"
      },
      {
        "line": 5208,
        "token": "comprehensive",
        "context": "- **CLI Integration Tests**: 16 comprehensive test cases covering all CLI interfaces and edge cases"
      },
      {
        "line": 5209,
        "token": "startup",
        "context": "- **Performance Testing**: CLI startup time validation and version command performance monitoring"
      },
      {
        "line": 5210,
        "token": "command",
        "context": "- **Backward Compatibility**: `memory-server` command maintained with deprecation warnings"
      },
      {
        "line": 5211,
        "token": "documentation",
        "context": "- **Migration Guide**: Complete documentation for transitioning from legacy commands"
      },
      {
        "line": 5214,
        "token": "config",
        "context": "- **Environment Variable Integration**: Seamless config passing via MCP_MEMORY_CHROMA_PATH"
      },
      {
        "line": 5215,
        "token": "duplicate",
        "context": "- **Code Cleanup**: Removed duplicate argparse implementation from server.py"
      },
      {
        "line": 5216,
        "token": "conflicting",
        "context": "- **Entry Point Simplification**: Streamlined from 3 conflicting implementations to 1 clear interface"
      },
      {
        "line": 5217,
        "token": "error",
        "context": "- **Robustness Testing**: Added error handling, argument parity, and isolation testing"
      },
      {
        "line": 5220,
        "token": "startup",
        "context": "- **Eliminates MCP startup failures** that were caused by CLI conflicts"
      },
      {
        "line": 5221,
        "token": "command",
        "context": "- **Clear command interface**: `uv run memory server` works reliably every time"
      },
      {
        "line": 5222,
        "token": "error",
        "context": "- **Better error messages** when something goes wrong"
      },
      {
        "line": 5223,
        "token": "migration",
        "context": "- **Smooth migration path** from legacy patterns"
      },
      {
        "line": 5224,
        "token": "compatibility",
        "context": "- **Full Claude Code compatibility** confirmed and tested"
      },
      {
        "line": 5231,
        "token": "distributed",
        "context": "- **Git-like Sync Workflow**: Complete distributed synchronization system with offline capabilities"
      },
      {
        "line": 5232,
        "token": "orchestrator",
        "context": "- `memory_sync.sh` - Main orchestrator for sync operations with colored output and status reporting"
      },
      {
        "line": 5233,
        "token": "workflow",
        "context": "- **Stash â†’ Pull â†’ Apply â†’ Push** workflow similar to Git's distributed version control"
      },
      {
        "line": 5234,
        "token": "conflict",
        "context": "- Intelligent conflict detection and resolution with user control"
      },
      {
        "line": 5235,
        "token": "architecture",
        "context": "- Remote-first architecture with automatic fallback to local staging"
      },
      {
        "line": 5237,
        "token": "hybrid",
        "context": "- **Enhanced Memory Store**: `enhanced_memory_store.sh` with hybrid remote-first approach"
      },
      {
        "line": 5238,
        "token": "storage",
        "context": "- **Primary**: Direct storage to remote API (`https://narrowbox.local:8443/api/memories`)"
      },
      {
        "line": 5239,
        "token": "local",
        "context": "- **Fallback**: Automatic local staging when remote is unavailable"
      },
      {
        "line": 5240,
        "token": "context",
        "context": "- Smart context detection (project, git branch, hostname, tags)"
      },
      {
        "line": 5241,
        "token": "transition",
        "context": "- Seamless offline-to-online transition with automatic sync"
      },
      {
        "line": 5243,
        "token": "synchronization",
        "context": "- **Real-time Database Replication**: Litestream-based synchronization infrastructure"
      },
      {
        "line": 5244,
        "token": "server",
        "context": "- **Master/Replica Setup**: Remote server as master with HTTP-served replica data"
      },
      {
        "line": 5245,
        "token": "second",
        "context": "- **Automatic Replication**: 10-second sync intervals for near real-time updates"
      },
      {
        "line": 5246,
        "token": "HTTP",
        "context": "- **Lightweight HTTP Server**: Python built-in server for serving replica files"
      },
      {
        "line": 5247,
        "token": "systemd",
        "context": "- **Cross-platform Compatibility**: macOS LaunchDaemon and Linux systemd services"
      },
      {
        "line": 5249,
        "token": "local",
        "context": "- **Staging Database System**: SQLite-based local change tracking"
      },
      {
        "line": 5250,
        "token": "schema",
        "context": "- `staging_db_init.sql` - Complete schema with triggers and status tracking"
      },
      {
        "line": 5251,
        "token": "duplicate",
        "context": "- **Conflict Detection**: Content hash-based duplicate detection"
      },
      {
        "line": 5252,
        "token": "operation",
        "context": "- **Operation Tracking**: INSERT/UPDATE/DELETE operation logging"
      },
      {
        "line": 5253,
        "token": "hostname",
        "context": "- **Source Attribution**: Machine hostname and timestamp tracking"
      },
      {
        "line": 5255,
        "token": "workflow",
        "context": "- **Comprehensive Sync Scripts**: Complete workflow automation"
      },
      {
        "line": 5256,
        "token": "local",
        "context": "- `stash_local_changes.sh` - Capture local changes before remote sync"
      },
      {
        "line": 5257,
        "token": "remote",
        "context": "- `pull_remote_changes.sh` - Download remote changes with conflict awareness"
      },
      {
        "line": 5258,
        "token": "merge",
        "context": "- `apply_local_changes.sh` - Intelligent merge of staged changes"
      },
      {
        "line": 5259,
        "token": "changes",
        "context": "- `push_to_remote.sh` - Upload changes via HTTPS API with retry logic"
      },
      {
        "line": 5260,
        "token": "conflict",
        "context": "- `resolve_conflicts.sh` - Interactive conflict resolution helper"
      },
      {
        "line": 5262,
        "token": "replication",
        "context": "- **Litestream Integration**: Production-ready replication setup"
      },
      {
        "line": 5264,
        "token": "systemd",
        "context": "- **Service Configurations**: systemd and LaunchDaemon service files"
      },
      {
        "line": 5265,
        "token": "YAML",
        "context": "- **Master/Replica Configs**: Complete Litestream YAML configurations"
      },
      {
        "line": 5266,
        "token": "troubleshooting",
        "context": "- **Comprehensive Documentation**: `LITESTREAM_SETUP_GUIDE.md` with troubleshooting"
      },
      {
        "line": 5269,
        "token": "memory-store.md",
        "context": "- **Claude Commands**: Updated `memory-store.md` to document remote-first approach"
      },
      {
        "line": 5270,
        "token": "primary",
        "context": "- **Hybrid Strategy**: Remote API primary, local staging fallback"
      },
      {
        "line": 5271,
        "token": "status",
        "context": "- **Sync Status**: Integration with `./sync/memory_sync.sh status` for pending changes"
      },
      {
        "line": 5272,
        "token": "branch",
        "context": "- **Automatic Context**: Git branch, project, and hostname detection"
      },
      {
        "line": 5275,
        "token": "source",
        "context": "- **Remote-first Design**: Single source of truth on remote server with local caching"
      },
      {
        "line": 5276,
        "token": "comprehensive",
        "context": "- **Conflict Resolution**: Last-write-wins with comprehensive logging and user notification"
      },
      {
        "line": 5277,
        "token": "degradation",
        "context": "- **Network Resilience**: Graceful degradation from online â†’ staging â†’ read-only local"
      },
      {
        "line": 5278,
        "token": "distributed",
        "context": "- **Git-like Workflow**: Familiar distributed workflow for developers"
      },
      {
        "line": 5281,
        "token": "staging",
        "context": "- **Database Schema**: New staging database with triggers for change counting"
      },
      {
        "line": 5282,
        "token": "HTTP",
        "context": "- **HTTP Integration**: Secure HTTPS API communication with bearer token auth"
      },
      {
        "line": 5283,
        "token": "service",
        "context": "- **Platform Support**: Cross-platform service management (systemd/LaunchDaemon)"
      },
      {
        "line": 5284,
        "token": "compression",
        "context": "- **Performance**: Lz4 compression for efficient snapshot transfers"
      },
      {
        "line": 5285,
        "token": "hash",
        "context": "- **Security**: Content hash verification and source machine tracking"
      },
      {
        "line": 5287,
        "token": "release",
        "context": "This release transforms MCP Memory Service from a local-only system into a fully distributed memory platform, enabling seamless synchronization across multiple "
      },
      {
        "line": 5293,
        "token": "release",
        "context": "This release fixes a critical AttributeError in debug utilities when using the SQLite-Vec storage backend."
      },
      {
        "line": 5296,
        "token": "https",
        "context": "- **Debug Utilities Compatibility** ([#89](https://github.com/doobidoo/mcp-memory-service/issues/89)): Fixed `'SqliteVecMemoryStorage' object has no attribute '"
      },
      {
        "line": 5297,
        "token": "compatibility",
        "context": "- Added compatibility helper `_get_embedding_model()` to handle different attribute names between storage backends"
      },
      {
        "line": 5298,
        "token": "backend",
        "context": "- ChromaDB backend uses `storage.model` while SQLite-Vec uses `storage.embedding_model`"
      },
      {
        "line": 5299,
        "token": "all",
        "context": "- Updated all debug functions (`get_raw_embedding`, `check_embedding_model`, `debug_retrieve_memory`) to use the compatibility helper"
      },
      {
        "line": 5303,
        "token": "works",
        "context": "- `get_raw_embedding()` - Now works with both backends"
      },
      {
        "line": 5304,
        "token": "detects",
        "context": "- `check_embedding_model()` - Properly detects model regardless of backend"
      },
      {
        "line": 5305,
        "token": "search",
        "context": "- `debug_retrieve_memory()` - Semantic search debugging works for SQLite-Vec users"
      },
      {
        "line": 5308,
        "token": "backend",
        "context": "- Users with SQLite-Vec backend can now use all MCP debug operations"
      },
      {
        "line": 5309,
        "token": "search",
        "context": "- Semantic search and embedding inspection features work correctly"
      },
      {
        "line": 5310,
        "token": "breaking",
        "context": "- No breaking changes for ChromaDB backend users"
      },
      {
        "line": 5316,
        "token": "release",
        "context": "This release fixes critical compatibility issues with Claude Code hooks that prevented automatic memory injection at session start."
      },
      {
        "line": 5319,
        "token": "incorrect",
        "context": "- **Claude Code Hooks API Parameters**: Fixed incorrect API parameters in `claude-hooks/core/session-start.js`"
      },
      {
        "line": 5320,
        "token": "invalid",
        "context": "- Replaced invalid `tags`, `limit`, `time_filter` parameters with correct `n_results` for `retrieve_memory` API"
      },
      {
        "line": 5321,
        "token": "now",
        "context": "- Hooks now work correctly with MCP Memory Service API without parameter errors"
      },
      {
        "line": 5323,
        "token": "critical",
        "context": "- **Python Dict Response Parsing**: Fixed critical parsing bug where hooks couldn't process MCP service responses"
      },
      {
        "line": 5324,
        "token": "proper",
        "context": "- Added proper Python dictionary format to JavaScript object conversion"
      },
      {
        "line": 5325,
        "token": "fallback",
        "context": "- Implemented fallback parsing for different response formats"
      },
      {
        "line": 5326,
        "token": "now",
        "context": "- Hooks now successfully parse memory service responses and inject context"
      },
      {
        "line": 5328,
        "token": "security",
        "context": "- **Memory Export Security**: Enhanced security for memory export files"
      },
      {
        "line": 5329,
        "token": "json",
        "context": "- Added `local_export*.json` to .gitignore to prevent accidental commits of sensitive data"
      },
      {
        "line": 5330,
        "token": "safe",
        "context": "- Created safe template files in `examples/` directory for documentation and testing"
      },
      {
        "line": 5333,
        "token": "example",
        "context": "- **Memory Export Templates**: New example files showing export format structure"
      },
      {
        "line": 5334,
        "token": "example",
        "context": "- `examples/memory_export_template.json`: Basic example with 3 sample memories"
      },
      {
        "line": 5335,
        "token": "sanitized",
        "context": "- Clean, sanitized examples safe for sharing and documentation"
      },
      {
        "line": 5338,
        "token": "now",
        "context": "- **Response Format Handling**: Hooks now handle Python dict format responses with proper conversion to JavaScript objects"
      },
      {
        "line": 5339,
        "token": "multiple",
        "context": "- **Error Handling**: Added multiple fallback mechanisms for response parsing"
      },
      {
        "line": 5340,
        "token": "use",
        "context": "- **API Compatibility**: Updated to use correct MCP protocol parameters for memory retrieval"
      },
      {
        "line": 5343,
        "token": "hooks",
        "context": "- Claude Code hooks will now work out-of-the-box without manual fixes"
      },
      {
        "line": 5344,
        "token": "context",
        "context": "- Memory context injection at session start now functions correctly"
      },
      {
        "line": 5345,
        "token": "can",
        "context": "- Users can install hooks directly from repository without encountering parsing errors"
      },
      {
        "line": 5346,
        "token": "security",
        "context": "- Enhanced security prevents accidental exposure of sensitive data in exports"
      },
      {
        "line": 5352,
        "token": "release",
        "context": "This release provides comprehensive cross-platform fixes for path detection issues and complete Claude Code hooks integration across Linux, macOS, and Windows."
      },
      {
        "line": 5355,
        "token": "repository",
        "context": "- **Linux Path Detection**: Enhanced `scripts/remote_ingest.sh` to auto-detect mcp-memory-service repository location anywhere in user's home directory"
      },
      {
        "line": 5356,
        "token": "path",
        "context": "- Resolves path case sensitivity issues (Repositories vs repositories)"
      },
      {
        "line": 5357,
        "token": "regardless",
        "context": "- Works regardless of where users clone the repository"
      },
      {
        "line": 5358,
        "token": "found",
        "context": "- Validates found directory contains pyproject.toml to ensure correct repository"
      },
      {
        "line": 5360,
        "token": "comprehensive",
        "context": "- **Windows Path Detection**: Added comprehensive Windows support with PowerShell and batch scripts"
      },
      {
        "line": 5361,
        "token": "installation",
        "context": "- New: `claude-hooks/install_claude_hooks_windows.ps1` - Full-featured PowerShell installation"
      },
      {
        "line": 5362,
        "token": "wrapper",
        "context": "- New: `claude-hooks/install_claude_hooks_windows.bat` - Batch wrapper for easy execution"
      },
      {
        "line": 5363,
        "token": "repository",
        "context": "- Dynamic repository location detection using PSScriptRoot resolution"
      },
      {
        "line": 5364,
        "token": "hooks",
        "context": "- Comprehensive Claude Code hooks directory detection with fallbacks"
      },
      {
        "line": 5365,
        "token": "error",
        "context": "- Improved error handling and validation for source/target directories"
      },
      {
        "line": 5366,
        "token": "hardcoded",
        "context": "- Resolves hardcoded Unix path issues (`\\home\\hkr\\...`) on Windows systems"
      },
      {
        "line": 5367,
        "token": "success",
        "context": "- Tested with 100% success rate across Windows environments"
      },
      {
        "line": 5369,
        "token": "enhanced",
        "context": "- **Claude Code Commands Documentation**: Fixed and enhanced memory commands documentation"
      },
      {
        "line": 5370,
        "token": "command",
        "context": "- Updated command usage from `/memory-store` to `claude /memory-store`"
      },
      {
        "line": 5371,
        "token": "comprehensive",
        "context": "- Added comprehensive troubleshooting section for command installation issues"
      },
      {
        "line": 5372,
        "token": "both",
        "context": "- Documented both Claude Code commands and direct API alternatives"
      },
      {
        "line": 5373,
        "token": "installation",
        "context": "- Added installation instructions and quick fixes for common problems"
      },
      {
        "line": 5376,
        "token": "detection",
        "context": "- Repository detection now works on any platform and directory structure"
      },
      {
        "line": 5377,
        "token": "hooks",
        "context": "- Claude Code hooks installation handles Windows-specific path formats"
      },
      {
        "line": 5378,
        "token": "error",
        "context": "- Improved error messages and debug output across all platforms"
      },
      {
        "line": 5379,
        "token": "behavior",
        "context": "- Consistent behavior across Windows, Linux, and macOS platforms"
      },
      {
        "line": 5384,
        "token": "repository",
        "context": "- **Remote Ingestion Script Path Detection**: Enhanced `scripts/remote_ingest.sh` to auto-detect mcp-memory-service repository location anywhere in user's home "
      },
      {
        "line": 5385,
        "token": "path",
        "context": "- Resolves path case sensitivity issues (Repositories vs repositories)"
      },
      {
        "line": 5386,
        "token": "regardless",
        "context": "- Works regardless of where users clone the repository"
      },
      {
        "line": 5387,
        "token": "found",
        "context": "- Validates found directory contains pyproject.toml to ensure correct repository"
      },
      {
        "line": 5393,
        "token": "patch",
        "context": "This patch release resolves critical issues with memory pagination and search functionality that were preventing users from accessing the full dataset."
      },
      {
        "line": 5396,
        "token": "endpoint",
        "context": "- **Memory API Pagination**: Fixed `/api/memories` endpoint returning only 82 of 904 total memories"
      },
      {
        "line": 5397,
        "token": "was",
        "context": "- **Root Cause**: API was using semantic search fallback instead of proper chronological listing"
      },
      {
        "line": 5398,
        "token": "dedicated",
        "context": "- **Solution**: Implemented dedicated `get_all_memories()` method with SQL-based LIMIT/OFFSET pagination"
      },
      {
        "line": 5399,
        "token": "dashboard",
        "context": "- **Impact**: Web dashboard and API clients now see accurate memory counts and can access complete dataset"
      },
      {
        "line": 5401,
        "token": "missing",
        "context": "- **Missing Storage Backend Methods**: Added missing pagination methods in SqliteVecMemoryStorage"
      },
      {
        "line": 5402,
        "token": "limit",
        "context": "- `get_all_memories(limit, offset)` - Chronological memory listing with pagination support"
      },
      {
        "line": 5403,
        "token": "most",
        "context": "- `get_recent_memories(n)` - Get n most recent memories efficiently"
      },
      {
        "line": 5404,
        "token": "total",
        "context": "- `count_all_memories()` - Accurate total count for pagination calculations"
      },
      {
        "line": 5405,
        "token": "row",
        "context": "- `_row_to_memory(row)` - Proper database row to Memory object conversion with JSON parsing"
      },
      {
        "line": 5407,
        "token": "problems",
        "context": "- **Search Index Issues**: Resolved problems with recently stored memories not appearing in searches"
      },
      {
        "line": 5408,
        "token": "stored",
        "context": "- **Tag Search**: Newly stored memories now immediately appear in tag-based filtering"
      },
      {
        "line": 5409,
        "token": "protocol",
        "context": "- **Semantic Search**: MCP protocol semantic search verified working with similarity scoring"
      },
      {
        "line": 5410,
        "token": "command",
        "context": "- **Memory Context**: `/memory-context` command functionality confirmed end-to-end"
      },
      {
        "line": 5414,
        "token": "lines",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` - Added 75+ lines of pagination methods"
      },
      {
        "line": 5415,
        "token": "pagination",
        "context": "- `src/mcp_memory_service/web/api/memories.py` - Fixed pagination logic to use proper SQL queries"
      },
      {
        "line": 5416,
        "token": "unreliable",
        "context": "- **Database Access**: Replaced unreliable semantic search with direct SQL `ORDER BY created_at DESC`"
      },
      {
        "line": 5417,
        "token": "comprehensive",
        "context": "- **Error Handling**: Added comprehensive JSON parsing for tags and metadata with graceful fallbacks"
      },
      {
        "line": 5418,
        "token": "memories",
        "context": "- **Verification**: All 904 memories now accessible via REST API with proper page navigation"
      },
      {
        "line": 5421,
        "token": "accurate",
        "context": "- âœ… **API Pagination**: Returns accurate 904 total count (was showing 82)"
      },
      {
        "line": 5422,
        "token": "searches",
        "context": "- âœ… **Search Functionality**: Tag searches work immediately after storage"
      },
      {
        "line": 5423,
        "token": "storage",
        "context": "- âœ… **Memory Context**: Session storage and retrieval verified end-to-end"
      },
      {
        "line": 5424,
        "token": "protocol",
        "context": "- âœ… **Semantic Search**: MCP protocol search confirmed functional with similarity scoring"
      },
      {
        "line": 5425,
        "token": "performance",
        "context": "- âœ… **Performance**: No performance degradation despite handling full dataset"
      },
      {
        "line": 5427,
        "token": "release",
        "context": "This release ensures reliable access to the complete memory dataset with proper pagination and search capabilities."
      },
      {
        "line": 5435,
        "token": "major",
        "context": "This major release introduces native Cloudflare integration as a third storage backend option alongside SQLite-vec and ChromaDB, providing global distribution, "
      },
      {
        "line": 5438,
        "token": "implementation",
        "context": "- **Native Cloudflare Backend Support**: Complete implementation using Cloudflare's edge computing platform"
      },
      {
        "line": 5439,
        "token": "dimensional",
        "context": "- **Vectorize**: 768-dimensional vector storage with cosine similarity for semantic search"
      },
      {
        "line": 5440,
        "token": "database",
        "context": "- **D1 Database**: SQLite-compatible database for metadata storage"
      },
      {
        "line": 5441,
        "token": "generation",
        "context": "- **Workers AI**: Embedding generation using @cf/baai/bge-base-en-v1.5 model"
      },
      {
        "line": 5442,
        "token": "optional",
        "context": "- **R2 Storage** (optional): Object storage for large content exceeding 1MB threshold"
      },
      {
        "line": 5445,
        "token": "implementation",
        "context": "- `src/mcp_memory_service/storage/cloudflare.py` - Complete CloudflareStorage implementation (740 lines)"
      },
      {
        "line": 5446,
        "token": "tool",
        "context": "- `scripts/migrate_to_cloudflare.py` - Migration tool for existing SQLite-vec and ChromaDB users"
      },
      {
        "line": 5447,
        "token": "test",
        "context": "- `scripts/test_cloudflare_backend.py` - Comprehensive test suite with automated validation"
      },
      {
        "line": 5448,
        "token": "resource",
        "context": "- `scripts/setup_cloudflare_resources.py` - Automated Cloudflare resource provisioning"
      },
      {
        "line": 5449,
        "token": "docs/cloudflare-setup.md",
        "context": "- `docs/cloudflare-setup.md` - Complete setup, configuration, and troubleshooting guide"
      },
      {
        "line": 5450,
        "token": "unit",
        "context": "- `tests/unit/test_cloudflare_storage.py` - 15 unit tests for CloudflareStorage class"
      },
      {
        "line": 5453,
        "token": "retry",
        "context": "- Automatic retry logic with exponential backoff for API rate limiting"
      },
      {
        "line": 5454,
        "token": "pooling",
        "context": "- Connection pooling for optimal HTTP performance"
      },
      {
        "line": 5455,
        "token": "format",
        "context": "- NDJSON format support for Vectorize v2 API endpoints"
      },
      {
        "line": 5456,
        "token": "caching",
        "context": "- LRU caching (1000 entries) for embedding deduplication"
      },
      {
        "line": 5457,
        "token": "operations",
        "context": "- Batch operations support for efficient data processing"
      },
      {
        "line": 5458,
        "token": "distribution",
        "context": "- Global distribution with <100ms latency from most locations"
      },
      {
        "line": 5459,
        "token": "pricing",
        "context": "- Pay-per-use pricing model with no upfront costs"
      },
      {
        "line": 5462,
        "token": "include",
        "context": "- Updated `config.py` to include 'cloudflare' in SUPPORTED_BACKENDS"
      },
      {
        "line": 5463,
        "token": "server",
        "context": "- Enhanced server initialization in `mcp_server.py` to support Cloudflare backend"
      },
      {
        "line": 5464,
        "token": "storage",
        "context": "- Updated storage factory in `storage/__init__.py` to create CloudflareStorage instances"
      },
      {
        "line": 5465,
        "token": "documentation",
        "context": "- Consolidated documentation, removing redundant setup files"
      },
      {
        "line": 5469,
        "token": "cloudflare",
        "context": "- `MCP_MEMORY_STORAGE_BACKEND=cloudflare` - Activate Cloudflare backend"
      },
      {
        "line": 5470,
        "token": "token",
        "context": "- `CLOUDFLARE_API_TOKEN` - API token with Vectorize, D1, Workers AI permissions"
      },
      {
        "line": 5471,
        "token": "account",
        "context": "- `CLOUDFLARE_ACCOUNT_ID` - Cloudflare account identifier"
      },
      {
        "line": 5472,
        "token": "index",
        "context": "- `CLOUDFLARE_VECTORIZE_INDEX` - Name of Vectorize index (768 dimensions)"
      },
      {
        "line": 5473,
        "token": "database",
        "context": "- `CLOUDFLARE_D1_DATABASE_ID` - D1 database UUID"
      },
      {
        "line": 5474,
        "token": "optional",
        "context": "- `CLOUDFLARE_R2_BUCKET` (optional) - R2 bucket for large content"
      },
      {
        "line": 5477,
        "token": "per",
        "context": "- Storage: ~200ms per memory (including embedding generation)"
      },
      {
        "line": 5478,
        "token": "semantic",
        "context": "- Search: ~100ms for semantic search (5 results)"
      },
      {
        "line": 5479,
        "token": "operations",
        "context": "- Batch operations: ~50ms per memory in batches of 100"
      },
      {
        "line": 5480,
        "token": "latency",
        "context": "- Global latency: <100ms from most global locations"
      },
      {
        "line": 5483,
        "token": "can",
        "context": "Users can migrate from existing backends using provided scripts:"
      },
      {
        "line": 5493,
        "token": "backend",
        "context": "- **Full Compatibility**: Cloudflare backend works seamlessly with Phase 1 and Phase 2 Memory Awareness"
      },
      {
        "line": 5494,
        "token": "tracking",
        "context": "- **Cross-Session Intelligence**: Session tracking and conversation threading supported"
      },
      {
        "line": 5495,
        "token": "memory",
        "context": "- **Dynamic Context Updates**: Real-time memory loading during conversations"
      },
      {
        "line": 5496,
        "token": "global",
        "context": "- **Global Performance**: Enhances Memory Awareness with <100ms global response times"
      },
      {
        "line": 5499,
        "token": "backward",
        "context": "- Fully backward compatible with existing SQLite-vec and ChromaDB backends"
      },
      {
        "line": 5500,
        "token": "breaking",
        "context": "- No breaking changes to existing APIs or configurations"
      },
      {
        "line": 5501,
        "token": "all",
        "context": "- Supports all existing MCP operations and features"
      },
      {
        "line": 5502,
        "token": "all",
        "context": "- Compatible with all existing Memory Awareness hooks and functionality"
      },
      {
        "line": 5509,
        "token": "HTTP",
        "context": "- **Memory Retrieval 404 Issue**: Fixed HTTP API returning 404 errors for valid memory hashes"
      },
      {
        "line": 5510,
        "token": "method",
        "context": "- **Direct Hash Lookup**: Added `get_by_hash()` method to `SqliteVecMemoryStorage` for proper content hash retrieval"
      },
      {
        "line": 5511,
        "token": "use",
        "context": "- **API Endpoint Correction**: Updated `/api/memories/{content_hash}` to use direct hash lookup instead of semantic search"
      },
      {
        "line": 5512,
        "token": "deployed",
        "context": "- **Production Deployment**: Successfully deployed fix to production servers and verified functionality"
      },
      {
        "line": 5515,
        "token": "HTTP",
        "context": "- **Root Cause**: HTTP API was incorrectly using `storage.retrieve()` (semantic search) instead of direct hash-based lookup"
      },
      {
        "line": 5516,
        "token": "dedicated",
        "context": "- **Solution**: Implemented dedicated hash lookup method that queries database directly using content hash as primary key"
      },
      {
        "line": 5517,
        "token": "dashboard",
        "context": "- **Impact**: Web dashboard memory retrieval by hash now works correctly without SSL certificate issues or false 404 responses"
      },
      {
        "line": 5518,
        "token": "multiple",
        "context": "- **Testing**: Verified with multiple memory hashes including previously failing hash `812d361cbfd1b79a49737e6ea34e24459b4d064908e222d98af6a504aa09ff19`"
      },
      {
        "line": 5521,
        "token": "deployed",
        "context": "- Version 6.1.1 deployed to production server `10.0.1.30:8443`"
      },
      {
        "line": 5522,
        "token": "restart",
        "context": "- Service restart completed successfully"
      },
      {
        "line": 5523,
        "token": "check",
        "context": "- Health check confirmed: Version 6.1.1 running with full functionality"
      },
      {
        "line": 5530,
        "token": "release",
        "context": "This release introduces **Phase 2 of Claude Code Memory Awareness** - transforming the system from static memory injection to intelligent, real-time conversatio"
      },
      {
        "line": 5535,
        "token": "conversation",
        "context": "- **Real-time Topic Detection**: Analyzes conversation flow to detect significant topic shifts"
      },
      {
        "line": 5536,
        "token": "relevant",
        "context": "- **Automatic Context Updates**: Injects relevant memories as conversations evolve naturally"
      },
      {
        "line": 5537,
        "token": "already",
        "context": "- **Smart Deduplication**: Prevents re-injection of already loaded memories"
      },
      {
        "line": 5538,
        "token": "second",
        "context": "- **Intelligent Rate Limiting**: 30-second cooldown and session limits prevent context overload"
      },
      {
        "line": 5539,
        "token": "related",
        "context": "- **Cross-Session Intelligence**: Links related conversations across different sessions"
      },
      {
        "line": 5542,
        "token": "topics",
        "context": "- **Natural Language Processing**: Extracts topics, entities, intent, and code context from conversations"
      },
      {
        "line": 5543,
        "token": "database",
        "context": "- **15+ Technical Topic Categories**: database, debugging, architecture, testing, deployment, etc."
      },
      {
        "line": 5544,
        "token": "frameworks",
        "context": "- **Entity Recognition**: Technologies, frameworks, languages, tools (JavaScript, Python, React, etc.)"
      },
      {
        "line": 5545,
        "token": "learning",
        "context": "- **Intent Classification**: learning, problem-solving, development, optimization, review, planning"
      },
      {
        "line": 5546,
        "token": "code",
        "context": "- **Code Context Detection**: Identifies code blocks, file paths, error messages, commands"
      },
      {
        "line": 5549,
        "token": "factor",
        "context": "- **Multi-Factor Relevance Algorithm**: 5-factor scoring system including conversation context (25% weight)"
      },
      {
        "line": 5550,
        "token": "scoring",
        "context": "- **Dynamic Weight Adjustment**: Adapts scoring based on conversation analysis"
      },
      {
        "line": 5551,
        "token": "memories",
        "context": "- **Topic Alignment Matching**: Prioritizes memories matching current conversation topics"
      },
      {
        "line": 5552,
        "token": "memory",
        "context": "- **Intent-Based Scoring**: Aligns memory relevance with conversation purpose"
      },
      {
        "line": 5553,
        "token": "content",
        "context": "- **Semantic Content Analysis**: Advanced content matching with conversation context"
      },
      {
        "line": 5556,
        "token": "related",
        "context": "- **Session Tracking**: Links related sessions across time with unique thread IDs"
      },
      {
        "line": 5557,
        "token": "conversation",
        "context": "- **Conversation Continuity**: Builds conversation threads over multiple sessions"
      },
      {
        "line": 5558,
        "token": "outcomes",
        "context": "- **Progress Context**: Connects outcomes from previous sessions to current work"
      },
      {
        "line": 5559,
        "token": "recurring",
        "context": "- **Pattern Recognition**: Identifies recurring topics and workflow patterns"
      },
      {
        "line": 5560,
        "token": "insights",
        "context": "- **Historical Context**: Includes insights from recent related sessions (up to 3 sessions, 7 days back)"
      },
      {
        "line": 5563,
        "token": "response",
        "context": "- **Efficient Processing**: <500ms response time for topic detection and memory queries"
      },
      {
        "line": 5564,
        "token": "active",
        "context": "- **Scalable Architecture**: Handles 100+ active memories per session"
      },
      {
        "line": 5565,
        "token": "second",
        "context": "- **Smart Debouncing**: 5-second debounce prevents rapid-fire updates"
      },
      {
        "line": 5566,
        "token": "memory",
        "context": "- **Resource Optimization**: Intelligent memory management and context deduplication"
      },
      {
        "line": 5567,
        "token": "test",
        "context": "- **Comprehensive Testing**: 100% test pass rate (15/15 tests) with full integration coverage"
      },
      {
        "line": 5572,
        "token": "engine",
        "context": "- **conversation-analyzer.js**: NLP engine for topic/entity/intent detection"
      },
      {
        "line": 5573,
        "token": "conversation",
        "context": "- **topic-change.js**: Monitors conversation flow and triggers dynamic updates"
      },
      {
        "line": 5574,
        "token": "scoring",
        "context": "- **memory-scorer.js**: Enhanced scoring with conversation context awareness"
      },
      {
        "line": 5575,
        "token": "intelligence",
        "context": "- **session-tracker.js**: Cross-session intelligence and conversation threading"
      },
      {
        "line": 5576,
        "token": "all",
        "context": "- **dynamic-context-updater.js**: Orchestrates all Phase 2 components with rate limiting"
      },
      {
        "line": 5579,
        "token": "configuration",
        "context": "- **Phase 2 Settings**: New configuration sections for conversation analysis, dynamic updates, session tracking"
      },
      {
        "line": 5580,
        "token": "significance",
        "context": "- **Flexible Thresholds**: Configurable significance scores, update limits, and confidence levels"
      },
      {
        "line": 5581,
        "token": "each",
        "context": "- **Feature Toggles**: Independent enable/disable for each Phase 2 capability"
      },
      {
        "line": 5584,
        "token": "updates",
        "context": "- **Zero Cognitive Load**: Context updates happen automatically during conversations"
      },
      {
        "line": 5585,
        "token": "appear",
        "context": "- **Perfect Timing**: Memories appear exactly when relevant to current discussion"
      },
      {
        "line": 5586,
        "token": "transparently",
        "context": "- **Seamless Integration**: Works transparently during normal coding sessions"
      },
      {
        "line": 5587,
        "token": "conversation",
        "context": "- **Progressive Learning**: Each conversation builds upon previous knowledge intelligently"
      },
      {
        "line": 5590,
        "token": "features",
        "context": "- **Backward Compatible**: Phase 1 features remain fully functional"
      },
      {
        "line": 5591,
        "token": "builds",
        "context": "- **Additive Enhancement**: Phase 2 builds upon Phase 1 session-start memory injection"
      },
      {
        "line": 5592,
        "token": "manages",
        "context": "- **Unified Configuration**: Single config.json manages both Phase 1 and Phase 2 settings"
      },
      {
        "line": 5599,
        "token": "major",
        "context": "This major release introduces **automatic memory awareness for Claude Code** - a sophisticated hook system that transforms how developers interact with their pr"
      },
      {
        "line": 5604,
        "token": "injects",
        "context": "- **Session-Start Hook**: Automatically injects relevant memories when starting Claude Code sessions"
      },
      {
        "line": 5605,
        "token": "project",
        "context": "- Intelligent project detection supporting JavaScript, Python, Rust, Go, Java, C++, and more"
      },
      {
        "line": 5606,
        "token": "memory",
        "context": "- Multi-factor memory relevance scoring with time decay, tag matching, and content analysis"
      },
      {
        "line": 5607,
        "token": "memory",
        "context": "- Context-aware memory selection (up to 8 most relevant memories per session)"
      },
      {
        "line": 5608,
        "token": "markdown",
        "context": "- Beautiful markdown formatting for seamless context integration"
      },
      {
        "line": 5610,
        "token": "consolidates",
        "context": "- **Session-End Hook**: Captures and consolidates session outcomes automatically"
      },
      {
        "line": 5611,
        "token": "analysis",
        "context": "- Conversation analysis and intelligent summarization"
      },
      {
        "line": 5612,
        "token": "tagging",
        "context": "- Automatic tagging with project context and session insights"
      },
      {
        "line": 5613,
        "token": "knowledge",
        "context": "- Long-term knowledge building through outcome storage"
      },
      {
        "line": 5614,
        "token": "relationship",
        "context": "- Session relationship tracking for continuity"
      },
      {
        "line": 5617,
        "token": "project",
        "context": "- **Multi-Language Support**: Detects 15+ project types and frameworks"
      },
      {
        "line": 5618,
        "token": "managers",
        "context": "- Package managers: `package.json`, `Cargo.toml`, `go.mod`, `requirements.txt`, `pom.xml`"
      },
      {
        "line": 5619,
        "token": "systems",
        "context": "- Build systems: `Makefile`, `CMakeLists.txt`, `build.gradle`, `setup.py`"
      },
      {
        "line": 5620,
        "token": "files",
        "context": "- Configuration files: `tsconfig.json`, `pyproject.toml`, `.gitignore`"
      },
      {
        "line": 5621,
        "token": "context",
        "context": "- **Git Integration**: Repository context analysis with branch and commit information"
      },
      {
        "line": 5622,
        "token": "more",
        "context": "- **Framework Detection**: React, Vue, Angular, Django, Flask, Express, and more"
      },
      {
        "line": 5623,
        "token": "identification",
        "context": "- **Technology Stack Analysis**: Automatic identification of languages, databases, and tools"
      },
      {
        "line": 5626,
        "token": "memories",
        "context": "- **Time Decay Algorithm**: Recent memories weighted higher with configurable decay curves"
      },
      {
        "line": 5627,
        "token": "tag",
        "context": "- **Tag Relevance Matching**: Project-specific and technology-specific tag scoring"
      },
      {
        "line": 5628,
        "token": "matching",
        "context": "- **Content Similarity Analysis**: Semantic matching with current project context"
      },
      {
        "line": 5629,
        "token": "decisions",
        "context": "- **Memory Type Bonuses**: Prioritizes decisions, insights, and architecture notes"
      },
      {
        "line": 5630,
        "token": "injects",
        "context": "- **Relevance Threshold**: Only injects memories above significance threshold (>0.3)"
      },
      {
        "line": 5634,
        "token": "presentation",
        "context": "- **Markdown-Rich Formatting**: Beautiful presentation with metadata, timestamps, and tags"
      },
      {
        "line": 5635,
        "token": "context",
        "context": "- **Configurable Limits**: Prevents context overload with smart memory selection"
      },
      {
        "line": 5636,
        "token": "memory",
        "context": "- **Source Attribution**: Clear memory source tracking with content hashes"
      },
      {
        "line": 5639,
        "token": "deploys",
        "context": "- **One-Command Installation**: `./install.sh` deploys entire system to Claude Code hooks"
      },
      {
        "line": 5640,
        "token": "integration",
        "context": "- **Comprehensive Test Suite**: 10 integration tests with 100% pass rate"
      },
      {
        "line": 5641,
        "token": "detection",
        "context": "- Project detection testing across multiple languages"
      },
      {
        "line": 5642,
        "token": "scoring",
        "context": "- Memory scoring algorithm validation"
      },
      {
        "line": 5643,
        "token": "formatting",
        "context": "- Context formatting verification"
      },
      {
        "line": 5644,
        "token": "structure",
        "context": "- Hook structure and configuration validation"
      },
      {
        "line": 5645,
        "token": "service",
        "context": "- MCP service connectivity testing"
      },
      {
        "line": 5646,
        "token": "config",
        "context": "- **Configuration Management**: Production-ready config with memory service endpoints"
      },
      {
        "line": 5647,
        "token": "backup",
        "context": "- **Backup and Recovery**: Automatic backup of existing hooks during installation"
      },
      {
        "line": 5668,
        "token": "communication",
        "context": "- **JSON-RPC Protocol**: Direct communication with MCP Memory Service"
      },
      {
        "line": 5669,
        "token": "degradation",
        "context": "- **Error Handling**: Graceful degradation when memory service unavailable"
      },
      {
        "line": 5670,
        "token": "memory",
        "context": "- **Performance Optimization**: Efficient memory querying with result caching"
      },
      {
        "line": 5671,
        "token": "hash",
        "context": "- **Security**: Content hash verification and safe JSON parsing"
      },
      {
        "line": 5716,
        "token": "context",
        "context": "- **Zero Cognitive Load**: Memory context appears automatically without user intervention"
      },
      {
        "line": 5717,
        "token": "lose",
        "context": "- **Perfect Continuity**: Never lose track of decisions, insights, or architectural choices"
      },
      {
        "line": 5718,
        "token": "relevant",
        "context": "- **Intelligent Context**: Only relevant memories shown, preventing information overload"
      },
      {
        "line": 5719,
        "token": "coding",
        "context": "- **Session Learning**: Each coding session builds upon previous knowledge automatically"
      },
      {
        "line": 5722,
        "token": "capture",
        "context": "- **Decision Tracking**: Automatic capture of technical decisions and rationale"
      },
      {
        "line": 5723,
        "token": "accumulation",
        "context": "- **Knowledge Building**: Progressive accumulation of project understanding"
      },
      {
        "line": 5724,
        "token": "insights",
        "context": "- **Context Preservation**: Important insights never get lost between sessions"
      },
      {
        "line": 5725,
        "token": "memory",
        "context": "- **Team Knowledge Sharing**: Shareable memory context across team members"
      },
      {
        "line": 5728,
        "token": "injection",
        "context": "- **Fast Startup**: Memory injection adds <2 seconds to session startup"
      },
      {
        "line": 5729,
        "token": "memory",
        "context": "- **Smart Caching**: Efficient memory retrieval with minimal API calls"
      },
      {
        "line": 5730,
        "token": "memory",
        "context": "- **Configurable Limits**: Prevents memory service overload with request throttling"
      },
      {
        "line": 5731,
        "token": "without",
        "context": "- **Graceful Fallback**: Works with or without memory service availability"
      },
      {
        "line": 5736,
        "token": "alongside",
        "context": "- **Non-Intrusive**: Works alongside existing Claude Code workflows"
      },
      {
        "line": 5737,
        "token": "changes",
        "context": "- **Backward Compatible**: No changes required to existing development processes"
      },
      {
        "line": 5738,
        "token": "per",
        "context": "- **Optional Feature**: Can be enabled/disabled per project or globally"
      },
      {
        "line": 5739,
        "token": "local",
        "context": "- **Multi-Environment**: Works with local, remote, and distributed memory services"
      },
      {
        "line": 5742,
        "token": "installed",
        "context": "- Claude Code CLI installed and configured"
      },
      {
        "line": 5743,
        "token": "running",
        "context": "- MCP Memory Service running (local or remote)"
      },
      {
        "line": 5744,
        "token": "environment",
        "context": "- Node.js environment for hook execution"
      },
      {
        "line": 5745,
        "token": "repository",
        "context": "- Git repository for optimal project detection"
      },
      {
        "line": 5749,
        "token": "release",
        "context": "This release completes **Phase 1** of the Memory Awareness Enhancement Roadmap (Issue #14):"
      },
      {
        "line": 5750,
        "token": "startup",
        "context": "- âœ… Session startup hooks with automatic memory injection"
      },
      {
        "line": 5751,
        "token": "memory",
        "context": "- âœ… Project-aware memory selection algorithms"
      },
      {
        "line": 5752,
        "token": "formatting",
        "context": "- âœ… Context formatting and injection utilities"
      },
      {
        "line": 5753,
        "token": "testing",
        "context": "- âœ… Comprehensive testing and installation system"
      },
      {
        "line": 5754,
        "token": "configuration",
        "context": "- âœ… Production-ready configuration and deployment"
      },
      {
        "line": 5756,
        "token": "memory",
        "context": "**Next Phase**: Dynamic memory loading, cross-session intelligence, and advanced consolidation features."
      },
      {
        "line": 5759,
        "token": "purely",
        "context": "None - This is a purely additive feature that enhances existing Claude Code functionality."
      },
      {
        "line": 5768,
        "token": "memory",
        "context": "- **Comprehensive CLI**: Added `memory` command with subcommands for document ingestion and management"
      },
      {
        "line": 5770,
        "token": "memory",
        "context": "- `memory ingest-document <file>` - Ingest single documents with customizable chunking"
      },
      {
        "line": 5771,
        "token": "memory",
        "context": "- `memory ingest-directory <path>` - Batch process entire directories"
      },
      {
        "line": 5772,
        "token": "memory",
        "context": "- `memory list-formats` - Show all supported document formats"
      },
      {
        "line": 5774,
        "token": "memory",
        "context": "- `memory server` - Start the MCP server (replaces old `memory` command)"
      },
      {
        "line": 5775,
        "token": "memory",
        "context": "- `memory status` - Show service status and statistics"
      },
      {
        "line": 5776,
        "token": "chunk",
        "context": "- **Advanced Options**: Tags, chunk sizing, storage backend selection, verbose output, dry-run mode"
      },
      {
        "line": 5777,
        "token": "progress",
        "context": "- **Progress Tracking**: Real-time progress bars and detailed error reporting"
      },
      {
        "line": 5778,
        "token": "proper",
        "context": "- **Cross-Platform**: Works on Windows, macOS, and Linux with proper path handling"
      },
      {
        "line": 5781,
        "token": "help",
        "context": "- **Click Framework**: Professional CLI with help system and tab completion support"
      },
      {
        "line": 5782,
        "token": "document",
        "context": "- **Async Operations**: Non-blocking document processing with proper resource management"
      },
      {
        "line": 5783,
        "token": "handling",
        "context": "- **Error Recovery**: Graceful handling of processing errors with detailed diagnostics"
      },
      {
        "line": 5784,
        "token": "file",
        "context": "- **Batch Limits**: Configurable file limits and extension filtering for large directories"
      },
      {
        "line": 5786,
        "token": "click",
        "context": "**New Dependencies**: `click>=8.0.0` for CLI framework"
      },
      {
        "line": 5796,
        "token": "memory",
        "context": "**Backward Compatibility**: Old `memory` server command now available as `memory server` and `memory-server`"
      },
      {
        "line": 5803,
        "token": "remote",
        "context": "- **Enterprise-Ready**: Connect to remote ChromaDB servers, Chroma Cloud, or self-hosted instances"
      },
      {
        "line": 5804,
        "token": "support",
        "context": "- **HttpClient Implementation**: Full support for remote ChromaDB connectivity"
      },
      {
        "line": 5805,
        "token": "key",
        "context": "- **Authentication**: API key authentication via `X_CHROMA_TOKEN` header"
      },
      {
        "line": 5806,
        "token": "connections",
        "context": "- **SSL/HTTPS Support**: Secure connections to remote ChromaDB servers"
      },
      {
        "line": 5807,
        "token": "collection",
        "context": "- **Custom Collections**: Specify collection names for multi-tenant deployments"
      },
      {
        "line": 5810,
        "token": "server",
        "context": "- `MCP_MEMORY_CHROMADB_HOST`: Remote server hostname (enables remote mode)"
      },
      {
        "line": 5811,
        "token": "port",
        "context": "- `MCP_MEMORY_CHROMADB_PORT`: Server port (default: 8000)"
      },
      {
        "line": 5812,
        "token": "HTTPS",
        "context": "- `MCP_MEMORY_CHROMADB_SSL`: Use HTTPS ('true'/'false')"
      },
      {
        "line": 5813,
        "token": "token",
        "context": "- `MCP_MEMORY_CHROMADB_API_KEY`: Authentication token"
      },
      {
        "line": 5814,
        "token": "collection",
        "context": "- `MCP_MEMORY_COLLECTION_NAME`: Custom collection name (default: 'memory_collection')"
      },
      {
        "line": 5816,
        "token": "just",
        "context": "**Perfect Timing**: Arrives just as Chroma Cloud launches Q1 2025 (early access available)"
      },
      {
        "line": 5818,
        "token": "support",
        "context": "**Resolves**: #36 (Remote ChromaDB support request)"
      },
      {
        "line": 5825,
        "token": "datetime",
        "context": "- **Fixed datetime deprecation warnings**: Replaced all `datetime.utcnow()` usage with `datetime.now(timezone.utc)`"
      },
      {
        "line": 5826,
        "token": "occurrences",
        "context": "- Updated `src/mcp_memory_service/web/api/health.py` (2 occurrences)"
      },
      {
        "line": 5827,
        "token": "occurrences",
        "context": "- Updated `src/mcp_memory_service/web/sse.py` (3 occurrences)"
      },
      {
        "line": 5828,
        "token": "deprecation",
        "context": "- Eliminates deprecation warnings in Python 3.12+"
      },
      {
        "line": 5829,
        "token": "datetime",
        "context": "- Future-proof timezone-aware datetime handling"
      },
      {
        "line": 5834,
        "token": "mobile",
        "context": "- **Enhanced mobile UX**: Added responsive design for action buttons"
      },
      {
        "line": 5835,
        "token": "now",
        "context": "- Buttons now stack vertically on screens < 768px width"
      },
      {
        "line": 5836,
        "token": "spacing",
        "context": "- Improved touch-friendly spacing and sizing"
      },
      {
        "line": 5837,
        "token": "mobile",
        "context": "- Better mobile experience for API documentation links"
      },
      {
        "line": 5838,
        "token": "desktop",
        "context": "- Maintains desktop horizontal layout on larger screens"
      },
      {
        "line": 5847,
        "token": "redundant",
        "context": "- **Fixed UnboundLocalError**: Removed redundant `import os` statement at line 285 in `sqlite_vec.py`"
      },
      {
        "line": 5848,
        "token": "shadowing",
        "context": "- Variable shadowing prevented ONNX embedding model initialization"
      },
      {
        "line": 5849,
        "token": "cannot",
        "context": "- Caused \"cannot access local variable 'os'\" error in production"
      },
      {
        "line": 5850,
        "token": "full",
        "context": "- Restored full embedding functionality for memory storage"
      },
      {
        "line": 5852,
        "token": "HTTP",
        "context": "#### Docker HTTP Server Support"
      },
      {
        "line": 5853,
        "token": "image",
        "context": "- **Fixed Missing Files**: Added `run_server.py` to Docker image (reported by Joe Esposito)"
      },
      {
        "line": 5854,
        "token": "HTTP",
        "context": "- HTTP server wouldn't start without this critical file"
      },
      {
        "line": 5855,
        "token": "properly",
        "context": "- Now properly copied in Dockerfile for HTTP/API mode"
      },
      {
        "line": 5856,
        "token": "app",
        "context": "- **Fixed Python Path**: Corrected `PYTHONPATH` from `/app` to `/app/src`"
      },
      {
        "line": 5857,
        "token": "couldn",
        "context": "- Modules couldn't be found with incorrect path"
      },
      {
        "line": 5858,
        "token": "both",
        "context": "- Essential for both MCP and HTTP modes"
      },
      {
        "line": 5863,
        "token": "confusing",
        "context": "- **Reduced Complexity by 60%**: Consolidated from 4 confusing compose files to 2 clear options"
      },
      {
        "line": 5864,
        "token": "protocol",
        "context": "- `docker-compose.yml` for MCP protocol mode (Claude Desktop, VS Code)"
      },
      {
        "line": 5865,
        "token": "HTTP/API",
        "context": "- `docker-compose.http.yml` for HTTP/API mode (REST API, Web Dashboard)"
      },
      {
        "line": 5866,
        "token": "single",
        "context": "- **Unified Entrypoint**: Created single smart entrypoint script"
      },
      {
        "line": 5867,
        "token": "mode",
        "context": "- Auto-detects mode from `MCP_MODE` environment variable"
      },
      {
        "line": 5868,
        "token": "confusion",
        "context": "- Eliminates confusion about which script to use"
      },
      {
        "line": 5869,
        "token": "models",
        "context": "- **Pre-download Models**: Embedding models now downloaded during Docker build"
      },
      {
        "line": 5870,
        "token": "runtime",
        "context": "- Prevents runtime failures from network/DNS issues"
      },
      {
        "line": 5871,
        "token": "containers",
        "context": "- Makes containers fully self-contained"
      },
      {
        "line": 5872,
        "token": "startup",
        "context": "- Faster startup times"
      },
      {
        "line": 5875,
        "token": "redundant",
        "context": "- Marked 4 redundant Docker files as deprecated:"
      },
      {
        "line": 5877,
        "token": "now",
        "context": "- `docker-compose.uv.yml` â†’ UV now built into main Dockerfile"
      },
      {
        "line": 5878,
        "token": "applied",
        "context": "- `docker-compose.pythonpath.yml` â†’ Fix applied to main Dockerfile"
      },
      {
        "line": 5879,
        "token": "unified",
        "context": "- `docker-entrypoint-persistent.sh` â†’ Replaced by unified entrypoint"
      },
      {
        "line": 5884,
        "token": "instructions",
        "context": "- **Added Docker README**: Clear instructions for both MCP and HTTP modes"
      },
      {
        "line": 5885,
        "token": "guide",
        "context": "- **Created DEPRECATED.md**: Migration guide for old Docker setups"
      },
      {
        "line": 5886,
        "token": "verify",
        "context": "- **Added Test Script**: `test-docker-modes.sh` to verify both modes work"
      },
      {
        "line": 5887,
        "token": "comprehensive",
        "context": "- **Troubleshooting Guide**: Added comprehensive debugging section to CLAUDE.md"
      },
      {
        "line": 5888,
        "token": "frontend",
        "context": "- Web frontend debugging (CSS/format string conflicts)"
      },
      {
        "line": 5889,
        "token": "clearing",
        "context": "- Cache clearing procedures"
      },
      {
        "line": 5890,
        "token": "reset",
        "context": "- Environment reset steps"
      },
      {
        "line": 5891,
        "token": "method",
        "context": "- Backend method compatibility"
      },
      {
        "line": 5894,
        "token": "thanks",
        "context": "- Special thanks to **Joe Esposito** for identifying and helping fix critical Docker issues"
      },
      {
        "line": 5901,
        "token": "method",
        "context": "- **Fixed Missing Method**: Added `search_by_tags` method to SQLite-vec backend"
      },
      {
        "line": 5902,
        "token": "was",
        "context": "- Web API was calling `search_by_tags` (plural) but backend only had `search_by_tag` (singular)"
      },
      {
        "line": 5903,
        "token": "caused",
        "context": "- This caused 500 errors when using tag-based search via HTTP/MCP endpoints"
      },
      {
        "line": 5904,
        "token": "method",
        "context": "- New method supports both AND/OR operations for tag matching"
      },
      {
        "line": 5905,
        "token": "network",
        "context": "- Fixes network distribution and memory retrieval functionality"
      },
      {
        "line": 5910,
        "token": "health",
        "context": "- **Added Version Field**: All health endpoints now return service version"
      },
      {
        "line": 5911,
        "token": "health",
        "context": "- Basic health endpoint (`/api/health`) includes version field"
      },
      {
        "line": 5912,
        "token": "health",
        "context": "- Detailed health endpoint (`/api/health/detailed`) includes version field"
      },
      {
        "line": 5913,
        "token": "tool",
        "context": "- MCP `check_database_health` tool returns version in response"
      },
      {
        "line": 5914,
        "token": "easier",
        "context": "- Enables easier debugging and version tracking across deployments"
      },
      {
        "line": 5919,
        "token": "memory",
        "context": "- **Export Tool**: Added `scripts/export_distributable_memories.sh` for memory export"
      },
      {
        "line": 5920,
        "token": "memories",
        "context": "- Export memories tagged with `distributable-reference` for team sharing"
      },
      {
        "line": 5921,
        "token": "JSON",
        "context": "- JSON format for easy import to other MCP instances"
      },
      {
        "line": 5922,
        "token": "memory",
        "context": "- Support for cross-network memory synchronization"
      },
      {
        "line": 5924,
        "token": "embedded",
        "context": "- Generate CLAUDE.md with embedded memory service endpoints"
      },
      {
        "line": 5925,
        "token": "different",
        "context": "- Customize for different network deployments"
      },
      {
        "line": 5926,
        "token": "memory",
        "context": "- Include memory retrieval commands for each environment"
      },
      {
        "line": 5927,
        "token": "prompts/load_memory_context.md",
        "context": "- **Memory Context Templates**: Added `prompts/load_memory_context.md`"
      },
      {
        "line": 5928,
        "token": "prompts",
        "context": "- Ready-to-use prompts for loading project context"
      },
      {
        "line": 5929,
        "token": "retrieval",
        "context": "- Quick retrieval commands for Claude Code sessions"
      },
      {
        "line": 5930,
        "token": "distribution",
        "context": "- Network distribution instructions"
      },
      {
        "line": 5935,
        "token": "scripts",
        "context": "- **Fixed Memory Retrieval Commands**: Updated scripts to use working API methods"
      },
      {
        "line": 5936,
        "token": "current",
        "context": "- Changed from non-existent `search_by_tag` to `retrieve_memory` for current deployments"
      },
      {
        "line": 5937,
        "token": "prompt",
        "context": "- Updated prompt templates and distribution scripts"
      },
      {
        "line": 5938,
        "token": "error",
        "context": "- Improved error handling for memory context loading"
      },
      {
        "line": 5939,
        "token": "optional",
        "context": "- **CLAUDE.md Enhancements**: Added optional memory context section"
      },
      {
        "line": 5940,
        "token": "setting",
        "context": "- Instructions for setting up local memory service integration"
      },
      {
        "line": 5941,
        "token": "creating",
        "context": "- Guidelines for creating CLAUDE_MEMORY.md (git-ignored) for local configurations"
      },
      {
        "line": 5942,
        "token": "practices",
        "context": "- Best practices for memory management and quarterly reviews"
      },
      {
        "line": 5949,
        "token": "operation",
        "context": "- **PyTorch-free operation**: True PyTorch-free embedding generation using ONNX Runtime"
      },
      {
        "line": 5950,
        "token": "dependencies",
        "context": "- Reduced dependencies (~500MB less disk space without PyTorch)"
      },
      {
        "line": 5951,
        "token": "startup",
        "context": "- Faster startup with pre-optimized ONNX models"
      },
      {
        "line": 5952,
        "token": "fallback",
        "context": "- Automatic fallback to SentenceTransformers when needed"
      },
      {
        "line": 5953,
        "token": "same",
        "context": "- Compatible with the same `all-MiniLM-L6-v2` model embeddings"
      },
      {
        "line": 5954,
        "token": "export",
        "context": "- Enable with `export MCP_MEMORY_USE_ONNX=true`"
      },
      {
        "line": 5959,
        "token": "all",
        "context": "- **Missing Methods Fixed**: Added all required methods for consolidation support"
      },
      {
        "line": 5960,
        "token": "queries",
        "context": "- Implemented `get_memories_by_time_range()` for time-based queries"
      },
      {
        "line": 5961,
        "token": "relationship",
        "context": "- Added `get_memory_connections()` for relationship tracking statistics"
      },
      {
        "line": 5962,
        "token": "access",
        "context": "- Added `get_access_patterns()` for access pattern analysis"
      },
      {
        "line": 5963,
        "token": "method",
        "context": "- Added `get_all_memories()` method with proper SQL implementation"
      },
      {
        "line": 5966,
        "token": "misleading",
        "context": "- **False ONNX Claims**: Fixed misleading installer messages about ONNX support"
      },
      {
        "line": 5967,
        "token": "false",
        "context": "- Removed false claims about \"ONNX runtime for embeddings\" when no implementation existed"
      },
      {
        "line": 5968,
        "token": "installer",
        "context": "- Updated installer messages to accurately reflect capabilities"
      },
      {
        "line": 5969,
        "token": "actually",
        "context": "- Now actually implements the ONNX support that was previously claimed"
      },
      {
        "line": 5972,
        "token": "configuration",
        "context": "- **SQLite-vec Defaults**: Updated Docker configuration to reflect SQLite-vec as default backend"
      },
      {
        "line": 5973,
        "token": "environment",
        "context": "- Updated `Dockerfile` environment variables to use `MCP_MEMORY_STORAGE_BACKEND=sqlite_vec`"
      },
      {
        "line": 5974,
        "token": "paths",
        "context": "- Changed paths from `/app/chroma_db` to `/app/sqlite_db`"
      },
      {
        "line": 5975,
        "token": "configuration",
        "context": "- Updated `docker-compose.yml` with SQLite-vec configuration"
      },
      {
        "line": 5976,
        "token": "volume",
        "context": "- Fixed volume mounts and environment variables"
      },
      {
        "line": 5981,
        "token": "comprehensive",
        "context": "- **ONNX Feature Documentation**: Added comprehensive ONNX Runtime feature section"
      },
      {
        "line": 5982,
        "token": "installation",
        "context": "- **Installation Updates**: Updated installation instructions with ONNX dependencies"
      },
      {
        "line": 5983,
        "token": "support",
        "context": "- **Feature Visibility**: Highlighted ONNX support in main features list"
      },
      {
        "line": 5987,
        "token": "embedding",
        "context": "- Complete ONNX embedding implementation based on ChromaDB's ONNXMiniLM_L6_V2"
      },
      {
        "line": 5988,
        "token": "model",
        "context": "- Automatic model downloading and caching"
      },
      {
        "line": 5989,
        "token": "provider",
        "context": "- Hardware-aware provider selection (CPU, CUDA, DirectML, CoreML)"
      },
      {
        "line": 5990,
        "token": "handling",
        "context": "- Error handling with graceful fallbacks"
      },
      {
        "line": 5992,
        "token": "configuration",
        "context": "- **Enhanced Configuration**: Added ONNX configuration support in `config.py`"
      },
      {
        "line": 5993,
        "token": "configuration",
        "context": "- `USE_ONNX` configuration option"
      },
      {
        "line": 5994,
        "token": "model",
        "context": "- ONNX model cache directory management"
      },
      {
        "line": 5995,
        "token": "variable",
        "context": "- Environment variable support for `MCP_MEMORY_USE_ONNX`"
      },
      {
        "line": 5998,
        "token": "backward",
        "context": "- Full backward compatibility maintained for existing SQLite-vec users"
      },
      {
        "line": 5999,
        "token": "support",
        "context": "- ONNX support is optional and falls back gracefully to SentenceTransformers"
      },
      {
        "line": 6000,
        "token": "consolidation",
        "context": "- All consolidation methods implemented with proper error handling"
      },
      {
        "line": 6001,
        "token": "images",
        "context": "- Docker images now correctly reflect the SQLite-vec default backend"
      },
      {
        "line": 6003,
        "token": "release",
        "context": "This release resolves all issues reported in GitHub issue #84, implementing true ONNX support and completing the SQLite-vec consolidation feature set."
      },
      {
        "line": 6008,
        "token": "major",
        "context": "This major release introduces native Cloudflare integration as a third storage backend option alongside SQLite-vec and ChromaDB, providing global distribution, "
      },
      {
        "line": 6011,
        "token": "implementation",
        "context": "- **Native Cloudflare Backend Support**: Complete implementation using Cloudflare's edge computing platform"
      },
      {
        "line": 6012,
        "token": "dimensional",
        "context": "- **Vectorize**: 768-dimensional vector storage with cosine similarity for semantic search"
      },
      {
        "line": 6013,
        "token": "database",
        "context": "- **D1 Database**: SQLite-compatible database for metadata storage"
      },
      {
        "line": 6014,
        "token": "generation",
        "context": "- **Workers AI**: Embedding generation using @cf/baai/bge-base-en-v1.5 model"
      },
      {
        "line": 6015,
        "token": "optional",
        "context": "- **R2 Storage** (optional): Object storage for large content exceeding 1MB threshold"
      },
      {
        "line": 6018,
        "token": "implementation",
        "context": "- `src/mcp_memory_service/storage/cloudflare.py` - Complete CloudflareStorage implementation (740 lines)"
      },
      {
        "line": 6019,
        "token": "tool",
        "context": "- `scripts/migrate_to_cloudflare.py` - Migration tool for existing SQLite-vec and ChromaDB users"
      },
      {
        "line": 6020,
        "token": "test",
        "context": "- `scripts/test_cloudflare_backend.py` - Comprehensive test suite with automated validation"
      },
      {
        "line": 6021,
        "token": "resource",
        "context": "- `scripts/setup_cloudflare_resources.py` - Automated Cloudflare resource provisioning"
      },
      {
        "line": 6022,
        "token": "docs/cloudflare-setup.md",
        "context": "- `docs/cloudflare-setup.md` - Complete setup, configuration, and troubleshooting guide"
      },
      {
        "line": 6023,
        "token": "unit",
        "context": "- `tests/unit/test_cloudflare_storage.py` - 15 unit tests for CloudflareStorage class"
      },
      {
        "line": 6026,
        "token": "retry",
        "context": "- Automatic retry logic with exponential backoff for API rate limiting"
      },
      {
        "line": 6027,
        "token": "pooling",
        "context": "- Connection pooling for optimal HTTP performance"
      },
      {
        "line": 6028,
        "token": "format",
        "context": "- NDJSON format support for Vectorize v2 API endpoints"
      },
      {
        "line": 6029,
        "token": "caching",
        "context": "- LRU caching (1000 entries) for embedding deduplication"
      },
      {
        "line": 6030,
        "token": "operations",
        "context": "- Batch operations support for efficient data processing"
      },
      {
        "line": 6031,
        "token": "distribution",
        "context": "- Global distribution with <100ms latency from most locations"
      },
      {
        "line": 6032,
        "token": "pricing",
        "context": "- Pay-per-use pricing model with no upfront costs"
      },
      {
        "line": 6035,
        "token": "include",
        "context": "- Updated `config.py` to include 'cloudflare' in SUPPORTED_BACKENDS"
      },
      {
        "line": 6036,
        "token": "server",
        "context": "- Enhanced server initialization in `mcp_server.py` to support Cloudflare backend"
      },
      {
        "line": 6037,
        "token": "storage",
        "context": "- Updated storage factory in `storage/__init__.py` to create CloudflareStorage instances"
      },
      {
        "line": 6038,
        "token": "documentation",
        "context": "- Consolidated documentation, removing redundant setup files"
      },
      {
        "line": 6042,
        "token": "cloudflare",
        "context": "- `MCP_MEMORY_STORAGE_BACKEND=cloudflare` - Activate Cloudflare backend"
      },
      {
        "line": 6043,
        "token": "token",
        "context": "- `CLOUDFLARE_API_TOKEN` - API token with Vectorize, D1, Workers AI permissions"
      },
      {
        "line": 6044,
        "token": "account",
        "context": "- `CLOUDFLARE_ACCOUNT_ID` - Cloudflare account identifier"
      },
      {
        "line": 6045,
        "token": "index",
        "context": "- `CLOUDFLARE_VECTORIZE_INDEX` - Name of Vectorize index (768 dimensions)"
      },
      {
        "line": 6046,
        "token": "database",
        "context": "- `CLOUDFLARE_D1_DATABASE_ID` - D1 database UUID"
      },
      {
        "line": 6047,
        "token": "optional",
        "context": "- `CLOUDFLARE_R2_BUCKET` (optional) - R2 bucket for large content"
      },
      {
        "line": 6050,
        "token": "per",
        "context": "- Storage: ~200ms per memory (including embedding generation)"
      },
      {
        "line": 6051,
        "token": "semantic",
        "context": "- Search: ~100ms for semantic search (5 results)"
      },
      {
        "line": 6052,
        "token": "operations",
        "context": "- Batch operations: ~50ms per memory in batches of 100"
      },
      {
        "line": 6053,
        "token": "latency",
        "context": "- Global latency: <100ms from most global locations"
      },
      {
        "line": 6056,
        "token": "can",
        "context": "Users can migrate from existing backends using provided scripts:"
      },
      {
        "line": 6066,
        "token": "backend",
        "context": "- **Full Compatibility**: Cloudflare backend works seamlessly with Phase 1 and Phase 2 Memory Awareness"
      },
      {
        "line": 6067,
        "token": "tracking",
        "context": "- **Cross-Session Intelligence**: Session tracking and conversation threading supported"
      },
      {
        "line": 6068,
        "token": "memory",
        "context": "- **Dynamic Context Updates**: Real-time memory loading during conversations"
      },
      {
        "line": 6069,
        "token": "global",
        "context": "- **Global Performance**: Enhances Memory Awareness with <100ms global response times"
      },
      {
        "line": 6072,
        "token": "backward",
        "context": "- Fully backward compatible with existing SQLite-vec and ChromaDB backends"
      },
      {
        "line": 6073,
        "token": "breaking",
        "context": "- No breaking changes to existing APIs or configurations"
      },
      {
        "line": 6074,
        "token": "all",
        "context": "- Supports all existing MCP operations and features"
      },
      {
        "line": 6075,
        "token": "all",
        "context": "- Compatible with all existing Memory Awareness hooks and functionality"
      },
      {
        "line": 6081,
        "token": "patch",
        "context": "This patch release addresses critical issues in the v5.0.0 ChromaDB to SQLite-vec migration process reported in [Issue #83](https://github.com/doobidoo/mcp-memo"
      },
      {
        "line": 6084,
        "token": "scripts",
        "context": "- **Custom Data Paths**: Migration scripts now properly support custom ChromaDB locations via CLI arguments and environment variables"
      },
      {
        "line": 6085,
        "token": "arguments",
        "context": "- Added `--chroma-path` and `--sqlite-path` arguments to migration scripts"
      },
      {
        "line": 6086,
        "token": "environment",
        "context": "- Support for `MCP_MEMORY_CHROMA_PATH` and `MCP_MEMORY_SQLITE_PATH` environment variables"
      },
      {
        "line": 6087,
        "token": "hardcoded",
        "context": "- Fixed hardcoded path assumptions that ignored user configurations"
      },
      {
        "line": 6089,
        "token": "critical",
        "context": "- **Content Hash Generation**: Fixed critical bug where ChromaDB document IDs were used instead of proper SHA256 hashes"
      },
      {
        "line": 6090,
        "token": "generates",
        "context": "- Now generates correct content hashes using SHA256 algorithm"
      },
      {
        "line": 6091,
        "token": "constraint",
        "context": "- Prevents \"NOT NULL constraint failed\" errors during migration"
      },
      {
        "line": 6092,
        "token": "data",
        "context": "- Ensures data integrity and proper deduplication"
      },
      {
        "line": 6094,
        "token": "issue",
        "context": "- **Tag Format Corruption**: Fixed issue where 60% of tags became malformed during migration"
      },
      {
        "line": 6095,
        "token": "tag",
        "context": "- Improved tag validation and format conversion"
      },
      {
        "line": 6096,
        "token": "strings",
        "context": "- Handles comma-separated strings, arrays, and single tags correctly"
      },
      {
        "line": 6097,
        "token": "array",
        "context": "- Prevents array syntax from being stored as strings"
      },
      {
        "line": 6099,
        "token": "progress",
        "context": "- **Migration Progress**: Added progress indicators and better error reporting"
      },
      {
        "line": 6100,
        "token": "percentage",
        "context": "- Shows percentage completion during migration"
      },
      {
        "line": 6101,
        "token": "processing",
        "context": "- Batch processing with configurable batch size"
      },
      {
        "line": 6102,
        "token": "mode",
        "context": "- Verbose mode for detailed debugging"
      },
      {
        "line": 6103,
        "token": "error",
        "context": "- Clear error messages for troubleshooting"
      },
      {
        "line": 6107,
        "token": "migration",
        "context": "- Comprehensive migration tool with all fixes"
      },
      {
        "line": 6108,
        "token": "mode",
        "context": "- Dry-run mode for testing migrations"
      },
      {
        "line": 6109,
        "token": "migration",
        "context": "- Transaction-based migration with rollback support"
      },
      {
        "line": 6110,
        "token": "bars",
        "context": "- Progress bars with `tqdm` support"
      },
      {
        "line": 6111,
        "token": "JSON",
        "context": "- JSON backup creation"
      },
      {
        "line": 6112,
        "token": "path",
        "context": "- Automatic path detection for common installations"
      },
      {
        "line": 6115,
        "token": "migrated",
        "context": "- Validates migrated SQLite database integrity"
      },
      {
        "line": 6116,
        "token": "missing",
        "context": "- Checks for missing fields and corrupted data"
      },
      {
        "line": 6117,
        "token": "original",
        "context": "- Compares with original ChromaDB data"
      },
      {
        "line": 6118,
        "token": "detailed",
        "context": "- Generates detailed validation report"
      },
      {
        "line": 6119,
        "token": "specific",
        "context": "- Identifies specific issues like hash mismatches and tag corruption"
      },
      {
        "line": 6122,
        "token": "migration",
        "context": "- Updated migration guide with troubleshooting section"
      },
      {
        "line": 6123,
        "token": "all",
        "context": "- Documented all known v5.0.0 issues and solutions"
      },
      {
        "line": 6124,
        "token": "recovery",
        "context": "- Added recovery procedures for failed migrations"
      },
      {
        "line": 6125,
        "token": "best",
        "context": "- Migration best practices and validation steps"
      },
      {
        "line": 6129,
        "token": "argument",
        "context": "- Added CLI argument support for custom paths"
      },
      {
        "line": 6130,
        "token": "content",
        "context": "- Fixed content hash generation"
      },
      {
        "line": 6131,
        "token": "tag",
        "context": "- Improved tag handling"
      },
      {
        "line": 6132,
        "token": "duplicate",
        "context": "- Better duplicate detection"
      },
      {
        "line": 6133,
        "token": "percentage",
        "context": "- Progress percentage display"
      },
      {
        "line": 6136,
        "token": "comprehensive",
        "context": "- **Migration Troubleshooting Guide**: Added comprehensive troubleshooting section covering:"
      },
      {
        "line": 6137,
        "token": "data",
        "context": "- Custom data location issues"
      },
      {
        "line": 6138,
        "token": "hash",
        "context": "- Content hash errors"
      },
      {
        "line": 6139,
        "token": "corruption",
        "context": "- Tag corruption problems"
      },
      {
        "line": 6140,
        "token": "hangs",
        "context": "- Migration hangs"
      },
      {
        "line": 6141,
        "token": "conflicts",
        "context": "- Dependency conflicts"
      },
      {
        "line": 6142,
        "token": "procedures",
        "context": "- Recovery procedures"
      },
      {
        "line": 6149,
        "token": "backend",
        "context": "- **DEPRECATED**: ChromaDB backend is now deprecated and will be removed in v6.0.0"
      },
      {
        "line": 6150,
        "token": "now",
        "context": "- **DEFAULT CHANGE**: SQLite-vec is now the default storage backend (previously ChromaDB)"
      },
      {
        "line": 6151,
        "token": "existing",
        "context": "- **MIGRATION REQUIRED**: Users with existing ChromaDB data should migrate to SQLite-vec"
      },
      {
        "line": 6152,
        "token": "python",
        "context": "- Run `python scripts/migrate_to_sqlite_vec.py` to migrate your data"
      },
      {
        "line": 6153,
        "token": "only",
        "context": "- Migration is one-way only (ChromaDB â†’ SQLite-vec)"
      },
      {
        "line": 6154,
        "token": "your",
        "context": "- Backup your data before migration"
      },
      {
        "line": 6157,
        "token": "requires",
        "context": "- **Network Issues**: ChromaDB requires downloading models from Hugging Face, causing frequent failures"
      },
      {
        "line": 6158,
        "token": "faster",
        "context": "- **Performance**: SQLite-vec is 10x faster at startup (2-3 seconds vs 15-30 seconds)"
      },
      {
        "line": 6159,
        "token": "uses",
        "context": "- **Resource Usage**: SQLite-vec uses 75% less memory than ChromaDB"
      },
      {
        "line": 6160,
        "token": "network",
        "context": "- **Reliability**: Zero network dependencies means no download failures or connection issues"
      },
      {
        "line": 6161,
        "token": "database",
        "context": "- **Simplicity**: Single-file database, easier backup and portability"
      },
      {
        "line": 6164,
        "token": "all",
        "context": "- **Default Backend**: Changed from ChromaDB to SQLite-vec in all configurations"
      },
      {
        "line": 6165,
        "token": "now",
        "context": "- **Installation**: `install.py` now installs SQLite-vec dependencies by default"
      },
      {
        "line": 6166,
        "token": "all",
        "context": "- **Documentation**: Updated all guides to recommend SQLite-vec as primary backend"
      },
      {
        "line": 6167,
        "token": "deprecation",
        "context": "- **Warnings**: Added deprecation warnings when ChromaDB backend is used"
      },
      {
        "line": 6168,
        "token": "now",
        "context": "- **Migration Prompts**: Server now prompts for migration when ChromaDB data is detected"
      },
      {
        "line": 6171,
        "token": "your",
        "context": "1. **Backup your data**: `python scripts/create_backup.py`"
      },
      {
        "line": 6172,
        "token": "migration",
        "context": "2. **Run migration**: `python scripts/migrate_to_sqlite_vec.py`"
      },
      {
        "line": 6173,
        "token": "configuration",
        "context": "3. **Update configuration**: Set `MCP_MEMORY_STORAGE_BACKEND=sqlite_vec`"
      },
      {
        "line": 6174,
        "token": "server",
        "context": "4. **Restart server**: Your memories are now in SQLite-vec format"
      },
      {
        "line": 6177,
        "token": "backend",
        "context": "- ChromaDB backend still functions but displays deprecation warnings"
      },
      {
        "line": 6178,
        "token": "installations",
        "context": "- Existing ChromaDB installations continue to work until v6.0.0"
      },
      {
        "line": 6179,
        "token": "tools",
        "context": "- Migration tools provided for smooth transition"
      },
      {
        "line": 6180,
        "token": "remain",
        "context": "- All APIs remain unchanged regardless of backend"
      },
      {
        "line": 6187,
        "token": "critical",
        "context": "- **Export/Import Script Database Path Detection**: Fixed critical bug in memory export and import scripts"
      },
      {
        "line": 6188,
        "token": "script",
        "context": "- Export script now properly respects `SQLITE_VEC_PATH` configuration from `config.py`"
      },
      {
        "line": 6189,
        "token": "script",
        "context": "- Import script now properly respects `SQLITE_VEC_PATH` configuration from `config.py`"
      },
      {
        "line": 6190,
        "token": "now",
        "context": "- Scripts now use environment variables like `MCP_MEMORY_SQLITE_PATH` correctly"
      },
      {
        "line": 6191,
        "token": "issue",
        "context": "- Fixed issue where export/import would use wrong database path, missing actual memories"
      },
      {
        "line": 6192,
        "token": "support",
        "context": "- Added support for custom database paths via `--db-path` argument"
      },
      {
        "line": 6193,
        "token": "export",
        "context": "- Ensures export captures all memories from the configured database location"
      },
      {
        "line": 6194,
        "token": "import",
        "context": "- Ensures import writes to the correct configured database location"
      },
      {
        "line": 6197,
        "token": "database",
        "context": "- **Export/Import Script Configuration**: Improved database path detection logic"
      },
      {
        "line": 6198,
        "token": "back",
        "context": "- Falls back gracefully when SQLite-vec backend is not configured"
      },
      {
        "line": 6199,
        "token": "compatibility",
        "context": "- Maintains compatibility with different storage backend configurations"
      },
      {
        "line": 6200,
        "token": "proper",
        "context": "- Added proper imports for configuration variables"
      },
      {
        "line": 6203,
        "token": "use",
        "context": "- Modified `scripts/sync/export_memories.py` to use `SQLITE_VEC_PATH` instead of `BASE_DIR`"
      },
      {
        "line": 6204,
        "token": "use",
        "context": "- Modified `scripts/sync/import_memories.py` to use `SQLITE_VEC_PATH` instead of `BASE_DIR`"
      },
      {
        "line": 6205,
        "token": "functions",
        "context": "- Updated `get_default_db_path()` functions in both scripts to check storage backend configuration"
      },
      {
        "line": 6206,
        "token": "version",
        "context": "- Added version bump to exporter metadata for tracking"
      },
      {
        "line": 6207,
        "token": "method",
        "context": "- Added `get_all_memories()` method to `SqliteVecMemoryStorage` for proper export functionality"
      },
      {
        "line": 6214,
        "token": "environment",
        "context": "- **Custom SSL Certificate Support**: Added environment variable configuration for SSL certificates"
      },
      {
        "line": 6215,
        "token": "environment",
        "context": "- New `MCP_SSL_CERT_FILE` environment variable for custom certificate path"
      },
      {
        "line": 6216,
        "token": "environment",
        "context": "- New `MCP_SSL_KEY_FILE` environment variable for custom private key path"
      },
      {
        "line": 6217,
        "token": "backward",
        "context": "- Maintains backward compatibility with self-signed certificate generation"
      },
      {
        "line": 6218,
        "token": "production",
        "context": "- Enables production deployments with proper SSL certificates (e.g., mkcert, Let's Encrypt)"
      },
      {
        "line": 6221,
        "token": "HTTPS",
        "context": "- **HTTPS Server Configuration**: Improved certificate validation and error handling"
      },
      {
        "line": 6222,
        "token": "file",
        "context": "- Certificate file existence validation before server startup"
      },
      {
        "line": 6223,
        "token": "error",
        "context": "- Clear error messages for missing certificate files"
      },
      {
        "line": 6224,
        "token": "improvements",
        "context": "- Logging improvements for certificate source identification"
      },
      {
        "line": 6227,
        "token": "comprehensive",
        "context": "- **SSL/TLS Setup Guide**: Added comprehensive SSL configuration documentation"
      },
      {
        "line": 6228,
        "token": "guide",
        "context": "- Integration guide for [mkcert](https://github.com/FiloSottile/mkcert) for local development"
      },
      {
        "line": 6229,
        "token": "HTTPS",
        "context": "- Example HTTPS startup script template"
      },
      {
        "line": 6230,
        "token": "installation",
        "context": "- Client CA installation instructions for multiple operating systems"
      },
      {
        "line": 6237,
        "token": "JSON",
        "context": "- **JSON Protocol Compatibility**: Resolved debug output contaminating MCP JSON-RPC communication"
      },
      {
        "line": 6238,
        "token": "unconditional",
        "context": "- Fixed unconditional debug print statements causing \"Unexpected token\" errors in Claude Desktop logs"
      },
      {
        "line": 6239,
        "token": "client",
        "context": "- Added client detection checks to `TOOL CALL INTERCEPTED` and `Processing tool` debug messages"
      },
      {
        "line": 6240,
        "token": "clean",
        "context": "- Ensures clean JSON-only output for Claude Desktop while preserving debug output for LM Studio"
      },
      {
        "line": 6243,
        "token": "universal",
        "context": "- **Universal README Documentation**: Transformed from Claude Desktop-specific to universal AI client focus"
      },
      {
        "line": 6244,
        "token": "opening",
        "context": "- Updated opening description to emphasize compatibility with \"AI applications and development environments\""
      },
      {
        "line": 6245,
        "token": "prominent",
        "context": "- Added prominent compatibility badges for Cursor, WindSurf, LM Studio, Zed, and other AI clients"
      },
      {
        "line": 6246,
        "token": "comprehensive",
        "context": "- Moved comprehensive client compatibility table to prominent position in documentation"
      },
      {
        "line": 6247,
        "token": "client",
        "context": "- Expanded client support details for 13+ different AI applications and IDEs"
      },
      {
        "line": 6248,
        "token": "benefits",
        "context": "- Added multi-client benefits section highlighting cross-tool memory sharing capabilities"
      },
      {
        "line": 6249,
        "token": "examples",
        "context": "- Updated examples and Docker configurations to be client-agnostic"
      },
      {
        "line": 6252,
        "token": "documentation",
        "context": "- **Improved Client Visibility**: Enhanced documentation structure for broader MCP ecosystem appeal"
      },
      {
        "line": 6253,
        "token": "examples",
        "context": "- **Balanced Examples**: Updated API examples to focus on universal MCP access rather than specific clients"
      },
      {
        "line": 6254,
        "token": "status",
        "context": "- **Clear Compatibility Matrix**: Detailed status and configuration for each supported AI client"
      },
      {
        "line": 6261,
        "token": "detection",
        "context": "- **Intelligent Client Detection**: Automatic detection of MCP client type"
      },
      {
        "line": 6262,
        "token": "other",
        "context": "- Detects Claude Desktop, LM Studio, and other MCP clients"
      },
      {
        "line": 6263,
        "token": "process",
        "context": "- Uses process inspection and environment variables for robust detection"
      },
      {
        "line": 6264,
        "token": "back",
        "context": "- Falls back to strict JSON mode for unknown clients"
      },
      {
        "line": 6266,
        "token": "output",
        "context": "- **Client-Aware Logging System**: Optimized output for different MCP clients"
      },
      {
        "line": 6267,
        "token": "protocol",
        "context": "- **Claude Desktop Mode**: Pure JSON-RPC protocol compliance"
      },
      {
        "line": 6268,
        "token": "diagnostic",
        "context": "- Suppresses diagnostic output to maintain clean JSON communication"
      },
      {
        "line": 6269,
        "token": "only",
        "context": "- Routes only WARNING/ERROR messages to stderr"
      },
      {
        "line": 6270,
        "token": "maximum",
        "context": "- Ensures maximum compatibility with Claude's strict parsing"
      },
      {
        "line": 6271,
        "token": "diagnostic",
        "context": "- **LM Studio Mode**: Enhanced diagnostic experience"
      },
      {
        "line": 6272,
        "token": "system",
        "context": "- Shows system diagnostics, dependency checks, and initialization status"
      },
      {
        "line": 6273,
        "token": "detailed",
        "context": "- Provides detailed feedback for troubleshooting"
      },
      {
        "line": 6274,
        "token": "full",
        "context": "- Maintains full INFO/DEBUG output to stdout"
      },
      {
        "line": 6277,
        "token": "diagnostic",
        "context": "- **Improved Stability**: All diagnostic output is now conditional based on client type"
      },
      {
        "line": 6278,
        "token": "print",
        "context": "- 15+ print statements updated with client-aware logic"
      },
      {
        "line": 6279,
        "token": "diagnostics",
        "context": "- System diagnostics, dependency checks, and initialization messages"
      },
      {
        "line": 6280,
        "token": "mode",
        "context": "- Docker mode detection and standalone mode indicators"
      },
      {
        "line": 6283,
        "token": "psutil",
        "context": "- Added `psutil` dependency for process-based client detection"
      },
      {
        "line": 6284,
        "token": "routing",
        "context": "- Implemented `DualStreamHandler` with client-aware routing"
      },
      {
        "line": 6285,
        "token": "variable",
        "context": "- Environment variable support: `CLAUDE_DESKTOP=1` or `LM_STUDIO=1` for manual override"
      },
      {
        "line": 6286,
        "token": "full",
        "context": "- Maintains full backward compatibility with existing integrations"
      },
      {
        "line": 6293,
        "token": "synchronization",
        "context": "- **Multi-Node Database Sync**: Complete Litestream-based synchronization for SQLite-vec databases"
      },
      {
        "line": 6294,
        "token": "JSON",
        "context": "- **JSON Export/Import**: Preserve timestamps and metadata across database migrations"
      },
      {
        "line": 6295,
        "token": "database",
        "context": "- **Litestream Integration**: Real-time database replication with conflict resolution"
      },
      {
        "line": 6296,
        "token": "server",
        "context": "- **3-Node Architecture**: Central server with replica nodes for distributed workflows"
      },
      {
        "line": 6297,
        "token": "duplicate",
        "context": "- **Deduplication Logic**: Content hash-based duplicate prevention during imports"
      },
      {
        "line": 6298,
        "token": "tagging",
        "context": "- **Source Tracking**: Automatic tagging to identify memory origin machines"
      },
      {
        "line": 6301,
        "token": "memories",
        "context": "- `MemoryExporter`: Export memories to JSON with full metadata preservation"
      },
      {
        "line": 6302,
        "token": "intelligent",
        "context": "- `MemoryImporter`: Import with intelligent deduplication and source tracking"
      },
      {
        "line": 6303,
        "token": "configuration",
        "context": "- `LitestreamManager`: Automated Litestream configuration and management"
      },
      {
        "line": 6306,
        "token": "memory",
        "context": "- `export_memories.py`: Platform-aware memory export utility"
      },
      {
        "line": 6307,
        "token": "server",
        "context": "- `import_memories.py`: Central server import with merge statistics"
      },
      {
        "line": 6308,
        "token": "usage",
        "context": "- `README.md`: Comprehensive usage documentation"
      },
      {
        "line": 6311,
        "token": "existing",
        "context": "- **Migration Tools**: Extended existing migration scripts to support sync workflows"
      },
      {
        "line": 6312,
        "token": "capabilities",
        "context": "- **Backup Integration**: Sync capabilities integrate with existing backup system"
      },
      {
        "line": 6313,
        "token": "sync",
        "context": "- **Health Monitoring**: Added sync status to health endpoints and monitoring"
      },
      {
        "line": 6316,
        "token": "docs/deployment/database-synchronization.md",
        "context": "- **Complete Sync Guide**: `docs/deployment/database-synchronization.md`"
      },
      {
        "line": 6317,
        "token": "setup",
        "context": "- **Technical Architecture**: Detailed setup and troubleshooting documentation"
      },
      {
        "line": 6318,
        "token": "migration",
        "context": "- **Migration Examples**: Updated migration documentation with sync procedures"
      },
      {
        "line": 6321,
        "token": "memories",
        "context": "- **Multi-Device Workflows**: Keep memories synchronized across Windows, macOS, and server"
      },
      {
        "line": 6322,
        "token": "memory",
        "context": "- **Team Collaboration**: Shared memory databases with individual client access"
      },
      {
        "line": 6323,
        "token": "replication",
        "context": "- **Backup and Recovery**: Real-time replication provides instant backup capability"
      },
      {
        "line": 6324,
        "token": "replicas",
        "context": "- **Offline Capability**: Local replicas work offline, sync when reconnected"
      },
      {
        "line": 6326,
        "token": "release",
        "context": "This release enables seamless database synchronization across multiple machines while preserving all memory metadata, timestamps, and source attribution."
      },
      {
        "line": 6333,
        "token": "backup",
        "context": "- **SQLite-vec Backup Support**: Enhanced MCP backup system to fully support SQLite-vec backend"
      },
      {
        "line": 6334,
        "token": "now",
        "context": "- **Multi-Backend Support**: `dashboard_create_backup` now handles both ChromaDB and SQLite-vec databases"
      },
      {
        "line": 6335,
        "token": "main",
        "context": "- **Complete File Coverage**: Backs up main database, WAL, and SHM files for data integrity"
      },
      {
        "line": 6336,
        "token": "comprehensive",
        "context": "- **Metadata Generation**: Creates comprehensive backup metadata with size, file count, and backend info"
      },
      {
        "line": 6337,
        "token": "error",
        "context": "- **Error Handling**: Robust error handling and validation during backup operations"
      },
      {
        "line": 6339,
        "token": "automation",
        "context": "- **Automated Backup Infrastructure**: Complete automation solution for production deployments"
      },
      {
        "line": 6340,
        "token": "day",
        "context": "- **Backup Script**: `scripts/backup_sqlite_vec.sh` with 7-day retention policy"
      },
      {
        "line": 6341,
        "token": "easy",
        "context": "- **Cron Setup**: `scripts/setup_backup_cron.sh` for easy daily backup scheduling"
      },
      {
        "line": 6342,
        "token": "JSON",
        "context": "- **Metadata Tracking**: JSON metadata files with backup timestamp, size, and source information"
      },
      {
        "line": 6343,
        "token": "backup",
        "context": "- **Automatic Cleanup**: Old backup removal to prevent disk space issues"
      },
      {
        "line": 6346,
        "token": "backup",
        "context": "- **Backup Reliability**: Improved backup system architecture for production use"
      },
      {
        "line": 6347,
        "token": "detection",
        "context": "- **Backend Detection**: Automatic detection and appropriate handling of storage backend"
      },
      {
        "line": 6348,
        "token": "handling",
        "context": "- **File Integrity**: Proper handling of SQLite WAL mode with transaction log files"
      },
      {
        "line": 6349,
        "token": "backup",
        "context": "- **Consistent Naming**: Standardized backup naming with timestamps"
      },
      {
        "line": 6350,
        "token": "validation",
        "context": "- **Validation**: Pre-backup validation of source files and post-backup verification"
      },
      {
        "line": 6353,
        "token": "support",
        "context": "- **Storage Backend**: Seamless support for both `sqlite_vec` and `chroma` backends"
      },
      {
        "line": 6354,
        "token": "file",
        "context": "- **File Operations**: Safe file copying with proper permission handling"
      },
      {
        "line": 6355,
        "token": "integration",
        "context": "- **Scheduling**: Cron integration for hands-off automated backups"
      },
      {
        "line": 6356,
        "token": "logs",
        "context": "- **Monitoring**: Backup logs and status tracking for operational visibility"
      },
      {
        "line": 6363,
        "token": "hostname",
        "context": "- **Architecture Correction**: Fixed hostname capture to identify CLIENT machine instead of server machine"
      },
      {
        "line": 6364,
        "token": "captured",
        "context": "- **Before**: Always captured server hostname (`narrowbox`) regardless of client"
      },
      {
        "line": 6365,
        "token": "hostname",
        "context": "- **After**: Prioritizes client-provided hostname, fallback to server hostname"
      },
      {
        "line": 6366,
        "token": "HTTP",
        "context": "- **HTTP API**: Supports `client_hostname` in request body + `X-Client-Hostname` header"
      },
      {
        "line": 6367,
        "token": "parameter",
        "context": "- **MCP Server**: Added `client_hostname` parameter to store_memory tool"
      },
      {
        "line": 6368,
        "token": "arguments",
        "context": "- **Legacy Server**: Supports `client_hostname` in arguments dictionary"
      },
      {
        "line": 6369,
        "token": "request",
        "context": "- **Priority Order**: request body > HTTP header > server hostname fallback"
      },
      {
        "line": 6372,
        "token": "all",
        "context": "- **Client Detection Logic**: Updated all three interfaces with proper client hostname detection"
      },
      {
        "line": 6373,
        "token": "parameter",
        "context": "- `memories.py`: Added Request parameter and header/body hostname extraction"
      },
      {
        "line": 6374,
        "token": "parameter",
        "context": "- `mcp_server.py`: Added client_hostname parameter with priority logic"
      },
      {
        "line": 6375,
        "token": "argument",
        "context": "- `server.py`: Added client_hostname argument extraction with fallback"
      },
      {
        "line": 6376,
        "token": "backward",
        "context": "- Maintains backward compatibility when `MCP_MEMORY_INCLUDE_HOSTNAME=false`"
      },
      {
        "line": 6379,
        "token": "repository",
        "context": "- **Command Templates**: Updated repository templates with client hostname detection guidance"
      },
      {
        "line": 6380,
        "token": "descriptions",
        "context": "- **API Documentation**: Enhanced descriptions to clarify client vs server hostname capture"
      },
      {
        "line": 6381,
        "token": "comprehensive",
        "context": "- **Test Documentation**: Added comprehensive test scenarios and verification steps"
      },
      {
        "line": 6384,
        "token": "workflows",
        "context": "- âœ… **Multi-device workflows**: Memories now correctly identify originating client machine"
      },
      {
        "line": 6385,
        "token": "trails",
        "context": "- âœ… **Audit trails**: Proper source attribution across different client connections"
      },
      {
        "line": 6386,
        "token": "deployments",
        "context": "- âœ… **Remote deployments**: Works correctly when client and server are different machines"
      },
      {
        "line": 6387,
        "token": "compatible",
        "context": "- âœ… **Backward compatible**: No breaking changes, respects environment variable setting"
      },
      {
        "line": 6394,
        "token": "machine",
        "context": "- **Environment-Controlled Machine Tracking**: Made machine identification optional via environment variable"
      },
      {
        "line": 6395,
        "token": "environment",
        "context": "- New environment variable: `MCP_MEMORY_INCLUDE_HOSTNAME` (default: `false`)"
      },
      {
        "line": 6396,
        "token": "enabled",
        "context": "- When enabled, automatically adds machine hostname to all stored memories"
      },
      {
        "line": 6397,
        "token": "both",
        "context": "- Adds both `source:hostname` tag and hostname metadata field"
      },
      {
        "line": 6398,
        "token": "all",
        "context": "- Supports all interfaces: MCP server, HTTP API, and legacy server"
      },
      {
        "line": 6399,
        "token": "disabled",
        "context": "- Privacy-focused: disabled by default, enables multi-device workflows when needed"
      },
      {
        "line": 6402,
        "token": "memory",
        "context": "- **Memory Storage Enhancement**: All memory storage operations now support optional machine tracking"
      },
      {
        "line": 6403,
        "token": "function",
        "context": "- Updated `mcp_server.py` store_memory function with hostname logic"
      },
      {
        "line": 6404,
        "token": "HTTP",
        "context": "- Enhanced HTTP API `/memories` endpoint with machine identification"
      },
      {
        "line": 6405,
        "token": "legacy",
        "context": "- Updated legacy `server.py` with consistent hostname tracking"
      },
      {
        "line": 6406,
        "token": "backward",
        "context": "- Maintains backward compatibility with existing memory operations"
      },
      {
        "line": 6409,
        "token": "environment",
        "context": "- **CLAUDE.md Updated**: Added `MCP_MEMORY_INCLUDE_HOSTNAME` environment variable documentation"
      },
      {
        "line": 6410,
        "token": "optional",
        "context": "- **Configuration Guide**: Explains optional hostname tracking for audit trails and multi-device setups"
      },
      {
        "line": 6417,
        "token": "memory",
        "context": "- **Machine Source Tracking**: All memory storage commands now automatically include machine hostname as a tag"
      },
      {
        "line": 6418,
        "token": "filtering",
        "context": "- Enables filtering memories by originating machine (e.g., `source:machine-name`)"
      },
      {
        "line": 6419,
        "token": "hostname",
        "context": "- Adds hostname to both tags and metadata for redundancy"
      },
      {
        "line": 6420,
        "token": "workflows",
        "context": "- Supports multi-device workflows and audit trails"
      },
      {
        "line": 6423,
        "token": "five",
        "context": "- **Command Templates Updated**: All five memory command templates enhanced with:"
      },
      {
        "line": 6424,
        "token": "use",
        "context": "- Updated to use generic HTTPS endpoint (`https://memory.local:8443/`)"
      },
      {
        "line": 6425,
        "token": "endpoint",
        "context": "- Proper API endpoint paths documented for all operations"
      },
      {
        "line": 6426,
        "token": "functionality",
        "context": "- Auto-save functionality without confirmation prompts"
      },
      {
        "line": 6427,
        "token": "curl",
        "context": "- curl with `-k` flag for HTTPS self-signed certificates"
      },
      {
        "line": 6428,
        "token": "hostname",
        "context": "- Machine hostname tracking integrated throughout"
      },
      {
        "line": 6431,
        "token": "memory-store.md",
        "context": "- `memory-store.md`: Added machine context and HTTPS configuration"
      },
      {
        "line": 6432,
        "token": "memory-health.md",
        "context": "- `memory-health.md`: Updated with specific health API endpoints"
      },
      {
        "line": 6433,
        "token": "memory-search.md",
        "context": "- `memory-search.md`: Added all search API endpoints and machine source search"
      },
      {
        "line": 6434,
        "token": "memory-context.md",
        "context": "- `memory-context.md`: Integrated machine tracking for session captures"
      },
      {
        "line": 6435,
        "token": "memory-recall.md",
        "context": "- `memory-recall.md`: Updated with API endpoints and time parser limitations"
      },
      {
        "line": 6442,
        "token": "resolved",
        "context": "- **PyTorch Repeated Downloads**: Completely resolved Claude Desktop downloading PyTorch (230MB+) on every startup"
      },
      {
        "line": 6443,
        "token": "cause",
        "context": "- Root cause: UV package manager isolation prevented offline environment variables from taking effect"
      },
      {
        "line": 6444,
        "token": "launcher",
        "context": "- Solution: Created `scripts/memory_offline.py` launcher that sets offline mode BEFORE any imports"
      },
      {
        "line": 6445,
        "token": "config",
        "context": "- Updated Claude Desktop config to use Python directly instead of UV isolation"
      },
      {
        "line": 6446,
        "token": "comprehensive",
        "context": "- Added comprehensive offline mode configuration for HuggingFace transformers"
      },
      {
        "line": 6448,
        "token": "environment",
        "context": "- **Environment Variable Inheritance**: Fixed UV environment isolation issues"
      },
      {
        "line": 6449,
        "token": "direct",
        "context": "- Implemented direct Python execution bypass for Claude Desktop integration"
      },
      {
        "line": 6450,
        "token": "offline",
        "context": "- Added code-level offline setup in `src/mcp_memory_service/__init__.py` as fallback"
      },
      {
        "line": 6451,
        "token": "cached",
        "context": "- Ensured cached model usage without network requests"
      },
      {
        "line": 6454,
        "token": "cleanup",
        "context": "- **Repository Structure**: Major cleanup and reorganization of root directory"
      },
      {
        "line": 6455,
        "token": "documentation",
        "context": "- Moved documentation files to appropriate `/docs` subdirectories"
      },
      {
        "line": 6456,
        "token": "guides",
        "context": "- Consolidated guides in `docs/guides/`, technical docs in `docs/technical/`"
      },
      {
        "line": 6457,
        "token": "deployment",
        "context": "- Moved deployment guides to `docs/deployment/`, installation to `docs/installation/`"
      },
      {
        "line": 6458,
        "token": "obsolete",
        "context": "- Removed obsolete debug scripts and development notes"
      },
      {
        "line": 6459,
        "token": "service",
        "context": "- Moved service management scripts to `/scripts` directory"
      },
      {
        "line": 6461,
        "token": "logical",
        "context": "- **Documentation Organization**: Improved logical hierarchy"
      },
      {
        "line": 6462,
        "token": "compatibility",
        "context": "- Claude Code compatibility â†’ `docs/guides/claude-code-compatibility.md`"
      },
      {
        "line": 6463,
        "token": "guides",
        "context": "- Setup guides â†’ `docs/installation/` and `docs/guides/`"
      },
      {
        "line": 6464,
        "token": "documentation",
        "context": "- Technical documentation â†’ `docs/technical/`"
      },
      {
        "line": 6465,
        "token": "guides",
        "context": "- Integration guides â†’ `docs/integrations/`"
      },
      {
        "line": 6468,
        "token": "sets",
        "context": "- **Offline Mode Implementation**: `scripts/memory_offline.py` sets `HF_HUB_OFFLINE=1` and `TRANSFORMERS_OFFLINE=1` before ML library imports"
      },
      {
        "line": 6469,
        "token": "config",
        "context": "- **Config Optimization**: Updated Claude Desktop config templates for both Windows and general use"
      },
      {
        "line": 6470,
        "token": "cache",
        "context": "- **Cache Management**: Proper Windows cache path configuration for sentence-transformers and HuggingFace"
      },
      {
        "line": 6473,
        "token": "downloads",
        "context": "- âœ… **Eliminated 230MB PyTorch downloads** - Startup time reduced from ~60s to ~3s"
      },
      {
        "line": 6474,
        "token": "repository",
        "context": "- âœ… **Professional repository structure** - Clean root directory with logical documentation hierarchy"
      },
      {
        "line": 6475,
        "token": "maintainability",
        "context": "- âœ… **Improved maintainability** - Consolidated scripts and removed redundant files"
      },
      {
        "line": 6476,
        "token": "user",
        "context": "- âœ… **Enhanced user experience** - No more frustrating download delays in Claude Desktop"
      },
      {
        "line": 6478,
        "token": "release",
        "context": "This release resolves the persistent PyTorch download issue that affected Windows users and establishes a clean, professional repository structure suitable for "
      },
      {
        "line": 6485,
        "token": "major",
        "context": "- **PyTorch-DirectML Compatibility**: Resolved major installation issues on Windows 11"
      },
      {
        "line": 6486,
        "token": "installer",
        "context": "- Fixed installer attempting to install incompatible PyTorch 2.5.1 over working 2.4.1+DirectML setup"
      },
      {
        "line": 6487,
        "token": "smart",
        "context": "- Added smart compatibility checking: PyTorch 2.4.x works with DirectML, 2.5.x doesn't"
      },
      {
        "line": 6488,
        "token": "preserve",
        "context": "- Enhanced `install_pytorch_windows()` to preserve existing compatible installations"
      },
      {
        "line": 6489,
        "token": "installs",
        "context": "- Only installs torch-directml if PyTorch 2.4.1 exists without DirectML extensions"
      },
      {
        "line": 6491,
        "token": "module",
        "context": "- **Corrupted Virtual Environment Recovery**: Fixed \"module 'torch' has no attribute 'version'\" errors"
      },
      {
        "line": 6492,
        "token": "complete",
        "context": "- Implemented complete cleanup of corrupted `~orch` and `functorch` directories"
      },
      {
        "line": 6493,
        "token": "robust",
        "context": "- Added robust uninstall and reinstall process for broken PyTorch installations"
      },
      {
        "line": 6494,
        "token": "proper",
        "context": "- Restored proper torch.version attribute functionality"
      },
      {
        "line": 6496,
        "token": "incorrect",
        "context": "- **Windows 11 Detection**: Fixed incorrect OS identification"
      },
      {
        "line": 6497,
        "token": "detection",
        "context": "- Implemented registry-based Windows 11 detection using build numbers (â‰¥22000)"
      },
      {
        "line": 6498,
        "token": "unreliable",
        "context": "- Replaced unreliable platform detection with accurate registry lookups"
      },
      {
        "line": 6499,
        "token": "system",
        "context": "- Added system info caching to prevent duplicate detection calls"
      },
      {
        "line": 6501,
        "token": "installer",
        "context": "- **Installation Logging Improvements**: Enhanced installer feedback and debugging"
      },
      {
        "line": 6502,
        "token": "logging",
        "context": "- Created built-in DualOutput logging system with UTF-8 encoding"
      },
      {
        "line": 6503,
        "token": "character",
        "context": "- Fixed character encoding issues in installation logs"
      },
      {
        "line": 6504,
        "token": "comprehensive",
        "context": "- Added comprehensive logging for PyTorch compatibility decisions"
      },
      {
        "line": 6507,
        "token": "now",
        "context": "- **Installation Intelligence**: Installer now preserves working DirectML setups instead of force-upgrading"
      },
      {
        "line": 6508,
        "token": "extensive",
        "context": "- **Error Prevention**: Added extensive pre-checks to prevent corrupted package installations"
      },
      {
        "line": 6509,
        "token": "messaging",
        "context": "- **User Experience**: Clear messaging about PyTorch version compatibility and preservation decisions"
      },
      {
        "line": 6512,
        "token": "version",
        "context": "- Enhanced PyTorch version detection and compatibility matrix"
      },
      {
        "line": 6513,
        "token": "preservation",
        "context": "- Smart preservation of PyTorch 2.4.1 + torch-directml 0.2.5.dev240914 combinations"
      },
      {
        "line": 6514,
        "token": "cleanup",
        "context": "- Automatic cleanup of corrupted package directories during installation recovery"
      },
      {
        "line": 6515,
        "token": "version",
        "context": "- Registry-based Windows version detection via `SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion`"
      },
      {
        "line": 6517,
        "token": "release",
        "context": "This release resolves critical Windows installation failures that prevented successful PyTorch-DirectML setup, ensuring reliable DirectML acceleration on Window"
      },
      {
        "line": 6524,
        "token": "manual",
        "context": "- **Automated uv.lock Conflict Resolution**: Eliminates manual merge conflict resolution"
      },
      {
        "line": 6525,
        "token": "git",
        "context": "- Custom git merge driver automatically resolves `uv.lock` conflicts"
      },
      {
        "line": 6526,
        "token": "sync",
        "context": "- Auto-runs `uv sync` after conflict resolution to ensure consistency"
      },
      {
        "line": 6527,
        "token": "setup",
        "context": "- One-time setup script for contributors: `./scripts/setup-git-merge-drivers.sh`"
      },
      {
        "line": 6528,
        "token": "documentation",
        "context": "- Comprehensive documentation in README.md and CLAUDE.md"
      },
      {
        "line": 6531,
        "token": "gitattributes",
        "context": "- Added `.gitattributes` configuration for `uv.lock` merge handling"
      },
      {
        "line": 6532,
        "token": "custom",
        "context": "- Created `scripts/uv-lock-merge.sh` custom merge driver script"
      },
      {
        "line": 6533,
        "token": "contributor",
        "context": "- Added contributor setup script with automatic git configuration"
      },
      {
        "line": 6534,
        "token": "development",
        "context": "- Enhanced development documentation with git setup instructions"
      },
      {
        "line": 6536,
        "token": "release",
        "context": "This release significantly improves the contributor experience by automating the resolution of the most common merge conflicts in the repository."
      },
      {
        "line": 6543,
        "token": "handling",
        "context": "- **LM Studio Compatibility Layer**: Automatic handling of non-standard MCP notifications"
      },
      {
        "line": 6544,
        "token": "patch",
        "context": "- Monkey patch for `notifications/cancelled` messages that aren't in the MCP specification"
      },
      {
        "line": 6545,
        "token": "error",
        "context": "- Graceful error handling prevents server crashes when LM Studio cancels operations"
      },
      {
        "line": 6546,
        "token": "logging",
        "context": "- Debug logging for troubleshooting compatibility issues"
      },
      {
        "line": 6547,
        "token": "documentation",
        "context": "- Comprehensive documentation in `docs/LM_STUDIO_COMPATIBILITY.md`"
      },
      {
        "line": 6550,
        "token": "module",
        "context": "- Added `lm_studio_compat.py` module with compatibility patches"
      },
      {
        "line": 6551,
        "token": "patches",
        "context": "- Applied patches automatically during server initialization"
      },
      {
        "line": 6552,
        "token": "error",
        "context": "- Enhanced error handling in MCP protocol communication"
      },
      {
        "line": 6554,
        "token": "release",
        "context": "This release significantly improves compatibility with LM Studio and other MCP clients while maintaining full backward compatibility with existing Claude Deskto"
      },
      {
        "line": 6559,
        "token": "installation",
        "context": "- **macOS ARM64 Support**: Enhanced PyTorch installation for Apple Silicon"
      },
      {
        "line": 6560,
        "token": "dependency",
        "context": "- Proper dependency resolution for M1/M2/M3 Mac systems"
      },
      {
        "line": 6561,
        "token": "torch",
        "context": "- Updated torch dependency requirements from `>=1.6.0` to `>=2.0.0` in `pyproject.toml`"
      },
      {
        "line": 6562,
        "token": "installation",
        "context": "- Platform-specific installation instructions in `install.py`"
      },
      {
        "line": 6563,
        "token": "dependency",
        "context": "- Improved cross-platform dependency management"
      },
      {
        "line": 6570,
        "token": "access",
        "context": "- **Enhanced Resources System**: URI-based access to memory collections"
      },
      {
        "line": 6571,
        "token": "memory",
        "context": "- `memory://stats` - Real-time database statistics and health metrics"
      },
      {
        "line": 6572,
        "token": "memory",
        "context": "- `memory://tags` - Complete list of available memory tags"
      },
      {
        "line": 6573,
        "token": "memory",
        "context": "- `memory://recent/{n}` - Access to N most recent memories"
      },
      {
        "line": 6574,
        "token": "memory",
        "context": "- `memory://tag/{tagname}` - Query memories by specific tag"
      },
      {
        "line": 6575,
        "token": "memory",
        "context": "- `memory://search/{query}` - Dynamic search with structured results"
      },
      {
        "line": 6576,
        "token": "templates",
        "context": "- Resource templates for parameterized queries"
      },
      {
        "line": 6577,
        "token": "JSON",
        "context": "- JSON responses for all resource endpoints"
      },
      {
        "line": 6579,
        "token": "workflows",
        "context": "- **Guided Prompts Framework**: Interactive workflows for memory operations"
      },
      {
        "line": 6580,
        "token": "organize",
        "context": "- `memory_review` - Review and organize memories from specific time periods"
      },
      {
        "line": 6581,
        "token": "patterns",
        "context": "- `memory_analysis` - Analyze patterns, themes, and tag distributions"
      },
      {
        "line": 6582,
        "token": "memories",
        "context": "- `knowledge_export` - Export memories in JSON, Markdown, or Text formats"
      },
      {
        "line": 6583,
        "token": "remove",
        "context": "- `memory_cleanup` - Identify and remove duplicate or outdated memories"
      },
      {
        "line": 6584,
        "token": "structured",
        "context": "- `learning_session` - Store structured learning notes with automatic categorization"
      },
      {
        "line": 6585,
        "token": "prompt",
        "context": "- Each prompt includes proper argument schemas and validation"
      },
      {
        "line": 6587,
        "token": "notifications",
        "context": "- **Progress Tracking System**: Real-time notifications for long operations"
      },
      {
        "line": 6588,
        "token": "notifications",
        "context": "- Progress notifications with percentage completion"
      },
      {
        "line": 6589,
        "token": "tracking",
        "context": "- Operation IDs for tracking concurrent tasks"
      },
      {
        "line": 6590,
        "token": "progress",
        "context": "- Enhanced `delete_by_tags` with step-by-step progress"
      },
      {
        "line": 6591,
        "token": "operation",
        "context": "- Enhanced `dashboard_optimize_db` with operation stages"
      },
      {
        "line": 6592,
        "token": "progress",
        "context": "- MCP-compliant progress notification protocol"
      },
      {
        "line": 6595,
        "token": "base",
        "context": "- Extended `MemoryStorage` base class with helper methods for resources"
      },
      {
        "line": 6596,
        "token": "models",
        "context": "- Enhanced `Memory` and `MemoryQueryResult` models with `to_dict()` methods"
      },
      {
        "line": 6597,
        "token": "server",
        "context": "- Improved server initialization with progress tracking state management"
      },
      {
        "line": 6600,
        "token": "method",
        "context": "- Added `send_progress_notification()` method to MemoryServer"
      },
      {
        "line": 6601,
        "token": "storage",
        "context": "- Implemented `get_stats()`, `get_all_tags()`, `get_recent_memories()` in storage base"
      },
      {
        "line": 6602,
        "token": "backward",
        "context": "- Full backward compatibility maintained with existing operations"
      },
      {
        "line": 6604,
        "token": "release",
        "context": "This release brings the MCP Memory Service to full compliance with the Model Context Protocol specification, enabling richer client interactions and better user"
      },
      {
        "line": 6609,
        "token": "critical",
        "context": "- **MCP Protocol Validation**: Resolved critical ID validation errors affecting integer/string ID handling"
      },
      {
        "line": 6610,
        "token": "model",
        "context": "- **Embedding Model Loading**: Fixed model loading failures in offline environments"
      },
      {
        "line": 6611,
        "token": "semantic",
        "context": "- **Semantic Search**: Restored semantic search functionality that was broken in 4.0.0"
      },
      {
        "line": 6612,
        "token": "version",
        "context": "- **Version Consistency**: Fixed version mismatch between `__init__.py` and `pyproject.toml`"
      },
      {
        "line": 6615,
        "token": "flexible",
        "context": "- Enhanced flexible ID validation for MCP protocol compliance"
      },
      {
        "line": 6616,
        "token": "error",
        "context": "- Improved error handling for embedding model initialization"
      },
      {
        "line": 6617,
        "token": "version",
        "context": "- Corrected version bumping process for patch releases"
      },
      {
        "line": 6624,
        "token": "protocol",
        "context": "- **Native MCP-over-HTTP Protocol**: Direct MCP protocol support via FastAPI without Node.js bridge"
      },
      {
        "line": 6625,
        "token": "production",
        "context": "- **Remote Server Deployment**: Full production deployment capability with remote access"
      },
      {
        "line": 6626,
        "token": "memory",
        "context": "- **Cross-Device Memory Access**: Validated multi-device memory synchronization"
      },
      {
        "line": 6627,
        "token": "deployment",
        "context": "- **Comprehensive Documentation**: Complete deployment guides and remote access documentation"
      },
      {
        "line": 6630,
        "token": "local",
        "context": "- **Architecture Evolution**: Transitioned from local experimental service to production infrastructure"
      },
      {
        "line": 6631,
        "token": "protocol",
        "context": "- **Protocol Compliance**: Applied MCP protocol refactorings with flexible ID validation"
      },
      {
        "line": 6632,
        "token": "operationalized",
        "context": "- **Docker CI/CD**: Fixed and operationalized Docker workflows for automated deployment"
      },
      {
        "line": 6633,
        "token": "cleanup",
        "context": "- **Repository Maintenance**: Comprehensive cleanup and branch management"
      },
      {
        "line": 6636,
        "token": "deployed",
        "context": "- Successfully deployed server running at remote endpoints with 65+ memories"
      },
      {
        "line": 6637,
        "token": "backend",
        "context": "- SQLite-vec backend validated (1.7MB database, 384-dim embeddings)"
      },
      {
        "line": 6638,
        "token": "model",
        "context": "- all-MiniLM-L6-v2 model loaded and operational"
      },
      {
        "line": 6639,
        "token": "tool",
        "context": "- Full MCP tool suite available and tested"
      },
      {
        "line": 6642,
        "token": "remote",
        "context": "- GitHub Issue #71 (remote access) completed"
      },
      {
        "line": 6643,
        "token": "bridge",
        "context": "- GitHub Issue #72 (bridge deprecation) resolved"
      },
      {
        "line": 6644,
        "token": "deployment",
        "context": "- Production deployment proven successful"
      },
      {
        "line": 6646,
        "token": "beta.1",
        "context": "## [4.0.0-beta.1] - 2025-08-03"
      },
      {
        "line": 6649,
        "token": "HTTP",
        "context": "- **Dual-Service Architecture**: Combined HTTP Dashboard + Native MCP Protocol"
      },
      {
        "line": 6650,
        "token": "integration",
        "context": "- **FastAPI MCP Integration**: Complete integration for native remote access"
      },
      {
        "line": 6651,
        "token": "dependency",
        "context": "- **Direct MCP-over-HTTP**: Eliminated dependency on Node.js bridge"
      },
      {
        "line": 6654,
        "token": "remote",
        "context": "- **Remote Access Solution**: Resolved remote memory service access (Issue #71)"
      },
      {
        "line": 6655,
        "token": "bridge",
        "context": "- **Bridge Deprecation**: Deprecated Node.js bridge in favor of direct protocol"
      },
      {
        "line": 6656,
        "token": "pipeline",
        "context": "- **Docker Workflows**: Fixed CI/CD pipeline for automated testing"
      },
      {
        "line": 6659,
        "token": "backward",
        "context": "- Maintained backward compatibility for existing HTTP API users"
      },
      {
        "line": 6660,
        "token": "cleanup",
        "context": "- Repository cleanup and branch management improvements"
      },
      {
        "line": 6661,
        "token": "architectural",
        "context": "- Significant architectural evolution while preserving existing functionality"
      },
      {
        "line": 6663,
        "token": "alpha.1",
        "context": "## [4.0.0-alpha.1] - 2025-08-03"
      },
      {
        "line": 6666,
        "token": "implementation",
        "context": "- **Initial FastAPI MCP Server**: First implementation of native MCP server structure"
      },
      {
        "line": 6667,
        "token": "core",
        "context": "- **MCP Protocol Endpoints**: Added core MCP protocol endpoints to FastAPI server"
      },
      {
        "line": 6668,
        "token": "HTTP",
        "context": "- **Hybrid Support**: Initial HTTP+MCP hybrid architecture support"
      },
      {
        "line": 6671,
        "token": "transition",
        "context": "- **Server Architecture**: Began transition from pure HTTP to MCP-native implementation"
      },
      {
        "line": 6672,
        "token": "configuration",
        "context": "- **Remote Access Configuration**: Initial configuration for remote server access"
      },
      {
        "line": 6673,
        "token": "implementing",
        "context": "- **Protocol Implementation**: Started implementing MCP specification compliance"
      },
      {
        "line": 6676,
        "token": "local",
        "context": "- Validated local testing with FastAPI MCP server"
      },
      {
        "line": 6677,
        "token": "syntax",
        "context": "- Fixed `mcp.run()` syntax issues"
      },
      {
        "line": 6678,
        "token": "foundation",
        "context": "- Established foundation for dual-protocol support"
      },
      {
        "line": 6683,
        "token": "hardcoded",
        "context": "- **Multi-Client Backend Selection**: Fixed hardcoded sqlite_vec backend in multi-client configuration"
      },
      {
        "line": 6684,
        "token": "functions",
        "context": "- Configuration functions now properly accept and use storage_backend parameter"
      },
      {
        "line": 6685,
        "token": "backend",
        "context": "- Chosen backend is correctly passed through entire multi-client setup flow"
      },
      {
        "line": 6686,
        "token": "acceleration",
        "context": "- M1 Macs with MPS acceleration now correctly use ChromaDB when selected"
      },
      {
        "line": 6687,
        "token": "pragmas",
        "context": "- SQLite pragmas only applied when sqlite_vec is actually chosen"
      },
      {
        "line": 6690,
        "token": "generic",
        "context": "- **Configuration Instructions**: Updated generic configuration to reflect chosen backend"
      },
      {
        "line": 6691,
        "token": "systems",
        "context": "- **Backend Flexibility**: All systems now get optimal backend configuration in multi-client mode"
      },
      {
        "line": 6694,
        "token": "affecting",
        "context": "- Resolved Issue #73 affecting M1 Mac users"
      },
      {
        "line": 6695,
        "token": "proper",
        "context": "- Ensures proper backend-specific configuration for all platforms"
      },
      {
        "line": 6696,
        "token": "bump",
        "context": "- Version bump to 3.3.4 for critical fix release"
      },
      {
        "line": 6703,
        "token": "generates",
        "context": "- **SSL Certificate Generation**: Now generates certificates with proper Subject Alternative Names (SANs) for multi-hostname/IP compatibility"
      },
      {
        "line": 6704,
        "token": "local",
        "context": "- Auto-detects local machine IP address dynamically (no hardcoded IPs)"
      },
      {
        "line": 6705,
        "token": "localhost",
        "context": "- Includes `DNS:memory.local`, `DNS:localhost`, `DNS:*.local`"
      },
      {
        "line": 6706,
        "token": "local",
        "context": "- Includes `IP:127.0.0.1`, `IP:::1` (IPv6), and auto-detected local IP"
      },
      {
        "line": 6707,
        "token": "variable",
        "context": "- Environment variable support: `MCP_SSL_ADDITIONAL_IPS`, `MCP_SSL_ADDITIONAL_HOSTNAMES`"
      },
      {
        "line": 6708,
        "token": "handshake",
        "context": "- **Node.js MCP Bridge Compatibility**: Resolved SSL handshake failures when connecting from Claude Code"
      },
      {
        "line": 6709,
        "token": "missing",
        "context": "- Added missing MCP protocol methods: `initialize`, `tools/list`, `tools/call`, `notifications/initialized`"
      },
      {
        "line": 6710,
        "token": "error",
        "context": "- Enhanced error handling with exponential backoff retry logic (3 attempts, max 5s delay)"
      },
      {
        "line": 6711,
        "token": "logging",
        "context": "- Comprehensive request/response logging with unique request IDs"
      },
      {
        "line": 6712,
        "token": "HTTPS",
        "context": "- Improved HTTPS client configuration with custom SSL agent"
      },
      {
        "line": 6713,
        "token": "timeout",
        "context": "- Reduced timeout from 30s to 10s for faster failure detection"
      },
      {
        "line": 6714,
        "token": "conflicting",
        "context": "- Removed conflicting Host headers that caused SSL verification issues"
      },
      {
        "line": 6717,
        "token": "changed",
        "context": "- **Certificate Security**: CN changed from `localhost` to `memory.local` for better hostname matching"
      },
      {
        "line": 6718,
        "token": "HTTP",
        "context": "- **HTTP Client**: Enhanced connection management with explicit port handling and connection close headers"
      },
      {
        "line": 6719,
        "token": "detailed",
        "context": "- **Logging**: Added detailed SSL handshake and request flow debugging"
      },
      {
        "line": 6722,
        "token": "list",
        "context": "- `MCP_SSL_ADDITIONAL_IPS`: Comma-separated list of additional IP addresses to include in certificate"
      },
      {
        "line": 6723,
        "token": "list",
        "context": "- `MCP_SSL_ADDITIONAL_HOSTNAMES`: Comma-separated list of additional hostnames to include in certificate"
      },
      {
        "line": 6725,
        "token": "release",
        "context": "This release resolves SSL connectivity issues that prevented Claude Code from connecting to remote MCP Memory Service instances across different networks and de"
      },
      {
        "line": 6732,
        "token": "improvements",
        "context": "- **API Key Documentation**: Comprehensive improvements to authentication guides"
      },
      {
        "line": 6733,
        "token": "server",
        "context": "- Enhanced multi-client server documentation with security best practices"
      },
      {
        "line": 6734,
        "token": "key",
        "context": "- Detailed API key generation and configuration instructions"
      },
      {
        "line": 6735,
        "token": "service",
        "context": "- Updated service installation guide with authentication setup"
      },
      {
        "line": 6736,
        "token": "key",
        "context": "- Improved CLAUDE.md with API key environment variable explanations"
      },
      {
        "line": 6739,
        "token": "authentication",
        "context": "- **Documentation Quality**: Enhanced authentication documentation across multiple guides"
      },
      {
        "line": 6740,
        "token": "instructions",
        "context": "- **Security Guidance**: Clear instructions for production API key management"
      },
      {
        "line": 6741,
        "token": "navigation",
        "context": "- **Cross-Reference Links**: Better navigation between related documentation sections"
      },
      {
        "line": 6743,
        "token": "release",
        "context": "This release significantly improves the user experience for setting up secure, authenticated MCP Memory Service deployments."
      },
      {
        "line": 6750,
        "token": "statistics",
        "context": "- **Enhanced Health Endpoint**: Memory statistics integration for dashboard display"
      },
      {
        "line": 6751,
        "token": "memory",
        "context": "- Added memory statistics to `/health` endpoint for real-time monitoring"
      },
      {
        "line": 6752,
        "token": "dashboard",
        "context": "- Integration with dashboard UI for comprehensive system overview"
      },
      {
        "line": 6753,
        "token": "visibility",
        "context": "- Better visibility into database health and memory usage"
      },
      {
        "line": 6756,
        "token": "dashboard",
        "context": "- **Dashboard Display**: Improved dashboard data integration and visualization support"
      },
      {
        "line": 6759,
        "token": "app",
        "context": "- **Web App Enhancement**: Updated FastAPI app with integrated statistics endpoints"
      },
      {
        "line": 6760,
        "token": "package",
        "context": "- **Version Synchronization**: Updated package version to maintain consistency"
      },
      {
        "line": 6762,
        "token": "release",
        "context": "This release enhances monitoring capabilities and prepares the foundation for advanced dashboard features."
      },
      {
        "line": 6769,
        "token": "overhaul",
        "context": "- **Professional Dashboard Interface**: Complete UI overhaul for web interface"
      },
      {
        "line": 6770,
        "token": "responsive",
        "context": "- Modern, responsive design with professional styling"
      },
      {
        "line": 6771,
        "token": "memory",
        "context": "- Real-time memory statistics display"
      },
      {
        "line": 6772,
        "token": "memory",
        "context": "- Interactive memory search and management interface"
      },
      {
        "line": 6773,
        "token": "user",
        "context": "- Enhanced user experience for memory operations"
      },
      {
        "line": 6776,
        "token": "project",
        "context": "- **Visual Identity**: Updated project branding with professional dashboard preview"
      },
      {
        "line": 6777,
        "token": "redesign",
        "context": "- **User Interface**: Complete redesign of web-based memory management"
      },
      {
        "line": 6778,
        "token": "dashboard",
        "context": "- **Documentation Assets**: Added dashboard screenshots and visual documentation"
      },
      {
        "line": 6781,
        "token": "application",
        "context": "- **Web App Modernization**: Updated FastAPI application with modern UI components"
      },
      {
        "line": 6782,
        "token": "structure",
        "context": "- **Asset Organization**: Proper structure for dashboard images and visual assets"
      },
      {
        "line": 6784,
        "token": "release",
        "context": "This release transforms the web interface from a basic API into a professional, user-friendly dashboard for memory management."
      },
      {
        "line": 6791,
        "token": "backend",
        "context": "- **Comprehensive Diagnostic Tools**: Advanced SQLite-vec backend analysis and repair"
      },
      {
        "line": 6792,
        "token": "integrity",
        "context": "- Database integrity checking and validation"
      },
      {
        "line": 6793,
        "token": "consistency",
        "context": "- Embedding consistency verification tools"
      },
      {
        "line": 6794,
        "token": "preservation",
        "context": "- Memory preservation during repairs and migrations"
      },
      {
        "line": 6795,
        "token": "repair",
        "context": "- Automated repair workflows for corrupted databases"
      },
      {
        "line": 6798,
        "token": "critical",
        "context": "- **SQLite-vec Embedding Issues**: Resolved critical embedding problems causing zero search results"
      },
      {
        "line": 6799,
        "token": "embedding",
        "context": "- Fixed embedding dimension mismatches"
      },
      {
        "line": 6800,
        "token": "database",
        "context": "- Resolved database schema inconsistencies"
      },
      {
        "line": 6801,
        "token": "embedding",
        "context": "- Improved embedding generation and storage reliability"
      },
      {
        "line": 6804,
        "token": "migration",
        "context": "- **Migration Tools**: Enhanced migration utilities to preserve existing memories during backend transitions"
      },
      {
        "line": 6805,
        "token": "database",
        "context": "- **Diagnostic Scripts**: Comprehensive database analysis and repair automation"
      },
      {
        "line": 6807,
        "token": "release",
        "context": "This release significantly improves SQLite-vec backend reliability and provides tools for database maintenance and recovery."
      },
      {
        "line": 6814,
        "token": "service",
        "context": "- **Universal Service Installation**: Complete cross-platform service management"
      },
      {
        "line": 6815,
        "token": "systemd",
        "context": "- Linux systemd service installation and configuration"
      },
      {
        "line": 6816,
        "token": "support",
        "context": "- macOS LaunchAgent/LaunchDaemon support"
      },
      {
        "line": 6817,
        "token": "installation",
        "context": "- Windows Service installation and management"
      },
      {
        "line": 6818,
        "token": "service",
        "context": "- Unified service utilities across all platforms"
      },
      {
        "line": 6821,
        "token": "service",
        "context": "- **Installation Experience**: Streamlined service setup for all operating systems"
      },
      {
        "line": 6822,
        "token": "service",
        "context": "- **Service Management**: Consistent service control across platforms"
      },
      {
        "line": 6823,
        "token": "service",
        "context": "- **Documentation**: Enhanced service installation guides"
      },
      {
        "line": 6826,
        "token": "installation",
        "context": "- **Platform-Specific Scripts**: Dedicated installation scripts for each operating system"
      },
      {
        "line": 6827,
        "token": "service",
        "context": "- **Service Configuration**: Proper service definitions and startup configurations"
      },
      {
        "line": 6828,
        "token": "service",
        "context": "- **Cross-Platform Utilities**: Unified service management tools"
      },
      {
        "line": 6830,
        "token": "release",
        "context": "This release enables easy deployment of MCP Memory Service as a system service on any major operating system."
      },
      {
        "line": 6836,
        "token": "major",
        "context": "This is a **major architectural evolution** transforming MCP Memory Service from a development tool into a production-ready, intelligent memory system with auto"
      },
      {
        "line": 6840,
        "token": "autonomous",
        "context": "- **Autonomous Memory Processing**: Fully autonomous consolidation system inspired by human cognitive processes"
      },
      {
        "line": 6841,
        "token": "aging",
        "context": "- **Exponential Decay Scoring**: Memory aging with configurable retention periods (critical: 365d, reference: 180d, standard: 30d, temporary: 7d)"
      },
      {
        "line": 6842,
        "token": "discovery",
        "context": "- **Creative Association Discovery**: Automatic discovery of semantic connections between memories (similarity range 0.3-0.7)"
      },
      {
        "line": 6843,
        "token": "algorithm",
        "context": "- **Semantic Clustering**: DBSCAN algorithm for intelligent memory grouping (minimum 5 memories per cluster)"
      },
      {
        "line": 6844,
        "token": "summarization",
        "context": "- **Memory Compression**: Statistical summarization with 500-character limits while preserving originals"
      },
      {
        "line": 6845,
        "token": "memory",
        "context": "- **Controlled Forgetting**: Relevance-based memory archival system (threshold 0.1, 90-day access window)"
      },
      {
        "line": 6846,
        "token": "consolidation",
        "context": "- **Automated Scheduling**: Configurable consolidation schedules (daily 2AM, weekly Sunday 3AM, monthly 1st 4AM)"
      },
      {
        "line": 6847,
        "token": "entirely",
        "context": "- **Zero-AI Dependencies**: Operates entirely offline using existing embeddings and mathematical algorithms"
      },
      {
        "line": 6850,
        "token": "HTTPS",
        "context": "- **HTTPS Server**: Production-ready FastAPI server with auto-generated SSL certificates"
      },
      {
        "line": 6851,
        "token": "automatic",
        "context": "- **mDNS Service Discovery**: Zero-configuration automatic service discovery (`MCP Memory._mcp-memory._tcp.local.`)"
      },
      {
        "line": 6852,
        "token": "updates",
        "context": "- **Server-Sent Events (SSE)**: Real-time updates with 30s heartbeat intervals for all connected clients"
      },
      {
        "line": 6853,
        "token": "advertisement",
        "context": "- **Multi-Interface Support**: Service advertisement across all network interfaces (WiFi, Ethernet, Docker, etc.)"
      },
      {
        "line": 6854,
        "token": "authentication",
        "context": "- **API Authentication**: Secure API key-based authentication system"
      },
      {
        "line": 6855,
        "token": "standard",
        "context": "- **Cross-Platform Discovery**: Works on Windows, macOS, and Linux with standard mDNS/Bonjour"
      },
      {
        "line": 6858,
        "token": "systemd",
        "context": "- **Systemd Auto-Startup**: Complete systemd service integration for automatic startup on boot"
      },
      {
        "line": 6859,
        "token": "service",
        "context": "- **Service Management**: Professional service control scripts with start/stop/restart/status/logs/health commands"
      },
      {
        "line": 6860,
        "token": "regular",
        "context": "- **User-Space Service**: Runs as regular user (not root) for enhanced security"
      },
      {
        "line": 6861,
        "token": "service",
        "context": "- **Auto-Restart**: Automatic service recovery on failures with 10-second restart delay"
      },
      {
        "line": 6862,
        "token": "systemd",
        "context": "- **Journal Logging**: Integrated with systemd journal for professional log management"
      },
      {
        "line": 6863,
        "token": "health",
        "context": "- **Health Monitoring**: Built-in health checks and monitoring endpoints"
      },
      {
        "line": 6866,
        "token": "line",
        "context": "- **Complete Setup Guide**: 100+ line comprehensive production deployment guide"
      },
      {
        "line": 6867,
        "token": "production",
        "context": "- **Production Quick Start**: Streamlined production deployment instructions"
      },
      {
        "line": 6868,
        "token": "service",
        "context": "- **Service Management**: Full service lifecycle documentation"
      },
      {
        "line": 6869,
        "token": "problem",
        "context": "- **Troubleshooting**: Detailed problem resolution guides"
      },
      {
        "line": 6870,
        "token": "setup",
        "context": "- **Network Configuration**: Firewall and mDNS setup instructions"
      },
      {
        "line": 6874,
        "token": "full",
        "context": "- **Enhanced SSE Implementation**: Restored full Server-Sent Events functionality with connection statistics"
      },
      {
        "line": 6875,
        "token": "service",
        "context": "- **Network Optimization**: Multi-interface service discovery and connection handling"
      },
      {
        "line": 6876,
        "token": "configuration",
        "context": "- **Configuration Management**: Environment-based configuration with secure defaults"
      },
      {
        "line": 6877,
        "token": "error",
        "context": "- **Error Handling**: Comprehensive error handling and recovery mechanisms"
      },
      {
        "line": 6880,
        "token": "debugging",
        "context": "- **Debug Tools**: Service debugging and testing utilities"
      },
      {
        "line": 6881,
        "token": "installation",
        "context": "- **Installation Scripts**: One-command installation and configuration"
      },
      {
        "line": 6882,
        "token": "service",
        "context": "- **Management Scripts**: Easy service lifecycle management"
      },
      {
        "line": 6883,
        "token": "separation",
        "context": "- **Archive Organization**: Clean separation of development and production files"
      },
      {
        "line": 6887,
        "token": "autonomous",
        "context": "- `MCP_CONSOLIDATION_ENABLED`: Enable/disable autonomous consolidation (default: true)"
      },
      {
        "line": 6888,
        "token": "service",
        "context": "- `MCP_MDNS_ENABLED`: Enable/disable mDNS service discovery (default: true)"
      },
      {
        "line": 6889,
        "token": "service",
        "context": "- `MCP_MDNS_SERVICE_NAME`: Customizable service name for discovery (default: \"MCP Memory\")"
      },
      {
        "line": 6890,
        "token": "HTTPS",
        "context": "- `MCP_HTTPS_ENABLED`: Enable HTTPS with auto-generated certificates (default: true)"
      },
      {
        "line": 6891,
        "token": "bind",
        "context": "- `MCP_HTTP_HOST`: Server bind address (default: 0.0.0.0 for multi-client)"
      },
      {
        "line": 6892,
        "token": "port",
        "context": "- `MCP_HTTP_PORT`: Server port (default: 8000)"
      },
      {
        "line": 6893,
        "token": "timing",
        "context": "- Consolidation timing controls: `MCP_SCHEDULE_DAILY`, `MCP_SCHEDULE_WEEKLY`, `MCP_SCHEDULE_MONTHLY`"
      },
      {
        "line": 6896,
        "token": "protocol",
        "context": "- **Architecture Change**: Single-client MCP protocol â†’ Multi-client HTTPS server architecture"
      },
      {
        "line": 6897,
        "token": "configuration",
        "context": "- **Service Discovery**: Manual configuration â†’ Automatic mDNS discovery"
      },
      {
        "line": 6898,
        "token": "script",
        "context": "- **Deployment Model**: Development script â†’ Production systemd service"
      },
      {
        "line": 6899,
        "token": "library",
        "context": "- **Access Method**: Direct library import â†’ HTTP API with authentication"
      },
      {
        "line": 6902,
        "token": "use",
        "context": "- **Client Configuration**: Update to use HTTP-MCP bridge with auto-discovery"
      },
      {
        "line": 6903,
        "token": "systemd",
        "context": "- **Service Deployment**: Install systemd service for production use"
      },
      {
        "line": 6904,
        "token": "firewall",
        "context": "- **Network Setup**: Configure firewall for ports 8000/tcp (HTTPS) and 5353/udp (mDNS)"
      },
      {
        "line": 6905,
        "token": "generated",
        "context": "- **API Access**: Use generated API key for authentication"
      },
      {
        "line": 6908,
        "token": "approach",
        "context": "- **Consolidation Algorithm**: Mathematical approach using existing embeddings without external AI"
      },
      {
        "line": 6909,
        "token": "uvicorn",
        "context": "- **Service Architecture**: FastAPI + uvicorn + systemd for production deployment"
      },
      {
        "line": 6910,
        "token": "service",
        "context": "- **Discovery Protocol**: RFC-compliant mDNS service advertisement"
      },
      {
        "line": 6911,
        "token": "execution",
        "context": "- **Security**: User-space execution, API key authentication, HTTPS encryption"
      },
      {
        "line": 6912,
        "token": "support",
        "context": "- **Storage**: Continues to support both ChromaDB and SQLite-vec backends"
      },
      {
        "line": 6919,
        "token": "conversational",
        "context": "- **Claude Code Commands Integration**: 5 conversational memory commands following CCPlugins pattern"
      },
      {
        "line": 6920,
        "token": "information",
        "context": "- `/memory-store`: Store information with context and smart tagging"
      },
      {
        "line": 6921,
        "token": "memory",
        "context": "- `/memory-recall`: Time-based memory retrieval with natural language"
      },
      {
        "line": 6922,
        "token": "semantic",
        "context": "- `/memory-search`: Tag and content-based semantic search"
      },
      {
        "line": 6923,
        "token": "current",
        "context": "- `/memory-context`: Capture current session and project context"
      },
      {
        "line": 6924,
        "token": "health",
        "context": "- `/memory-health`: Service health diagnostics and statistics"
      },
      {
        "line": 6925,
        "token": "command",
        "context": "- **Optional Installation System**: Integrated command installation into main installer"
      },
      {
        "line": 6926,
        "token": "arguments",
        "context": "- New CLI arguments: `--install-claude-commands`, `--skip-claude-commands-prompt`"
      },
      {
        "line": 6927,
        "token": "prompting",
        "context": "- Intelligent prompting during installation when Claude Code CLI is detected"
      },
      {
        "line": 6928,
        "token": "backup",
        "context": "- Automatic backup of existing commands with timestamps"
      },
      {
        "line": 6929,
        "token": "installation",
        "context": "- **Command Management Utilities**: Standalone installation and management script"
      },
      {
        "line": 6930,
        "token": "manual",
        "context": "- `scripts/claude_commands_utils.py` for manual command installation"
      },
      {
        "line": 6931,
        "token": "support",
        "context": "- Cross-platform support with comprehensive error handling"
      },
      {
        "line": 6932,
        "token": "testing",
        "context": "- Prerequisites testing and service connectivity validation"
      },
      {
        "line": 6933,
        "token": "understand",
        "context": "- **Context-Aware Operations**: Commands understand project and session context"
      },
      {
        "line": 6934,
        "token": "project",
        "context": "- Automatic project detection from current directory and git repository"
      },
      {
        "line": 6935,
        "token": "tag",
        "context": "- Smart tag generation based on file types and development context"
      },
      {
        "line": 6936,
        "token": "analysis",
        "context": "- Session analysis and summarization capabilities"
      },
      {
        "line": 6937,
        "token": "automatically",
        "context": "- **Auto-Discovery Integration**: Commands automatically locate MCP Memory Service"
      },
      {
        "line": 6938,
        "token": "existing",
        "context": "- Uses existing mDNS service discovery functionality"
      },
      {
        "line": 6939,
        "token": "fallback",
        "context": "- Graceful fallback when service is unavailable"
      },
      {
        "line": 6940,
        "token": "operation",
        "context": "- Backend-agnostic operation (works with both ChromaDB and SQLite-vec)"
      },
      {
        "line": 6943,
        "token": "main",
        "context": "- Updated main README.md with Claude Code commands feature documentation"
      },
      {
        "line": 6944,
        "token": "docs/guides/claude-code-integration.md",
        "context": "- Enhanced `docs/guides/claude-code-integration.md` with comprehensive command usage guide"
      },
      {
        "line": 6945,
        "token": "installation",
        "context": "- Updated installation documentation to include new command options"
      },
      {
        "line": 6946,
        "token": "bump",
        "context": "- Version bump from 2.1.0 to 2.2.0 for significant feature addition"
      },
      {
        "line": 6949,
        "token": "detailed",
        "context": "- Added detailed command descriptions and usage examples"
      },
      {
        "line": 6950,
        "token": "comparison",
        "context": "- Created comparison guide between conversational commands and MCP server registration"
      },
      {
        "line": 6951,
        "token": "troubleshooting",
        "context": "- Enhanced troubleshooting documentation for both integration methods"
      },
      {
        "line": 6952,
        "token": "complete",
        "context": "- Added `claude_commands/README.md` with complete command reference"
      },
      {
        "line": 6957,
        "token": "networking",
        "context": "- **mDNS Service Discovery**: Zero-configuration networking with automatic service discovery"
      },
      {
        "line": 6958,
        "token": "HTTPS",
        "context": "- **HTTPS Support**: SSL/TLS support with automatic self-signed certificate generation"
      },
      {
        "line": 6959,
        "token": "HTTP-MCP",
        "context": "- **Enhanced HTTP-MCP Bridge**: Auto-discovery mode with health validation and fallback"
      },
      {
        "line": 6960,
        "token": "manual",
        "context": "- **Zero-Config Deployment**: No manual endpoint configuration needed for local networks"
      },
      {
        "line": 6963,
        "token": "service",
        "context": "- Updated service discovery to use `_mcp-memory._tcp.local.` service type"
      },
      {
        "line": 6964,
        "token": "HTTP",
        "context": "- Enhanced HTTP server with SSL certificate generation capabilities"
      },
      {
        "line": 6965,
        "token": "coordination",
        "context": "- Improved multi-client coordination with automatic discovery"
      },
      {
        "line": 6970,
        "token": "memory",
        "context": "- **Dream-Inspired Memory Consolidation**: Autonomous memory management system"
      },
      {
        "line": 6971,
        "token": "weekly",
        "context": "- **Multi-layered Time Horizons**: Daily, weekly, monthly, quarterly, yearly consolidation"
      },
      {
        "line": 6972,
        "token": "connections",
        "context": "- **Creative Association Discovery**: Finding non-obvious connections between memories"
      },
      {
        "line": 6973,
        "token": "organization",
        "context": "- **Semantic Clustering**: Automatic organization of related memories"
      },
      {
        "line": 6974,
        "token": "key",
        "context": "- **Intelligent Compression**: Preserving key information while reducing storage"
      },
      {
        "line": 6975,
        "token": "archival",
        "context": "- **Controlled Forgetting**: Safe archival and recovery systems"
      },
      {
        "line": 6976,
        "token": "processing",
        "context": "- **Performance Optimization**: Efficient processing of 10k+ memories"
      },
      {
        "line": 6977,
        "token": "error",
        "context": "- **Health Monitoring**: Comprehensive error handling and alerts"
      },
      {
        "line": 6980,
        "token": "architecture",
        "context": "- Major architecture updates for consolidation system"
      },
      {
        "line": 6981,
        "token": "storage",
        "context": "- Enhanced storage backends with consolidation support"
      },
      {
        "line": 6982,
        "token": "coordination",
        "context": "- Improved multi-client coordination capabilities"
      },
      {
        "line": 6987,
        "token": "stable",
        "context": "- Initial stable release"
      },
      {
        "line": 6988,
        "token": "memory",
        "context": "- Core memory operations (store, retrieve, search, recall)"
      },
      {
        "line": 6989,
        "token": "storage",
        "context": "- ChromaDB and SQLite-vec storage backends"
      },
      {
        "line": 6990,
        "token": "compatibility",
        "context": "- Cross-platform compatibility"
      },
      {
        "line": 6991,
        "token": "integration",
        "context": "- Claude Desktop integration"
      },
      {
        "line": 6992,
        "token": "support",
        "context": "- Basic multi-client support"
      },
      {
        "line": 6997,
        "token": "development",
        "context": "- Initial development release"
      },
      {
        "line": 6998,
        "token": "memory",
        "context": "- Basic memory storage and retrieval functionality"
      },
      {
        "line": 6999,
        "token": "integration",
        "context": "- ChromaDB integration"
      },
      {
        "line": 7000,
        "token": "server",
        "context": "- MCP server implementation"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "CHANGELOG.md",
    "chinese": "CHANGELOG_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "releases",
        "context": "**Recent releases for MCP Memory Service (v8.0.0 and later)**"
      },
      {
        "line": 7,
        "token": "notable",
        "context": "All notable changes to the MCP Memory Service project will be documented in this file."
      },
      {
        "line": 9,
        "token": "older",
        "context": "For older releases, see [CHANGELOG-HISTORIC.md](./CHANGELOG-HISTORIC.md)."
      },
      {
        "line": 11,
        "token": "format",
        "context": "The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0."
      },
      {
        "line": 16,
        "token": "message",
        "context": "- **ä¸¥é‡ç¼ºé™·**ï¼šä¿®æ­£ MCP æœåŠ¡å™¨å¤„ç†å™¨ï¼ˆ`server.py:2118`ï¼‰ä¸­çš„ `KeyError: 'message'`ã€‚"
      },
      {
        "line": 17,
        "token": "https",
        "context": "- **å…³è”é—®é¢˜**ï¼š[ #198 ](https://github.com/doobidoo/mcp-memory-service/issues/198)"
      },
      {
        "line": 18,
        "token": "result",
        "context": "- **æ ¹å› **ï¼š`handle_store_memory()` è®¿é—®äº†å¹¶ä¸å­˜åœ¨çš„ `result[\"message\"]` é”®ã€‚"
      },
      {
        "line": 21,
        "token": "success",
        "context": "- å•æ¡æˆåŠŸï¼š`{\"success\": True, \"memory\": {...}}`"
      },
      {
        "line": 22,
        "token": "success",
        "context": "- åˆ†å—æˆåŠŸï¼š`{\"success\": True, \"memories\": [...], \"total_chunks\": N}`"
      },
      {
        "line": 23,
        "token": "success",
        "context": "- å¤±è´¥ï¼š`{\"success\": False, \"error\": \"...\"}`"
      },
      {
        "line": 30,
        "token": "issue",
        "context": "- **å›å½’æµ‹è¯•**ï¼šé’ˆå¯¹ issue #198 ç¼–å†™ä¸“é—¨ç”¨ä¾‹ï¼Œé˜²æ­¢ KeyError å†ç°ã€‚"
      },
      {
        "line": 51,
        "token": "HTTP",
        "context": "- âœ… HTTP æœåŠ¡å™¨çŠ¶æ€é¢„è­¦ã€‚"
      },
      {
        "line": 60,
        "token": "note",
        "context": "- **å†…å®¹ç±»**ï¼ˆ4 ä¸ªï¼‰ï¼šnoteã€referenceã€documentã€guideã€‚"
      },
      {
        "line": 61,
        "token": "session",
        "context": "- **æ´»åŠ¨ç±»**ï¼ˆ5 ä¸ªï¼‰ï¼šsessionã€implementationã€analysisã€troubleshootingã€testã€‚"
      },
      {
        "line": 62,
        "token": "fix",
        "context": "- **äº§å‡ºç±»**ï¼ˆ4 ä¸ªï¼‰ï¼šfixã€featureã€releaseã€deploymentã€‚"
      },
      {
        "line": 63,
        "token": "milestone",
        "context": "- **è¿›åº¦ç±»**ï¼ˆ2 ä¸ªï¼‰ï¼šmilestoneã€statusã€‚"
      },
      {
        "line": 64,
        "token": "configuration",
        "context": "- **åŸºç¡€è®¾æ–½ç±»**ï¼ˆ5 ä¸ªï¼‰ï¼šconfigurationã€infrastructureã€processã€securityã€architectureã€‚"
      },
      {
        "line": 65,
        "token": "documentation",
        "context": "- **å…¶ä»–ç±»**ï¼ˆ4 ä¸ªï¼‰ï¼šdocumentationã€solutionã€achievementã€technicalã€‚"
      },
      {
        "line": 72,
        "token": "fix",
        "context": "- è¡¥å……â€œåº”é¿å…â€çš„ç¤ºä¾‹ï¼ˆå¦‚ bug-fix vs fixã€technical-* å‰ç¼€ï¼‰ã€‚"
      },
      {
        "line": 87,
        "token": "NULL/",
        "context": "- NULL/ç©ºå€¼ â†’ `note`ï¼ˆå®æµ‹ 609 æ¡ï¼‰ã€‚"
      },
      {
        "line": 88,
        "token": "milestone/",
        "context": "- milestone/å®Œæˆç±»å˜ä½“ â†’ `milestone`ï¼ˆ21 ç§æºç±»å‹ â†’ 60 æ¡ï¼‰ã€‚"
      },
      {
        "line": 89,
        "token": "session",
        "context": "- session å˜ä½“ â†’ `session`ï¼ˆ8 ç§æºç±»å‹ â†’ 37 æ¡ï¼‰ã€‚"
      },
      {
        "line": 92,
        "token": "fix/bug",
        "context": "- fix/bug å˜ä½“ â†’ `fix`ï¼ˆ8 ç§æºç±»å‹ â†’ 28 æ¡ï¼‰ã€‚"
      },
      {
        "line": 98,
        "token": "statvfs",
        "context": "- **å¹³å°æ”¯æŒ**ï¼šLinuxã€macOSã€Windowsï¼ˆç£ç›˜ç©ºé—´æ£€æµ‹ä¾èµ– statvfsï¼‰ã€‚"
      },
      {
        "line": 105,
        "token": "line",
        "context": "- **Critical Python Syntax Error in Hook Installer** - Fixed IndentationError in `claude-hooks/install_hooks.py` (line 790)"
      },
      {
        "line": 106,
        "token": "closing",
        "context": "- **Issue**: Extra closing braces in SessionEnd hook configuration caused installation to fail"
      },
      {
        "line": 107,
        "token": "unexpected",
        "context": "- **Symptom**: `IndentationError: unexpected indent` when running `python install_hooks.py`"
      },
      {
        "line": 108,
        "token": "merge",
        "context": "- **Root Cause**: Git merge conflict resolution left two extra `}` characters (lines 790-791)"
      },
      {
        "line": 109,
        "token": "could",
        "context": "- **Impact**: Users could not install or update hooks after pulling v8.15.0"
      },
      {
        "line": 110,
        "token": "extra",
        "context": "- **Fix**: Removed extra closing braces, corrected indentation"
      },
      {
        "line": 112,
        "token": "successful",
        "context": "- **Testing**: Verified successful installation on macOS after fix"
      },
      {
        "line": 117,
        "token": "syntax",
        "context": "- **Error Type**: IndentationError (Python syntax)"
      },
      {
        "line": 118,
        "token": "testing",
        "context": "- **Detection Method**: Manual testing during hook reinstallation"
      },
      {
        "line": 119,
        "token": "patch",
        "context": "- **Resolution Time**: Immediate (same-day patch)"
      },
      {
        "line": 125,
        "token": "session",
        "context": "- **`/session-start` Slash Command** - Manual session initialization for all platforms"
      },
      {
        "line": 126,
        "token": "same",
        "context": "- Provides same functionality as automatic SessionStart hook"
      },
      {
        "line": 127,
        "token": "project",
        "context": "- Displays project context, git history, relevant memories"
      },
      {
        "line": 129,
        "token": "workaround",
        "context": "- **Use Case**: Primary workaround for Windows SessionStart hook bug (#160)"
      },
      {
        "line": 130,
        "token": "claude_commands/session-start.md",
        "context": "- **Location**: `claude_commands/session-start.md`"
      },
      {
        "line": 132,
        "token": "manual",
        "context": "- âœ… Safe manual alternative to automatic hooks"
      },
      {
        "line": 133,
        "token": "configuration",
        "context": "- âœ… No configuration changes needed"
      },
      {
        "line": 134,
        "token": "memory",
        "context": "- âœ… Full memory awareness functionality"
      },
      {
        "line": 135,
        "token": "hangs",
        "context": "- âœ… Prevents Claude Code hangs on Windows"
      },
      {
        "line": 139,
        "token": "detection",
        "context": "- **Windows-Aware Installer** - Platform detection and automatic configuration"
      },
      {
        "line": 140,
        "token": "platform",
        "context": "- Detects Windows platform during hook installation"
      },
      {
        "line": 141,
        "token": "skips",
        "context": "- Automatically skips SessionStart hook configuration on Windows"
      },
      {
        "line": 142,
        "token": "clear",
        "context": "- Shows clear warning about SessionStart limitation"
      },
      {
        "line": 143,
        "token": "slash",
        "context": "- Suggests `/session-start` slash command as alternative"
      },
      {
        "line": 144,
        "token": "skips",
        "context": "- Also skips statusLine configuration on Windows (requires bash)"
      },
      {
        "line": 145,
        "token": "lines",
        "context": "- **Files Modified**: `claude-hooks/install_hooks.py` (lines 749-817)"
      },
      {
        "line": 146,
        "token": "users",
        "context": "- **User Impact**: Prevents Windows users from accidentally breaking Claude Code"
      },
      {
        "line": 151,
        "token": "command",
        "context": "- Updated `claude_commands/README.md` with `/session-start` command details"
      },
      {
        "line": 152,
        "token": "workaround",
        "context": "- Added Windows workaround section to `claude-hooks/README.md`"
      },
      {
        "line": 153,
        "token": "recommended",
        "context": "- Updated `CLAUDE.md` with `/session-start` as #1 recommended workaround"
      },
      {
        "line": 154,
        "token": "comprehensive",
        "context": "- Added comprehensive troubleshooting guidance"
      },
      {
        "line": 155,
        "token": "issue",
        "context": "- Updated GitHub issue #160 with new workaround instructions"
      },
      {
        "line": 159,
        "token": "hook",
        "context": "- **Windows Installation Experience** - Prevents SessionStart hook deadlock (Issue #160)"
      },
      {
        "line": 160,
        "token": "users",
        "context": "- **Previous Behavior**: Windows users install hooks â†’ Claude Code hangs â†’ frustration"
      },
      {
        "line": 161,
        "token": "users",
        "context": "- **New Behavior**: Windows users see warning â†’ skip SessionStart â†’ use `/session-start` â†’ works"
      },
      {
        "line": 162,
        "token": "fully",
        "context": "- **Breaking Change**: None - fully backward compatible"
      },
      {
        "line": 163,
        "token": "fix",
        "context": "- **Upstream Issue**: Awaiting fix from Anthropic Claude Code team (claude-code#9542)"
      },
      {
        "line": 167,
        "token": "new",
        "context": "- **Files Created**: 1 new slash command"
      },
      {
        "line": 168,
        "token": "claude_commands/session-start.md",
        "context": "- `claude_commands/session-start.md` - Full command documentation"
      },
      {
        "line": 169,
        "token": "files",
        "context": "- **Files Modified**: 4 files"
      },
      {
        "line": 171,
        "token": "platform",
        "context": "- `claude-hooks/install_hooks.py` - Windows platform detection and warnings"
      },
      {
        "line": 172,
        "token": "available",
        "context": "- `claude_commands/README.md` - Added `/session-start` to available commands"
      },
      {
        "line": 173,
        "token": "slash",
        "context": "- `claude-hooks/README.md` - Added slash command workaround reference"
      },
      {
        "line": 174,
        "token": "workaround",
        "context": "- `CLAUDE.md` - Updated workaround prioritization"
      },
      {
        "line": 177,
        "token": "command",
        "context": "- âœ… Windows: `/session-start` command works, automatic hooks skipped"
      },
      {
        "line": 178,
        "token": "features",
        "context": "- âœ… macOS: All features work (automatic hooks + slash command)"
      },
      {
        "line": 179,
        "token": "features",
        "context": "- âœ… Linux: All features work (automatic hooks + slash command)"
      },
      {
        "line": 185,
        "token": "direct",
        "context": "- **Optimized MemoryService.get_memory_by_hash()** - O(1) direct lookup replaces O(n) scan (Issue #196)"
      },
      {
        "line": 186,
        "token": "memories",
        "context": "- **Previous Implementation**: Loaded ALL memories via `storage.get_all_memories()`, then filtered by hash"
      },
      {
        "line": 187,
        "token": "database",
        "context": "- **New Implementation**: Direct O(1) database lookup via `storage.get_by_hash()`"
      },
      {
        "line": 189,
        "token": "datasets",
        "context": "- Small datasets (10-100 memories): ~2x faster"
      },
      {
        "line": 190,
        "token": "datasets",
        "context": "- Medium datasets (100-1000 memories): ~10-50x faster"
      },
      {
        "line": 191,
        "token": "datasets",
        "context": "- Large datasets (1000+ memories): ~100x+ faster"
      },
      {
        "line": 192,
        "token": "memory",
        "context": "- **Memory Usage**: Single memory object vs loading entire dataset into memory"
      },
      {
        "line": 196,
        "token": "method",
        "context": "- **Abstract method `get_by_hash()` in MemoryStorage base class** (storage/base.py)"
      },
      {
        "line": 198,
        "token": "direct",
        "context": "- Enforces O(1) direct hash lookup across all storage backends"
      },
      {
        "line": 199,
        "token": "implementation",
        "context": "- Required implementation for all storage backends"
      },
      {
        "line": 200,
        "token": "not",
        "context": "- Returns `Optional[Memory]` (None if not found)"
      },
      {
        "line": 203,
        "token": "query",
        "context": "- Direct D1 SQL query: `SELECT * FROM memories WHERE content_hash = ?`"
      },
      {
        "line": 204,
        "token": "content",
        "context": "- Handles R2 content loading if needed"
      },
      {
        "line": 205,
        "token": "tags",
        "context": "- Loads tags separately"
      },
      {
        "line": 206,
        "token": "same",
        "context": "- Follows same pattern as SqliteVecMemoryStorage implementation"
      },
      {
        "line": 210,
        "token": "now",
        "context": "- **MemoryService.get_memory_by_hash()** now uses direct storage lookup"
      },
      {
        "line": 211,
        "token": "inefficient",
        "context": "- Removed inefficient `get_all_memories()` + filter approach"
      },
      {
        "line": 212,
        "token": "implementation",
        "context": "- Simplified implementation (5 lines vs 10 lines)"
      },
      {
        "line": 213,
        "token": "docstring",
        "context": "- Updated docstring to reflect O(1) lookup"
      },
      {
        "line": 217,
        "token": "unit",
        "context": "- **Updated unit tests** (tests/unit/test_memory_service.py)"
      },
      {
        "line": 219,
        "token": "now",
        "context": "- Mocks now use `storage.get_by_hash()` instead of `storage.get_all_memories()`"
      },
      {
        "line": 220,
        "token": "assertions",
        "context": "- Added assertions to verify method calls"
      },
      {
        "line": 221,
        "token": "test",
        "context": "- All 3 test cases pass (found, not found, error handling)"
      },
      {
        "line": 223,
        "token": "integration",
        "context": "- **Updated integration tests** (tests/integration/test_api_with_memory_service.py)"
      },
      {
        "line": 224,
        "token": "updated",
        "context": "- Mock updated for proper method delegation"
      },
      {
        "line": 225,
        "token": "storage",
        "context": "- Real storage backends (SqliteVecMemoryStorage, HybridMemoryStorage) work correctly"
      },
      {
        "line": 229,
        "token": "files",
        "context": "- **Files Modified**: 5 files"
      },
      {
        "line": 231,
        "token": "abstract",
        "context": "- `src/mcp_memory_service/storage/base.py`: Added abstract `get_by_hash()` method"
      },
      {
        "line": 232,
        "token": "lines",
        "context": "- `src/mcp_memory_service/storage/cloudflare.py`: Implemented `get_by_hash()` (40 lines)"
      },
      {
        "line": 234,
        "token": "mocks",
        "context": "- `tests/unit/test_memory_service.py`: Updated mocks"
      },
      {
        "line": 235,
        "token": "mocks",
        "context": "- `tests/integration/test_api_with_memory_service.py`: Updated mocks"
      },
      {
        "line": 237,
        "token": "fully",
        "context": "- **Breaking Changes**: None - fully backward compatible"
      },
      {
        "line": 239,
        "token": "line",
        "context": "- âœ… SqliteVecMemoryStorage (line 1153)"
      },
      {
        "line": 240,
        "token": "line",
        "context": "- âœ… CloudflareStorage (line 666)"
      },
      {
        "line": 241,
        "token": "line",
        "context": "- âœ… HybridMemoryStorage (line 974, delegates to primary)"
      },
      {
        "line": 247,
        "token": "definitions",
        "context": "- **Type Safety Improvements** - Comprehensive TypedDict definitions for all MemoryService return types"
      },
      {
        "line": 248,
        "token": "methods",
        "context": "- **Problem**: All MemoryService methods returned loose `Dict[str, Any]` types, providing no IDE support or compile-time validation"
      },
      {
        "line": 249,
        "token": "specific",
        "context": "- **Solution**: Created 14 specific TypedDict classes for structured return types"
      },
      {
        "line": 250,
        "token": "operations",
        "context": "- Store operations: `StoreMemorySingleSuccess`, `StoreMemoryChunkedSuccess`, `StoreMemoryFailure`"
      },
      {
        "line": 251,
        "token": "operations",
        "context": "- List operations: `ListMemoriesSuccess`, `ListMemoriesError`"
      },
      {
        "line": 252,
        "token": "operations",
        "context": "- Retrieve operations: `RetrieveMemoriesSuccess`, `RetrieveMemoriesError`"
      },
      {
        "line": 253,
        "token": "operations",
        "context": "- Search operations: `SearchByTagSuccess`, `SearchByTagError`"
      },
      {
        "line": 254,
        "token": "operations",
        "context": "- Delete operations: `DeleteMemorySuccess`, `DeleteMemoryFailure`"
      },
      {
        "line": 255,
        "token": "operations",
        "context": "- Health operations: `HealthCheckSuccess`, `HealthCheckFailure`"
      },
      {
        "line": 257,
        "token": "autocomplete",
        "context": "- âœ… IDE autocomplete for all return values (type `result[\"` to see available keys)"
      },
      {
        "line": 258,
        "token": "type",
        "context": "- âœ… Compile-time type checking catches typos (e.g., `result[\"succes\"]` â†’ type error)"
      },
      {
        "line": 259,
        "token": "clear",
        "context": "- âœ… Self-documenting API - clear contracts for all methods"
      },
      {
        "line": 260,
        "token": "safety",
        "context": "- âœ… Refactoring safety - renaming keys shows all affected code"
      },
      {
        "line": 261,
        "token": "backward",
        "context": "- âœ… 100% backward compatible - no runtime changes"
      },
      {
        "line": 262,
        "token": "performance",
        "context": "- âœ… Zero performance impact - pure static typing"
      },
      {
        "line": 266,
        "token": "delegation",
        "context": "- **Missing HybridMemoryStorage.get_by_hash()** - Added delegation method to HybridMemoryStorage"
      },
      {
        "line": 267,
        "token": "object",
        "context": "- Fixed `AttributeError: 'HybridMemoryStorage' object has no attribute 'get_by_hash'`"
      },
      {
        "line": 268,
        "token": "storage",
        "context": "- All storage backends now implement `get_by_hash()`: SqliteVecMemoryStorage, CloudflareMemoryStorage, HybridMemoryStorage"
      },
      {
        "line": 269,
        "token": "direct",
        "context": "- Enables direct memory retrieval by content hash without loading all memories"
      },
      {
        "line": 270,
        "token": "issue",
        "context": "- See issue #196 for planned optimization to use this method in MemoryService"
      },
      {
        "line": 275,
        "token": "classes",
        "context": "- `src/mcp_memory_service/services/memory_service.py`: Added 14 TypedDict classes, updated 6 method signatures"
      },
      {
        "line": 276,
        "token": "delegation",
        "context": "- `src/mcp_memory_service/storage/hybrid.py`: Added `get_by_hash()` delegation method"
      },
      {
        "line": 277,
        "token": "fully",
        "context": "- **Breaking Changes**: None - fully backward compatible (TypedDict is structural typing)"
      },
      {
        "line": 278,
        "token": "tests",
        "context": "- **Testing**: All tests pass (15/15), comprehensive structure validation, HTTP API integration verified"
      },
      {
        "line": 284,
        "token": "solution",
        "context": "- **Comprehensive Tag Normalization** - DRY solution for all tag format handling"
      },
      {
        "line": 285,
        "token": "tag",
        "context": "- **Problem**: Inconsistent tag handling across different APIs caused validation errors"
      },
      {
        "line": 286,
        "token": "tags",
        "context": "- Top-level `tags` parameter accepted strings, but MemoryService expected arrays"
      },
      {
        "line": 287,
        "token": "field",
        "context": "- `metadata.tags` field had no normalization, causing \"is not of type 'array'\" errors"
      },
      {
        "line": 288,
        "token": "strings",
        "context": "- Comma-separated strings like `\"tag1,tag2,tag3\"` were not split into arrays"
      },
      {
        "line": 289,
        "token": "logic",
        "context": "- Normalization logic was duplicated in some methods but missing in others"
      },
      {
        "line": 291,
        "token": "adapters",
        "context": "- MCP/HTTP adapters accepted `Union[str, List[str], None]` in signatures"
      },
      {
        "line": 292,
        "token": "passed",
        "context": "- But passed values to MemoryService without normalization"
      },
      {
        "line": 293,
        "token": "expected",
        "context": "- MemoryService expected `Optional[List[str]]`, causing type mismatch"
      },
      {
        "line": 294,
        "token": "had",
        "context": "- `search_by_tag()` had normalization, but `store_memory()` did not (DRY violation)"
      },
      {
        "line": 296,
        "token": "centralized",
        "context": "- Created centralized `normalize_tags()` utility function (services/memory_service.py:27-56)"
      },
      {
        "line": 297,
        "token": "input",
        "context": "- Handles ALL input formats:"
      },
      {
        "line": 301,
        "token": "passthrough",
        "context": "- `[\"tag1\", \"tag2\"]` â†’ `[\"tag1\", \"tag2\"]` (passthrough)"
      },
      {
        "line": 303,
        "token": "str",
        "context": "- Accept `Union[str, List[str], None]` type hint"
      },
      {
        "line": 304,
        "token": "both",
        "context": "- Normalize both `tags` parameter and `metadata.tags` field"
      },
      {
        "line": 305,
        "token": "tags",
        "context": "- Merge tags from both sources with deduplication"
      },
      {
        "line": 306,
        "token": "use",
        "context": "- Updated `MemoryService.search_by_tag()` to use utility (removed duplicate code)"
      },
      {
        "line": 308,
        "token": "updated",
        "context": "- `src/mcp_memory_service/services/memory_service.py`: Added normalize_tags(), updated store_memory() and search_by_tag()"
      },
      {
        "line": 309,
        "token": "docstring",
        "context": "- `src/mcp_memory_service/mcp_server.py`: Updated docstring to reflect all formats supported"
      },
      {
        "line": 311,
        "token": "source",
        "context": "- âœ… Single source of truth for tag normalization (DRY)"
      },
      {
        "line": 312,
        "token": "tag",
        "context": "- âœ… All tag formats work everywhere (top-level, metadata, any protocol)"
      },
      {
        "line": 313,
        "token": "more",
        "context": "- âœ… No more validation errors for comma-separated strings"
      },
      {
        "line": 314,
        "token": "backward",
        "context": "- âœ… Fully backward compatible"
      },
      {
        "line": 315,
        "token": "behavior",
        "context": "- âœ… Consistent behavior across all endpoints"
      },
      {
        "line": 317,
        "token": "use",
        "context": "- Can use any tag format anywhere without errors"
      },
      {
        "line": 318,
        "token": "need",
        "context": "- No need to remember which parameter accepts which format"
      },
      {
        "line": 319,
        "token": "developer",
        "context": "- Improved developer experience and reduced friction"
      },
      {
        "line": 323,
        "token": "business",
        "context": "- **Affected Components**: MemoryService (business logic layer), MCP server documentation"
      },
      {
        "line": 324,
        "token": "fully",
        "context": "- **Breaking Changes**: None - fully backward compatible"
      },
      {
        "line": 325,
        "token": "tags",
        "context": "- **Tag Merge Behavior**: When tags provided in both parameter and metadata, they are merged and deduplicated"
      },
      {
        "line": 326,
        "token": "all",
        "context": "- **Testing**: Verified with all format combinations (None, string, comma-separated, array, metadata.tags)"
      },
      {
        "line": 332,
        "token": "improvements",
        "context": "- **Memory Hooks Display Polish** - Visual improvements for cleaner, more professional CLI output"
      },
      {
        "line": 333,
        "token": "visual",
        "context": "- **Issue**: Multiple visual inconsistencies in memory hooks tree structure display"
      },
      {
        "line": 335,
        "token": "bottom",
        "context": "1. Redundant bottom frame (`â•°â”€â”€â”€â”€â•¯`) after tree naturally ended with `â””â”€`"
      },
      {
        "line": 336,
        "token": "text",
        "context": "2. Wrapped text continuation showing vertical lines (`â”‚`) after last items"
      },
      {
        "line": 337,
        "token": "final",
        "context": "3. Duplicate final summary message (\"Context injected\") when header already shows count"
      },
      {
        "line": 338,
        "token": "formatting",
        "context": "4. Embedded formatting (âœ…, â€¢, markdown) conflicting with tree structure"
      },
      {
        "line": 339,
        "token": "content",
        "context": "5. Excessive content length despite adaptive truncation"
      },
      {
        "line": 340,
        "token": "commits",
        "context": "- **Fixes** (commits ed46d24, 998a39c):"
      },
      {
        "line": 341,
        "token": "checkmarks",
        "context": "- **Content Sanitization**: Remove checkmarks, bullets, markdown formatting that conflicts with tree characters"
      },
      {
        "line": 342,
        "token": "first",
        "context": "- **Smart Truncation**: Extract first 1-2 sentences for <400 char limits using sentence boundary detection"
      },
      {
        "line": 343,
        "token": "items",
        "context": "- **Tree Continuation Logic**: Last items show clean indentation without vertical lines on wrapped text"
      },
      {
        "line": 344,
        "token": "ends",
        "context": "- **Remove Redundant Frame**: Tree ends naturally with `â””â”€`, no separate closing box"
      },
      {
        "line": 345,
        "token": "shows",
        "context": "- **Remove Duplicate Message**: Header shows \"X memories loaded\", no redundant final summary"
      },
      {
        "line": 347,
        "token": "sanitization",
        "context": "- `claude-hooks/utilities/context-formatter.js`: Content sanitization, smart truncation, tree continuation fixes"
      },
      {
        "line": 348,
        "token": "redundant",
        "context": "- `claude-hooks/core/session-start.js`: Removed redundant success message"
      },
      {
        "line": 349,
        "token": "consistent",
        "context": "- **Result**: Clean, consistent tree structure with proper visual hierarchy and no redundancy"
      },
      {
        "line": 350,
        "token": "output",
        "context": "- **User Impact**: Professional CLI output, easier to scan, maintains continuous blue tree lines properly"
      },
      {
        "line": 354,
        "token": "memory",
        "context": "- **Affected Component**: Claude Code memory awareness hooks (SessionStart display)"
      },
      {
        "line": 355,
        "token": "loaded",
        "context": "- **Deployment**: Hooks loaded from repository automatically, no server restart needed"
      },
      {
        "line": 356,
        "token": "mock",
        "context": "- **Testing**: Verified with mock execution and real Claude Code session"
      },
      {
        "line": 362,
        "token": "unit",
        "context": "- **Critical: Memory Hooks Showing Incorrect Ages** (#195) - Timestamp unit mismatch causing 20,371-day ages"
      },
      {
        "line": 363,
        "token": "hooks",
        "context": "- **Error**: Memory hooks reporting `avgAge: 20371 days, medianAge: 20371 days` when actual age was 6 days"
      },
      {
        "line": 364,
        "token": "memories",
        "context": "- **User Impact**: Recent memories didn't surface, auto-calibration incorrectly triggered \"stale memory\" warnings"
      },
      {
        "line": 365,
        "token": "unit",
        "context": "- **Root Cause** (claude-hooks/utilities/memory-client.js:273): Timestamp unit mismatch"
      },
      {
        "line": 366,
        "token": "HTTP",
        "context": "- HTTP API returns Unix timestamps in **SECONDS**: `1758344479.729`"
      },
      {
        "line": 367,
        "token": "expects",
        "context": "- JavaScript `Date()` expects **MILLISECONDS**: Interpreted as `Jan 21, 1970` (55 years ago)"
      },
      {
        "line": 368,
        "token": "calculation",
        "context": "- Age calculation: `(now - 1758344479ms) / 86400000 = 20371 days`"
      },
      {
        "line": 370,
        "token": "true",
        "context": "- `[Memory Age Analyzer] { avgAge: 20371, recentPercent: 0, isStale: true }`"
      },
      {
        "line": 371,
        "token": "showed",
        "context": "- Hooks showed \"Stale memory set detected (median: 20371d old)\""
      },
      {
        "line": 372,
        "token": "development",
        "context": "- Recent development work (< 7 days) never surfaced in context"
      },
      {
        "line": 373,
        "token": "commit",
        "context": "- **Fix** (claude-hooks/utilities/memory-client.js:273-294, commit 5c54894):"
      },
      {
        "line": 374,
        "token": "timestamps",
        "context": "- Convert API timestamps from seconds to milliseconds (`Ã— 1000`)"
      },
      {
        "line": 375,
        "token": "year",
        "context": "- Added year 2100 check (`< 4102444800`) to prevent double-conversion"
      },
      {
        "line": 376,
        "token": "response",
        "context": "- Applied in `_performApiPost()` response handler for both `created_at` and `updated_at`"
      },
      {
        "line": 378,
        "token": "days",
        "context": "- `avgAge: 6 days, medianAge: 5 days, recentPercent: 100%, isStale: false`"
      },
      {
        "line": 379,
        "token": "memories",
        "context": "- Recent memories surface correctly"
      },
      {
        "line": 380,
        "token": "works",
        "context": "- Auto-calibration works properly"
      },
      {
        "line": 381,
        "token": "context",
        "context": "- Git context weight adjusts based on actual ages"
      },
      {
        "line": 382,
        "token": "all",
        "context": "- **Note**: Affects all users using HTTP protocol for memory hooks"
      },
      {
        "line": 386,
        "token": "memory",
        "context": "- **Affected Component**: Claude Code memory awareness hooks (HTTP protocol path)"
      },
      {
        "line": 387,
        "token": "lines",
        "context": "- **File Changed**: `claude-hooks/utilities/memory-client.js` (lines 273-294)"
      },
      {
        "line": 388,
        "token": "loaded",
        "context": "- **Deployment**: Hooks loaded from repository automatically, no server restart needed"
      },
      {
        "line": 389,
        "token": "https",
        "context": "- **Issue**: https://github.com/doobidoo/mcp-memory-service/issues/195"
      },
      {
        "line": 395,
        "token": "regression",
        "context": "- **Critical: MCP Memory Tools Broken** - v8.12.0 regression preventing all MCP memory operations"
      },
      {
        "line": 396,
        "token": "message",
        "context": "- **Error**: `KeyError: 'message'` when calling any MCP memory tool (store, retrieve, search, etc.)"
      },
      {
        "line": 397,
        "token": "tools",
        "context": "- **User Impact**: MCP tools completely non-functional - \"Error storing memory: 'message'\""
      },
      {
        "line": 398,
        "token": "format",
        "context": "- **Root Cause** (mcp_server.py:175): Return format mismatch between MemoryService and MCP tool expectations"
      },
      {
        "line": 399,
        "token": "tool",
        "context": "- MCP tool expects: `{success: bool, message: str, content_hash: str}`"
      },
      {
        "line": 400,
        "token": "returns",
        "context": "- MemoryService returns: `{success: bool, memory: {...}}`"
      },
      {
        "line": 401,
        "token": "protocol",
        "context": "- MCP protocol tries to access missing 'message' field â†’ KeyError"
      },
      {
        "line": 402,
        "token": "HTTP",
        "context": "- **Why It Persisted**: HTTP API doesn't require these specific fields, so integration tests passed"
      },
      {
        "line": 403,
        "token": "response",
        "context": "- **Fix** (mcp_server.py:173-206): Transform MemoryService response to MCP TypedDict format"
      },
      {
        "line": 404,
        "token": "result",
        "context": "- Capture result from MemoryService.store_memory()"
      },
      {
        "line": 405,
        "token": "nested",
        "context": "- Extract content_hash from nested memory object"
      },
      {
        "line": 406,
        "token": "descriptive",
        "context": "- Add descriptive \"message\" field"
      },
      {
        "line": 407,
        "token": "cases",
        "context": "- Handle 3 cases: failure (error message), chunked (multiple memories), single memory"
      },
      {
        "line": 408,
        "token": "tools",
        "context": "- **Result**: MCP tools now work correctly with proper error messages"
      },
      {
        "line": 409,
        "token": "server",
        "context": "- **Note**: Requires MCP server restart (`/mcp` command in Claude Code) to load fix"
      },
      {
        "line": 413,
        "token": "architecture",
        "context": "- **Introduced**: v8.12.0 MemoryService architecture refactoring (#176)"
      },
      {
        "line": 414,
        "token": "all",
        "context": "- **Affected Tools**: store_memory, all MCP protocol operations"
      },
      {
        "line": 415,
        "token": "HTTP",
        "context": "- **HTTP API**: Unaffected (different response format requirements)"
      },
      {
        "line": 416,
        "token": "integration",
        "context": "- **Test Gap**: No integration tests validating MCP tool response formats"
      },
      {
        "line": 422,
        "token": "calling",
        "context": "- **Memory Sync Script Broken** (#193): Fixed sync_memory_backends.py calling non-existent `store_memory()` method"
      },
      {
        "line": 423,
        "token": "object",
        "context": "- **Error**: `AttributeError: 'CloudflareStorage' object has no attribute 'store_memory'`"
      },
      {
        "line": 424,
        "token": "script",
        "context": "- **User Impact**: Sync script completely non-functional - couldn't sync memories between Cloudflare and SQLite backends"
      },
      {
        "line": 425,
        "token": "used",
        "context": "- **Root Cause** (scripts/sync/sync_memory_backends.py:144-147): Script used old `store_memory()` API that no longer exists"
      },
      {
        "line": 426,
        "token": "use",
        "context": "- **Fix** (#194, b69de83): Updated to use proper `Memory` object creation and `storage.store()` method"
      },
      {
        "line": 427,
        "token": "object",
        "context": "- Create `Memory` object with `content`, `content_hash`, `tags`, `metadata`, `created_at`"
      },
      {
        "line": 428,
        "token": "await",
        "context": "- Call `await target_storage.store(memory_obj)` instead of non-existent `store_memory()`"
      },
      {
        "line": 429,
        "token": "safe",
        "context": "- Added safe `.get('metadata', {})` to prevent KeyError on missing metadata"
      },
      {
        "line": 430,
        "token": "import",
        "context": "- Fixed import order to comply with PEP 8 (config â†’ models â†’ storage)"
      },
      {
        "line": 431,
        "token": "script",
        "context": "- **Result**: Sync script now successfully syncs memories between backends"
      },
      {
        "line": 432,
        "token": "via",
        "context": "- **Credit**: Fix by AMP via PR #194, reviewed by Gemini"
      },
      {
        "line": 438,
        "token": "server",
        "context": "- **Critical Concurrent Access Bug**: MCP server initialization failed with \"database is locked\" when HTTP server running"
      },
      {
        "line": 439,
        "token": "database",
        "context": "- **Error**: `sqlite3.OperationalError: database is locked` during MCP tool initialization"
      },
      {
        "line": 440,
        "token": "memory",
        "context": "- **User Impact**: MCP memory tools completely non-functional while HTTP server running - \"this worked before without any flaws\""
      },
      {
        "line": 441,
        "token": "timeout",
        "context": "- **Root Cause #1** (sqlite_vec.py:329): Connection timeout set AFTER opening database instead of during connection"
      },
      {
        "line": 442,
        "token": "path",
        "context": "- Original: `sqlite3.connect(path)` used default 5-second timeout, then applied `PRAGMA busy_timeout=15000`"
      },
      {
        "line": 443,
        "token": "only",
        "context": "- SQLite only respects timeout parameter passed to `connect()`, not pragma applied afterward"
      },
      {
        "line": 444,
        "token": "server",
        "context": "- MCP server timed out before it could set the higher timeout value"
      },
      {
        "line": 445,
        "token": "servers",
        "context": "- **Root Cause #2** (sqlite_vec.py:467-476): Both servers attempting DDL operations (CREATE TABLE, CREATE INDEX) simultaneously"
      },
      {
        "line": 446,
        "token": "mode",
        "context": "- Even with WAL mode, DDL operations require brief exclusive locks"
      },
      {
        "line": 447,
        "token": "detection",
        "context": "- No detection of already-initialized database before running DDL"
      },
      {
        "line": 448,
        "token": "environment",
        "context": "- **Fix #1** (sqlite_vec.py:291-326): Parse `busy_timeout` from `MCP_MEMORY_SQLITE_PRAGMAS` environment variable BEFORE opening connection"
      },
      {
        "line": 449,
        "token": "milliseconds",
        "context": "- Convert from milliseconds to seconds (15000ms â†’ 15.0s)"
      },
      {
        "line": 450,
        "token": "timeout",
        "context": "- Pass timeout to `sqlite3.connect(path, timeout=15.0)` for immediate effect"
      },
      {
        "line": 451,
        "token": "server",
        "context": "- Allows MCP server to wait up to 15 seconds for HTTP server's DDL operations"
      },
      {
        "line": 452,
        "token": "database",
        "context": "- **Fix #2** (sqlite_vec.py:355-373): Detect already-initialized database and skip DDL operations"
      },
      {
        "line": 453,
        "token": "memories",
        "context": "- Check if `memories` and `memory_embeddings` tables exist after loading sqlite-vec extension"
      },
      {
        "line": 454,
        "token": "tables",
        "context": "- If tables exist, just load embedding model and mark as initialized"
      },
      {
        "line": 455,
        "token": "database",
        "context": "- Prevents \"database is locked\" errors from concurrent CREATE TABLE/INDEX attempts"
      },
      {
        "line": 456,
        "token": "HTTP",
        "context": "- **Result**: MCP and HTTP servers now coexist without conflicts, maintaining pre-v8.9.0 concurrent access behavior"
      },
      {
        "line": 460,
        "token": "discovered",
        "context": "- **Timeline**: Bug discovered during memory consolidation testing, fixed same day"
      },
      {
        "line": 461,
        "token": "introduced",
        "context": "- **Affected Versions**: v8.9.0 introduced database lock prevention pragmas but didn't fix concurrent initialization"
      },
      {
        "line": 462,
        "token": "health",
        "context": "- **Test Validation**: MCP health check returns healthy with 1857 memories while HTTP server running"
      },
      {
        "line": 463,
        "token": "already",
        "context": "- **Log Evidence**: \"Database already initialized by another process, skipping DDL operations\" confirms fix working"
      },
      {
        "line": 469,
        "token": "HTTP",
        "context": "- **HTTP Server Integration Tests** (#190): Comprehensive test suite with 32 tests prevents production bugs like v8.12.0"
      },
      {
        "line": 471,
        "token": "tests",
        "context": "- `tests/integration/test_http_server_startup.py`: 8 tests for server startup validation"
      },
      {
        "line": 472,
        "token": "tests",
        "context": "- `tests/unit/test_fastapi_dependencies.py`: 11 tests for dependency injection"
      },
      {
        "line": 473,
        "token": "tests",
        "context": "- `tests/unit/test_storage_interface_compatibility.py`: 13 tests for backend interface consistency"
      },
      {
        "line": 474,
        "token": "HTTP",
        "context": "- Extended `tests/integration/test_api_with_memory_service.py`: +11 HTTP API tests with TestClient"
      },
      {
        "line": 475,
        "token": "would",
        "context": "- Tests would have caught all 3 v8.12.0 production bugs (import-time evaluation, syntax errors, interface mismatches)"
      },
      {
        "line": 477,
        "token": "database",
        "context": "- **Storage Method: get_largest_memories()** (#186): Efficient database queries for largest memories by content length"
      },
      {
        "line": 478,
        "token": "all",
        "context": "- Added to all storage backends (SQLite, Cloudflare, Hybrid)"
      },
      {
        "line": 479,
        "token": "content",
        "context": "- Uses `ORDER BY LENGTH(content) DESC LIMIT n` instead of loading 1000 memories and sorting in Python"
      },
      {
        "line": 480,
        "token": "dashboard",
        "context": "- Analytics dashboard now queries entire dataset for truly largest memories"
      },
      {
        "line": 484,
        "token": "heatmap",
        "context": "- **Analytics Dashboard Timezone Bug** (#186): Fixed heatmap calendar showing wrong day-of-week near timezone boundaries"
      },
      {
        "line": 485,
        "token": "new",
        "context": "- JavaScript `new Date('YYYY-MM-DD')` parsed as UTC midnight, but `getDay()` used local timezone"
      },
      {
        "line": 486,
        "token": "parse",
        "context": "- Changed to parse date components in local timezone: `new Date(year, month-1, day)`"
      },
      {
        "line": 487,
        "token": "calendar",
        "context": "- Prevents calendar cells from shifting to previous/next day for users in UTC-12 to UTC+12 timezones"
      },
      {
        "line": 491,
        "token": "memory",
        "context": "- **Analytics Performance**: Reduced memory sample for average size calculation from 1000â†’100 memories"
      },
      {
        "line": 492,
        "token": "HTTP",
        "context": "- **Test Coverage**: Zero HTTP integration tests â†’ 32 comprehensive tests covering server startup, dependencies, and API endpoints"
      },
      {
        "line": 496,
        "token": "comprehensive",
        "context": "- **MCP Schema Caching** (#173): Closed with comprehensive documentation in CLAUDE.md and troubleshooting guides"
      },
      {
        "line": 497,
        "token": "cause",
        "context": "- Root cause: MCP protocol caches tool schemas client-side"
      },
      {
        "line": 498,
        "token": "mcp",
        "context": "- Workaround: `/mcp` command reconnects server with fresh schema"
      },
      {
        "line": 499,
        "token": "symptoms",
        "context": "- Documented symptoms, diagnosis, and resolution steps"
      },
      {
        "line": 505,
        "token": "default",
        "context": "- **Critical Production Bug #1** (ef2c64d): Import-time default parameter evaluation in `get_memory_service()`"
      },
      {
        "line": 507,
        "token": "not",
        "context": "- **Error**: `HTTPException: 503: Storage not initialized` during module import"
      },
      {
        "line": 508,
        "token": "evaluates",
        "context": "- **Root Cause**: Python evaluates default parameters at function definition time, not call time"
      },
      {
        "line": 509,
        "token": "HTTP",
        "context": "- **Impact**: HTTP server couldn't start - module import failed immediately"
      },
      {
        "line": 510,
        "token": "storage",
        "context": "- **Fix**: Changed from `storage: MemoryStorage = get_storage()` to `storage: MemoryStorage = Depends(get_storage)`"
      },
      {
        "line": 511,
        "token": "defers",
        "context": "- **Technical**: FastAPI's `Depends()` defers evaluation until request time and integrates with dependency injection"
      },
      {
        "line": 513,
        "token": "de4d2",
        "context": "- **Critical Production Bug #2** (77de4d2): Syntax error + missing FastAPI Depends import in `memories.py`"
      },
      {
        "line": 515,
        "token": "expected",
        "context": "- **Error**: `SyntaxError: expected an indented block after 'if' statement on line 152`"
      },
      {
        "line": 516,
        "token": "had",
        "context": "- **Root Cause**: `if INCLUDE_HOSTNAME:` had no indented body, nested if-elif-else block not indented"
      },
      {
        "line": 517,
        "token": "prevented",
        "context": "- **Impact**: SyntaxError prevented module import + FastAPI validation failure"
      },
      {
        "line": 518,
        "token": "indented",
        "context": "- **Fix**: Properly indented hostname resolution logic, added missing `Depends` import to dependencies.py"
      },
      {
        "line": 520,
        "token": "tags",
        "context": "- **Critical Production Bug #3** (f935c56): Missing `tags` parameter in `count_all_memories()` across all storage backends"
      },
      {
        "line": 522,
        "token": "got",
        "context": "- **Error**: `TypeError: count_all_memories() got an unexpected keyword argument 'tags'`"
      },
      {
        "line": 523,
        "token": "failed",
        "context": "- **User Report**: \"failed to load dashboard data\""
      },
      {
        "line": 524,
        "token": "called",
        "context": "- **Root Cause**: MemoryService called `count_all_memories(memory_type=type, tags=tags)` but base class and implementations didn't accept tags parameter"
      },
      {
        "line": 525,
        "token": "completely",
        "context": "- **Impact**: Dashboard completely broken - GET /api/memories returned 500 errors"
      },
      {
        "line": 526,
        "token": "files",
        "context": "- **Fix**: Updated 4 files (base.py, hybrid.py, sqlite_vec.py, cloudflare.py) to add tags parameter with SQL LIKE filtering"
      },
      {
        "line": 527,
        "token": "accepts",
        "context": "- **Why Tests Missed It**: AsyncMock accepts ANY parameters, never tested real storage backend implementations"
      },
      {
        "line": 529,
        "token": "beeb07",
        "context": "- **Analytics Metrics Bug** (8beeb07): Analytics tab showed different metrics than Dashboard tab"
      },
      {
        "line": 530,
        "token": "queried",
        "context": "- **Problem**: Dashboard queried ALL memories, Analytics sampled only 1000 recent memories"
      },
      {
        "line": 531,
        "token": "count",
        "context": "- **Impact**: \"This Week\" count was inaccurate when total memories > 1000"
      },
      {
        "line": 532,
        "token": "endpoint",
        "context": "- **Fix**: Changed Analytics endpoint to use `storage.get_stats()` instead of sampling"
      },
      {
        "line": 533,
        "token": "memory",
        "context": "- **Performance**: Eliminated O(n) memory loading for simple count operation, now uses efficient SQL COUNT"
      },
      {
        "line": 537,
        "token": "monthly",
        "context": "- **Analytics Endpoint Performance** - Increased monthly sample from 2,000 to 5,000 memories"
      },
      {
        "line": 538,
        "token": "comments",
        "context": "- **Code Quality** - Added TODO comments for moving monthly calculations to storage layer"
      },
      {
        "line": 542,
        "token": "bugs",
        "context": "- **Timeline**: All 4 bugs discovered and fixed within 4 hours of v8.12.0 release (15:03 UTC â†’ 22:03 UTC)"
      },
      {
        "line": 543,
        "token": "HTTP",
        "context": "- **Post-Mortem**: Created Issue #190 for HTTP server integration tests to prevent future production bugs"
      },
      {
        "line": 544,
        "token": "had",
        "context": "- **Test Coverage Gap**: v8.12.0 had 55 tests but zero HTTP server integration tests"
      },
      {
        "line": 545,
        "token": "used",
        "context": "- **Lesson Learned**: Tests used mocked storage that never actually started the server or tested real FastAPI dependency injection"
      },
      {
        "line": 547,
        "token": "patch",
        "context": "**Note**: This patch release resolves all production issues from v8.12.0 architectural changes. Comprehensive analysis stored in memory with tag `v8.12.0,post-r"
      },
      {
        "line": 553,
        "token": "business",
        "context": "- **MemoryService Architecture** - Centralized business logic layer (Issue #188, PR #189)"
      },
      {
        "line": 554,
        "token": "source",
        "context": "- Single source of truth for all memory operations"
      },
      {
        "line": 555,
        "token": "behavior",
        "context": "- Consistent behavior across API endpoints and MCP tools"
      },
      {
        "line": 556,
        "token": "code",
        "context": "- 80% code duplication reduction between API and MCP servers"
      },
      {
        "line": 557,
        "token": "injection",
        "context": "- Dependency injection pattern for clean architecture"
      },
      {
        "line": 559,
        "token": "unit",
        "context": "- 34 unit tests (100% pass rate)"
      },
      {
        "line": 560,
        "token": "integration",
        "context": "- 21 integration tests for API layer"
      },
      {
        "line": 561,
        "token": "workflow",
        "context": "- End-to-end workflow tests with real storage"
      },
      {
        "line": 562,
        "token": "validation",
        "context": "- Performance validation for database-level filtering"
      },
      {
        "line": 566,
        "token": "missing",
        "context": "- **Critical Bug #1**: `split_content()` missing required `max_length` parameter"
      },
      {
        "line": 567,
        "token": "crash",
        "context": "- Impact: Would crash immediately on any content chunking operation"
      },
      {
        "line": 568,
        "token": "proper",
        "context": "- Fix: Added proper parameter passing with storage backend max_length"
      },
      {
        "line": 569,
        "token": "method",
        "context": "- **Critical Bug #2**: `storage.delete_memory()` method does not exist in base class"
      },
      {
        "line": 570,
        "token": "functionality",
        "context": "- Impact: Delete functionality completely broken"
      },
      {
        "line": 571,
        "token": "use",
        "context": "- Fix: Changed to use `storage.delete(content_hash)` from base class"
      },
      {
        "line": 572,
        "token": "method",
        "context": "- **Critical Bug #3**: `storage.get_memory()` method does not exist in base class"
      },
      {
        "line": 573,
        "token": "hash",
        "context": "- Impact: Get by hash functionality completely broken"
      },
      {
        "line": 574,
        "token": "using",
        "context": "- Fix: Implemented using `get_all_memories()` with client-side filtering"
      },
      {
        "line": 575,
        "token": "method",
        "context": "- **Critical Bug #4**: `storage.health_check()` method does not exist in base class"
      },
      {
        "line": 576,
        "token": "check",
        "context": "- Impact: Health check functionality completely broken"
      },
      {
        "line": 577,
        "token": "use",
        "context": "- Fix: Changed to use `storage.get_stats()` from base class"
      },
      {
        "line": 578,
        "token": "method",
        "context": "- **Critical Bug #5**: `storage.search_by_tags()` method mismatch (plural vs singular)"
      },
      {
        "line": 579,
        "token": "search",
        "context": "- Impact: Tag search functionality completely broken"
      },
      {
        "line": 580,
        "token": "use",
        "context": "- Fix: Changed to use `storage.search_by_tag()` (singular) from base class"
      },
      {
        "line": 581,
        "token": "chunking",
        "context": "- **Critical Bug #6**: Incorrect chunking logic comparing `len(content) > CONTENT_PRESERVE_BOUNDARIES`"
      },
      {
        "line": 582,
        "token": "content",
        "context": "- Impact: ALL content >1 character would trigger chunking (CONTENT_PRESERVE_BOUNDARIES is boolean `True`)"
      },
      {
        "line": 583,
        "token": "comparison",
        "context": "- Fix: Proper comparison using `storage.max_content_length` numeric value"
      },
      {
        "line": 584,
        "token": "store",
        "context": "- **Critical Bug #7**: Missing `store()` return value handling"
      },
      {
        "line": 585,
        "token": "not",
        "context": "- Impact: Success/failure not properly tracked"
      },
      {
        "line": 586,
        "token": "unpacking",
        "context": "- Fix: Proper unpacking of `(success, message)` tuple from storage operations"
      },
      {
        "line": 590,
        "token": "use",
        "context": "- **API Endpoints** - Refactored to use MemoryService dependency injection"
      },
      {
        "line": 591,
        "token": "list",
        "context": "- `/api/memories` (list, create) uses MemoryService"
      },
      {
        "line": 592,
        "token": "endpoints",
        "context": "- `/api/search` endpoints use MemoryService"
      },
      {
        "line": 593,
        "token": "response",
        "context": "- Consistent response formatting via service layer"
      },
      {
        "line": 594,
        "token": "lines",
        "context": "- **Code Maintainability** - Removed 356 lines of duplicated code"
      },
      {
        "line": 595,
        "token": "place",
        "context": "- Single place to modify business logic"
      },
      {
        "line": 596,
        "token": "error",
        "context": "- Unified error handling"
      },
      {
        "line": 597,
        "token": "hostname",
        "context": "- Consistent hostname tagging logic"
      },
      {
        "line": 598,
        "token": "filtering",
        "context": "- **Performance** - Database-level filtering prevents O(n) memory loading"
      },
      {
        "line": 599,
        "token": "pagination",
        "context": "- Scalable pagination with offset/limit at storage layer"
      },
      {
        "line": 600,
        "token": "tag",
        "context": "- Efficient tag and type filtering"
      },
      {
        "line": 604,
        "token": "files",
        "context": "- **Files Modified**: 6 files, 1469 additions, 356 deletions"
      },
      {
        "line": 605,
        "token": "new",
        "context": "- **Test Coverage**: 55 new tests (34 unit + 21 integration)"
      },
      {
        "line": 606,
        "token": "testing",
        "context": "- **Bug Discovery**: Comprehensive testing revealed 7 critical bugs that would have made the release non-functional"
      },
      {
        "line": 607,
        "token": "debugging",
        "context": "- **Quality Process**: Test-driven debugging approach prevented broken release"
      },
      {
        "line": 609,
        "token": "release",
        "context": "**Note**: This release demonstrates the critical importance of comprehensive testing before merging architectural changes. All 7 bugs were caught through system"
      },
      {
        "line": 615,
        "token": "JSON",
        "context": "- **JSON Document Loader** - Complete implementation of JSON file ingestion (Issue #181, PR #187)"
      },
      {
        "line": 617,
        "token": "nested",
        "context": "- **Nested Structure Flattening**: Converts nested JSON to searchable text with dot notation or bracket notation"
      },
      {
        "line": 618,
        "token": "flattening",
        "context": "- **Configurable Strategies**: Choose flattening style, max depth, type inclusion"
      },
      {
        "line": 619,
        "token": "modes",
        "context": "- **Array Handling**: Multiple modes (expand, summarize, flatten) for different use cases"
      },
      {
        "line": 620,
        "token": "unit",
        "context": "- **Comprehensive Tests**: 15 unit tests covering all functionality"
      },
      {
        "line": 621,
        "token": "base",
        "context": "- **Use Cases**: Knowledge base exports, API documentation, config files, structured metadata"
      },
      {
        "line": 623,
        "token": "CSV",
        "context": "- **CSV Document Loader** - Complete implementation of CSV file ingestion (Issue #181, PR #187)"
      },
      {
        "line": 624,
        "token": "detects",
        "context": "- **Auto-Detection**: Automatically detects delimiters (comma, semicolon, tab, pipe) and headers"
      },
      {
        "line": 625,
        "token": "tabular",
        "context": "- **Row-Based Formatting**: Converts tabular data to searchable text with column context"
      },
      {
        "line": 627,
        "token": "chunking",
        "context": "- **Large File Handling**: Efficient row-based chunking for scalability"
      },
      {
        "line": 628,
        "token": "unit",
        "context": "- **Comprehensive Tests**: 14 unit tests covering all functionality"
      },
      {
        "line": 629,
        "token": "dictionaries",
        "context": "- **Use Cases**: Data dictionaries, reference tables, tabular documentation, log analysis"
      },
      {
        "line": 633,
        "token": "issue",
        "context": "- **False Advertising** - Resolved issue where JSON and CSV were listed in `SUPPORTED_FORMATS` but had no loader implementations"
      },
      {
        "line": 634,
        "token": "behavior",
        "context": "- Previous behavior: Upload would fail with \"No loader available\" error"
      },
      {
        "line": 635,
        "token": "behavior",
        "context": "- New behavior: Full functional support with proper chunking and metadata"
      },
      {
        "line": 639,
        "token": "register",
        "context": "- **Ingestion Module** - Updated to register new JSON and CSV loaders"
      },
      {
        "line": 640,
        "token": "new",
        "context": "- **Test Coverage** - Added 29 new unit tests (15 JSON + 14 CSV)"
      },
      {
        "line": 647,
        "token": "pie",
        "context": "- Memory Types Breakdown (pie chart)"
      },
      {
        "line": 648,
        "token": "calendar",
        "context": "- Activity Heatmap (GitHub-style calendar with 90d/6mo/1yr periods)"
      },
      {
        "line": 649,
        "token": "usage",
        "context": "- Top Tags Report (usage trends, co-occurrence patterns)"
      },
      {
        "line": 650,
        "token": "breakdowns",
        "context": "- Recent Activity Report (hourly/daily/weekly breakdowns)"
      },
      {
        "line": 651,
        "token": "largest",
        "context": "- Storage Report (largest memories, efficiency metrics)"
      },
      {
        "line": 652,
        "token": "current",
        "context": "- Streak Tracking (current and longest consecutive days)"
      },
      {
        "line": 656,
        "token": "current",
        "context": "- **Activity Streak Calculation** - Fixed current streak to include today check"
      },
      {
        "line": 657,
        "token": "date",
        "context": "- **Total Days Calculation** - Corrected date span vs active days count"
      },
      {
        "line": 662,
        "token": "new",
        "context": "- **Analytics API** - Added 5 new endpoints with Pydantic models"
      },
      {
        "line": 663,
        "token": "wiki",
        "context": "- **Dashboard Documentation** - Updated wiki with complete analytics features"
      },
      {
        "line": 669,
        "token": "database",
        "context": "- **Database Lock Prevention** - Resolved \"database is locked\" errors during concurrent HTTP + MCP server access (Issue discovered during performance troublesho"
      },
      {
        "line": 670,
        "token": "too",
        "context": "- **Root Cause**: Default `busy_timeout=5000ms` too short for concurrent writes from multiple MCP clients"
      },
      {
        "line": 671,
        "token": "recommended",
        "context": "- **Solution**: Applied recommended SQLite pragmas (`busy_timeout=15000,cache_size=20000`)"
      },
      {
        "line": 672,
        "token": "enabled",
        "context": "- **WAL Mode**: Already enabled by default, now properly configured for multi-client access"
      },
      {
        "line": 673,
        "token": "database",
        "context": "- **Impact**: Zero database locks during testing with 5 concurrent write operations"
      },
      {
        "line": 674,
        "token": "architecture",
        "context": "- **Documentation**: Updated multi-client architecture docs with pragma recommendations"
      },
      {
        "line": 678,
        "token": "hybrid",
        "context": "- **Hybrid Backend Installer Support** - Full hybrid backend support in simplified installer (`scripts/installation/install.py`)"
      },
      {
        "line": 679,
        "token": "now",
        "context": "- **Interactive Selection**: Hybrid now option 4 (recommended default) in installer menu"
      },
      {
        "line": 680,
        "token": "pragmas",
        "context": "- **Automatic Configuration**: SQLite pragmas set automatically for sqlite_vec and hybrid backends"
      },
      {
        "line": 681,
        "token": "credential",
        "context": "- **Cloudflare Setup**: Interactive credential configuration with connection testing"
      },
      {
        "line": 682,
        "token": "back",
        "context": "- **Graceful Fallback**: Falls back to sqlite_vec if Cloudflare setup cancelled or fails"
      },
      {
        "line": 683,
        "token": "backend",
        "context": "- **Claude Desktop Integration**: Hybrid backend configuration includes:"
      },
      {
        "line": 684,
        "token": "pragmas",
        "context": "- SQLite pragmas for concurrent access (`MCP_MEMORY_SQLITE_PRAGMAS`)"
      },
      {
        "line": 685,
        "token": "credentials",
        "context": "- Cloudflare credentials for background sync"
      },
      {
        "line": 686,
        "token": "environment",
        "context": "- Proper environment variable propagation"
      },
      {
        "line": 688,
        "token": "local",
        "context": "- 5ms local reads (SQLite-vec)"
      },
      {
        "line": 689,
        "token": "latency",
        "context": "- Zero user-facing latency (background Cloudflare sync)"
      },
      {
        "line": 690,
        "token": "synchronization",
        "context": "- Multi-device synchronization"
      },
      {
        "line": 691,
        "token": "access",
        "context": "- Concurrent access support"
      },
      {
        "line": 695,
        "token": "backend",
        "context": "- **Installer Defaults** - Hybrid backend now recommended for production use"
      },
      {
        "line": 696,
        "token": "argparse",
        "context": "- Updated argparse choices to include `hybrid` option"
      },
      {
        "line": 697,
        "token": "default",
        "context": "- Changed default selection from sqlite_vec to hybrid (option 4)"
      },
      {
        "line": 698,
        "token": "compatibility",
        "context": "- Enhanced compatibility detection with \"recommended\" status for hybrid"
      },
      {
        "line": 699,
        "token": "final",
        "context": "- Improved final installation messages with backend-specific guidance"
      },
      {
        "line": 700,
        "token": "credentials",
        "context": "- **Environment Management** - Cloudflare credentials now set in current environment immediately"
      },
      {
        "line": 701,
        "token": "sets",
        "context": "- `save_credentials_to_env()` sets both .env file AND os.environ"
      },
      {
        "line": 702,
        "token": "credentials",
        "context": "- Ensures credentials available for Claude Desktop config generation"
      },
      {
        "line": 703,
        "token": "variable",
        "context": "- Proper variable propagation for hybrid and cloudflare backends"
      },
      {
        "line": 704,
        "token": "handle",
        "context": "- **Path Configuration** - Updated `configure_paths()` to handle all backends"
      },
      {
        "line": 705,
        "token": "database",
        "context": "- SQLite database paths for: `sqlite_vec`, `hybrid`, `cloudflare`"
      },
      {
        "line": 706,
        "token": "credentials",
        "context": "- Cloudflare credentials included when backend requires them"
      },
      {
        "line": 707,
        "token": "compatible",
        "context": "- Backward compatible with existing installations"
      },
      {
        "line": 712,
        "token": "compatibility",
        "context": "- `scripts/installation/install.py`: Lines 655-659 (compatibility), 758 (menu), 784-802 (selection), 970-1017 (hybrid install), 1123-1133 (env config), 1304 (pa"
      },
      {
        "line": 713,
        "token": "version",
        "context": "- `src/mcp_memory_service/__init__.py`: Line 50 (version bump)"
      },
      {
        "line": 714,
        "token": "version",
        "context": "- `pyproject.toml`: Line 7 (version bump)"
      },
      {
        "line": 715,
        "token": "simultaneous",
        "context": "- **Concurrent Access Testing**: 5/5 simultaneous writes succeeded without locks"
      },
      {
        "line": 716,
        "token": "HTTP",
        "context": "- **HTTP Server Logs**: Confirmed background Cloudflare sync working (line 369: \"Successfully stored memory\")"
      },
      {
        "line": 722,
        "token": "bloated",
        "context": "- **Document Upload Tag Validation** - Prevents bloated tags from space-separated file paths (Issue #174, PR #179)"
      },
      {
        "line": 723,
        "token": "tags",
        "context": "- **Enhanced Tag Parsing**: Split tags by comma OR space instead of comma only"
      },
      {
        "line": 724,
        "token": "file",
        "context": "- **Robust file:// URI Handling**: Uses `urllib.parse` for proper URL decoding and path handling"
      },
      {
        "line": 725,
        "token": "characters",
        "context": "- Handles URL-encoded characters (e.g., `%20` for spaces)"
      },
      {
        "line": 726,
        "token": "different",
        "context": "- Handles different path formats (e.g., `file:///C:/...`)"
      },
      {
        "line": 727,
        "token": "handles",
        "context": "- Properly handles Windows paths with leading slash from urlparse"
      },
      {
        "line": 728,
        "token": "file",
        "context": "- **File Path Sanitization**: Remove `file://` prefixes, extract filenames only, clean path separators"
      },
      {
        "line": 729,
        "token": "exceeding",
        "context": "- **Explicit Tag Length Validation**: Tags exceeding 100 chars now raise explicit HTTPException instead of being silently dropped"
      },
      {
        "line": 733,
        "token": "enhancement",
        "context": "- **Processing Mode Toggle** - UI enhancement for multiple file uploads (PR #179)"
      },
      {
        "line": 734,
        "token": "files",
        "context": "- **Batch Processing**: All files processed together (faster, default)"
      },
      {
        "line": 735,
        "token": "file",
        "context": "- **Individual Processing**: Each file processed separately with better error isolation"
      },
      {
        "line": 736,
        "token": "only",
        "context": "- Toggle only appears when multiple files are selected"
      },
      {
        "line": 737,
        "token": "help",
        "context": "- Comprehensive help section explaining both modes with pros/cons"
      },
      {
        "line": 741,
        "token": "code",
        "context": "- **Code Quality Improvements** - Eliminated code duplication in document upload endpoints (PR #179)"
      },
      {
        "line": 742,
        "token": "helper",
        "context": "- Extracted `parse_and_validate_tags()` helper function to eliminate duplicate tag parsing logic"
      },
      {
        "line": 743,
        "token": "lines",
        "context": "- Removed 44 lines of duplicate code from `upload_document` and `batch_upload_documents`"
      },
      {
        "line": 744,
        "token": "magic",
        "context": "- Extracted magic number (500ms upload delay) to static constant `INDIVIDUAL_UPLOAD_DELAY`"
      },
      {
        "line": 745,
        "token": "toggle",
        "context": "- Simplified toggle display logic with ternary operator"
      },
      {
        "line": 746,
        "token": "remaining",
        "context": "- Created Issue #180 for remaining medium-priority code quality suggestions"
      },
      {
        "line": 752,
        "token": "robustness",
        "context": "- **Error Handling Improvements** - Enhanced robustness in MemoryService and maintenance scripts (Issue #177)"
      },
      {
        "line": 753,
        "token": "specific",
        "context": "- **MemoryService.store_memory()**: Added specific exception handling for better error classification"
      },
      {
        "line": 754,
        "token": "validation",
        "context": "- `ValueError` â†’ validation errors with \"Validation error\" messages"
      },
      {
        "line": 755,
        "token": "storage",
        "context": "- `httpx.NetworkError/TimeoutException/HTTPStatusError` â†’ storage errors with \"Storage error\" messages"
      },
      {
        "line": 756,
        "token": "unexpected",
        "context": "- Generic `Exception` â†’ unexpected errors with full logging and \"unexpected error\" messages"
      },
      {
        "line": 757,
        "token": "proper",
        "context": "- **Maintenance Scripts**: Added proper error handling to prevent crashes"
      },
      {
        "line": 758,
        "token": "graceful",
        "context": "- `find_cloudflare_duplicates.py`: Wrapped `get_all_memories_bulk()` in try/except, graceful handling of empty results"
      },
      {
        "line": 759,
        "token": "used",
        "context": "- `delete_orphaned_vectors_fixed.py`: Already used public API (no changes needed)"
      },
      {
        "line": 763,
        "token": "public",
        "context": "- **Encapsulation Methods** - New public APIs for Cloudflare storage operations (Issue #177)"
      },
      {
        "line": 764,
        "token": "vector",
        "context": "- `CloudflareStorage.delete_vectors_by_ids()` - Batch vector deletion with proper error handling"
      },
      {
        "line": 765,
        "token": "bulk",
        "context": "- `CloudflareStorage.get_all_memories_bulk()` - Efficient bulk loading without N+1 tag queries"
      },
      {
        "line": 766,
        "token": "converting",
        "context": "- `CloudflareStorage._row_to_memory()` - Helper for converting D1 rows to Memory objects"
      },
      {
        "line": 767,
        "token": "operations",
        "context": "- **Performance**: Bulk operations avoid expensive individual tag lookups"
      },
      {
        "line": 768,
        "token": "instead",
        "context": "- **Maintainability**: Public APIs instead of direct access to private `_retry_request` method"
      },
      {
        "line": 772,
        "token": "conditional",
        "context": "- **Dependency Management** - Added conditional typing-extensions for Python 3.10 (Issue #177)"
      },
      {
        "line": 774,
        "token": "import",
        "context": "- Ensures `NotRequired` import works correctly on Python 3.10"
      },
      {
        "line": 775,
        "token": "impact",
        "context": "- No impact on Python 3.11+ installations"
      },
      {
        "line": 779,
        "token": "pull",
        "context": "- **Gemini Code Assist**: \"This pull request significantly improves the codebase by enhancing error handling and improving encapsulation... well-executed and co"
      },
      {
        "line": 780,
        "token": "review",
        "context": "- **Feedback Addressed**: All review suggestions implemented, including enhanced exception handling"
      },
      {
        "line": 786,
        "token": "code",
        "context": "- **DRY Refactoring** - Eliminated code duplication between MCP and HTTP servers (PR #176, Issue #172)"
      },
      {
        "line": 787,
        "token": "HTTP",
        "context": "- **Problem**: MCP (`mcp_server.py`) and HTTP (`server.py`) servers had 364 lines of duplicated business logic"
      },
      {
        "line": 788,
        "token": "fixes",
        "context": "- Bug fixes applied to one server were missed in the other (e.g., PR #162 tags validation)"
      },
      {
        "line": 789,
        "token": "burden",
        "context": "- Maintenance burden of keeping two implementations synchronized"
      },
      {
        "line": 790,
        "token": "behavioral",
        "context": "- Risk of behavioral inconsistencies between protocols"
      },
      {
        "line": 792,
        "token": "class",
        "context": "- Created `MemoryService` class (442 lines) as single source of truth for business logic"
      },
      {
        "line": 793,
        "token": "thin",
        "context": "- Refactored `mcp_server.py` to thin adapter (-338 lines, now ~50 lines per method)"
      },
      {
        "line": 794,
        "token": "use",
        "context": "- Refactored `server.py` to use MemoryService (169 lines modified)"
      },
      {
        "line": 795,
        "token": "servers",
        "context": "- Both servers now delegate to shared business logic"
      },
      {
        "line": 797,
        "token": "source",
        "context": "- **Single source of truth**: All memory operations (store, retrieve, search, delete) in one place"
      },
      {
        "line": 798,
        "token": "behavior",
        "context": "- **Consistent behavior**: Both protocols guaranteed identical business logic"
      },
      {
        "line": 799,
        "token": "maintenance",
        "context": "- **Easier maintenance**: Bug fixes automatically apply to both servers"
      },
      {
        "line": 800,
        "token": "testability",
        "context": "- **Better testability**: Business logic isolated and independently testable"
      },
      {
        "line": 801,
        "token": "future",
        "context": "- **Prevents future bugs**: Impossible to fix one server and forget the other"
      },
      {
        "line": 802,
        "token": "classes",
        "context": "- **Type Safety**: Added TypedDict classes (`MemoryResult`, `OperationResult`, `HealthStats`) for better type annotations"
      },
      {
        "line": 803,
        "token": "changes",
        "context": "- **Backward Compatibility**: No API changes, both servers remain fully compatible"
      },
      {
        "line": 804,
        "token": "tests",
        "context": "- **Testing**: All tests passing (15/15 Cloudflare storage tests)"
      },
      {
        "line": 805,
        "token": "significant",
        "context": "- **Review**: Gemini Code Assist: \"significant and valuable refactoring... greatly improves maintainability and consistency\""
      },
      {
        "line": 806,
        "token": "improvements",
        "context": "- **Follow-up**: Minor improvements tracked in Issue #177 (error handling, encapsulation)"
      },
      {
        "line": 810,
        "token": "import",
        "context": "- **Python 3.10 Compatibility** - Added `NotRequired` import fallback (src/mcp_memory_service/mcp_server.py:23-26)"
      },
      {
        "line": 812,
        "token": "back",
        "context": "- Falls back to `typing_extensions.NotRequired` on Python 3.10"
      },
      {
        "line": 813,
        "token": "compatibility",
        "context": "- Ensures compatibility across Python versions"
      },
      {
        "line": 817,
        "token": "cleanup",
        "context": "- **Maintenance Scripts** - Cloudflare cleanup utilities (from v8.7.1 work)"
      },
      {
        "line": 818,
        "token": "duplicates",
        "context": "- `scripts/maintenance/find_cloudflare_duplicates.py` - Detect duplicates in Cloudflare D1"
      },
      {
        "line": 819,
        "token": "orphaned",
        "context": "- `scripts/maintenance/delete_orphaned_vectors_fixed.py` - Clean orphaned Vectorize vectors"
      },
      {
        "line": 820,
        "token": "cleanup",
        "context": "- `scripts/maintenance/fast_cleanup_duplicates_with_tracking.sh` - Platform-aware SQLite cleanup"
      },
      {
        "line": 821,
        "token": "detection",
        "context": "- `scripts/maintenance/find_all_duplicates.py` - Platform detection (macOS/Linux paths)"
      },
      {
        "line": 827,
        "token": "vector",
        "context": "- **Cloudflare Vectorize Deletion** - Fixed vector deletion endpoint bug (src/mcp_memory_service/storage/cloudflare.py:671)"
      },
      {
        "line": 828,
        "token": "incorrect",
        "context": "- **Problem**: Used incorrect endpoint `/delete-by-ids` (hyphens) causing 404 Not Found errors, preventing vector deletion"
      },
      {
        "line": 830,
        "token": "correct",
        "context": "- Changed to correct Cloudflare API endpoint `/delete_by_ids` (underscores)"
      },
      {
        "line": 831,
        "token": "payload",
        "context": "- Fixed payload format from `[vector_id]` to `{\"ids\": [vector_id]}`"
      },
      {
        "line": 832,
        "token": "working",
        "context": "- Created working cleanup script: `scripts/maintenance/delete_orphaned_vectors_fixed.py`"
      },
      {
        "line": 833,
        "token": "obsolete",
        "context": "- Removed obsolete broken script: `scripts/maintenance/delete_orphaned_vectors.py`"
      },
      {
        "line": 834,
        "token": "deleted",
        "context": "- **Impact**: Successfully deleted 646 orphaned vectors from Vectorize in 7 batches"
      },
      {
        "line": 835,
        "token": "production",
        "context": "- **Testing**: Verified with production data (646 vectors, 100/batch, all mutations successful)"
      },
      {
        "line": 836,
        "token": "via",
        "context": "- **Discovery**: Found via web research of official Cloudflare Vectorize API documentation"
      },
      {
        "line": 842,
        "token": "similarity",
        "context": "- **Cosine Similarity Migration** - Fixed 0% similarity scores in search results (src/mcp_memory_service/storage/sqlite_vec.py:187)"
      },
      {
        "line": 844,
        "token": "distance",
        "context": "- **Problem**: L2 distance metric gave 0% similarity for all searches due to score calculation `max(0, 1-distance)` returning 0 for distances >1.0"
      },
      {
        "line": 846,
        "token": "embeddings",
        "context": "- Migrated embeddings table from L2 to cosine distance metric"
      },
      {
        "line": 847,
        "token": "score",
        "context": "- Updated score calculation to `1.0 - (distance/2.0)` for cosine range [0,2]"
      },
      {
        "line": 848,
        "token": "automatic",
        "context": "- Added automatic migration logic with database locking retry (exponential backoff)"
      },
      {
        "line": 849,
        "token": "initialized",
        "context": "- Implemented `_initialized` flag to prevent multiple initialization"
      },
      {
        "line": 850,
        "token": "metadata",
        "context": "- Created metadata table for storage configuration persistence"
      },
      {
        "line": 851,
        "token": "scores",
        "context": "- **Performance**: Search scores improved from 0% to 70-79%, exact match accuracy 79.2% (was 61%)"
      },
      {
        "line": 852,
        "token": "embeddings",
        "context": "- **Impact**: 2605 embeddings regenerated successfully"
      },
      {
        "line": 854,
        "token": "search",
        "context": "- **Dashboard Search Improvements** - Enhanced search threshold handling (src/mcp_memory_service/web/static/app.js:283)"
      },
      {
        "line": 855,
        "token": "search",
        "context": "- Fixed search threshold always being sent even when not explicitly set"
      },
      {
        "line": 856,
        "token": "document",
        "context": "- Improved document filtering to properly handle memory object structure"
      },
      {
        "line": 857,
        "token": "send",
        "context": "- Only send `similarity_threshold` parameter when user explicitly sets it"
      },
      {
        "line": 858,
        "token": "handling",
        "context": "- Better handling of `memory.memory_type` and `memory.tags` for document results"
      },
      {
        "line": 862,
        "token": "database",
        "context": "- **Maintenance Scripts** - Comprehensive database maintenance tooling (scripts/maintenance/)"
      },
      {
        "line": 863,
        "token": "all",
        "context": "- **regenerate_embeddings.py** - Regenerate all embeddings after migrations (~5min for 2600 memories)"
      },
      {
        "line": 864,
        "token": "faster",
        "context": "- **fast_cleanup_duplicates.sh** - 1800x faster duplicate removal using direct SQL (<5s for 100+ duplicates vs 2.5 hours via API)"
      },
      {
        "line": 865,
        "token": "duplicate",
        "context": "- **find_all_duplicates.py** - Fast duplicate detection with timestamp normalization (<2s for 2000 memories)"
      },
      {
        "line": 866,
        "token": "documentation",
        "context": "- **README.md** - Complete documentation with performance benchmarks, best practices, and troubleshooting"
      },
      {
        "line": 870,
        "token": "embeddings",
        "context": "- **Migration Approach**: Drop-and-recreate embeddings table to change distance metric (vec0 limitation)"
      },
      {
        "line": 871,
        "token": "backoff",
        "context": "- **Retry Logic**: Exponential backoff for database locking (1s â†’ 2s â†’ 4s delays)"
      },
      {
        "line": 872,
        "token": "operations",
        "context": "- **Performance Benchmark**: Direct SQL vs API operations show 1800x speedup for bulk deletions"
      },
      {
        "line": 873,
        "token": "normalization",
        "context": "- **Duplicate Detection**: Content normalization removes timestamps for semantic comparison using MD5 hashing"
      },
      {
        "line": 879,
        "token": "document",
        "context": "- **Document Ingestion System** - Complete document upload and management through web UI (#147, #164)"
      },
      {
        "line": 881,
        "token": "file",
        "context": "- **Single and Batch Upload**: Drag-and-drop or file browser support for PDF, TXT, MD, JSON documents"
      },
      {
        "line": 882,
        "token": "document",
        "context": "- **Background Processing**: Async document processing with progress tracking and status updates"
      },
      {
        "line": 883,
        "token": "tab",
        "context": "- **Document Management UI**: New Documents tab in web dashboard with full CRUD operations"
      },
      {
        "line": 884,
        "token": "all",
        "context": "- **Upload History**: Track all document ingestion with status, chunk counts, and file sizes"
      },
      {
        "line": 885,
        "token": "displaying",
        "context": "- **Document Viewer**: Modal displaying all memory chunks from uploaded documents (up to 1000 chunks)"
      },
      {
        "line": 886,
        "token": "documents",
        "context": "- **Document Removal**: Delete documents and their associated memory chunks with confirmation"
      },
      {
        "line": 887,
        "token": "search",
        "context": "- **Search Ingested Content**: Semantic search within uploaded documents to verify indexing"
      },
      {
        "line": 888,
        "token": "document",
        "context": "- **Claude Commands**: `/memory-ingest` and `/memory-ingest-dir` for CLI document upload"
      },
      {
        "line": 890,
        "token": "document",
        "context": "- `POST /api/documents/upload` - Single document upload"
      },
      {
        "line": 891,
        "token": "document",
        "context": "- `POST /api/documents/batch-upload` - Multiple document upload"
      },
      {
        "line": 892,
        "token": "history",
        "context": "- `GET /api/documents/history` - Upload history"
      },
      {
        "line": 893,
        "token": "status",
        "context": "- `GET /api/documents/status/{upload_id}` - Upload status"
      },
      {
        "line": 894,
        "token": "document",
        "context": "- `GET /api/documents/search-content/{upload_id}` - View document chunks"
      },
      {
        "line": 895,
        "token": "document",
        "context": "- `DELETE /api/documents/remove/{upload_id}` - Remove document"
      },
      {
        "line": 896,
        "token": "remove",
        "context": "- `DELETE /api/documents/remove-by-tags` - Bulk remove by tags"
      },
      {
        "line": 898,
        "token": "lines",
        "context": "- `src/mcp_memory_service/web/api/documents.py` (779 lines) - Document API"
      },
      {
        "line": 899,
        "token": "claude_commands/memory-ingest.md",
        "context": "- `claude_commands/memory-ingest.md` - Single document ingestion command"
      },
      {
        "line": 900,
        "token": "claude_commands/memory-ingest-dir.md",
        "context": "- `claude_commands/memory-ingest-dir.md` - Directory ingestion command"
      },
      {
        "line": 901,
        "token": "docs/development/dashboard-workflow.md",
        "context": "- `docs/development/dashboard-workflow.md` - Development workflow documentation"
      },
      {
        "line": 903,
        "token": "guidance",
        "context": "- **Chunking Configuration Help** - Interactive UI guidance for document chunking parameters"
      },
      {
        "line": 905,
        "token": "help",
        "context": "- Inline help panels with collapsible sections for chunk size and overlap settings"
      },
      {
        "line": 906,
        "token": "diagram",
        "context": "- Visual diagram showing how overlap works between consecutive chunks"
      },
      {
        "line": 907,
        "token": "recommendations",
        "context": "- Pre-configured recommendations (Default: 1000/200, Smaller: 500/100, Larger: 2000/400)"
      },
      {
        "line": 908,
        "token": "guidelines",
        "context": "- Rule-of-thumb guidelines (15-25% overlap of chunk size)"
      },
      {
        "line": 909,
        "token": "dark",
        "context": "- Full dark mode support for all help elements"
      },
      {
        "line": 911,
        "token": "validation",
        "context": "- **Tag Length Validation** - Server-side validation to prevent data corruption (#174)"
      },
      {
        "line": 912,
        "token": "tag",
        "context": "- Maximum tag length enforced at 100 characters"
      },
      {
        "line": 913,
        "token": "both",
        "context": "- Validation on both single and batch upload endpoints"
      },
      {
        "line": 914,
        "token": "error",
        "context": "- Clear error messages showing first invalid tag"
      },
      {
        "line": 915,
        "token": "filtering",
        "context": "- Frontend filtering to hide malformed tags in display"
      },
      {
        "line": 916,
        "token": "bloated",
        "context": "- Prevents bloated tags from accidental file path pasting"
      },
      {
        "line": 920,
        "token": "critical",
        "context": "- **Security Vulnerabilities** - Multiple critical security fixes addressed"
      },
      {
        "line": 922,
        "token": "traversal",
        "context": "- Path traversal vulnerability in file uploads (use `tempfile.NamedTemporaryFile()`)"
      },
      {
        "line": 923,
        "token": "prevention",
        "context": "- XSS prevention in tag display and event handlers (escape all user-provided filenames)"
      },
      {
        "line": 924,
        "token": "compliance",
        "context": "- CSP compliance by removing inline `onclick` handlers, using `addEventListener` instead"
      },
      {
        "line": 925,
        "token": "input",
        "context": "- Proper input validation and sanitization throughout upload flow"
      },
      {
        "line": 927,
        "token": "fixes",
        "context": "- **Document Viewer Critical Bugs** - Comprehensive fixes for document management"
      },
      {
        "line": 929,
        "token": "chunks",
        "context": "- **Chunk Limit**: Increased from 10 to 1000 chunks (was only showing first 10 of 430 chunks)"
      },
      {
        "line": 930,
        "token": "now",
        "context": "- **Upload Session Persistence**: Documents now viewable after server restart (session optional, uses `upload_id` tag search)"
      },
      {
        "line": 931,
        "token": "filename",
        "context": "- **Filename Retrieval**: Get filename from memory metadata when session unavailable"
      },
      {
        "line": 932,
        "token": "display",
        "context": "- **Batch File Size**: Calculate and display total file size for batch uploads (was showing 0.0 KB)"
      },
      {
        "line": 933,
        "token": "duplicate",
        "context": "- **Multiple Confirmation Dialogs**: Fixed duplicate event listeners causing N dialogs for N uploads"
      },
      {
        "line": 934,
        "token": "flag",
        "context": "- **Event Listener Deduplication**: Added `documentsListenersSetup` flag to prevent duplicate setup"
      },
      {
        "line": 936,
        "token": "implementation",
        "context": "- **Storage Backend Enhancements** - `delete_by_tags` implementation for document deletion"
      },
      {
        "line": 938,
        "token": "method",
        "context": "- Added `delete_by_tags()` method to `MemoryStorage` base class with error aggregation"
      },
      {
        "line": 939,
        "token": "single",
        "context": "- Optimized `SqliteVecMemoryStorage.delete_by_tags()` with single SQL query using OR conditions"
      },
      {
        "line": 940,
        "token": "sync",
        "context": "- Added `HybridMemoryStorage.delete_by_tags()` with sync queue support for cloud backends"
      },
      {
        "line": 941,
        "token": "return",
        "context": "- Fixed return value handling (tuple unpacking instead of dict access)"
      },
      {
        "line": 943,
        "token": "user",
        "context": "- **UI/UX Improvements** - Enhanced user experience across document management"
      },
      {
        "line": 945,
        "token": "scrolling",
        "context": "- Added scrolling to Recent Memories section (max-height: 600px) to prevent infinite expansion"
      },
      {
        "line": 946,
        "token": "chunk",
        "context": "- Document chunk modal now scrollable (max-height: 400px) for long content"
      },
      {
        "line": 947,
        "token": "visibility",
        "context": "- Modal visibility fixed with proper `active` class pattern and CSS transitions"
      },
      {
        "line": 948,
        "token": "mode",
        "context": "- Dark mode support for all document UI components (chunk items, modals, previews)"
      },
      {
        "line": 949,
        "token": "handlers",
        "context": "- Event handlers for View/Remove buttons in document preview cards"
      },
      {
        "line": 950,
        "token": "design",
        "context": "- Responsive design with mobile breakpoints (768px, 1024px)"
      },
      {
        "line": 952,
        "token": "cleanup",
        "context": "- **Resource Management** - Proper cleanup and error handling"
      },
      {
        "line": 954,
        "token": "file",
        "context": "- Temp file cleanup moved to `finally` blocks to prevent orphaned files"
      },
      {
        "line": 955,
        "token": "extension",
        "context": "- File extension validation fixed (strip leading dot for consistent checking)"
      },
      {
        "line": 956,
        "token": "cleanup",
        "context": "- Session cleanup timing bug fixed (use `total_seconds()` instead of `.seconds`)"
      },
      {
        "line": 957,
        "token": "registration",
        "context": "- Loader registration order corrected (PDFLoader takes precedence as fallback)"
      },
      {
        "line": 959,
        "token": "both",
        "context": "- **MCP Server Tag Format Support** - Accept both string and array formats"
      },
      {
        "line": 960,
        "token": "tools",
        "context": "- MCP tools now accept `\"tag1,tag2\"` (string) and `[\"tag1\", \"tag2\"]` (array)"
      },
      {
        "line": 961,
        "token": "tag",
        "context": "- Consistent tag handling between API and MCP endpoints"
      },
      {
        "line": 962,
        "token": "validation",
        "context": "- Fixes validation errors from schema mismatches"
      },
      {
        "line": 966,
        "token": "error",
        "context": "- **API Response Improvements** - Better error messages and status handling"
      },
      {
        "line": 967,
        "token": "timestamp",
        "context": "- Float timestamp handling in document search (convert via `datetime.fromtimestamp()`)"
      },
      {
        "line": 968,
        "token": "success",
        "context": "- Partial success handling for bulk operations with clear error reporting"
      },
      {
        "line": 969,
        "token": "tracking",
        "context": "- Progress tracking for background tasks with status updates"
      },
      {
        "line": 973,
        "token": "reviews",
        "context": "- **Testing**: 19 Gemini Code Assist reviews addressed with comprehensive fixes"
      },
      {
        "line": 974,
        "token": "viewer",
        "context": "- **Performance**: Document viewer handles 430+ chunks efficiently"
      },
      {
        "line": 975,
        "token": "temp",
        "context": "- **Compatibility**: Cross-platform temp file handling (Windows, macOS, Linux)"
      },
      {
        "line": 976,
        "token": "dead",
        "context": "- **Code Quality**: Removed dead code, duplicate docstrings, and unused Pydantic models"
      },
      {
        "line": 980,
        "token": "breaking",
        "context": "- No breaking changes - fully backward compatible"
      },
      {
        "line": 981,
        "token": "installations",
        "context": "- Existing installations will automatically gain document ingestion capabilities"
      },
      {
        "line": 982,
        "token": "validation",
        "context": "- Tag validation only affects new uploads (existing tags unchanged)"
      },
      {
        "line": 988,
        "token": "improved",
        "context": "- **Memory Hooks: Expanded Git Keyword Extraction** - Dramatically improved memory retrieval by capturing more relevant technical terms from git commits"
      },
      {
        "line": 989,
        "token": "keyword",
        "context": "- **Problem**: Limited keyword extraction (only 12 terms) missed important development context"
      },
      {
        "line": 990,
        "token": "analyzer",
        "context": "- Git analyzer captured only generic terms: `fix, memory, chore, feat, refactor`"
      },
      {
        "line": 991,
        "token": "work",
        "context": "- Recent work on timestamp parsing, dashboard, analytics not reflected in queries"
      },
      {
        "line": 992,
        "token": "numbers",
        "context": "- Version numbers (v8.5.12, v8.5.13) not extracted"
      },
      {
        "line": 993,
        "token": "hooks",
        "context": "- Memory hooks couldn't match against specific technical work"
      },
      {
        "line": 994,
        "token": "keyword",
        "context": "- **Solution**: Expanded keyword extraction in `git-analyzer.js`"
      },
      {
        "line": 995,
        "token": "terms",
        "context": "- **Technical Terms**: Increased from 12 to 38 terms including:"
      },
      {
        "line": 996,
        "token": "timestamp",
        "context": "- Time/Date: `timestamp, parsing, sort, sorting, date, age`"
      },
      {
        "line": 997,
        "token": "dashboard",
        "context": "- Dashboard: `dashboard, analytics, footer, layout, grid, css, stats, display`"
      },
      {
        "line": 998,
        "token": "async",
        "context": "- Development: `async, sync, bugfix, release, version`"
      },
      {
        "line": 999,
        "token": "embedding",
        "context": "- Features: `embedding, consolidation, memory, retrieval, scoring`"
      },
      {
        "line": 1000,
        "token": "api",
        "context": "- Infrastructure: `api, endpoint, server, http, mcp, client, protocol`"
      },
      {
        "line": 1001,
        "token": "regex",
        "context": "- **Version Extraction**: Added regex to capture version numbers (v8.5.12, v8.5.13, etc.)"
      },
      {
        "line": 1002,
        "token": "terms",
        "context": "- **Changelog Terms**: Expanded from 12 to 23 terms with same additions"
      },
      {
        "line": 1003,
        "token": "capacity",
        "context": "- **Keyword Limits**: Increased capacity"
      },
      {
        "line": 1004,
        "token": "keywords",
        "context": "- keywords: 15 â†’ 20 terms"
      },
      {
        "line": 1005,
        "token": "themes",
        "context": "- themes: 10 â†’ 12 entries"
      },
      {
        "line": 1006,
        "token": "entries",
        "context": "- filePatterns: 10 â†’ 12 entries"
      },
      {
        "line": 1008,
        "token": "generic",
        "context": "- **Before**: 5 generic terms â†’ limited semantic matching"
      },
      {
        "line": 1009,
        "token": "specific",
        "context": "- **After**: 20 specific development terms â†’ precise context retrieval"
      },
      {
        "line": 1010,
        "token": "feat",
        "context": "- Example: `feat, git, memory, retrieval, fix, timestamp, age, v8.5.8, chore, version, v8.5.13, sort, date, dashboard, analytics, stats, display, footer, layout"
      },
      {
        "line": 1011,
        "token": "hooks",
        "context": "- **Result**: Memory hooks now capture and retrieve memories about specific technical work (releases, features, bugfixes)"
      },
      {
        "line": 1013,
        "token": "function",
        "context": "- `claude-hooks/utilities/git-analyzer.js` - Expanded `extractDevelopmentKeywords()` function (commit 4a02c1a)"
      },
      {
        "line": 1014,
        "token": "improved",
        "context": "- **Testing**: Verified improved extraction with test run showing 20 relevant keywords vs previous 5 generic terms"
      },
      {
        "line": 1020,
        "token": "critical",
        "context": "- **Memory Hooks: Unix Timestamp Parsing in Date Sorting** - Fixed critical bug where memories were not sorting chronologically in Claude Code session start"
      },
      {
        "line": 1021,
        "token": "constructor",
        "context": "- **Root Cause**: JavaScript `Date()` constructor expects milliseconds but API returns Unix timestamps in seconds"
      },
      {
        "line": 1022,
        "token": "hooks",
        "context": "- **Impact**: Memory hooks showed old memories (Oct 11-21) before recent ones (Oct 23) despite `sortByCreationDate: true` configuration"
      },
      {
        "line": 1024,
        "token": "returns",
        "context": "- API returns `created_at` as Unix timestamp in seconds (e.g., 1729700000)"
      },
      {
        "line": 1025,
        "token": "new",
        "context": "- JavaScript `new Date(1729700000)` interprets this as milliseconds â†’ January 21, 1970"
      },
      {
        "line": 1026,
        "token": "dates",
        "context": "- All dates appeared as 1970-01-01, breaking chronological sort"
      },
      {
        "line": 1027,
        "token": "scores",
        "context": "- Relevance scores then determined order, causing old high-scoring memories to rank first"
      },
      {
        "line": 1029,
        "token": "helper",
        "context": "- Created `getTimestamp()` helper function in `session-start.js` (lines 907-928)"
      },
      {
        "line": 1030,
        "token": "seconds",
        "context": "- Converts `created_at` (seconds) to milliseconds by multiplying by 1000"
      },
      {
        "line": 1031,
        "token": "back",
        "context": "- Falls back to `created_at_iso` string parsing if available"
      },
      {
        "line": 1032,
        "token": "date",
        "context": "- Proper date comparison ensures newest memories sort first"
      },
      {
        "line": 1033,
        "token": "hooks",
        "context": "- **Result**: Memory hooks now correctly show most recent project memories at session start"
      },
      {
        "line": 1035,
        "token": "timestamp",
        "context": "- `claude-hooks/core/session-start.js` - Added Unix timestamp conversion helper (commit 71606e5)"
      },
      {
        "line": 1041,
        "token": "analytics",
        "context": "- **Dashboard: Analytics Stats Display** - Fixed analytics tab showing 0/N/A for key metrics"
      },
      {
        "line": 1043,
        "token": "mismatch",
        "context": "- **Root Cause**: Async/sync mismatch in `get_stats()` method implementations"
      },
      {
        "line": 1044,
        "token": "dashboard",
        "context": "- **Impact**: Analytics dashboard displayed only \"this week\" count; total memories, unique tags, and database size showed 0 or N/A"
      },
      {
        "line": 1046,
        "token": "async",
        "context": "- Made `SqliteVecMemoryStorage.get_stats()` async (line 1242)"
      },
      {
        "line": 1047,
        "token": "properly",
        "context": "- Updated `HybridMemoryStorage.get_stats()` to properly await primary storage call (line 878)"
      },
      {
        "line": 1048,
        "token": "hybrid",
        "context": "- Added `database_size_bytes` and `database_size_mb` to hybrid stats response"
      },
      {
        "line": 1049,
        "token": "all",
        "context": "- Fixed all callers in `health.py` and `mcp.py` to await `get_stats()`"
      },
      {
        "line": 1050,
        "token": "metrics",
        "context": "- **Result**: All metrics now display correctly (1778 memories, 2549 tags, 7.74MB)"
      },
      {
        "line": 1052,
        "token": "async",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` - Made get_stats() async"
      },
      {
        "line": 1053,
        "token": "await",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` - Added await and database size fields"
      },
      {
        "line": 1054,
        "token": "async",
        "context": "- `src/mcp_memory_service/web/api/health.py` - Simplified async handling"
      },
      {
        "line": 1055,
        "token": "await",
        "context": "- `src/mcp_memory_service/web/api/mcp.py` - Added await calls"
      },
      {
        "line": 1057,
        "token": "footer",
        "context": "- **Dashboard: Footer Layout** - Fixed footer appearing between header and content instead of at bottom"
      },
      {
        "line": 1059,
        "token": "not",
        "context": "- **Root Cause**: Footer not included in CSS grid layout template"
      },
      {
        "line": 1060,
        "token": "visual",
        "context": "- **Impact**: Broken visual layout with footer misplaced in page flow"
      },
      {
        "line": 1062,
        "token": "grid",
        "context": "- Updated `.app-container` grid to include 5th row with \"footer\" area"
      },
      {
        "line": 1063,
        "token": "footer",
        "context": "- Assigned `grid-area: footer` to `.app-footer` class"
      },
      {
        "line": 1064,
        "token": "now",
        "context": "- **Result**: Footer now correctly positioned at bottom of page"
      },
      {
        "line": 1066,
        "token": "grid",
        "context": "- `src/mcp_memory_service/web/static/style.css` - Updated grid layout (lines 101-110, 1899)"
      },
      {
        "line": 1068,
        "token": "HTTP",
        "context": "- **HTTP Server: Runtime Warnings** - Eliminated \"coroutine was never awaited\" warnings in logs"
      },
      {
        "line": 1069,
        "token": "detection",
        "context": "- **Root Cause**: Legacy sync/async detection code after all backends became async"
      },
      {
        "line": 1070,
        "token": "warnings",
        "context": "- **Impact**: Runtime warnings cluttering server logs"
      },
      {
        "line": 1071,
        "token": "hybrid",
        "context": "- **Fix**: Removed hybrid backend detection logic, all `get_stats()` calls now consistently await"
      },
      {
        "line": 1072,
        "token": "server",
        "context": "- **Result**: Clean server logs with no warnings"
      },
      {
        "line": 1078,
        "token": "backend",
        "context": "- **Consolidation System: Embedding Retrieval in get_all_memories()** - Fixed SQLite-vec backend to actually retrieve embeddings (PR #171, fixes #169)"
      },
      {
        "line": 1079,
        "token": "methods",
        "context": "- **Root Cause**: `get_all_memories()` methods only queried `memories` table without joining `memory_embeddings` virtual table"
      },
      {
        "line": 1080,
        "token": "system",
        "context": "- **Impact**: Consolidation system received 0 embeddings despite 1773 memories in database, preventing association discovery and semantic clustering"
      },
      {
        "line": 1081,
        "token": "claimed",
        "context": "- **Discovery**: PR #170 claimed to fix this but only modified debug tools; actual fix required changes to `sqlite_vec.py`"
      },
      {
        "line": 1083,
        "token": "helper",
        "context": "- Added `deserialize_embedding()` helper function using numpy.frombuffer() (sqlite-vec only provides serialize, not deserialize)"
      },
      {
        "line": 1084,
        "token": "both",
        "context": "- Updated both `get_all_memories()` methods (lines 1468 and 1681) with LEFT JOIN to `memory_embeddings` table"
      },
      {
        "line": 1085,
        "token": "helper",
        "context": "- Modified `_row_to_memory()` helper to handle 10-column rows with embeddings"
      },
      {
        "line": 1086,
        "token": "improvement",
        "context": "- Applied Gemini Code Assist improvement to simplify row unpacking logic"
      },
      {
        "line": 1087,
        "token": "memories",
        "context": "- **Test Results** (1773 memories):"
      },
      {
        "line": 1088,
        "token": "retrieved",
        "context": "- Embeddings retrieved: 1773/1773 (100%)"
      },
      {
        "line": 1089,
        "token": "discovered",
        "context": "- Associations discovered: 90-91 (0.3-0.7 similarity range)"
      },
      {
        "line": 1090,
        "token": "clusters",
        "context": "- Semantic clusters created: 3 (DBSCAN grouping)"
      },
      {
        "line": 1092,
        "token": "seconds",
        "context": "- Duration: 1.25-1.42 seconds"
      },
      {
        "line": 1093,
        "token": "all",
        "context": "- **Consolidation Status**: âœ… **FULLY FUNCTIONAL** (all three blockers fixed: PR #166, #168, #171)"
      },
      {
        "line": 1095,
        "token": "embedding",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` - Added embedding retrieval to all memory fetch operations"
      },
      {
        "line": 1101,
        "token": "debug",
        "context": "- **Debug Tools: Embedding Retrieval Functionality** - Fixed debug MCP tools for SQLite-vec backend (PR #170, addresses #169)"
      },
      {
        "line": 1102,
        "token": "function",
        "context": "- **Root Cause**: `debug_retrieve_memory` function was written for ChromaDB but codebase now uses SQLite-vec storage"
      },
      {
        "line": 1103,
        "token": "tools",
        "context": "- **Impact**: Debug tools (`debug_retrieve`) were broken, preventing debugging of embedding retrieval operations"
      },
      {
        "line": 1104,
        "token": "debug",
        "context": "- **Fix**: Updated debug utilities to work with current SQLite-vec storage backend"
      },
      {
        "line": 1106,
        "token": "use",
        "context": "- Fixed `debug_retrieve_memory` in `src/mcp_memory_service/utils/debug.py` to use storage's `retrieve()` method"
      },
      {
        "line": 1107,
        "token": "debug",
        "context": "- Enhanced debug output with similarity scores, backend information, query details, and raw distance values"
      },
      {
        "line": 1108,
        "token": "proper",
        "context": "- Added proper filtering by similarity threshold"
      },
      {
        "line": 1110,
        "token": "compatibility",
        "context": "- `src/mcp_memory_service/utils/debug.py` - Updated for SQLite-vec compatibility"
      },
      {
        "line": 1111,
        "token": "debug",
        "context": "- `src/mcp_memory_service/server.py` - Enhanced debug output formatting"
      },
      {
        "line": 1115,
        "token": "debugging",
        "context": "- **Debug Tool: get_raw_embedding MCP Tool** - New debugging capability for embedding inspection (PR #170)"
      },
      {
        "line": 1116,
        "token": "debugging",
        "context": "- **Purpose**: Direct debugging of embedding generation process"
      },
      {
        "line": 1118,
        "token": "raw",
        "context": "- Shows raw embedding vectors with configurable display (first 10 and last 10 values for readability)"
      },
      {
        "line": 1119,
        "token": "embedding",
        "context": "- Displays embedding dimensions"
      },
      {
        "line": 1120,
        "token": "generation",
        "context": "- Shows generation status and error messages"
      },
      {
        "line": 1121,
        "token": "issues",
        "context": "- **Use Case**: Troubleshooting embedding-related issues in consolidation and semantic search"
      },
      {
        "line": 1123,
        "token": "tool",
        "context": "- `src/mcp_memory_service/server.py` - Added `get_raw_embedding` tool and handler"
      },
      {
        "line": 1129,
        "token": "method",
        "context": "- **Consolidation System: Missing update_memory() Method** - Added `update_memory()` method to all storage backends (PR #166, fixes #165)"
      },
      {
        "line": 1131,
        "token": "backends",
        "context": "- **Root Cause**: Storage backends only implemented `update_memory_metadata()`, but consolidation system's `StorageProtocol` required `update_memory()` for savi"
      },
      {
        "line": 1132,
        "token": "consolidation",
        "context": "- **Impact**: Prevented consolidation system from saving associations, clusters, compressions, and archived memories"
      },
      {
        "line": 1133,
        "token": "method",
        "context": "- **Fix**: Added `update_memory()` method to base `MemoryStorage` class, delegating to `update_memory_metadata()` for proper implementation"
      },
      {
        "line": 1136,
        "token": "backend",
        "context": "- Verified on SQLite-vec backend with 1773 memories"
      },
      {
        "line": 1137,
        "token": "local",
        "context": "- Performance: 5011 memories/second (local SQLite-vec) vs 2.5 mem/s (Cloudflare)"
      },
      {
        "line": 1138,
        "token": "successfully",
        "context": "- Method successfully executes without AttributeError"
      },
      {
        "line": 1140,
        "token": "base",
        "context": "- `src/mcp_memory_service/storage/base.py` - Added `update_memory()` to base class"
      },
      {
        "line": 1141,
        "token": "HTTP",
        "context": "- `src/mcp_memory_service/storage/http_client.py` - Updated HTTP client call"
      },
      {
        "line": 1142,
        "token": "method",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` - Fixed method reference"
      },
      {
        "line": 1144,
        "token": "timezone",
        "context": "- **Consolidation System: Datetime Timezone Mismatch** - Fixed timezone handling in decay calculator (PR #168, fixes #167)"
      },
      {
        "line": 1145,
        "token": "datetime",
        "context": "- **Root Cause**: Mixed offset-naive and offset-aware datetime objects causing `TypeError` when calculating time differences"
      },
      {
        "line": 1147,
        "token": "decay",
        "context": "- **Impact**: Blocked decay calculator from completing, preventing associations, clustering, compression, and archival"
      },
      {
        "line": 1148,
        "token": "timezone",
        "context": "- **Fix**: Added timezone normalization to ensure both `current_time` and `last_accessed` are timezone-aware (UTC) before subtraction"
      },
      {
        "line": 1150,
        "token": "datetime",
        "context": "- Check if datetime is timezone-naive and convert to UTC if needed"
      },
      {
        "line": 1151,
        "token": "consistent",
        "context": "- Ensures consistent timezone handling across all datetime operations"
      },
      {
        "line": 1153,
        "token": "timezone",
        "context": "- `src/mcp_memory_service/consolidation/decay.py` - Added timezone normalization logic"
      },
      {
        "line": 1157,
        "token": "setup",
        "context": "- **Consolidation Documentation** - Comprehensive setup and testing guides"
      },
      {
        "line": 1158,
        "token": "configuration",
        "context": "- `CONSOLIDATION_SETUP.md` - Complete configuration guide for dream-inspired memory consolidation"
      },
      {
        "line": 1159,
        "token": "results",
        "context": "- `CONSOLIDATION_TEST_RESULTS.md` - Expected results and troubleshooting guide"
      },
      {
        "line": 1160,
        "token": "covers",
        "context": "- Documentation covers all 7 consolidation engines and 7 MCP tools"
      },
      {
        "line": 1166,
        "token": "timestamp",
        "context": "- **Critical: Memory Age Calculation in Hooks** - Fixed Unix timestamp handling that caused memories to appear 20,363 days old (55 years) when they were actuall"
      },
      {
        "line": 1167,
        "token": "constructor",
        "context": "- **Root Cause**: JavaScript's `Date()` constructor expects milliseconds, but SQLite database stores Unix timestamps in seconds. Three functions incorrectly tre"
      },
      {
        "line": 1169,
        "token": "showed",
        "context": "- Memory Age Analyzer showed `avgAge: 20363` days instead of actual age"
      },
      {
        "line": 1170,
        "token": "memory",
        "context": "- Stale memory detection incorrectly triggered (`isStale: true`)"
      },
      {
        "line": 1171,
        "token": "memory",
        "context": "- Recent memory percentage showed 0% when should be 100%"
      },
      {
        "line": 1172,
        "token": "decay",
        "context": "- Time decay scores incorrect (1% instead of 100% for today's memories)"
      },
      {
        "line": 1173,
        "token": "bonus",
        "context": "- Recency bonus not applied (0% instead of +15%)"
      },
      {
        "line": 1174,
        "token": "type",
        "context": "- **Fix**: Added type checking to convert Unix timestamps properly - multiply by 1000 when timestamp is a number (seconds), pass through when it's an ISO string"
      },
      {
        "line": 1175,
        "token": "age",
        "context": "- **Impact**: Memory age calculations now accurate, stale detection works correctly, recency bonuses applied properly"
      },
      {
        "line": 1177,
        "token": "lines",
        "context": "- `claude-hooks/utilities/memory-scorer.js` (lines 11-17, 237-243, 524-534)"
      },
      {
        "line": 1178,
        "token": "now",
        "context": "- **Test Results**: Memories now show correct ages (0.4 days vs 20,363 days before fix)"
      },
      {
        "line": 1179,
        "token": "platforms",
        "context": "- **Platform**: All platforms (macOS, Linux, Windows)"
      },
      {
        "line": 1183,
        "token": "automatic",
        "context": "- **Installer Enhancement**: Added automatic statusLine configuration for v8.5.7 features"
      },
      {
        "line": 1184,
        "token": "now",
        "context": "- Installer now copies `statusline.sh` to `~/.claude/hooks/`"
      },
      {
        "line": 1185,
        "token": "dependency",
        "context": "- Checks for `jq` dependency (required for statusLine parsing)"
      },
      {
        "line": 1186,
        "token": "adds",
        "context": "- Automatically adds `statusLine` configuration to `settings.json`"
      },
      {
        "line": 1187,
        "token": "documentation",
        "context": "- Enhanced documentation for statusLine setup and requirements"
      },
      {
        "line": 1191,
        "token": "required",
        "context": "- Added `jq` as required dependency for statusLine feature"
      },
      {
        "line": 1192,
        "token": "configuration",
        "context": "- Documented statusLine configuration in README.md installation section"
      },
      {
        "line": 1193,
        "token": "timestamp",
        "context": "- Clarified Unix timestamp handling in memory-scorer.js code comments"
      },
      {
        "line": 1199,
        "token": "complementary",
        "context": "- **SessionStart Hook Visibility Features** - Three complementary methods to view session memory context"
      },
      {
        "line": 1200,
        "token": "bordered",
        "context": "- **Visible Summary Output**: Clean bordered console display showing project, storage, memory count with recent indicator, and git context"
      },
      {
        "line": 1201,
        "token": "session",
        "context": "- **Detailed Log File**: Complete session context written to `~/.claude/last-session-context.txt` including project details, storage backend, memory statistics,"
      },
      {
        "line": 1202,
        "token": "status",
        "context": "- **Status Line Display**: Always-visible status bar at bottom of Claude Code terminal showing `ğŸ§  8 (5 recent) | ğŸ“Š 10 commits`"
      },
      {
        "line": 1204,
        "token": "summary",
        "context": "- `~/.claude/hooks/core/session-start.js` - Added summary output, log file generation, and cache file write logic"
      },
      {
        "line": 1205,
        "token": "configuration",
        "context": "- `~/.claude/settings.json` - Added statusLine configuration"
      },
      {
        "line": 1207,
        "token": "script",
        "context": "- `~/.claude/statusline.sh` - Bash script for status line display (requires `jq`)"
      },
      {
        "line": 1208,
        "token": "detailed",
        "context": "- `~/.claude/last-session-context.txt` - Auto-generated detailed log file"
      },
      {
        "line": 1209,
        "token": "line",
        "context": "- `~/.claude/hooks/utilities/session-cache.json` - Status line data cache"
      },
      {
        "line": 1210,
        "token": "hook",
        "context": "- **Platform**: Linux/macOS (Windows SessionStart hook still broken - issue #160)"
      },
      {
        "line": 1214,
        "token": "hook",
        "context": "- SessionStart hook output now provides visible feedback instead of being hidden in system-reminder tags"
      },
      {
        "line": 1215,
        "token": "line",
        "context": "- Status line updates every 300ms with latest session memory context"
      },
      {
        "line": 1216,
        "token": "file",
        "context": "- Log file automatically updates on each SessionStart hook execution"
      },
      {
        "line": 1220,
        "token": "difference",
        "context": "- Clarified difference between macOS and Linux hook output behavior (both use system-reminder tags since v2.2.0)"
      },
      {
        "line": 1221,
        "token": "wrapper",
        "context": "- Documented that `<session-start-hook>` wrapper tags were intentionally removed in v2.2.0 for cleaner output"
      },
      {
        "line": 1222,
        "token": "troubleshooting",
        "context": "- Added troubleshooting guide for status line visibility features"
      },
      {
        "line": 1228,
        "token": "HTTPS",
        "context": "- **Critical: Memory Hooks HTTPS SSL Certificate Validation** - Fixed hooks failing to connect to HTTPS server with self-signed certificates"
      },
      {
        "line": 1229,
        "token": "HTTPS",
        "context": "- **Root Cause**: Node.js HTTPS requests were rejecting self-signed SSL certificates silently, causing \"No active connection available\" errors"
      },
      {
        "line": 1231,
        "token": "showed",
        "context": "- Hooks showed \"Failed to connect using any available protocol\""
      },
      {
        "line": 1232,
        "token": "memories",
        "context": "- No memories retrieved despite server being healthy"
      },
      {
        "line": 1233,
        "token": "HTTP",
        "context": "- HTTP server running but hooks couldn't establish connection"
      },
      {
        "line": 1234,
        "token": "false",
        "context": "- **Fix**: Added `rejectUnauthorized: false` to both health check and API POST request options in memory-client.js"
      },
      {
        "line": 1235,
        "token": "now",
        "context": "- **Impact**: Hooks now successfully connect via HTTPS to servers with self-signed certificates"
      },
      {
        "line": 1237,
        "token": "lines",
        "context": "- `claude-hooks/utilities/memory-client.js` (lines 174, 257)"
      },
      {
        "line": 1238,
        "token": "deployed",
        "context": "- `~/.claude/hooks/utilities/memory-client.js` (deployed)"
      },
      {
        "line": 1239,
        "token": "memories",
        "context": "- **Test Results**: âœ… 7 memories retrieved from 1558 total, all phases working correctly"
      },
      {
        "line": 1240,
        "token": "platforms",
        "context": "- **Platform**: All platforms (macOS, Linux, Windows)"
      },
      {
        "line": 1244,
        "token": "hooks",
        "context": "- Memory hooks now support HTTPS endpoints with self-signed certificates without manual certificate trust configuration"
      },
      {
        "line": 1250,
        "token": "hook",
        "context": "- **Critical: Claude Code Hooks Configuration** - Fixed session-start hook hanging/unresponsiveness on Windows"
      },
      {
        "line": 1251,
        "token": "forced",
        "context": "- **Root Cause**: Missing forced process exit in session-start.js caused Node.js event loop to remain active with unclosed connections"
      },
      {
        "line": 1252,
        "token": "finally",
        "context": "- **Fix 1**: Added `.finally()` block with 100ms delayed `process.exit(0)` to ensure clean termination"
      },
      {
        "line": 1253,
        "token": "port",
        "context": "- **Fix 2**: Corrected port mismatch in `~/.claude/hooks/config.json` (8889 â†’ 8001) to match HTTP server"
      },
      {
        "line": 1254,
        "token": "now",
        "context": "- **Impact**: Hooks now complete in <15 seconds without hanging, Claude Code remains responsive"
      },
      {
        "line": 1256,
        "token": "lines",
        "context": "- `~/.claude/hooks/core/session-start.js` (lines 1010-1013)"
      },
      {
        "line": 1257,
        "token": "line",
        "context": "- `~/.claude/hooks/config.json` (line 7)"
      },
      {
        "line": 1258,
        "token": "also",
        "context": "- **Platform**: Windows (also applies to macOS/Linux)"
      },
      {
        "line": 1262,
        "token": "critical",
        "context": "- **Documentation**: Added critical warning section to CLAUDE.md about hook configuration synchronization"
      },
      {
        "line": 1263,
        "token": "port",
        "context": "- Documents port mismatch symptoms (hanging hooks, unresponsive Claude Code, connection timeouts)"
      },
      {
        "line": 1264,
        "token": "all",
        "context": "- Lists all configuration files to check (`config.json`, HTTP server port, dashboard port)"
      },
      {
        "line": 1265,
        "token": "verification",
        "context": "- Provides verification commands for Windows/Linux/macOS"
      },
      {
        "line": 1266,
        "token": "common",
        "context": "- Explains common mistakes (using dashboard port 8888/8443 instead of API port 8001)"
      },
      {
        "line": 1272,
        "token": "explicit",
        "context": "- **MCP Server**: Added explicit documentation to `store_memory` tool clarifying that `metadata.tags` must be an array, not a comma-separated string"
      },
      {
        "line": 1273,
        "token": "validation",
        "context": "- Prevents validation error: `Input validation error: '...' is not of type 'array'`"
      },
      {
        "line": 1274,
        "token": "clear",
        "context": "- Includes clear examples showing correct (array) vs incorrect (string) format"
      },
      {
        "line": 1275,
        "token": "change",
        "context": "- Documentation-only change - no code logic modified"
      },
      {
        "line": 1279,
        "token": "tool",
        "context": "- Improved `store_memory` tool docstring with metadata format validation examples in `src/mcp_memory_service/mcp_server.py`"
      },
      {
        "line": 1286,
        "token": "queries",
        "context": "- **Cloudflare D1 Drift Detection Performance** - Fixed slow/failing queries in hybrid backend drift detection (issue #264)"
      },
      {
        "line": 1287,
        "token": "used",
        "context": "- **Root Cause**: `get_memories_updated_since()` used slow ISO string comparison (`updated_at_iso > ?`) instead of fast numeric comparison"
      },
      {
        "line": 1288,
        "token": "clause",
        "context": "- **Fix**: Changed WHERE clause to use indexed `updated_at` column with numeric comparison (`updated_at > ?`)"
      },
      {
        "line": 1289,
        "token": "faster",
        "context": "- **Performance Impact**: 10-100x faster queries, eliminates D1 timeout/400 Bad Request errors on large datasets"
      },
      {
        "line": 1290,
        "token": "lines",
        "context": "- **Affected Function**: `CloudflareStorage.get_memories_updated_since()` (lines 1638-1667)"
      },
      {
        "line": 1292,
        "token": "cause",
        "context": "- **Credit**: Root cause analysis by Claude Code workflow (GitHub Actions)"
      },
      {
        "line": 1297,
        "token": "hook",
        "context": "- **Code Execution Hook Failure** - Fixed session-start hook falling back to MCP tools instead of using fast Code Execution API"
      },
      {
        "line": 1298,
        "token": "parameter",
        "context": "- **Root Cause 1**: Invalid `time_filter` parameter passed to `search()` function (API signature only accepts `query`, `limit`, `tags`)"
      },
      {
        "line": 1299,
        "token": "transformers",
        "context": "- **Root Cause 2**: Python `transformers` library emitted `FutureWarning` to stderr, causing `execSync()` to fail"
      },
      {
        "line": 1300,
        "token": "used",
        "context": "- **Root Cause 3**: Installer used system `python3` instead of detecting venv Python path"
      },
      {
        "line": 1301,
        "token": "parameter",
        "context": "- **Fix 1**: Removed time_filter parameter from Code Execution queries (line 325 in `claude-hooks/core/session-start.js`)"
      },
      {
        "line": 1302,
        "token": "ignore",
        "context": "- **Fix 2**: Added `-W ignore` flag to suppress Python warnings during execution (line 359)"
      },
      {
        "line": 1303,
        "token": "installer",
        "context": "- **Fix 3**: Updated installer to use `sys.executable` for automatic venv detection (`claude-hooks/install_hooks.py:271-299`)"
      },
      {
        "line": 1304,
        "token": "token",
        "context": "- **Impact**: 75% token reduction per session start (1200-2400 tokens â†’ 300-600 tokens with Code Execution)"
      },
      {
        "line": 1305,
        "token": "now",
        "context": "- **Behavior**: Hook now successfully uses Code Execution API instead of falling back to slower MCP tools"
      },
      {
        "line": 1306,
        "token": "memory",
        "context": "- **Documentation**: Added memory with troubleshooting guide for future reference"
      },
      {
        "line": 1310,
        "token": "quick",
        "context": "- **Session-Start Hook Connection Timeout** - Increased quick connection timeout from 2s to 5s"
      },
      {
        "line": 1311,
        "token": "premature",
        "context": "- Prevents premature timeout during memory client initialization"
      },
      {
        "line": 1312,
        "token": "more",
        "context": "- Allows more time for HTTP server connection during high-load periods"
      },
      {
        "line": 1313,
        "token": "user",
        "context": "- Location: `~/.claude/hooks/core/session-start.js:750` (user installation)"
      },
      {
        "line": 1318,
        "token": "HTTP",
        "context": "- **HTTP Server Auto-Start System** - Smart service management with comprehensive health checks"
      },
      {
        "line": 1319,
        "token": "lines",
        "context": "- Created `scripts/service/http_server_manager.sh` with 376 lines of robust service management"
      },
      {
        "line": 1320,
        "token": "process",
        "context": "- Orphaned process detection and cleanup (handles stale PIDs from crashes/force kills)"
      },
      {
        "line": 1321,
        "token": "mismatch",
        "context": "- Version mismatch detection (alerts when installed version differs from running version)"
      },
      {
        "line": 1322,
        "token": "change",
        "context": "- Config change detection (monitors .env file modification timestamps, triggers restart on changes)"
      },
      {
        "line": 1323,
        "token": "storage",
        "context": "- Hybrid storage initialization wait (10-second timeout ensures storage backends are ready)"
      },
      {
        "line": 1324,
        "token": "check",
        "context": "- Health check with retry logic (3 attempts with 2s intervals before declaring failure)"
      },
      {
        "line": 1325,
        "token": "status",
        "context": "- Commands: `status`, `start`, `stop`, `restart`, `auto-start`, `logs`"
      },
      {
        "line": 1326,
        "token": "integration",
        "context": "- Shell integration support (add to ~/.zshrc for automatic startup on terminal launch)"
      },
      {
        "line": 1329,
        "token": "HTTP",
        "context": "- **Session-Start Hook Health Check** - Proactive HTTP server availability monitoring"
      },
      {
        "line": 1330,
        "token": "health",
        "context": "- Added health check warning in `~/.claude/hooks/core/session-start.js` (lines 657-674)"
      },
      {
        "line": 1331,
        "token": "clear",
        "context": "- Displays clear error message when HTTP server is unreachable"
      },
      {
        "line": 1332,
        "token": "actionable",
        "context": "- Provides actionable fix instructions (how to start server, how to enable auto-start)"
      },
      {
        "line": 1333,
        "token": "connection",
        "context": "- Detects connection errors: ECONNREFUSED, fetch failed, network errors, timeout"
      },
      {
        "line": 1334,
        "token": "check",
        "context": "- Non-blocking check (warns but doesn't block Claude Code session initialization)"
      },
      {
        "line": 1338,
        "token": "issue",
        "context": "- **Time Parser \"Last N Periods\" Support** - Fixed issue #266 (time expressions not working)"
      },
      {
        "line": 1339,
        "token": "new",
        "context": "- Added new regex pattern `last_n_periods` to match \"last N days/weeks/months/years\""
      },
      {
        "line": 1340,
        "token": "period",
        "context": "- Implemented `get_last_n_periods_range(n, period)` function for date calculations"
      },
      {
        "line": 1341,
        "token": "positioning",
        "context": "- Pattern positioning: Checked BEFORE `last_period` pattern to match more specific expressions first"
      },
      {
        "line": 1342,
        "token": "handles",
        "context": "- Properly handles:"
      },
      {
        "line": 1343,
        "token": "last",
        "context": "- \"last 3 days\" â†’ From 3 days ago 00:00:00 to now"
      },
      {
        "line": 1344,
        "token": "last",
        "context": "- \"last 2 weeks\" â†’ From 2 weeks ago Monday 00:00:00 to now"
      },
      {
        "line": 1345,
        "token": "last",
        "context": "- \"last 1 month\" â†’ From 1 month ago first day 00:00:00 to now"
      },
      {
        "line": 1346,
        "token": "last",
        "context": "- \"last 5 years\" â†’ From 5 years ago Jan 1 00:00:00 to now"
      },
      {
        "line": 1347,
        "token": "compatible",
        "context": "- Backward compatible with existing \"last week\", \"last month\" patterns"
      },
      {
        "line": 1351,
        "token": "last",
        "context": "- **Hook Configuration Time Windows** - Reverted to \"last 3 days\" (now works with parser fix)"
      },
      {
        "line": 1352,
        "token": "hook",
        "context": "- Applied to `recentTimeWindow` and `fallbackTimeWindow` in hook config"
      },
      {
        "line": 1353,
        "token": "limited",
        "context": "- Previously limited to \"yesterday\" due to parser bug"
      },
      {
        "line": 1354,
        "token": "leverages",
        "context": "- Now leverages full 3-day context window for better memory recall"
      },
      {
        "line": 1358,
        "token": "HTTP",
        "context": "- **HTTP Server Manager Architecture**:"
      },
      {
        "line": 1359,
        "token": "tracking",
        "context": "- PID tracking via `/tmp/mcp_memory_http.pid` (shared location for orphan detection)"
      },
      {
        "line": 1360,
        "token": "fingerprinting",
        "context": "- Config fingerprinting via MD5 hash of `.env` file (detects credential/backend changes)"
      },
      {
        "line": 1361,
        "token": "extraction",
        "context": "- Version extraction from installed package (compares with runtime version)"
      },
      {
        "line": 1362,
        "token": "rotation",
        "context": "- Log rotation support (tails last 50 lines from `~/.mcp-memory-service/http_server.log`)"
      },
      {
        "line": 1363,
        "token": "graceful",
        "context": "- SIGTERM graceful shutdown (10s timeout before SIGKILL)"
      },
      {
        "line": 1364,
        "token": "function",
        "context": "- Auto-start function for shell integration (idempotent, safe for rc files)"
      },
      {
        "line": 1367,
        "token": "pattern",
        "context": "- Regex pattern: `r'last\\s+(\\d+)\\s+(days?|weeks?|months?|years?)'`"
      },
      {
        "line": 1368,
        "token": "forms",
        "context": "- Handles singular/plural forms (day/days, week/weeks, etc.)"
      },
      {
        "line": 1369,
        "token": "boundaries",
        "context": "- Week boundaries: Monday 00:00:00 (ISO 8601 standard)"
      },
      {
        "line": 1370,
        "token": "boundaries",
        "context": "- Month boundaries: First day 00:00:00 (calendar month alignment)"
      },
      {
        "line": 1371,
        "token": "behavior",
        "context": "- Fallback behavior: Interprets unknown periods as days (defensive programming)"
      },
      {
        "line": 1374,
        "token": "HTTP",
        "context": "- HTTP server manager: Tested status/start/stop/restart/auto-start commands"
      },
      {
        "line": 1375,
        "token": "process",
        "context": "- Orphaned process cleanup: Verified detection and cleanup of stale PIDs"
      },
      {
        "line": 1376,
        "token": "mismatch",
        "context": "- Version mismatch: Confirmed detection when installed vs running version differs"
      },
      {
        "line": 1377,
        "token": "change",
        "context": "- Config change detection: Verified restart trigger on .env modification"
      },
      {
        "line": 1378,
        "token": "parser",
        "context": "- Time parser: Tested \"last 3 days\", \"last 2 weeks\", \"last 1 month\", \"last 5 years\""
      },
      {
        "line": 1379,
        "token": "compatibility",
        "context": "- Backward compatibility: Verified \"last week\", \"last month\" still work"
      },
      {
        "line": 1384,
        "token": "fatal",
        "context": "- **CRITICAL: Service Startup Failure** - Fixed fatal `UnboundLocalError` that prevented v8.48.0 from starting"
      },
      {
        "line": 1385,
        "token": "local",
        "context": "- **Root Cause**: Redundant local `import calendar` statement at line 84 in `src/mcp_memory_service/models/memory.py`"
      },
      {
        "line": 1386,
        "token": "import",
        "context": "- **Python Scoping Issue**: Local import declaration made `calendar` a local variable within `iso_to_float()` function"
      },
      {
        "line": 1387,
        "token": "handler",
        "context": "- **Error Location**: Exception handler at line 168 referenced `calendar` before the local import statement was executed"
      },
      {
        "line": 1388,
        "token": "entered",
        "context": "- **Impact**: Service entered infinite loop during Cloudflare sync initialization, repeating error every ~100ms"
      },
      {
        "line": 1389,
        "token": "endpoint",
        "context": "- **Symptoms**: Health endpoint unresponsive, dashboard inaccessible, all MCP Memory Service functionality unavailable"
      },
      {
        "line": 1390,
        "token": "redundant",
        "context": "- **Resolution**: Removed redundant local import (module already imported globally at line 21)"
      },
      {
        "line": 1391,
        "token": "users",
        "context": "- **Severity**: CRITICAL - All v8.48.0 users affected, immediate upgrade required"
      },
      {
        "line": 1392,
        "token": "replacement",
        "context": "- **Migration**: Drop-in replacement, no configuration changes needed"
      },
      {
        "line": 1393,
        "token": "removed",
        "context": "- Location: `src/mcp_memory_service/models/memory.py:84` (removed)"
      },
      {
        "line": 1396,
        "token": "cannot",
        "context": "- **Error Message**: `UnboundLocalError: cannot access local variable 'calendar' where it is not associated with a value`"
      },
      {
        "line": 1397,
        "token": "continuously",
        "context": "- **Frequency**: Repeating continuously (~100ms intervals) during Cloudflare hybrid backend initialization"
      },
      {
        "line": 1398,
        "token": "now",
        "context": "- **Testing**: Service now starts successfully, health endpoint responds correctly, Cloudflare sync completes without errors"
      },
      {
        "line": 1399,
        "token": "timestamp",
        "context": "- **Verification**: No timestamp parsing errors in logs, dashboard accessible at https://localhost:8000"
      },
      {
        "line": 1404,
        "token": "metadata",
        "context": "- **CSV-Based Metadata Compression** - Intelligent metadata compression system for Cloudflare sync operations"
      },
      {
        "line": 1405,
        "token": "CSV",
        "context": "- Implemented CSV encoding/decoding for quality and consolidation metadata"
      },
      {
        "line": 1406,
        "token": "size",
        "context": "- Achieved 78% size reduction (732B â†’ 159B typical case)"
      },
      {
        "line": 1407,
        "token": "code",
        "context": "- Provider code mapping (onnx_local â†’ ox, groq_llama3_70b â†’ gp, etc.) for 70% reduction in provider field"
      },
      {
        "line": 1408,
        "token": "size",
        "context": "- Metadata size validation (<9.5KB) prevents sync failures before Cloudflare API calls"
      },
      {
        "line": 1409,
        "token": "hybrid",
        "context": "- Transparent compression/decompression in hybrid backend operations"
      },
      {
        "line": 1410,
        "token": "metadata",
        "context": "- Quality metadata optimizations:"
      },
      {
        "line": 1411,
        "token": "history",
        "context": "- ai_scores history limited to 3 most recent entries (10 â†’ 3)"
      },
      {
        "line": 1412,
        "token": "removed",
        "context": "- quality_components removed from sync (debug-only, reconstructible)"
      },
      {
        "line": 1413,
        "token": "field",
        "context": "- Cloudflare-specific field suppression (metadata_source, last_quality_check)"
      },
      {
        "line": 1416,
        "token": "script",
        "context": "- **Verification Script** - Shell script to verify compression effectiveness"
      },
      {
        "line": 1417,
        "token": "CSV",
        "context": "- Tests CSV encoding/decoding round-trip accuracy"
      },
      {
        "line": 1418,
        "token": "compression",
        "context": "- Measures compression ratios"
      },
      {
        "line": 1419,
        "token": "metadata",
        "context": "- Validates metadata size under Cloudflare limits"
      },
      {
        "line": 1423,
        "token": "metadata",
        "context": "- **Cloudflare Sync Failures** - Resolved 100% of metadata size limit errors"
      },
      {
        "line": 1424,
        "token": "metadata",
        "context": "- Problem: Cloudflare D1 10KB metadata limit was exceeded by quality/consolidation metadata"
      },
      {
        "line": 1425,
        "token": "operation",
        "context": "- Impact: 1 operation stuck in retry queue with 400 Bad Request errors"
      },
      {
        "line": 1426,
        "token": "cause",
        "context": "- Root cause: Uncompressed metadata (ai_scores history, quality_components) exceeded limit"
      },
      {
        "line": 1427,
        "token": "CSV",
        "context": "- Solution: CSV compression + metadata size validation before sync"
      },
      {
        "line": 1428,
        "token": "sync",
        "context": "- Result: 0 sync failures, all operations processing successfully"
      },
      {
        "line": 1429,
        "token": "lines",
        "context": "- Locations: `src/mcp_memory_service/storage/hybrid.py` (lines 547-559, 77-119), `src/mcp_memory_service/storage/cloudflare.py` (lines 606-612, 741-747, 830-836"
      },
      {
        "line": 1432,
        "token": "phase",
        "context": "- **Compression Architecture**: Phase 1 of 3-phase metadata optimization plan"
      },
      {
        "line": 1433,
        "token": "compression",
        "context": "- Phase 1 (COMPLETE): CSV-based compression for quality/consolidation metadata"
      },
      {
        "line": 1434,
        "token": "encoding",
        "context": "- Phase 2 (AVAILABLE): Binary encoding with struct/msgpack (85-90% reduction target)"
      },
      {
        "line": 1435,
        "token": "deduplication",
        "context": "- Phase 3 (AVAILABLE): Reference-based deduplication for repeated values"
      },
      {
        "line": 1436,
        "token": "transparent",
        "context": "- **Backward Compatibility**: Fully transparent - automatic compression on write, decompression on read"
      },
      {
        "line": 1437,
        "token": "overhead",
        "context": "- **Performance Impact**: Negligible (<1ms overhead per operation)"
      },
      {
        "line": 1438,
        "token": "quality",
        "context": "- **Testing**: All quality system tests passing, sync queue empty, 3,750 ONNX-scored memories verified"
      },
      {
        "line": 1443,
        "token": "bulk",
        "context": "- **ONNX Self-Match Bug** - ONNX bulk evaluation was using memory content as its own query, producing artificially inflated scores (~1.0 for all memories)"
      },
      {
        "line": 1444,
        "token": "cause",
        "context": "- Root cause: Cross-encoder design requires meaningful query-memory pairs for relevance ranking"
      },
      {
        "line": 1445,
        "token": "generating",
        "context": "- Fixed by generating queries from tags/metadata (what memory is *about*) instead of memory content"
      },
      {
        "line": 1446,
        "token": "quality",
        "context": "- Result: Realistic quality distribution (avg 0.468 vs 1.000, breakdown: 42.9% high / 3.2% medium / 53.9% low)"
      },
      {
        "line": 1449,
        "token": "associations",
        "context": "- **Association Pollution** - System-generated associations and compressed clusters were being evaluated for quality"
      },
      {
        "line": 1450,
        "token": "memories",
        "context": "- These memories are structural (not content) and shouldn't receive quality scores"
      },
      {
        "line": 1451,
        "token": "filtering",
        "context": "- Fixed by filtering memories with type='association' or type='compressed_cluster'"
      },
      {
        "line": 1452,
        "token": "check",
        "context": "- Added belt-and-suspenders check for 'source_memory_hashes' metadata field"
      },
      {
        "line": 1453,
        "token": "memories",
        "context": "- Impact: 948 system-generated memories excluded from evaluation"
      },
      {
        "line": 1456,
        "token": "capacity",
        "context": "- **Sync Queue Overflow** - Queue capacity of 1,000 was overwhelmed by 4,478 updates during bulk ONNX evaluation"
      },
      {
        "line": 1457,
        "token": "sync",
        "context": "- Resulted in 278 Cloudflare sync failures (27.8% failure rate)"
      },
      {
        "line": 1458,
        "token": "increasing",
        "context": "- Fixed by increasing queue size to 2,000 (env: `MCP_HYBRID_QUEUE_SIZE`)"
      },
      {
        "line": 1459,
        "token": "increasing",
        "context": "- Fixed by increasing batch size to 100 (env: `MCP_HYBRID_BATCH_SIZE`)"
      },
      {
        "line": 1460,
        "token": "second",
        "context": "- Added 5-second timeout with fallback to immediate sync on queue full"
      },
      {
        "line": 1461,
        "token": "method",
        "context": "- Added `wait_for_sync_completion()` method for monitoring bulk operations"
      },
      {
        "line": 1462,
        "token": "sync",
        "context": "- Result: 0% sync failure rate during bulk operations"
      },
      {
        "line": 1465,
        "token": "update",
        "context": "- **Consolidation Hang** - Batch update optimization was missing for relevance score updates"
      },
      {
        "line": 1466,
        "token": "calls",
        "context": "- Sequential update_memory() calls caused slowdown during consolidation"
      },
      {
        "line": 1467,
        "token": "collecting",
        "context": "- Fixed by collecting updates and using single `update_memories_batch()` transaction"
      },
      {
        "line": 1468,
        "token": "speedup",
        "context": "- Impact: 50-100x speedup for relevance score updates during consolidation"
      },
      {
        "line": 1473,
        "token": "all",
        "context": "- Resets all ONNX quality scores to implicit defaults (0.5)"
      },
      {
        "line": 1474,
        "token": "hybrid",
        "context": "- Pauses hybrid backend sync during reset, resumes after completion"
      },
      {
        "line": 1475,
        "token": "timestamps",
        "context": "- Preserves timestamps (doesn't change created_at/updated_at)"
      },
      {
        "line": 1476,
        "token": "reporting",
        "context": "- Progress reporting every 500 memories"
      },
      {
        "line": 1477,
        "token": "case",
        "context": "- Use case: Recover from bad ONNX evaluation (self-match bug)"
      },
      {
        "line": 1480,
        "token": "association",
        "context": "- Added association filtering (skip system-generated memories)"
      },
      {
        "line": 1481,
        "token": "sync",
        "context": "- Added sync monitoring with queue size reporting"
      },
      {
        "line": 1482,
        "token": "call",
        "context": "- Added wait_for_sync_completion() call to prevent premature exit"
      },
      {
        "line": 1483,
        "token": "progress",
        "context": "- Enhanced progress reporting with sync stats"
      },
      {
        "line": 1484,
        "token": "hybrid",
        "context": "- Proper pause/resume for hybrid backend sync"
      },
      {
        "line": 1487,
        "token": "better",
        "context": "- **ONNX Configuration Defaults** - Updated for better bulk operation support"
      },
      {
        "line": 1488,
        "token": "default",
        "context": "- `HYBRID_QUEUE_SIZE`: 1,000 â†’ 2,000 (default, configurable via env)"
      },
      {
        "line": 1489,
        "token": "default",
        "context": "- `HYBRID_BATCH_SIZE`: 50 â†’ 100 (default, configurable via env)"
      },
      {
        "line": 1490,
        "token": "compatible",
        "context": "- Backward compatible: `HYBRID_MAX_QUEUE_SIZE` still supported (legacy)"
      },
      {
        "line": 1492,
        "token": "state",
        "context": "- **Hybrid Backend Sync** - Enhanced pause/resume state tracking"
      },
      {
        "line": 1493,
        "token": "flag",
        "context": "- Added `_sync_paused` flag to prevent enqueuing during pause (v8.47.1)"
      },
      {
        "line": 1494,
        "token": "race",
        "context": "- Fixed race condition where operations were enqueued while sync was paused"
      },
      {
        "line": 1495,
        "token": "operations",
        "context": "- Ensures operations are not lost during consolidation or bulk updates"
      },
      {
        "line": 1498,
        "token": "critical",
        "context": "- **ONNX Limitations** - Added critical warning to CLAUDE.md"
      },
      {
        "line": 1499,
        "token": "ranker",
        "context": "- Documented that ONNX ranker (ms-marco-MiniLM-L-6-v2) is a cross-encoder"
      },
      {
        "line": 1500,
        "token": "scores",
        "context": "- Clarified it scores query-memory relevance, not absolute quality"
      },
      {
        "line": 1501,
        "token": "why",
        "context": "- Explained why self-matching queries produce artificially high scores"
      },
      {
        "line": 1502,
        "token": "memory",
        "context": "- Added system-generated memory exclusion rationale"
      },
      {
        "line": 1507,
        "token": "many",
        "context": "- **Association-Based Quality Boost** - Memories with many connections automatically receive quality score boosts during consolidation"
      },
      {
        "line": 1508,
        "token": "memories",
        "context": "- Well-connected memories (â‰¥5 connections by default) get 20% quality boost"
      },
      {
        "line": 1509,
        "token": "network",
        "context": "- Leverages network effect: frequently referenced memories are likely more valuable"
      },
      {
        "line": 1510,
        "token": "via",
        "context": "- Configurable via environment variables: `MCP_CONSOLIDATION_QUALITY_BOOST_ENABLED`, `MCP_CONSOLIDATION_MIN_CONNECTIONS_FOR_BOOST`, `MCP_CONSOLIDATION_QUALITY_B"
      },
      {
        "line": 1511,
        "token": "boost",
        "context": "- Valid boost factor range: 1.0-2.0 (default: 1.2 = 20% boost)"
      },
      {
        "line": 1512,
        "token": "scores",
        "context": "- Quality scores capped at 1.0 to prevent over-promotion"
      },
      {
        "line": 1513,
        "token": "metadata",
        "context": "- Full metadata persistence with audit trail (connection count, original scores, boost date, boost reason)"
      },
      {
        "line": 1514,
        "token": "quality",
        "context": "- Impact: Boosted quality affects relevance scoring (~4% increase) and retention tier (can move from medium to high retention)"
      },
      {
        "line": 1517,
        "token": "audit",
        "context": "- **Quality Boost Metadata Tracking** - Complete audit trail for all quality boosts applied during consolidation"
      },
      {
        "line": 1518,
        "token": "flag",
        "context": "- `quality_boost_applied`: Boolean flag indicating boost was applied"
      },
      {
        "line": 1519,
        "token": "timestamp",
        "context": "- `quality_boost_date`: ISO timestamp of when boost occurred"
      },
      {
        "line": 1520,
        "token": "release",
        "context": "- `quality_boost_reason`: Always \"association_connections\" for this release"
      },
      {
        "line": 1521,
        "token": "connections",
        "context": "- `quality_boost_connection_count`: Number of connections that triggered the boost"
      },
      {
        "line": 1522,
        "token": "original",
        "context": "- `original_quality_before_boost`: Preserved original quality score for analysis"
      },
      {
        "line": 1524,
        "token": "new",
        "context": "- **Configuration Variables** - Three new environment variables with validation"
      },
      {
        "line": 1525,
        "token": "default",
        "context": "- `MCP_CONSOLIDATION_QUALITY_BOOST_ENABLED` (default: true) - Master toggle"
      },
      {
        "line": 1526,
        "token": "default",
        "context": "- `MCP_CONSOLIDATION_MIN_CONNECTIONS_FOR_BOOST` (default: 5, range: 1-100) - Minimum connections required"
      },
      {
        "line": 1527,
        "token": "default",
        "context": "- `MCP_CONSOLIDATION_QUALITY_BOOST_FACTOR` (default: 1.2, range: 1.0-2.0) - Boost multiplier"
      },
      {
        "line": 1530,
        "token": "include",
        "context": "- **Exponential Decay Calculation** - Enhanced to include association-based quality boost"
      },
      {
        "line": 1531,
        "token": "boost",
        "context": "- Quality boost applied before quality multiplier calculation"
      },
      {
        "line": 1532,
        "token": "logging",
        "context": "- Debug logging for each boost application"
      },
      {
        "line": 1533,
        "token": "logging",
        "context": "- Info logging when persisting boosted scores to memory metadata"
      },
      {
        "line": 1534,
        "token": "original",
        "context": "- Preserved original quality score in RelevanceScore metadata for comparison"
      },
      {
        "line": 1536,
        "token": "include",
        "context": "- **Memory Relevance Metadata** - Extended to include quality boost tracking"
      },
      {
        "line": 1537,
        "token": "now",
        "context": "- `update_memory_relevance_metadata()` now persists boosted quality scores"
      },
      {
        "line": 1538,
        "token": "quality",
        "context": "- Automatic quality score update if boost was applied"
      },
      {
        "line": 1539,
        "token": "fields",
        "context": "- Metadata fields added: `quality_boost_applied`, `quality_boost_date`, `quality_boost_reason`, etc."
      },
      {
        "line": 1542,
        "token": "comprehensive",
        "context": "- Added comprehensive feature guide: `docs/features/association-quality-boost.md`"
      },
      {
        "line": 1543,
        "token": "examples",
        "context": "- Configuration examples (conservative, balanced, aggressive)"
      },
      {
        "line": 1544,
        "token": "memory",
        "context": "- Impact on memory lifecycle (relevance, retention, forgetting resistance)"
      },
      {
        "line": 1545,
        "token": "cases",
        "context": "- Use cases (knowledge graphs, code documentation, research notes)"
      },
      {
        "line": 1546,
        "token": "troubleshooting",
        "context": "- Monitoring and troubleshooting guides"
      },
      {
        "line": 1547,
        "token": "impact",
        "context": "- Performance impact analysis (negligible computational cost)"
      },
      {
        "line": 1548,
        "token": "enhancement",
        "context": "- Future enhancement roadmap (connection quality analysis, temporal decay, bidirectional boost)"
      },
      {
        "line": 1550,
        "token": "release",
        "context": "- Updated `CLAUDE.md` with v8.47.0 release information"
      },
      {
        "line": 1551,
        "token": "quality",
        "context": "- Added association-based quality boost to consolidation features list"
      },
      {
        "line": 1552,
        "token": "configuration",
        "context": "- Added configuration examples with environment variables"
      },
      {
        "line": 1553,
        "token": "version",
        "context": "- Updated version summary at top of file"
      },
      {
        "line": 1556,
        "token": "comprehensive",
        "context": "- Added 5 comprehensive test cases in `tests/consolidation/test_decay.py`"
      },
      {
        "line": 1557,
        "token": "boost",
        "context": "- `test_association_quality_boost_enabled`: Validates boost increases scores"
      },
      {
        "line": 1558,
        "token": "minimum",
        "context": "- `test_association_quality_boost_threshold`: Confirms minimum connection enforcement"
      },
      {
        "line": 1559,
        "token": "quality",
        "context": "- `test_association_quality_boost_caps_at_one`: Verifies quality cap at 1.0"
      },
      {
        "line": 1560,
        "token": "feature",
        "context": "- `test_association_quality_boost_disabled`: Tests feature disable functionality"
      },
      {
        "line": 1561,
        "token": "metadata",
        "context": "- `test_association_quality_boost_persists_to_memory`: Validates metadata persistence"
      },
      {
        "line": 1562,
        "token": "tests",
        "context": "- All tests use monkeypatch for configuration override"
      },
      {
        "line": 1563,
        "token": "test",
        "context": "- 100% test pass rate (5/5 new tests, 17/18 total consolidation tests)"
      },
      {
        "line": 1566,
        "token": "enabled",
        "context": "- Feature enabled by default to provide immediate value"
      },
      {
        "line": 1567,
        "token": "calculation",
        "context": "- Boost calculation time: ~5-10 microseconds per memory (negligible overhead)"
      },
      {
        "line": 1568,
        "token": "overhead",
        "context": "- Memory overhead: ~200 bytes per boosted memory (5 metadata fields)"
      },
      {
        "line": 1569,
        "token": "measurable",
        "context": "- No measurable impact on consolidation duration"
      },
      {
        "line": 1570,
        "token": "point",
        "context": "- Integration point: `ExponentialDecayCalculator._calculate_memory_relevance()`"
      },
      {
        "line": 1571,
        "token": "boost",
        "context": "- Quality boost applied BEFORE quality multiplier calculation in relevance scoring"
      },
      {
        "line": 1572,
        "token": "only",
        "context": "- Boost only applied if: enabled, connection count â‰¥ threshold, boost would increase score"
      },
      {
        "line": 1573,
        "token": "reserved",
        "context": "- Future-proof: `MCP_CONSOLIDATION_MIN_CONNECTED_QUALITY` reserved for Phase 2 (connection quality analysis)"
      },
      {
        "line": 1578,
        "token": "quality",
        "context": "- **Quality Score Persistence in Hybrid Backend** - Fixed ONNX quality scores not persisting to Cloudflare in hybrid storage backend"
      },
      {
        "line": 1579,
        "token": "remained",
        "context": "- Scores remained at default 0.5 instead of evaluated ~1.0 values"
      },
      {
        "line": 1580,
        "token": "cause",
        "context": "- Root cause: `/api/quality/evaluate` endpoint was passing entire `memory.metadata` dict to `update_memory_metadata()`"
      },
      {
        "line": 1581,
        "token": "backend",
        "context": "- Cloudflare backend expects quality fields wrapped in 'metadata' key, not as top-level fields"
      },
      {
        "line": 1583,
        "token": "helper",
        "context": "- **Metadata Normalization for Cloudflare** - Added `_normalize_metadata_for_cloudflare()` helper function"
      },
      {
        "line": 1584,
        "token": "keys",
        "context": "- Separates Cloudflare-recognized top-level keys (metadata, memory_type, tags, timestamps) from custom metadata fields"
      },
      {
        "line": 1585,
        "token": "custom",
        "context": "- Wraps custom fields in 'metadata' key as expected by Cloudflare D1 backend"
      },
      {
        "line": 1586,
        "token": "wraps",
        "context": "- Only wraps if not already wrapped (idempotent operation)"
      },
      {
        "line": 1588,
        "token": "endpoint",
        "context": "- **Quality API Metadata Handling** - Modified `/api/quality/evaluate` endpoint to extract only quality-related fields"
      },
      {
        "line": 1589,
        "token": "passes",
        "context": "- Now passes only: quality_score, quality_provider, ai_scores, quality_components"
      },
      {
        "line": 1590,
        "token": "accidental",
        "context": "- Prevents accidental metadata overwrites from passing entire metadata dict"
      },
      {
        "line": 1591,
        "token": "detailed",
        "context": "- Added detailed logging for troubleshooting persistence issues"
      },
      {
        "line": 1593,
        "token": "dataclass",
        "context": "- **Hybrid Backend Sync Operation** - Enhanced `SyncOperation` dataclass with `preserve_timestamps` flag"
      },
      {
        "line": 1594,
        "token": "timestamp",
        "context": "- Ensures timestamp preservation through background sync queue"
      },
      {
        "line": 1595,
        "token": "flag",
        "context": "- Passes flag to Cloudflare backend during update operations"
      },
      {
        "line": 1596,
        "token": "temporal",
        "context": "- Maintains temporal consistency across hybrid backends"
      },
      {
        "line": 1599,
        "token": "only",
        "context": "- Affects only hybrid backend with Cloudflare secondary storage"
      },
      {
        "line": 1600,
        "token": "primary",
        "context": "- SQLite-vec primary storage was working correctly (scores persisted locally)"
      },
      {
        "line": 1601,
        "token": "manifested",
        "context": "- Issue manifested during background sync to Cloudflare D1"
      },
      {
        "line": 1602,
        "token": "results",
        "context": "- Verification: Search results now show quality scores of 1.000 instead of 0.500"
      },
      {
        "line": 1607,
        "token": "missing",
        "context": "- **Session-Start Hook Crash** - Added missing `queryMemoriesByTagsAndTime()` function to HTTP memory client"
      },
      {
        "line": 1608,
        "token": "was",
        "context": "- Hook was calling undefined function, causing \"is not a function\" error on session start"
      },
      {
        "line": 1609,
        "token": "tag",
        "context": "- Implemented client-side tag filtering on time-based search results"
      },
      {
        "line": 1610,
        "token": "both",
        "context": "- Works with both HTTP and MCP protocols"
      },
      {
        "line": 1611,
        "token": "users",
        "context": "- Enables users to use session-start hooks without crashes"
      },
      {
        "line": 1613,
        "token": "confusing",
        "context": "- **Hook Installer Warnings Eliminated** - Removed confusing package import warnings during installation"
      },
      {
        "line": 1614,
        "token": "isolate",
        "context": "- Created `_version.py` to isolate version metadata from main package"
      },
      {
        "line": 1615,
        "token": "read",
        "context": "- Updated `install_hooks.py` to read version from `pyproject.toml` (avoids heavy imports)"
      },
      {
        "line": 1616,
        "token": "appeared",
        "context": "- Warnings appeared because importing `mcp_memory_service` loaded sqlite-vec/sentence_transformers dependencies"
      },
      {
        "line": 1617,
        "token": "clean",
        "context": "- Provides clean installation experience without misleading warnings"
      },
      {
        "line": 1620,
        "token": "cause",
        "context": "- Root cause (session-start): `memory-client.js` missing function implementation for combined tag+time queries"
      },
      {
        "line": 1621,
        "token": "cause",
        "context": "- Root cause (installer warnings): Hook installer imported main package for version detection, triggering model initialization warnings"
      },
      {
        "line": 1622,
        "token": "applies",
        "context": "- Fix applies to all platforms (Windows, macOS, Linux)"
      },
      {
        "line": 1627,
        "token": "charmap",
        "context": "- **Windows Hooks Installer Encoding** - Fixed `'charmap' codec can't encode character` error when running `install_hooks.py` on Windows"
      },
      {
        "line": 1628,
        "token": "console",
        "context": "- Added UTF-8 console configuration (CP65001) at script startup"
      },
      {
        "line": 1629,
        "token": "encoding",
        "context": "- Reconfigured stdout/stderr with `encoding='utf-8', errors='replace'`"
      },
      {
        "line": 1630,
        "token": "explicit",
        "context": "- Added explicit `encoding='utf-8'` to all JSON file read/write operations"
      },
      {
        "line": 1631,
        "token": "proper",
        "context": "- Added `ensure_ascii=False` to `json.dump()` for proper Unicode handling"
      },
      {
        "line": 1634,
        "token": "cause",
        "context": "- Root cause: Windows console default encoding (CP1252) doesn't support Unicode emojis (âœ…, âš ï¸, etc.)"
      },
      {
        "line": 1635,
        "token": "applies",
        "context": "- Fix applies to all Windows systems regardless of console code page setting"
      },
      {
        "line": 1640,
        "token": "phase",
        "context": "- **Quality System + Hooks Integration** - Complete 3-phase integration of AI quality scoring into memory awareness hooks:"
      },
      {
        "line": 1641,
        "token": "read",
        "context": "- **Phase 1**: Hooks read `backendQuality` from memory metadata (20% weight in scoring)"
      },
      {
        "line": 1642,
        "token": "hook",
        "context": "- **Phase 2**: Session-end hook triggers async `/api/quality/memories/{hash}/evaluate` endpoint"
      },
      {
        "line": 1643,
        "token": "search",
        "context": "- **Phase 3**: Quality-boosted search with `quality_boost` and `quality_weight` parameters"
      },
      {
        "line": 1645,
        "token": "hash",
        "context": "- **`POST /api/quality/memories/{hash}/evaluate`** - New endpoint to trigger AI-based quality evaluation"
      },
      {
        "line": 1646,
        "token": "system",
        "context": "- Uses multi-tier system (ONNX local â†’ Groq â†’ Gemini â†’ Implicit)"
      },
      {
        "line": 1648,
        "token": "ranker",
        "context": "- Performance: ~355ms with ONNX ranker"
      },
      {
        "line": 1651,
        "token": "results",
        "context": "- Over-fetches 3x results, reranks with composite score"
      },
      {
        "line": 1652,
        "token": "weight",
        "context": "- Formula: `(1-weight)*semantic + weight*quality`"
      },
      {
        "line": 1653,
        "token": "score",
        "context": "- Returns `search_type: \"semantic_quality_boost\"` with score breakdown"
      },
      {
        "line": 1656,
        "token": "extracts",
        "context": "- `calculateBackendQuality()` in `memory-scorer.js` extracts quality_score from metadata"
      },
      {
        "line": 1657,
        "token": "async",
        "context": "- `triggerQualityEvaluation()` in `session-end.js` for async scoring"
      },
      {
        "line": 1658,
        "token": "supports",
        "context": "- `queryMemories()` in `memory-client.js` supports `qualityBoost` option"
      },
      {
        "line": 1661,
        "token": "hook",
        "context": "- Updated hook scoring weights: timeDecay (20%), tagRelevance (30%), contentRelevance (10%), contentQuality (20%), backendQuality (20%)"
      },
      {
        "line": 1664,
        "token": "evaluation",
        "context": "- Hook evaluation: Non-blocking with 10s timeout, graceful fallback on failure"
      },
      {
        "line": 1665,
        "token": "enabled",
        "context": "- Requires Memory Quality System (v8.45.0+) to be enabled"
      },
      {
        "line": 1670,
        "token": "broken",
        "context": "- **ONNX Ranker Model Export** - Fixed broken model download URL (404 from HuggingFace) by implementing automatic model export from transformers to ONNX format "
      },
      {
        "line": 1671,
        "token": "support",
        "context": "- **Offline Mode Support** - Added `local_files_only=True` support for air-gapped/offline environments using cached HuggingFace models"
      },
      {
        "line": 1672,
        "token": "tokenizer",
        "context": "- **Tokenizer Loading** - Fixed tokenizer initialization to load from exported pretrained files instead of broken archive"
      },
      {
        "line": 1675,
        "token": "failing",
        "context": "- Replaced failing `onnx.tar.gz` download approach with dynamic export from `cross-encoder/ms-marco-MiniLM-L-6-v2` via transformers"
      },
      {
        "line": 1676,
        "token": "now",
        "context": "- Model now exports to `~/.cache/mcp_memory/onnx_models/ms-marco-MiniLM-L-6-v2/model.onnx` on first initialization"
      },
      {
        "line": 1677,
        "token": "graceful",
        "context": "- Added graceful fallback: tries `local_files_only` first, then online download if not cached"
      },
      {
        "line": 1680,
        "token": "per",
        "context": "- Performance: 7-16ms per memory scoring on CPU (CPUExecutionProvider)"
      },
      {
        "line": 1681,
        "token": "size",
        "context": "- Model size: ~23MB exported ONNX model"
      },
      {
        "line": 1682,
        "token": "transformers",
        "context": "- Dependencies: Requires `transformers`, `torch`, `onnxruntime`, `onnx` packages"
      },
      {
        "line": 1687,
        "token": "dark",
        "context": "- **Dashboard Dark Mode Consistency** - Fixed dark mode regression where form controls, select elements, and view buttons had white/light backgrounds in dark mo"
      },
      {
        "line": 1688,
        "token": "comprehensive",
        "context": "- **Global Dark Mode CSS** - Added comprehensive `.form-control` and `.form-select` dark mode overrides ensuring consistency across all 7 dashboard tabs (Dashbo"
      },
      {
        "line": 1689,
        "token": "chart",
        "context": "- **Quality Tab Chart Contrast** - Improved chart readability in dark mode with proper `var(--neutral-400)` backgrounds and visible grid lines"
      },
      {
        "line": 1690,
        "token": "dynamic",
        "context": "- **Chart.js Dark Mode Support** - Added dynamic Chart.js color configuration in `applyTheme()` function with light text (#f9fafb) and proper legend colors"
      },
      {
        "line": 1691,
        "token": "dynamic",
        "context": "- **Quality Distribution Chart** - Updated `renderQualityDistributionChart()` with dynamic text/grid colors for dark mode"
      },
      {
        "line": 1692,
        "token": "dark",
        "context": "- **Quality Provider Chart** - Updated `renderQualityProviderChart()` with dark mode-aware legend colors"
      },
      {
        "line": 1695,
        "token": "dark",
        "context": "- Enhanced `.view-btn` dark mode styles with proper hover states for better user interaction"
      },
      {
        "line": 1700,
        "token": "HTTP",
        "context": "- **Quality System HTTP API** - Fixed router configuration causing 404 errors on all `/api/quality/*` endpoints (missing `/api/quality` prefix in app.py router "
      },
      {
        "line": 1701,
        "token": "storage",
        "context": "- **Quality Distribution MCP Tool** - Corrected storage method call from non-existent `search_all_memories()` to `get_all_memories()` in server.py quality distr"
      },
      {
        "line": 1702,
        "token": "HTTP",
        "context": "- **HTTP API Tests** - Replaced synchronous `TestClient` with async `httpx.AsyncClient` to fix SQLite thread safety issues in quality system tests"
      },
      {
        "line": 1703,
        "token": "storage",
        "context": "- **Distribution Endpoint** - Fixed storage retrieval logic in quality.py and removed unnecessary dict-to-Memory conversions"
      },
      {
        "line": 1706,
        "token": "performance",
        "context": "- **Dependencies** - Added `pytest-benchmark` for performance testing support"
      },
      {
        "line": 1707,
        "token": "onnxruntime",
        "context": "- **Dependencies** - Added `onnxruntime` as optional dependency for ONNX model support"
      },
      {
        "line": 1710,
        "token": "functional",
        "context": "- All 27 functional tests passing"
      },
      {
        "line": 1711,
        "token": "tests",
        "context": "- ONNX tests properly skip when model unavailable (expected behavior)"
      },
      {
        "line": 1712,
        "token": "errors",
        "context": "- Zero errors in test suite"
      },
      {
        "line": 1717,
        "token": "automatic",
        "context": "- **Memory Quality System** - AI-driven automatic quality scoring (Issue #260, Memento-inspired design)"
      },
      {
        "line": 1718,
        "token": "via",
        "context": "- Local SLM via ONNX (ms-marco-MiniLM-L-6-v2, 23MB) as Tier 1 (primary, default)"
      },
      {
        "line": 1719,
        "token": "fallback",
        "context": "- Multi-tier fallback chain: Local SLM â†’ Groq API â†’ Gemini API â†’ Implicit signals"
      },
      {
        "line": 1720,
        "token": "cost",
        "context": "- Zero cost, full privacy, offline-capable with local SLM"
      },
      {
        "line": 1721,
        "token": "latency",
        "context": "- 50-100ms latency (CPU), 10-20ms (GPU with CUDA/MPS/DirectML)"
      },
      {
        "line": 1725,
        "token": "forgetting",
        "context": "- Quality-based forgetting: High (â‰¥0.7) preserved 365 days, Medium (0.5-0.7) 180 days, Low (<0.5) 30-90 days"
      },
      {
        "line": 1726,
        "token": "decay",
        "context": "- Quality-weighted decay: High-quality memories decay 3x slower than low-quality"
      },
      {
        "line": 1727,
        "token": "search",
        "context": "- Quality-boosted search: 0.7Ã—semantic + 0.3Ã—quality reranking (opt-in via `MCP_QUALITY_BOOST_ENABLED`)"
      },
      {
        "line": 1728,
        "token": "retention",
        "context": "- Adaptive retention based on access patterns and user feedback"
      },
      {
        "line": 1730,
        "token": "new",
        "context": "- **MCP Tools** (4 new tools for quality management)"
      },
      {
        "line": 1731,
        "token": "quality",
        "context": "- `rate_memory` - Manual quality rating with thumbs up/down/neutral (-1/0/1)"
      },
      {
        "line": 1732,
        "token": "quality",
        "context": "- `get_memory_quality` - Retrieve quality metrics (score, provider, confidence, access stats)"
      },
      {
        "line": 1733,
        "token": "analytics",
        "context": "- `analyze_quality_distribution` - System-wide analytics (distribution, provider breakdown, trends)"
      },
      {
        "line": 1734,
        "token": "semantic",
        "context": "- `retrieve_with_quality_boost` - Quality-boosted semantic search with reranking"
      },
      {
        "line": 1736,
        "token": "HTTP",
        "context": "- **HTTP API Endpoints** (4 new REST endpoints)"
      },
      {
        "line": 1737,
        "token": "hash",
        "context": "- POST `/api/quality/memories/{hash}/rate` - Rate memory quality manually"
      },
      {
        "line": 1738,
        "token": "hash",
        "context": "- GET `/api/quality/memories/{hash}` - Get quality metrics for specific memory"
      },
      {
        "line": 1739,
        "token": "statistics",
        "context": "- GET `/api/quality/distribution` - Distribution statistics (high/medium/low counts)"
      },
      {
        "line": 1740,
        "token": "series",
        "context": "- GET `/api/quality/trends` - Time series quality analysis (weekly/monthly trends)"
      },
      {
        "line": 1743,
        "token": "badges",
        "context": "- Quality badges on all memory cards (color-coded by tier: green/yellow/red/gray)"
      },
      {
        "line": 1744,
        "token": "view",
        "context": "- Analytics view with distribution charts (bar chart for counts, pie chart for providers)"
      },
      {
        "line": 1745,
        "token": "breakdown",
        "context": "- Provider breakdown visualization (local/groq/gemini/implicit usage statistics)"
      },
      {
        "line": 1746,
        "token": "performers",
        "context": "- Top/bottom performers lists (highest and lowest quality memories)"
      },
      {
        "line": 1747,
        "token": "panel",
        "context": "- Settings panel for quality configuration (enable/disable, provider selection, boost weight)"
      },
      {
        "line": 1748,
        "token": "support",
        "context": "- i18n support for quality UI elements (English + Chinese translations)"
      },
      {
        "line": 1750,
        "token": "new",
        "context": "- **Configuration** (10 new environment variables)"
      },
      {
        "line": 1751,
        "token": "toggle",
        "context": "- `MCP_QUALITY_SYSTEM_ENABLED` - Master toggle (default: true)"
      },
      {
        "line": 1752,
        "token": "selection",
        "context": "- `MCP_QUALITY_AI_PROVIDER` - Provider selection (local/groq/gemini/auto/none, default: local)"
      },
      {
        "line": 1753,
        "token": "model",
        "context": "- `MCP_QUALITY_LOCAL_MODEL` - ONNX model name (default: ms-marco-MiniLM-L-6-v2)"
      },
      {
        "line": 1754,
        "token": "selection",
        "context": "- `MCP_QUALITY_LOCAL_DEVICE` - Device selection (auto/cpu/cuda/mps/directml, default: auto)"
      },
      {
        "line": 1755,
        "token": "search",
        "context": "- `MCP_QUALITY_BOOST_ENABLED` - Enable quality-boosted search (default: false, opt-in)"
      },
      {
        "line": 1756,
        "token": "weight",
        "context": "- `MCP_QUALITY_BOOST_WEIGHT` - Quality weight 0.0-1.0 (default: 0.3)"
      },
      {
        "line": 1757,
        "token": "retention",
        "context": "- `MCP_QUALITY_RETENTION_HIGH` - High-quality retention days (default: 365)"
      },
      {
        "line": 1758,
        "token": "retention",
        "context": "- `MCP_QUALITY_RETENTION_MEDIUM` - Medium-quality retention days (default: 180)"
      },
      {
        "line": 1759,
        "token": "minimum",
        "context": "- `MCP_QUALITY_RETENTION_LOW_MIN` - Low-quality minimum retention (default: 30)"
      },
      {
        "line": 1760,
        "token": "maximum",
        "context": "- `MCP_QUALITY_RETENTION_LOW_MAX` - Low-quality maximum retention (default: 90)"
      },
      {
        "line": 1763,
        "token": "quality",
        "context": "- **Memory Model** - Extended with quality properties (backward compatible)"
      },
      {
        "line": 1765,
        "token": "usage",
        "context": "- Added `access_count` and `last_accessed_at` for usage tracking"
      },
      {
        "line": 1766,
        "token": "memories",
        "context": "- Existing memories work without modification (quality calculated on first access)"
      },
      {
        "line": 1768,
        "token": "access",
        "context": "- **Storage Backends** - Enhanced with access pattern tracking"
      },
      {
        "line": 1769,
        "token": "retrieval",
        "context": "- SQLite-Vec: Tracks access_count and last_accessed_at on retrieval"
      },
      {
        "line": 1770,
        "token": "retrieval",
        "context": "- Cloudflare: Tracks access_count and last_accessed_at on retrieval"
      },
      {
        "line": 1771,
        "token": "backends",
        "context": "- Both backends support quality-boosted search (opt-in)"
      },
      {
        "line": 1773,
        "token": "quality",
        "context": "- **Consolidation System** - Integrated quality scores for intelligent retention"
      },
      {
        "line": 1774,
        "token": "module",
        "context": "- Forgetting module uses quality scores for retention decisions"
      },
      {
        "line": 1775,
        "token": "module",
        "context": "- Decay module applies quality-weighted decay (high-quality decays slower)"
      },
      {
        "line": 1776,
        "token": "discovery",
        "context": "- Association discovery prioritizes high-quality memories"
      },
      {
        "line": 1778,
        "token": "reranking",
        "context": "- **Search System** - Optional quality-based reranking"
      },
      {
        "line": 1779,
        "token": "semantic",
        "context": "- Default: Pure semantic search (0% quality influence)"
      },
      {
        "line": 1780,
        "token": "search",
        "context": "- Opt-in: Quality-boosted search (70% semantic + 30% quality)"
      },
      {
        "line": 1781,
        "token": "boost",
        "context": "- Configurable boost weight via `MCP_QUALITY_BOOST_WEIGHT`"
      },
      {
        "line": 1784,
        "token": "user",
        "context": "- Comprehensive user guide: `/Users/hkr/Documents/GitHub/mcp-memory-service/docs/guides/memory-quality-guide.md`"
      },
      {
        "line": 1785,
        "token": "configuration",
        "context": "- Setup and configuration (local SLM, cloud APIs, hybrid mode)"
      },
      {
        "line": 1786,
        "token": "examples",
        "context": "- Usage examples (MCP tools, HTTP API, Dashboard UI)"
      },
      {
        "line": 1787,
        "token": "benchmarks",
        "context": "- Performance benchmarks (latency, accuracy, cost analysis)"
      },
      {
        "line": 1788,
        "token": "guide",
        "context": "- Troubleshooting guide (common issues, diagnostics)"
      },
      {
        "line": 1789,
        "token": "updated",
        "context": "- CLAUDE.md updated with quality system section"
      },
      {
        "line": 1790,
        "token": "examples",
        "context": "- Configuration examples for all deployment scenarios"
      },
      {
        "line": 1791,
        "token": "notes",
        "context": "- Migration notes for existing users (zero breaking changes)"
      },
      {
        "line": 1794,
        "token": "per",
        "context": "- **Quality Calculation Overhead**: <10ms per memory (non-blocking async)"
      },
      {
        "line": 1795,
        "token": "total",
        "context": "- **Search Latency with Boost**: <100ms total (semantic search + quality reranking)"
      },
      {
        "line": 1797,
        "token": "queued",
        "context": "- **Async Background Scoring**: Non-blocking, queued processing for new memories"
      },
      {
        "line": 1801,
        "token": "unit",
        "context": "- 25 unit tests for quality scoring (`tests/test_quality_system.py`)"
      },
      {
        "line": 1802,
        "token": "integration",
        "context": "- 6 integration tests for consolidation (`tests/test_quality_integration.py`)"
      },
      {
        "line": 1803,
        "token": "pass",
        "context": "- Test pass rate: 67% (22/33 tests passing)"
      },
      {
        "line": 1804,
        "token": "issues",
        "context": "- Known issues: 4 HTTP API tests (non-critical, fix scheduled for v8.45.1)"
      },
      {
        "line": 1807,
        "token": "HTTP",
        "context": "- 4 HTTP API tests failing (non-critical, development environment only):"
      },
      {
        "line": 1808,
        "token": "retrieval",
        "context": "- `test_analyze_quality_distribution_mcp_tool` - Storage retrieval edge case"
      },
      {
        "line": 1809,
        "token": "HTTP",
        "context": "- `test_rate_memory_http_endpoint` - HTTP 404 (routing configuration)"
      },
      {
        "line": 1810,
        "token": "HTTP",
        "context": "- `test_get_quality_http_endpoint` - HTTP 404 (routing configuration)"
      },
      {
        "line": 1811,
        "token": "HTTP",
        "context": "- `test_distribution_http_endpoint` - HTTP 500 (async handling)"
      },
      {
        "line": 1812,
        "token": "scheduled",
        "context": "- Fix scheduled for v8.45.1 patch release"
      },
      {
        "line": 1813,
        "token": "functionality",
        "context": "- Production functionality unaffected (manual testing validates all features work correctly)"
      },
      {
        "line": 1816,
        "token": "breaking",
        "context": "- **No breaking changes** - Quality system is opt-in and backward compatible"
      },
      {
        "line": 1817,
        "token": "users",
        "context": "- **Existing users**: System works as before, quality scoring happens automatically in background"
      },
      {
        "line": 1818,
        "token": "enable",
        "context": "- **To enable quality-boosted search**: Set `MCP_QUALITY_BOOST_ENABLED=true` in configuration"
      },
      {
        "line": 1819,
        "token": "use",
        "context": "- **To use cloud APIs**: Set API keys (GROQ_API_KEY/GEMINI_API_KEY) and `MCP_QUALITY_AI_PROVIDER=auto`"
      },
      {
        "line": 1820,
        "token": "disable",
        "context": "- **To disable quality system**: Set `MCP_QUALITY_SYSTEM_ENABLED=false` (not recommended)"
      },
      {
        "line": 1823,
        "token": "improvement",
        "context": "- Target: >40% improvement in retrieval precision (to be measured with usage data)"
      },
      {
        "line": 1824,
        "token": "local",
        "context": "- Target: >95% local SLM usage (Tier 1, zero cost)"
      },
      {
        "line": 1825,
        "token": "search",
        "context": "- Target: <100ms search latency with quality boost"
      },
      {
        "line": 1826,
        "token": "monthly",
        "context": "- Target: $0 monthly cost (local SLM default, no external API calls)"
      },
      {
        "line": 1831,
        "token": "new",
        "context": "- **Multi-Language Expansion** - Added 5 new languages to dashboard i18n system (commit a7d0ba7)"
      },
      {
        "line": 1832,
        "token": "translation",
        "context": "- ğŸ‡¯ğŸ‡µ **Japanese (æ—¥æœ¬èª)** - 359 translation keys, complete UI coverage"
      },
      {
        "line": 1833,
        "token": "translation",
        "context": "- ğŸ‡°ğŸ‡· **Korean (í•œêµ­ì–´)** - 359 translation keys, complete UI coverage"
      },
      {
        "line": 1834,
        "token": "translation",
        "context": "- ğŸ‡©ğŸ‡ª **German (Deutsch)** - 359 translation keys, complete UI coverage"
      },
      {
        "line": 1835,
        "token": "ais",
        "context": "- ğŸ‡«ğŸ‡· **French (FranÃ§ais)** - 359 translation keys, complete UI coverage"
      },
      {
        "line": 1836,
        "token": "translation",
        "context": "- ğŸ‡ªğŸ‡¸ **Spanish (EspaÃ±ol)** - 359 translation keys, complete UI coverage"
      },
      {
        "line": 1837,
        "token": "translations",
        "context": "- All translations professionally validated (key parity, interpolation syntax, JSON structure)"
      },
      {
        "line": 1838,
        "token": "translation",
        "context": "- **Complete i18n Coverage** - Extended translation support to all UI elements (+57 keys: 304 â†’ 359)"
      },
      {
        "line": 1839,
        "token": "results",
        "context": "- Search results view: headers, view buttons, empty states"
      },
      {
        "line": 1840,
        "token": "view",
        "context": "- Browse by Tags view: title, subtitle, filter controls"
      },
      {
        "line": 1841,
        "token": "all",
        "context": "- Memory Details Modal: all buttons and labels"
      },
      {
        "line": 1842,
        "token": "complete",
        "context": "- Add Memory Modal: complete form field coverage"
      },
      {
        "line": 1843,
        "token": "preferences",
        "context": "- Settings Modal: preferences, system info, backup sections"
      },
      {
        "line": 1844,
        "token": "states",
        "context": "- Loading states and connection status indicators"
      },
      {
        "line": 1845,
        "token": "all",
        "context": "- Memory Viewer Modal: all interactive elements"
      },
      {
        "line": 1846,
        "token": "attributes",
        "context": "- ~80 data-i18n attributes added to index.html for automatic translation"
      },
      {
        "line": 1849,
        "token": "styling",
        "context": "- **Dark Mode Language Dropdown** - Fixed styling inconsistencies in dark mode (commit a7d0ba7)"
      },
      {
        "line": 1850,
        "token": "proper",
        "context": "- Added proper background colors for dropdown items"
      },
      {
        "line": 1851,
        "token": "hover",
        "context": "- Fixed hover state styling (translucent white overlay)"
      },
      {
        "line": 1852,
        "token": "active",
        "context": "- Fixed active language highlighting"
      },
      {
        "line": 1853,
        "token": "contrast",
        "context": "- Improved contrast and readability in dark theme"
      },
      {
        "line": 1856,
        "token": "keys",
        "context": "- **Translation Key Structure** - Expanded from 304 to 359 keys per language"
      },
      {
        "line": 1857,
        "token": "backward",
        "context": "- Maintains backward compatibility with existing translations"
      },
      {
        "line": 1858,
        "token": "updated",
        "context": "- English (en.json) and Chinese (zh.json) updated to match new structure"
      },
      {
        "line": 1859,
        "token": "key",
        "context": "- Consistent key naming conventions across all languages"
      },
      {
        "line": 1864,
        "token": "support",
        "context": "- **Frontend Internationalization** - Complete i18n support for dashboard with English and Chinese translations (PR #256, thanks @amm10090!)"
      },
      {
        "line": 1865,
        "token": "toggle",
        "context": "- Language toggle switcher in header with ğŸŒ icon"
      },
      {
        "line": 1866,
        "token": "translation",
        "context": "- 300+ translation keys in `en.json` and `zh.json`"
      },
      {
        "line": 1867,
        "token": "language",
        "context": "- Automatic language detection (localStorage > browser language > English)"
      },
      {
        "line": 1868,
        "token": "translation",
        "context": "- Dynamic translation of all UI elements, placeholders, tooltips"
      },
      {
        "line": 1869,
        "token": "fallback",
        "context": "- English fallback for missing keys"
      },
      {
        "line": 1870,
        "token": "quality",
        "context": "- **Enhanced Claude Branch Automation** - Integrated quality checks before PR creation"
      },
      {
        "line": 1871,
        "token": "quality",
        "context": "- New file-level quality validation utility (`scripts/pr/run_quality_checks_on_files.sh`, 286 lines)"
      },
      {
        "line": 1872,
        "token": "primary",
        "context": "- Groq API primary (fast, 200-300ms), Gemini CLI fallback"
      },
      {
        "line": 1873,
        "token": "complexity",
        "context": "- Code complexity analysis (blocks >8, warns 7-8)"
      },
      {
        "line": 1874,
        "token": "vulnerability",
        "context": "- Security vulnerability scan (SQL injection, XSS, command injection, path traversal, secrets)"
      },
      {
        "line": 1875,
        "token": "creation",
        "context": "- Conditional PR creation (blocks if security issues detected)"
      },
      {
        "line": 1876,
        "token": "annotations",
        "context": "- GitHub Actions annotations for inline feedback"
      },
      {
        "line": 1877,
        "token": "output",
        "context": "- Machine-parseable output format for CI/CD integration"
      },
      {
        "line": 1880,
        "token": "traversal",
        "context": "- **i18n Performance Optimization** - Reduced DOM traversal overhead (4 separate calls â†’ single unified traversal)"
      },
      {
        "line": 1883,
        "token": "incorrect",
        "context": "- **Translation Accuracy** - Removed incorrect translation wrapping for backend error messages"
      },
      {
        "line": 1884,
        "token": "missing",
        "context": "- **Translation Completeness** - Added missing `{reason}` placeholder to error translations"
      },
      {
        "line": 1889,
        "token": "object",
        "context": "- **MCP Resource Handler AttributeError** - Fixed `AttributeError: 'AnyUrl' object has no attribute 'startswith'` in `handle_read_resource` function (issue #254"
      },
      {
        "line": 1890,
        "token": "automatic",
        "context": "- Added automatic URI string conversion at function start to handle both plain strings and Pydantic AnyUrl objects"
      },
      {
        "line": 1891,
        "token": "may",
        "context": "- MCP SDK may pass AnyUrl objects instead of strings, causing AttributeError when using `.startswith()` method"
      },
      {
        "line": 1892,
        "token": "converts",
        "context": "- Fix converts AnyUrl to string using `str()` before processing, maintaining backward compatibility"
      },
      {
        "line": 1897,
        "token": "now",
        "context": "- **Visible Memory Injection Display** - Users now see injected memories at session start (commit TBD)"
      },
      {
        "line": 1898,
        "token": "config",
        "context": "- Added `showInjectedMemories` config option to display top 3 memories with relevance scores"
      },
      {
        "line": 1899,
        "token": "memory",
        "context": "- Shows memory age (e.g., \"2 days ago\"), tags, and relevance scores"
      },
      {
        "line": 1900,
        "token": "colored",
        "context": "- Formatted with colored output box for clear visibility"
      },
      {
        "line": 1901,
        "token": "users",
        "context": "- Helps users understand what context the AI assistant is using"
      },
      {
        "line": 1902,
        "token": "via",
        "context": "- Configurable via `~/.claude/hooks/config.json`"
      },
      {
        "line": 1905,
        "token": "quality",
        "context": "- **Session-End Hook Quality Improvements** - Raised quality thresholds to prevent generic boilerplate (commit TBD)"
      },
      {
        "line": 1906,
        "token": "characters",
        "context": "- Increased `minSessionLength` from 100 â†’ 200 characters (requires more substantial content)"
      },
      {
        "line": 1907,
        "token": "requires",
        "context": "- Increased `minConfidence` from 0.1 â†’ 0.5 (requires 5+ meaningful items vs 1+)"
      },
      {
        "line": 1908,
        "token": "optional",
        "context": "- Added optional LLM-powered session summarizer using Gemini CLI"
      },
      {
        "line": 1909,
        "token": "files",
        "context": "- New files: `llm-session-summarizer.js` utility and `session-end-llm.js` core hook"
      },
      {
        "line": 1910,
        "token": "memories",
        "context": "- Prevents low-quality memories like \"User asked Claude to review code\" from polluting database"
      },
      {
        "line": 1911,
        "token": "cleaned",
        "context": "- Database cleaned from 3352 â†’ 3185 memories (167 generic entries removed)"
      },
      {
        "line": 1914,
        "token": "duplicate",
        "context": "- **Duplicate MCP Fallback Messages** - Fixed duplicate \"MCP Fallback â†’ Using standard MCP tools\" log messages (commit TBD)"
      },
      {
        "line": 1915,
        "token": "flag",
        "context": "- Added module-level flag to track if fallback message was already logged"
      },
      {
        "line": 1916,
        "token": "now",
        "context": "- Message now appears once per session instead of once per query"
      },
      {
        "line": 1917,
        "token": "session",
        "context": "- Improved session start hook output clarity"
      },
      {
        "line": 1920,
        "token": "defaults",
        "context": "- **Configuration Improvements** - Better defaults for session analysis"
      },
      {
        "line": 1921,
        "token": "relevance",
        "context": "- Enabled relevance scores in context formatting"
      },
      {
        "line": 1922,
        "token": "memory",
        "context": "- Improved memory scoring to prioritize quality over recency for generic content"
      },
      {
        "line": 1923,
        "token": "hook",
        "context": "- Session-end hook re-enabled with improved quality gates"
      },
      {
        "line": 1928,
        "token": "now",
        "context": "- **Hook Installer Utility File Deployment** - Installer now copies ALL utility files instead of hardcoded lists (commit 557be0e)"
      },
      {
        "line": 1929,
        "token": "installer",
        "context": "- **BREAKING**: Previous installer only copied 8/14 basic utilities and 5/14 enhanced utilities"
      },
      {
        "line": 1930,
        "token": "files",
        "context": "- Updated files like `memory-scorer.js` and `context-formatter.js` were not deployed with `--natural-triggers` flag"
      },
      {
        "line": 1931,
        "token": "hardcoded",
        "context": "- Replaced hardcoded file lists with glob pattern (`*.js`) to automatically include all utility files"
      },
      {
        "line": 1932,
        "token": "project",
        "context": "- Ensures v8.41.0/v8.41.1 project affinity filtering fixes get properly deployed"
      },
      {
        "line": 1933,
        "token": "utility",
        "context": "- Future utility file additions automatically included without manual list maintenance"
      },
      {
        "line": 1934,
        "token": "running",
        "context": "- **Impact**: Users running `python install_hooks.py --natural-triggers` now get all 14 utility files, preventing stale hooks"
      },
      {
        "line": 1939,
        "token": "now",
        "context": "- **Context Formatter Memory Sorting** - Memories now sorted by recency within each category (commit 2ede2a8)"
      },
      {
        "line": 1940,
        "token": "sorting",
        "context": "- Added sorting by `created_at_iso` (descending) after grouping memories into categories"
      },
      {
        "line": 1941,
        "token": "most",
        "context": "- Ensures most recent memories appear first in each section for better context relevance"
      },
      {
        "line": 1942,
        "token": "after",
        "context": "- Applied in `context-formatter.js` after category grouping logic"
      },
      {
        "line": 1943,
        "token": "user",
        "context": "- Improves user experience by prioritizing newest information in memory context"
      },
      {
        "line": 1948,
        "token": "session",
        "context": "- **Session Start Hook Reliability** - Improved session start hook reliability and memory filtering (commit 924962a)"
      },
      {
        "line": 1949,
        "token": "spam",
        "context": "- **Error Suppression**: Suppressed Code Execution ModuleNotFoundError spam"
      },
      {
        "line": 1950,
        "token": "true",
        "context": "- Added `suppressErrors: true` to Code Execution call configuration"
      },
      {
        "line": 1951,
        "token": "console",
        "context": "- Eliminates console noise from module import errors during session start"
      },
      {
        "line": 1952,
        "token": "duplicate",
        "context": "- **Clean Output**: Removed duplicate \"Injected Memory Context\" output"
      },
      {
        "line": 1953,
        "token": "duplicate",
        "context": "- Removed duplicate stdout console.log that caused double messages"
      },
      {
        "line": 1954,
        "token": "start",
        "context": "- Session start output now cleaner and easier to read"
      },
      {
        "line": 1955,
        "token": "project",
        "context": "- **Memory Filtering**: Added project affinity scoring to prevent cross-project memory pollution"
      },
      {
        "line": 1956,
        "token": "function",
        "context": "- New `calculateProjectAffinity()` function in `memory-scorer.js`"
      },
      {
        "line": 1957,
        "token": "filters",
        "context": "- Hard filters out memories without project tag when in a project context"
      },
      {
        "line": 1958,
        "token": "scoring",
        "context": "- Soft scoring penalty (0.3x) for memories from different projects"
      },
      {
        "line": 1959,
        "token": "memories",
        "context": "- Prevents Azure/Terraform memories from appearing in mcp-memory-service context"
      },
      {
        "line": 1960,
        "token": "summaries",
        "context": "- **Classification Fix**: Session summaries no longer misclassified as \"Current Problems\""
      },
      {
        "line": 1961,
        "token": "session",
        "context": "- Excludes `session`, `session-summary`, and `session-end` memory types from problem classification"
      },
      {
        "line": 1962,
        "token": "confusion",
        "context": "- Prevents confusion between historical session notes and actual current issues"
      },
      {
        "line": 1963,
        "token": "location",
        "context": "- **Path Display**: \"Unknown location\" now shows actual path via `process.cwd()` fallback"
      },
      {
        "line": 1964,
        "token": "git",
        "context": "- When git repository detection fails, uses `process.cwd()` instead of \"Unknown location\""
      },
      {
        "line": 1965,
        "token": "better",
        "context": "- Provides better context awareness even in non-git directories"
      },
      {
        "line": 1970,
        "token": "version",
        "context": "- **Session Start Version Display** - Automatic version information display during session startup (commit f2f7d2b, fixes #250)"
      },
      {
        "line": 1971,
        "token": "utility",
        "context": "- **Version Checker Utility**: New `version-checker.js` utility in `claude-hooks/utilities/`"
      },
      {
        "line": 1972,
        "token": "local",
        "context": "- Reads local version from `src/mcp_memory_service/__init__.py`"
      },
      {
        "line": 1973,
        "token": "latest",
        "context": "- Fetches latest published version from PyPI API"
      },
      {
        "line": 1974,
        "token": "versions",
        "context": "- Compares versions and displays status labels (published/development/outdated)"
      },
      {
        "line": 1975,
        "token": "timeout",
        "context": "- Configurable timeout for PyPI API requests"
      },
      {
        "line": 1976,
        "token": "information",
        "context": "- **Session Start Integration**: Version information now appears automatically during session initialization"
      },
      {
        "line": 1977,
        "token": "format",
        "context": "- Displays format: `ğŸ“¦ Version â†’ X.Y.Z (local) â€¢ PyPI: X.Y.Z`"
      },
      {
        "line": 1978,
        "token": "after",
        "context": "- Shows after storage backend information"
      },
      {
        "line": 1979,
        "token": "immediate",
        "context": "- Provides immediate visibility into version status"
      },
      {
        "line": 1980,
        "token": "utility",
        "context": "- **Testing**: Includes `test_version_checker.js` for utility validation"
      },
      {
        "line": 1982,
        "token": "version",
        "context": "- Quick version verification without manual checks"
      },
      {
        "line": 1983,
        "token": "detection",
        "context": "- Early detection of outdated installations"
      },
      {
        "line": 1984,
        "token": "development",
        "context": "- Improved development workflow transparency"
      },
      {
        "line": 1985,
        "token": "users",
        "context": "- Helps users stay current with latest features and fixes"
      },
      {
        "line": 1990,
        "token": "three",
        "context": "- **Dashboard Analytics Bugs** - Fixed three critical bugs in the analytics section (commit c898a72, fixes #253)"
      },
      {
        "line": 1991,
        "token": "filtering",
        "context": "- **Top Tags filtering**: Now correctly filters tags by selected timeframe (7d/30d/90d)"
      },
      {
        "line": 1992,
        "token": "filtering",
        "context": "- Implemented time-based filtering using `get_memories_by_time_range()`"
      },
      {
        "line": 1993,
        "token": "tags",
        "context": "- Counts tags only from memories within the selected period"
      },
      {
        "line": 1994,
        "token": "backward",
        "context": "- Maintains backward compatibility with all storage backends"
      },
      {
        "line": 1995,
        "token": "display",
        "context": "- **Recent Activity display**: Bars now show percentage distribution"
      },
      {
        "line": 1996,
        "token": "display",
        "context": "- Enhanced display to show both count and percentage of total"
      },
      {
        "line": 1997,
        "token": "includes",
        "context": "- Tooltip includes both absolute count and percentage"
      },
      {
        "line": 1998,
        "token": "count",
        "context": "- Activity count label shows percentage (e.g., '42 (23.5%)')"
      },
      {
        "line": 1999,
        "token": "field",
        "context": "- **Storage Report field mismatches**: Fixed \"undefined chars\" display"
      },
      {
        "line": 2000,
        "token": "field",
        "context": "- Fixed field name: `size_kb` instead of `size`"
      },
      {
        "line": 2001,
        "token": "field",
        "context": "- Fixed field name: `preview` instead of `content_preview`"
      },
      {
        "line": 2002,
        "token": "date",
        "context": "- Fixed date parsing: `created_at` is ISO string, not timestamp"
      },
      {
        "line": 2003,
        "token": "null",
        "context": "- Added null safety and proper size display (KB with bytes fallback)"
      },
      {
        "line": 2008,
        "token": "filtering",
        "context": "- **Analytics date-range filtering**: Moved from application layer to storage layer for 10x performance improvement (#238)"
      },
      {
        "line": 2009,
        "token": "backend",
        "context": "- Added `get_memories_by_time_range()` to Cloudflare backend with D1 database filtering"
      },
      {
        "line": 2010,
        "token": "memory",
        "context": "- Updated memory growth endpoint to use database-layer queries instead of fetching all memories"
      },
      {
        "line": 2011,
        "token": "gains",
        "context": "- **Performance gains**:"
      },
      {
        "line": 2012,
        "token": "data",
        "context": "- Reduced data transfer: 50MB â†’ 1.5MB (97% reduction for 10,000 memories)"
      },
      {
        "line": 2013,
        "token": "time",
        "context": "- Response time (SQLite-vec): ~500ms â†’ ~50ms (10x improvement)"
      },
      {
        "line": 2014,
        "token": "time",
        "context": "- Response time (Cloudflare): ~2-3s â†’ ~200ms (10-15x improvement)"
      },
      {
        "line": 2015,
        "token": "handles",
        "context": "- **Scalability**: Now handles databases with >10,000 memories efficiently"
      },
      {
        "line": 2016,
        "token": "filtering",
        "context": "- **Benefits**: Pushes filtering to database WHERE clauses, leverages indexes on `created_at`"
      },
      {
        "line": 2021,
        "token": "HTTP",
        "context": "- **HTTP MCP Transport: JSON-RPC 2.0 Compliance** - Fixed critical bug where HTTP MCP responses violated JSON-RPC 2.0 specification (PR #249, fixes #236)"
      },
      {
        "line": 2022,
        "token": "ignored",
        "context": "- **Problem**: FastAPI ignored Pydantic's `ConfigDict(exclude_none=True)` when directly returning models, causing responses to include null fields (`\"error\": nu"
      },
      {
        "line": 2023,
        "token": "rejected",
        "context": "- **Impact**: Claude Code/Desktop rejected all HTTP MCP communications due to spec violation"
      },
      {
        "line": 2024,
        "token": "all",
        "context": "- **Solution**: Wrapped all `MCPResponse` returns in `JSONResponse` with explicit `.model_dump(exclude_none=True)` serialization"
      },
      {
        "line": 2026,
        "token": "responses",
        "context": "- Success responses now contain ONLY: `jsonrpc`, `id`, `result`"
      },
      {
        "line": 2027,
        "token": "responses",
        "context": "- Error responses now contain ONLY: `jsonrpc`, `id`, `error`"
      },
      {
        "line": 2028,
        "token": "curl",
        "context": "- **Testing**: Validated with curl commands against all 5 MCP endpoint response paths"
      },
      {
        "line": 2029,
        "token": "timkjr",
        "context": "- **Credits**: @timkjr (Tim Knauff) for identifying root cause and implementing proper fix"
      },
      {
        "line": 2034,
        "token": "lines",
        "context": "- **Code Quality: Phase 2b Duplicate Consolidation COMPLETE** - Eliminated ~176-186 lines of duplicate code (issue #246)"
      },
      {
        "line": 2035,
        "token": "chunk",
        "context": "- **Document chunk processing consolidation (Group 3)**:"
      },
      {
        "line": 2036,
        "token": "helper",
        "context": "- Extracted `process_document_chunk()` helper function from duplicate implementations"
      },
      {
        "line": 2037,
        "token": "pattern",
        "context": "- Consolidated chunk_text/chunk_size/chunk_overlap pattern across document ingestion tools"
      },
      {
        "line": 2038,
        "token": "occurrences",
        "context": "- 2 occurrences reduced to 1 canonical implementation with consistent metadata handling"
      },
      {
        "line": 2039,
        "token": "response",
        "context": "- **MCP response parsing consolidation (Group 3)**:"
      },
      {
        "line": 2040,
        "token": "helper",
        "context": "- Extracted `parse_mcp_response()` helper for isError/error/content pattern"
      },
      {
        "line": 2041,
        "token": "error",
        "context": "- Standardized error handling across MCP tool invocations"
      },
      {
        "line": 2042,
        "token": "occurrences",
        "context": "- 2 occurrences reduced to 1 canonical implementation"
      },
      {
        "line": 2043,
        "token": "statistics",
        "context": "- **Cache statistics logging consolidation (Group 5)**:"
      },
      {
        "line": 2044,
        "token": "helper",
        "context": "- Extracted `log_cache_statistics()` helper for storage/service cache metrics"
      },
      {
        "line": 2045,
        "token": "cache",
        "context": "- Standardized cache performance logging format (hits, misses, hit rates)"
      },
      {
        "line": 2046,
        "token": "occurrences",
        "context": "- 2 occurrences reduced to 1 canonical implementation with consistent percentage formatting"
      },
      {
        "line": 2047,
        "token": "season",
        "context": "- **Winter season boundary logic consolidation (Group 7)**:"
      },
      {
        "line": 2048,
        "token": "helper",
        "context": "- Extracted `is_winter_boundary_case()` helper for cross-year winter season handling"
      },
      {
        "line": 2049,
        "token": "transition",
        "context": "- Centralized December-January transition logic (Dec 21 - Mar 20 spans years)"
      },
      {
        "line": 2050,
        "token": "occurrences",
        "context": "- 2 occurrences reduced to 1 canonical implementation"
      },
      {
        "line": 2051,
        "token": "tempfile",
        "context": "- **Test tempfile setup consolidation (Groups 10, 11)**:"
      },
      {
        "line": 2052,
        "token": "helper",
        "context": "- Extracted `create_test_document()` helper for pytest tmp_path fixture patterns"
      },
      {
        "line": 2053,
        "token": "temporary",
        "context": "- Standardized temporary file creation across document ingestion tests"
      },
      {
        "line": 2054,
        "token": "occurrences",
        "context": "- 6 occurrences reduced to 2 canonical implementations (PDF, DOCX variants)"
      },
      {
        "line": 2055,
        "token": "server",
        "context": "- **MCP server configuration consolidation (Phase 2b-3)**:"
      },
      {
        "line": 2056,
        "token": "duplicate",
        "context": "- Consolidated duplicate server config sections in install.py and scripts/installation/install.py"
      },
      {
        "line": 2057,
        "token": "JSON",
        "context": "- Unified JSON serialization logic for mcpServers configuration blocks"
      },
      {
        "line": 2058,
        "token": "maintainability",
        "context": "- Improved maintainability through shared configuration structure"
      },
      {
        "line": 2059,
        "token": "input",
        "context": "- **User input prompt consolidation (Phase 2b-2)**:"
      },
      {
        "line": 2060,
        "token": "shared",
        "context": "- Extracted shared prompt logic for backend selection and configuration"
      },
      {
        "line": 2061,
        "token": "input",
        "context": "- Standardized input validation patterns across installation scripts"
      },
      {
        "line": 2062,
        "token": "code",
        "context": "- Reduced code duplication in interactive installation workflows"
      },
      {
        "line": 2063,
        "token": "detection",
        "context": "- **Additional GPU detection consolidation (Phase 2b-1)**:"
      },
      {
        "line": 2064,
        "token": "platform",
        "context": "- Completed GPU platform detection consolidation from Phase 2a"
      },
      {
        "line": 2065,
        "token": "helper",
        "context": "- Refined helper function extraction for test_gpu_platform() and related utilities"
      },
      {
        "line": 2066,
        "token": "detection",
        "context": "- Enhanced configuration-driven GPU detection architecture"
      },
      {
        "line": 2068,
        "token": "duplicate",
        "context": "- Total duplicate code eliminated: ~176-186 lines across 10 consolidation commits"
      },
      {
        "line": 2069,
        "token": "consolidated",
        "context": "- Functions/patterns consolidated: 10+ duplicate implementations â†’ canonical versions"
      },
      {
        "line": 2070,
        "token": "deference",
        "context": "- Strategic deference: 5 groups intentionally skipped (high-risk/low-benefit per session analysis)"
      },
      {
        "line": 2071,
        "token": "maintainability",
        "context": "- Code maintainability: Enhanced through focused helper methods and consistent patterns"
      },
      {
        "line": 2072,
        "token": "backward",
        "context": "- 100% backward compatibility maintained (no breaking changes)"
      },
      {
        "line": 2073,
        "token": "coverage",
        "context": "- Test coverage: 100% maintained across all consolidations"
      },
      {
        "line": 2076,
        "token": "consolidation",
        "context": "- **Phase 2b Duplicate Consolidation**: 10 consolidation commits addressing multiple duplication groups"
      },
      {
        "line": 2077,
        "token": "baseline",
        "context": "- **Duplication Score**: Reduced from 5.5% (Phase 2a baseline) to estimated 4.5-4.7%"
      },
      {
        "line": 2078,
        "token": "extraction",
        "context": "- **Complexity Reduction**: Helper extraction pattern applied consistently across codebase"
      },
      {
        "line": 2080,
        "token": "target",
        "context": "- Duplication Score: Approaching <3% target with strategic consolidation"
      },
      {
        "line": 2081,
        "token": "through",
        "context": "- Complexity Score: Improved through helper function extraction"
      },
      {
        "line": 2082,
        "token": "progress",
        "context": "- Overall Health Score: Strong progress toward 75+ target"
      },
      {
        "line": 2083,
        "token": "duplication",
        "context": "- **Remaining Work**: 5 duplication groups intentionally deferred (high-risk backend logic, low-benefit shared imports)"
      },
      {
        "line": 2089,
        "token": "duplicate",
        "context": "- **Code Quality: Phase 2a Duplicate Consolidation COMPLETE** - Eliminated 5 duplicate high-complexity functions (issue #246)"
      },
      {
        "line": 2090,
        "token": "consolidation",
        "context": "- **detect_gpu() consolidation (3 duplicates â†’ 1 canonical)**:"
      },
      {
        "line": 2091,
        "token": "lines",
        "context": "- Consolidated ROOT install.py::detect_gpu() (119 lines, complexity 30) with refactored scripts/installation/install.py version (187 lines, configuration-driven"
      },
      {
        "line": 2092,
        "token": "lines",
        "context": "- Refactored scripts/validation/verify_environment.py::EnvironmentVerifier.detect_gpu() (123 lines, complexity 27) to use helper-based architecture"
      },
      {
        "line": 2093,
        "token": "canonical",
        "context": "- Final canonical implementation in install.py: GPU_PLATFORM_CHECKS config dict + test_gpu_platform() helper + CUDA_VERSION_PARSER"
      },
      {
        "line": 2094,
        "token": "functions",
        "context": "- Impact: -4% high-complexity functions (27 â†’ 26), improved maintainability"
      },
      {
        "line": 2095,
        "token": "consolidation",
        "context": "- **verify_installation() consolidation (2 duplicates â†’ 1 canonical)**:"
      },
      {
        "line": 2096,
        "token": "simplified",
        "context": "- Replaced scripts/installation/install.py simplified version with canonical ROOT install.py implementation"
      },
      {
        "line": 2097,
        "token": "tokenizers",
        "context": "- Added tokenizers check for ONNX dependencies, safer DirectML version handling"
      },
      {
        "line": 2098,
        "token": "error",
        "context": "- Improved error messaging and user guidance"
      },
      {
        "line": 2100,
        "token": "duplicate",
        "context": "- Total duplicate functions eliminated: 5 (3x detect_gpu + 2x verify_installation)"
      },
      {
        "line": 2101,
        "token": "functions",
        "context": "- High-complexity functions reduced: 27 â†’ 24 (-11%)"
      },
      {
        "line": 2102,
        "token": "maintainability",
        "context": "- Code maintainability improved through focused helper methods and configuration-driven design"
      },
      {
        "line": 2103,
        "token": "backward",
        "context": "- 100% backward compatibility maintained (no breaking changes)"
      },
      {
        "line": 2106,
        "token": "target",
        "context": "- **Phase 2a Duplicate Consolidation**: 5 of 5 target functions consolidated (100% complete)"
      },
      {
        "line": 2108,
        "token": "patterns",
        "context": "- **Complexity Reduction**: Configuration-driven patterns replace monolithic if/elif chains"
      },
      {
        "line": 2110,
        "token": "toward",
        "context": "- Duplication Score: Reduced toward <3% target"
      },
      {
        "line": 2111,
        "token": "through",
        "context": "- Complexity Score: Improved through helper extraction"
      },
      {
        "line": 2112,
        "token": "track",
        "context": "- Overall Health Score: On track for 75+ target"
      },
      {
        "line": 2118,
        "token": "HTTP",
        "context": "- **CRITICAL**: HTTP server crash on v8.36.0 startup - forward reference error in analytics.py (issue #247)"
      },
      {
        "line": 2119,
        "token": "import",
        "context": "- Added `from __future__ import annotations` to enable forward references in type hints"
      },
      {
        "line": 2120,
        "token": "typing",
        "context": "- Added `Tuple` to typing imports for Python 3.9 compatibility"
      },
      {
        "line": 2121,
        "token": "all",
        "context": "- Impact: Unblocks all v8.36.0 users experiencing startup failures"
      },
      {
        "line": 2122,
        "token": "cause",
        "context": "- Root cause: PR #244 refactoring introduced forward references without future annotations import"
      },
      {
        "line": 2123,
        "token": "verified",
        "context": "- Fix verified: HTTP server starts successfully, all 10 analytics routes registered"
      },
      {
        "line": 2128,
        "token": "final",
        "context": "- **Code Quality: Phase 2 COMPLETE - 100% of Target Achieved** - Refactored final 7 functions, -19 complexity points (issue #240 PR #244)"
      },
      {
        "line": 2129,
        "token": "points",
        "context": "- **consolidator.py (-8 points)**:"
      },
      {
        "line": 2130,
        "token": "consolidate",
        "context": "- `consolidate()`: 12 â†’ 8 - Introduced SyncPauseContext for cleaner sync state management + extracted `check_horizon_requirements()` helper"
      },
      {
        "line": 2131,
        "token": "conditional",
        "context": "- `_get_memories_for_horizon()`: 10 â†’ 8 - Replaced conditional logic with data-driven HORIZON_CONFIGS dict lookup"
      },
      {
        "line": 2132,
        "token": "points",
        "context": "- **analytics.py (-8 points)**:"
      },
      {
        "line": 2133,
        "token": "helpers",
        "context": "- `get_tag_usage_analytics()`: 10 â†’ 6 - Extracted `fetch_storage_stats()` and `calculate_tag_statistics()` helpers (40+ lines)"
      },
      {
        "line": 2134,
        "token": "helper",
        "context": "- `get_activity_breakdown()`: 9 â†’ 7 - Extracted `calculate_activity_time_ranges()` helper (70+ lines)"
      },
      {
        "line": 2135,
        "token": "helper",
        "context": "- `get_memory_type_distribution()`: 9 â†’ 7 - Extracted `aggregate_type_statistics()` helper"
      },
      {
        "line": 2136,
        "token": "points",
        "context": "- **install.py (-2 points)**:"
      },
      {
        "line": 2137,
        "token": "dict",
        "context": "- `detect_gpu()`: 10 â†’ 8 - Data-driven GPU_PLATFORM_CHECKS dict + extracted `test_gpu_platform()` helper"
      },
      {
        "line": 2138,
        "token": "point",
        "context": "- **cloudflare.py (-1 point)**:"
      },
      {
        "line": 2139,
        "token": "method",
        "context": "- `get_memory_timestamps()`: 9 â†’ 8 - Extracted `_fetch_d1_timestamps()` method for D1 query logic"
      },
      {
        "line": 2140,
        "token": "iterations",
        "context": "- **Gemini Review Improvements (5 iterations)**:"
      },
      {
        "line": 2142,
        "token": "timezone",
        "context": "- Fixed timezone bug: `datetime.now()` â†’ `datetime.now(timezone.utc)` in consolidator"
      },
      {
        "line": 2143,
        "token": "analytics",
        "context": "- Fixed analytics double-counting: proper use of `count_all_memories()`"
      },
      {
        "line": 2144,
        "token": "robustness",
        "context": "- CUDA/ROCm robustness: try all detection paths before failing"
      },
      {
        "line": 2146,
        "token": "deprecated",
        "context": "- Modernized deprecated APIs: `pkg_resources` â†’ `importlib.metadata`, `universal_newlines` â†’ `text=True`"
      },
      {
        "line": 2147,
        "token": "error",
        "context": "- Enhanced error logging with `exc_info=True` for better debugging"
      },
      {
        "line": 2148,
        "token": "code",
        "context": "- Improved code consistency and structure across all refactored functions"
      },
      {
        "line": 2151,
        "token": "functions",
        "context": "- **Phase 2 Complete**: 10 of 10 functions refactored (100%)"
      },
      {
        "line": 2152,
        "token": "points",
        "context": "- **Complexity Reduction**: -39 of -39 points achieved (100% of target)"
      },
      {
        "line": 2154,
        "token": "points",
        "context": "- v8.34.0 (PR #242): `analytics.py::get_memory_growth()` (-5 points)"
      },
      {
        "line": 2155,
        "token": "points",
        "context": "- v8.35.0 (PR #243): `install.py::configure_paths()`, `cloudflare.py::_search_by_tags_internal()` (-15 points)"
      },
      {
        "line": 2156,
        "token": "functions",
        "context": "- v8.36.0 (PR #244): Remaining 7 functions (-19 points)"
      },
      {
        "line": 2158,
        "token": "points",
        "context": "- Complexity Score: 40 â†’ 51+ (+11 points, exceeded +10 target)"
      },
      {
        "line": 2159,
        "token": "achieved",
        "context": "- Overall Health Score: 63 â†’ 68-72 (Grade B achieved!)"
      },
      {
        "line": 2160,
        "token": "dead",
        "context": "- **Related**: Issue #240 Phase 2 (100% COMPLETE), Phase 1: v8.33.0 (dead code removal, +5-9 health points)"
      },
      {
        "line": 2165,
        "token": "functions",
        "context": "- **Code Quality: Phase 2 Batch 1 Complete** - Refactored 2 high-priority functions (issue #240 PR #243)"
      },
      {
        "line": 2166,
        "token": "reduced",
        "context": "- **install.py::configure_paths()**: Complexity reduced from 15 â†’ 5 (-10 points)"
      },
      {
        "line": 2167,
        "token": "helper",
        "context": "- Extracted 4 helper functions for better separation of concerns"
      },
      {
        "line": 2168,
        "token": "function",
        "context": "- Main function reduced from 80 â†’ ~30 lines"
      },
      {
        "line": 2169,
        "token": "testability",
        "context": "- Improved testability and maintainability"
      },
      {
        "line": 2170,
        "token": "reduced",
        "context": "- **cloudflare.py::_search_by_tags_internal()**: Complexity reduced from 13 â†’ 8 (-5 points)"
      },
      {
        "line": 2171,
        "token": "helper",
        "context": "- Extracted 3 helper functions for tag normalization and query building"
      },
      {
        "line": 2172,
        "token": "reduced",
        "context": "- Method reduced from 75 â†’ ~45 lines"
      },
      {
        "line": 2173,
        "token": "code",
        "context": "- Better code organization"
      },
      {
        "line": 2175,
        "token": "detection",
        "context": "- Dynamic PROJECT_ROOT detection in scripts"
      },
      {
        "line": 2176,
        "token": "exception",
        "context": "- Specific exception handling (OSError, IOError, PermissionError)"
      },
      {
        "line": 2177,
        "token": "documentation",
        "context": "- Portable documentation paths"
      },
      {
        "line": 2180,
        "token": "functions",
        "context": "- **Phase 2 Progress**: 3 of 10 functions refactored (30% complete)"
      },
      {
        "line": 2181,
        "token": "points",
        "context": "- **Complexity Reduction**: -20 points achieved of -39 point target (51% of target)"
      },
      {
        "line": 2182,
        "token": "functions",
        "context": "- **Remaining Work**: 7 functions with implementation plans ready"
      },
      {
        "line": 2183,
        "token": "track",
        "context": "- **Overall Health**: On track for 75+ target score"
      },
      {
        "line": 2188,
        "token": "function",
        "context": "- **Code Quality: Phase 2 Complexity Reduction** - Refactored `analytics.py::get_memory_growth()` function (issue #240 Phase 2)"
      },
      {
        "line": 2189,
        "token": "reduced",
        "context": "- Complexity reduced from 11 â†’ 6-7 (-4 to -5 points, exceeding -3 point target)"
      },
      {
        "line": 2190,
        "token": "period",
        "context": "- Introduced PeriodType Enum for type-safe period validation"
      },
      {
        "line": 2191,
        "token": "period",
        "context": "- Data-driven period configuration with PERIOD_CONFIGS dict"
      },
      {
        "line": 2192,
        "token": "label",
        "context": "- Data-driven label formatting with PERIOD_LABEL_FORMATTERS dict"
      },
      {
        "line": 2193,
        "token": "maintainability",
        "context": "- Improved maintainability and extensibility for analytics endpoints"
      },
      {
        "line": 2196,
        "token": "functions",
        "context": "- Phase 2 Progress: 1 of 10 functions refactored"
      },
      {
        "line": 2197,
        "token": "point",
        "context": "- Complexity Score: Estimated +1 point improvement (partial Phase 2)"
      },
      {
        "line": 2198,
        "token": "track",
        "context": "- Overall Health: On track for 70+ target"
      },
      {
        "line": 2203,
        "token": "early",
        "context": "- **Critical Installation Bug**: Fixed early return in `install.py` that prevented Claude Desktop MCP configuration from executing (issue #240 Phase 1)"
      },
      {
        "line": 2204,
        "token": "lines",
        "context": "- 77 lines of Claude Desktop setup code now properly runs during installation"
      },
      {
        "line": 2205,
        "token": "will",
        "context": "- Users will now get automatic MCP server configuration when running `install.py`"
      },
      {
        "line": 2206,
        "token": "was",
        "context": "- Bug was at line 1358 - early `return False` in exception handler made lines 1360-1436 unreachable"
      },
      {
        "line": 2207,
        "token": "all",
        "context": "- Resolves all 27 pyscn dead code violations identified in issue #240 Phase 1"
      },
      {
        "line": 2210,
        "token": "pathlib",
        "context": "- Modernized `install.py` with pathlib throughout (via Gemini Code Assist automated review)"
      },
      {
        "line": 2211,
        "token": "exception",
        "context": "- Specific exception handling (OSError, PermissionError, JSONDecodeError) instead of bare `except`"
      },
      {
        "line": 2212,
        "token": "path",
        "context": "- Fixed Windows `memory_wrapper.py` path resolution bug (now uses `resolve()` for absolute paths)"
      },
      {
        "line": 2213,
        "token": "config",
        "context": "- Added config structure validation to prevent TypeError on malformed JSON"
      },
      {
        "line": 2214,
        "token": "optimization",
        "context": "- Import optimization and better error messages"
      },
      {
        "line": 2215,
        "token": "structure",
        "context": "- Code structure improvements from 10+ Gemini Code Assist review iterations"
      },
      {
        "line": 2218,
        "token": "projected",
        "context": "- **Dead Code Score**: 70 â†’ 85-90 (projected +15-20 points from removing 27 violations)"
      },
      {
        "line": 2219,
        "token": "projected",
        "context": "- **Overall Health Score**: 63 â†’ 68-72 (projected +5-9 points)"
      },
      {
        "line": 2220,
        "token": "improvements",
        "context": "- All improvements applied via automated Gemini PR review workflow"
      },
      {
        "line": 2225,
        "token": "pyscn",
        "context": "- **pyscn Static Analysis Integration**: Multi-layer quality workflow with comprehensive static analysis"
      },
      {
        "line": 2226,
        "token": "analysis",
        "context": "- New `scripts/pr/run_pyscn_analysis.sh` for PR-time analysis with health score thresholds (blocks <50)"
      },
      {
        "line": 2227,
        "token": "historical",
        "context": "- New `scripts/quality/track_pyscn_metrics.sh` for historical metrics tracking (CSV storage)"
      },
      {
        "line": 2228,
        "token": "automated",
        "context": "- New `scripts/quality/weekly_quality_review.sh` for automated weekly reviews with regression detection"
      },
      {
        "line": 2229,
        "token": "flag",
        "context": "- Enhanced `scripts/pr/quality_gate.sh` with `--with-pyscn` flag for comprehensive checks"
      },
      {
        "line": 2230,
        "token": "quality",
        "context": "- Three-layer quality strategy: Pre-commit (Groq/Gemini LLM) â†’ PR Gate (standard + pyscn) â†’ Periodic (weekly)"
      },
      {
        "line": 2231,
        "token": "comprehensive",
        "context": "- 6 comprehensive metrics: cyclomatic complexity, dead code, duplication, coupling, dependencies, architecture"
      },
      {
        "line": 2232,
        "token": "score",
        "context": "- Health score thresholds: <50 (blocker), 50-69 (action required), 70-84 (good), 85+ (excellent)"
      },
      {
        "line": 2233,
        "token": "documentation",
        "context": "- Complete documentation in `docs/development/code-quality-workflow.md` (651 lines)"
      },
      {
        "line": 2234,
        "token": "guide",
        "context": "- Integration guide in `.claude/agents/code-quality-guard.md`"
      },
      {
        "line": 2235,
        "token": "section",
        "context": "- Updated `CLAUDE.md` with \"Code Quality Monitoring\" section"
      },
      {
        "line": 2240,
        "token": "consolidation",
        "context": "- **Revolutionary Batch Update Performance** - Memory consolidation now 21,428x faster with new batch update API (#241)"
      },
      {
        "line": 2241,
        "token": "seconds",
        "context": "- **Performance Improvement**: 300 seconds â†’ 0.014 seconds for 500 memory batch updates (21,428x speedup)"
      },
      {
        "line": 2242,
        "token": "consolidation",
        "context": "- **Consolidation Workflow**: Complete consolidation time reduced from 5+ minutes to <1 second for 500 memories"
      },
      {
        "line": 2243,
        "token": "storage",
        "context": "- **New API Method**: `update_memories_batch()` in storage backends for atomic batch operations"
      },
      {
        "line": 2245,
        "token": "transaction",
        "context": "- **SQLite Backend**: Single transaction with executemany for 21,428x speedup"
      },
      {
        "line": 2246,
        "token": "batch",
        "context": "- **Cloudflare Backend**: Parallel batch updates with proper vectorize sync"
      },
      {
        "line": 2247,
        "token": "batch",
        "context": "- **Hybrid Backend**: Optimized dual-backend batch sync with queue processing"
      },
      {
        "line": 2248,
        "token": "code",
        "context": "- **Backward Compatible**: Existing single-update code paths continue working"
      },
      {
        "line": 2249,
        "token": "consolidation",
        "context": "- **Real-world Impact**: Memory consolidation that previously took 5+ minutes now completes in <1 second"
      },
      {
        "line": 2251,
        "token": "lines",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` (lines 542-571): Batch update implementation"
      },
      {
        "line": 2252,
        "token": "lines",
        "context": "- `src/mcp_memory_service/storage/cloudflare.py` (lines 673-728): Cloudflare batch updates"
      },
      {
        "line": 2253,
        "token": "lines",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` (lines 772-822): Hybrid backend batch sync"
      },
      {
        "line": 2254,
        "token": "line",
        "context": "- `src/mcp_memory_service/consolidation/service.py` (line 472): Using batch update in consolidation"
      },
      {
        "line": 2257,
        "token": "faster",
        "context": "- **Memory Consolidation**: 21,428x faster batch metadata updates (300s â†’ 0.014s for 500 memories)"
      },
      {
        "line": 2258,
        "token": "workflow",
        "context": "- **Consolidation Workflow**: Complete workflow time reduced from 5+ minutes to <1 second for 500 memories"
      },
      {
        "line": 2259,
        "token": "transaction",
        "context": "- **Database Efficiency**: Single transaction instead of 500 individual updates with commit overhead"
      },
      {
        "line": 2264,
        "token": "charts",
        "context": "- **Adaptive Chart Granularity** - Analytics charts now use semantically appropriate time intervals for better trend visualization"
      },
      {
        "line": 2265,
        "token": "view",
        "context": "- **Last Month view**: Changed from 3-day intervals to weekly aggregation for clearer monthly trends"
      },
      {
        "line": 2266,
        "token": "view",
        "context": "- **Last Year view**: Uses monthly aggregation for annual overview"
      },
      {
        "line": 2267,
        "token": "labels",
        "context": "- **Human-readable labels**: Charts display clear interval formatting:"
      },
      {
        "line": 2268,
        "token": "view",
        "context": "- Daily view: \"Nov 15\" format"
      },
      {
        "line": 2269,
        "token": "aggregation",
        "context": "- Weekly aggregation: \"Week of Nov 15\" format"
      },
      {
        "line": 2270,
        "token": "aggregation",
        "context": "- Monthly aggregation: \"November 2024\" format"
      },
      {
        "line": 2271,
        "token": "semantic",
        "context": "- **Improved UX**: Better semantic alignment between time period and chart granularity"
      },
      {
        "line": 2272,
        "token": "lines",
        "context": "- **Files Modified**: `src/mcp_memory_service/web/api/analytics.py` (lines 307-345), `src/mcp_memory_service/web/static/app.js` (line 3661)"
      },
      {
        "line": 2275,
        "token": "intervals",
        "context": "- **CRITICAL: Interval Aggregation Bug** - Multi-day intervals (weekly, monthly) now correctly aggregate across entire period"
      },
      {
        "line": 2276,
        "token": "were",
        "context": "- **Problem**: Intervals were only counting memories from the first day of the interval, not the entire period"
      },
      {
        "line": 2277,
        "token": "showed",
        "context": "- **Impact**: Analytics showed wildly inaccurate data (e.g., 0 memories instead of 427 for Oct 24-30 week)"
      },
      {
        "line": 2278,
        "token": "strftime",
        "context": "- **Root Cause**: `strftime` format in date grouping only used the first timestamp, not the interval's date range"
      },
      {
        "line": 2279,
        "token": "aggregation",
        "context": "- **Solution**: Updated aggregation logic to properly filter and count all memories within each interval"
      },
      {
        "line": 2280,
        "token": "lines",
        "context": "- **Files Modified**: `src/mcp_memory_service/web/api/analytics.py` (lines 242-267)"
      },
      {
        "line": 2282,
        "token": "now",
        "context": "- **CRITICAL: Data Sampling Bug** - Analytics now fetch complete historical data with proper date range filtering"
      },
      {
        "line": 2283,
        "token": "only",
        "context": "- **Problem**: API only fetched 1,000 most recent memories, missing historical data for longer time periods"
      },
      {
        "line": 2284,
        "token": "showed",
        "context": "- **Impact**: Charts showed incomplete or missing data for older time ranges"
      },
      {
        "line": 2285,
        "token": "fetch",
        "context": "- **Solution**: Increased fetch limit to 10,000 memories with proper `created_at >= start_date` filtering"
      },
      {
        "line": 2286,
        "token": "lines",
        "context": "- **Files Modified**: `src/mcp_memory_service/web/api/analytics.py` (lines 56-62)"
      },
      {
        "line": 2287,
        "token": "fast",
        "context": "- **Performance**: Maintains fast response times (<200ms) even with larger dataset"
      },
      {
        "line": 2290,
        "token": "data",
        "context": "- **Analytics API**: Improved data fetching with larger limits and proper date filtering for accurate historical analysis"
      },
      {
        "line": 2295,
        "token": "sync",
        "context": "- **Dashboard Quick Actions: Sync Controls Widget** - Compact, real-time sync management for hybrid backend users (#234, fixes #233)"
      },
      {
        "line": 2296,
        "token": "sync",
        "context": "- **Real-time sync status indicator**: Visual states for synced/syncing/pending/error/paused with color-coded icons"
      },
      {
        "line": 2297,
        "token": "controls",
        "context": "- **Pause/Resume controls**: Safely pause background sync for database maintenance or offline work"
      },
      {
        "line": 2298,
        "token": "sync",
        "context": "- **Force sync button**: Manual trigger for immediate synchronization"
      },
      {
        "line": 2299,
        "token": "metrics",
        "context": "- **Sync metrics**: Display last sync time and pending operations count"
      },
      {
        "line": 2300,
        "token": "layout",
        "context": "- **Clean layout**: Removed redundant sync status bar between header and body, moved to sidebar widget"
      },
      {
        "line": 2301,
        "token": "automatically",
        "context": "- **Backend-aware**: Widget automatically hides for sqlite-vec only users (hybrid-specific feature)"
      },
      {
        "line": 2302,
        "token": "endpoints",
        "context": "- **API endpoints**:"
      },
      {
        "line": 2303,
        "token": "background",
        "context": "- `POST /api/sync/pause` - Pause background sync"
      },
      {
        "line": 2304,
        "token": "background",
        "context": "- `POST /api/sync/resume` - Resume background sync"
      },
      {
        "line": 2305,
        "token": "backend",
        "context": "- **Hybrid backend methods**: Added `pause_sync()` and `resume_sync()` for sync control"
      },
      {
        "line": 2307,
        "token": "backup",
        "context": "- **Automatic Scheduled Backup System** - Enterprise-grade backup with retention policies and scheduling (#234, fixes #233)"
      },
      {
        "line": 2308,
        "token": "backup",
        "context": "- **New backup module**: `src/mcp_memory_service/backup/` with `BackupService` and `BackupScheduler`"
      },
      {
        "line": 2309,
        "token": "native",
        "context": "- **SQLite native backup API**: Uses safe `sqlite3.backup()` to prevent corruption (no file copying)"
      },
      {
        "line": 2310,
        "token": "backup",
        "context": "- **Async I/O**: Non-blocking backup operations with `asyncio.to_thread`"
      },
      {
        "line": 2311,
        "token": "scheduling",
        "context": "- **Flexible scheduling**: Hourly, daily, or weekly automatic backups"
      },
      {
        "line": 2312,
        "token": "policies",
        "context": "- **Retention policies**: Configurable by days and max backup count"
      },
      {
        "line": 2313,
        "token": "widget",
        "context": "- **Dashboard widget**: Backup status, last backup time, manual trigger, backup count, next scheduled time"
      },
      {
        "line": 2314,
        "token": "via",
        "context": "- **Configuration via environment variables**:"
      },
      {
        "line": 2315,
        "token": "true",
        "context": "- `MCP_BACKUP_ENABLED=true` (default: true)"
      },
      {
        "line": 2316,
        "token": "daily",
        "context": "- `MCP_BACKUP_INTERVAL=daily` (hourly/daily/weekly, default: daily)"
      },
      {
        "line": 2317,
        "token": "days",
        "context": "- `MCP_BACKUP_RETENTION=7` (days, default: 7)"
      },
      {
        "line": 2318,
        "token": "max",
        "context": "- `MCP_BACKUP_MAX_COUNT=10` (max backups, default: 10)"
      },
      {
        "line": 2319,
        "token": "endpoints",
        "context": "- **API endpoints**:"
      },
      {
        "line": 2320,
        "token": "backup",
        "context": "- `GET /api/backup/status` - Get backup status and scheduler info"
      },
      {
        "line": 2321,
        "token": "manual",
        "context": "- `POST /api/backup/now` - Trigger manual backup"
      },
      {
        "line": 2322,
        "token": "available",
        "context": "- `GET /api/backup/list` - List available backups with metadata"
      },
      {
        "line": 2323,
        "token": "protection",
        "context": "- **Security**: OAuth protection on backup endpoints, no file path exposure in responses"
      },
      {
        "line": 2324,
        "token": "compatibility",
        "context": "- **Safari compatibility**: Improved event listener handling with lazy initialization"
      },
      {
        "line": 2327,
        "token": "sync",
        "context": "- **Quick Actions Layout**: Moved sync controls from top status bar to sidebar widget for cleaner, more accessible UI"
      },
      {
        "line": 2328,
        "token": "state",
        "context": "- **Sync State Persistence**: Pause state is now preserved during force sync operations"
      },
      {
        "line": 2329,
        "token": "toast",
        "context": "- **Dashboard Feedback**: Added toast notifications for sync and backup operations"
      },
      {
        "line": 2332,
        "token": "timing",
        "context": "- **Sync Button Click Events**: Resolved DOM timing issues with lazy event listeners for reliable button interactions"
      },
      {
        "line": 2333,
        "token": "syncing",
        "context": "- **Spinner Animation**: Fixed syncing state visual feedback with proper CSS animations"
      },
      {
        "line": 2334,
        "token": "file",
        "context": "- **Security**: Removed file path exposure from backup API responses (used backup IDs instead)"
      },
      {
        "line": 2339,
        "token": "HTTP",
        "context": "- **CRITICAL: HTTP MCP Transport JSON-RPC 2.0 Compliance** - Fixed protocol violation causing Claude Code rejection (#236)"
      },
      {
        "line": 2340,
        "token": "HTTP",
        "context": "- **Problem**: HTTP MCP server returned `\"error\": null` in successful responses, violating JSON-RPC 2.0 spec which requires successful responses to OMIT the err"
      },
      {
        "line": 2341,
        "token": "strict",
        "context": "- **Impact**: Claude Code's strict schema validation rejected all HTTP MCP responses with \"Unrecognized key(s) in object: 'error'\" errors, making HTTP transport"
      },
      {
        "line": 2342,
        "token": "model",
        "context": "- **Root Cause**: MCPResponse Pydantic model included both `result` and `error` fields in all responses, serializing null values"
      },
      {
        "line": 2344,
        "token": "model",
        "context": "- Added `ConfigDict(exclude_none=True)` to MCPResponse model to exclude null fields from serialization"
      },
      {
        "line": 2345,
        "token": "docstring",
        "context": "- Updated docstring to document JSON-RPC 2.0 compliance requirements"
      },
      {
        "line": 2346,
        "token": "deprecated",
        "context": "- Replaced deprecated `.dict()` with `.model_dump()` for Pydantic V2 compatibility"
      },
      {
        "line": 2347,
        "token": "json",
        "context": "- Moved json import to top of file per PEP 8 style guidelines"
      },
      {
        "line": 2349,
        "token": "updated",
        "context": "- `src/mcp_memory_service/web/api/mcp.py` - Added ConfigDict, updated serialization"
      },
      {
        "line": 2350,
        "token": "users",
        "context": "- **Affected Users**: All users attempting to use HTTP MCP transport with Claude Code or other strict JSON-RPC 2.0 clients"
      },
      {
        "line": 2351,
        "token": "successful",
        "context": "- **Testing**: Verified successful responses exclude `error` field and error responses exclude `result` field"
      },
      {
        "line": 2352,
        "token": "timkjr",
        "context": "- **Credits**: Thanks to @timkjr for identifying the issue and providing the fix"
      },
      {
        "line": 2357,
        "token": "operations",
        "context": "- **Cloudflare Tag Filtering** - AND/OR operations for tag searches with unified API contracts (#228)"
      },
      {
        "line": 2358,
        "token": "tags",
        "context": "- Added `search_by_tags(tags, operation, time_start, time_end)` to the storage base class and implemented it across SQLite, Cloudflare, Hybrid, and HTTP client "
      },
      {
        "line": 2359,
        "token": "use",
        "context": "- Normalized Cloudflare SQL to use `GROUP BY` + `HAVING COUNT(DISTINCT ...)` for AND semantics while supporting optional time ranges"
      },
      {
        "line": 2360,
        "token": "power",
        "context": "- Introduced `get_all_tags_with_counts()` for Cloudflare to power analytics dashboards without extra queries"
      },
      {
        "line": 2363,
        "token": "tags",
        "context": "- **Tag Filtering Behavior** - `get_all_memories(tags=...)` now performs exact tag comparisons with AND logic instead of substring OR matching, and hybrid stora"
      },
      {
        "line": 2368,
        "token": "not",
        "context": "- **Memory Type Loss During Cloudflare-to-SQLite Sync** - Fixed `memory_type` not being preserved in sync script"
      },
      {
        "line": 2369,
        "token": "did",
        "context": "- **Problem**: `scripts/sync/sync_memory_backends.py` did not extract or pass `memory_type` when syncing from Cloudflare to SQLite-vec"
      },
      {
        "line": 2370,
        "token": "memories",
        "context": "- **Impact**: All memories synced via `--direction cf-to-sqlite` showed as \"untyped\" (100%) in dashboard analytics"
      },
      {
        "line": 2371,
        "token": "field",
        "context": "- **Root Cause**: Missing `memory_type` field in both memory dict extraction and Memory object creation"
      },
      {
        "line": 2373,
        "token": "memory",
        "context": "- Added `memory_type` to memory dictionary extraction from source"
      },
      {
        "line": 2374,
        "token": "parameters",
        "context": "- Added `memory_type` and `updated_at` parameters when creating Memory objects for target storage"
      },
      {
        "line": 2376,
        "token": "handling",
        "context": "- `scripts/sync/sync_memory_backends.py` - Added memory_type and updated_at handling"
      },
      {
        "line": 2377,
        "token": "who",
        "context": "- **Affected Users**: Users who ran `python scripts/sync/sync_memory_backends.py --direction cf-to-sqlite`"
      },
      {
        "line": 2378,
        "token": "sync",
        "context": "- **Recovery**: Re-run sync from Cloudflare to restore memory types (Cloudflare preserves original types)"
      },
      {
        "line": 2383,
        "token": "timestamps",
        "context": "- **CRITICAL: Timestamp Regression Bug** - Fixed `created_at` timestamps being reset during metadata sync"
      },
      {
        "line": 2384,
        "token": "sync",
        "context": "- **Problem**: Bidirectional sync and drift detection (v8.25.0-v8.27.0) incorrectly reset `created_at` timestamps to current time during metadata updates"
      },
      {
        "line": 2385,
        "token": "memories",
        "context": "- **Impact**: All memories synced from Cloudflare â†’ SQLite-vec appeared \"just created\", destroying historical timestamp data"
      },
      {
        "line": 2386,
        "token": "parameter",
        "context": "- **Root Cause**: `preserve_timestamps=False` parameter reset **both** `created_at` and `updated_at`, when it should only update `updated_at`"
      },
      {
        "line": 2388,
        "token": "preserve",
        "context": "- Modified `update_memory_metadata()` to preserve `created_at` from source memory during sync"
      },
      {
        "line": 2389,
        "token": "storage",
        "context": "- Hybrid storage now passes all 4 timestamp fields (`created_at`, `created_at_iso`, `updated_at`, `updated_at_iso`) during drift detection"
      },
      {
        "line": 2390,
        "token": "storage",
        "context": "- Cloudflare storage updated to handle timestamps consistently with SQLite-vec"
      },
      {
        "line": 2392,
        "token": "timestamp",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py:1389-1406` - Fixed timestamp handling logic"
      },
      {
        "line": 2393,
        "token": "source",
        "context": "- `src/mcp_memory_service/storage/hybrid.py:625-637, 935-947` - Pass source timestamps during sync"
      },
      {
        "line": 2394,
        "token": "timestamp",
        "context": "- `src/mcp_memory_service/storage/cloudflare.py:833-864` - Consistent timestamp handling"
      },
      {
        "line": 2395,
        "token": "test",
        "context": "- **Tests Added**: `tests/test_timestamp_preservation.py` - Comprehensive test suite with 7 tests covering:"
      },
      {
        "line": 2396,
        "token": "preservation",
        "context": "- Timestamp preservation with `preserve_timestamps=True`"
      },
      {
        "line": 2397,
        "token": "test",
        "context": "- Regression test for `created_at` preservation without source timestamps"
      },
      {
        "line": 2398,
        "token": "detection",
        "context": "- Drift detection scenario"
      },
      {
        "line": 2399,
        "token": "sync",
        "context": "- Multiple sync operations"
      },
      {
        "line": 2400,
        "token": "memory",
        "context": "- Initial memory storage"
      },
      {
        "line": 2402,
        "token": "timestamp",
        "context": "- `scripts/validation/validate_timestamp_integrity.py` - Detect timestamp anomalies"
      },
      {
        "line": 2403,
        "token": "corrupted",
        "context": "- `scripts/maintenance/recover_timestamps_from_cloudflare.py` - Restore corrupted timestamps from Cloudflare"
      },
      {
        "line": 2404,
        "token": "drift",
        "context": "- **Affected Versions**: v8.25.0 (drift detection), v8.27.0 (bidirectional sync)"
      },
      {
        "line": 2405,
        "token": "backend",
        "context": "- **Affected Users**: Hybrid backend users who experienced automatic drift detection or initial sync"
      },
      {
        "line": 2406,
        "token": "using",
        "context": "- **Data Recovery**: If using hybrid backend and Cloudflare has correct timestamps, run recovery script:"
      },
      {
        "line": 2416,
        "token": "parameter",
        "context": "- **Timestamp Handling Semantics** - Clarified `preserve_timestamps` parameter behavior:"
      },
      {
        "line": 2417,
        "token": "default",
        "context": "- `preserve_timestamps=True` (default): Only updates `updated_at` to current time, preserves `created_at`"
      },
      {
        "line": 2418,
        "token": "timestamps",
        "context": "- `preserve_timestamps=False`: Uses timestamps from `updates` dict if provided, otherwise preserves existing `created_at`"
      },
      {
        "line": 2419,
        "token": "resets",
        "context": "- **Never** resets `created_at` to current time (this was the bug)"
      },
      {
        "line": 2422,
        "token": "script",
        "context": "- **Timestamp Integrity Validation** - New script to detect timestamp anomalies:"
      },
      {
        "line": 2426,
        "token": "impossible",
        "context": "- Checks for impossible timestamps (`created_at > updated_at`)"
      },
      {
        "line": 2427,
        "token": "suspicious",
        "context": "- Detects suspicious timestamp clusters (bulk reset indicators)"
      },
      {
        "line": 2428,
        "token": "timestamp",
        "context": "- Analyzes timestamp distribution for anomalies"
      },
      {
        "line": 2429,
        "token": "detailed",
        "context": "- Provides detailed statistics and warnings"
      },
      {
        "line": 2434,
        "token": "initial",
        "context": "- **Hybrid Storage Sync Performance Optimization** - Dramatic initial sync speed improvement (3-5x faster)"
      },
      {
        "line": 2436,
        "token": "minutes",
        "context": "- **Before**: ~5.5 memories/second (8 minutes for 2,619 memories)"
      },
      {
        "line": 2437,
        "token": "minutes",
        "context": "- **After**: ~15-30 memories/second (1.5-3 minutes for 2,619 memories)"
      },
      {
        "line": 2438,
        "token": "faster",
        "context": "- **3-5x faster** initial sync from Cloudflare to local SQLite"
      },
      {
        "line": 2440,
        "token": "method",
        "context": "- **Bulk Existence Check**: `get_all_content_hashes()` method eliminates 2,619 individual DB queries"
      },
      {
        "line": 2441,
        "token": "concurrent",
        "context": "- **Parallel Processing**: `asyncio.gather()` with Semaphore(15) for concurrent memory processing"
      },
      {
        "line": 2442,
        "token": "memories",
        "context": "- **Larger Batch Sizes**: Increased from 100 to 500 memories per Cloudflare API call (5x fewer requests)"
      },
      {
        "line": 2444,
        "token": "method",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` - Added `get_all_content_hashes()` method (lines 1208-1227)"
      },
      {
        "line": 2445,
        "token": "sync",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` - Parallel sync implementation (lines 859-921)"
      },
      {
        "line": 2446,
        "token": "validation",
        "context": "- `scripts/benchmarks/benchmark_hybrid_sync.py` - Performance validation script"
      },
      {
        "line": 2447,
        "token": "breaking",
        "context": "- **Backward Compatibility**: Zero breaking changes, transparent optimization for all sync operations"
      },
      {
        "line": 2448,
        "token": "large",
        "context": "- **Use Case**: Users with large memory databases (1000+ memories) will see significantly faster initial sync times"
      },
      {
        "line": 2451,
        "token": "sync",
        "context": "- **Hybrid Initial Sync Architecture** - Refactored sync loop for better performance"
      },
      {
        "line": 2452,
        "token": "hash",
        "context": "- O(1) hash lookups instead of O(n) individual queries"
      },
      {
        "line": 2453,
        "token": "processing",
        "context": "- Concurrent processing with controlled parallelism (15 simultaneous operations)"
      },
      {
        "line": 2454,
        "token": "overhead",
        "context": "- Reduced Cloudflare API overhead with larger batches (6 API calls vs 27)"
      },
      {
        "line": 2455,
        "token": "full",
        "context": "- Maintains full drift detection and metadata synchronization capabilities"
      },
      {
        "line": 2458,
        "token": "inefficient",
        "context": "- **Duplicate Sync Queue Architecture** - Resolved inefficient dual-sync issue"
      },
      {
        "line": 2459,
        "token": "server",
        "context": "- **Problem**: MCP server and HTTP server each created separate HybridStorage instances with independent sync queues"
      },
      {
        "line": 2460,
        "token": "sync",
        "context": "- **Impact**: Duplicate sync work, potential race conditions, memory not immediately visible across servers"
      },
      {
        "line": 2461,
        "token": "configuration",
        "context": "- **Solution**: New `MCP_HYBRID_SYNC_OWNER` configuration to control which process handles Cloudflare sync"
      },
      {
        "line": 2463,
        "token": "http",
        "context": "- `\"http\"` - HTTP server only handles sync (recommended - avoids duplicate work)"
      },
      {
        "line": 2464,
        "token": "mcp",
        "context": "- `\"mcp\"` - MCP server only handles sync"
      },
      {
        "line": 2465,
        "token": "both",
        "context": "- `\"both\"` - Both servers sync independently (default for backward compatibility)"
      },
      {
        "line": 2467,
        "token": "configuration",
        "context": "- `src/mcp_memory_service/config.py` - Added `HYBRID_SYNC_OWNER` configuration (lines 424-427)"
      },
      {
        "line": 2468,
        "token": "aware",
        "context": "- `src/mcp_memory_service/storage/factory.py` - Server-type aware storage creation (lines 76-110)"
      },
      {
        "line": 2469,
        "token": "mcp",
        "context": "- `src/mcp_memory_service/mcp_server.py` - Pass server_type=\"mcp\" (line 143)"
      },
      {
        "line": 2470,
        "token": "http",
        "context": "- `src/mcp_memory_service/web/dependencies.py` - Pass server_type=\"http\" (line 65)"
      },
      {
        "line": 2476,
        "token": "both",
        "context": "- **Backward Compatibility**: Defaults to \"both\" (existing behavior), no breaking changes"
      },
      {
        "line": 2479,
        "token": "python",
        "context": "- **Benchmark Results** (`python scripts/benchmarks/benchmark_hybrid_sync.py`):"
      },
      {
        "line": 2480,
        "token": "hash",
        "context": "- Bulk hash loading: 2,619 hashes loaded in ~100ms (vs ~13,000ms for individual queries)"
      },
      {
        "line": 2481,
        "token": "processing",
        "context": "- Parallel processing: 15x concurrency reduces CPU idle time"
      },
      {
        "line": 2482,
        "token": "size",
        "context": "- Batch size optimization: 78% reduction in API calls (27 â†’ 6 for 2,619 memories)"
      },
      {
        "line": 2483,
        "token": "speedup",
        "context": "- Combined speedup: 3-5x faster initial sync"
      },
      {
        "line": 2488,
        "token": "performance",
        "context": "- **Global MCP Server Caching** - Revolutionary performance improvement for MCP tools (PR #227)"
      },
      {
        "line": 2490,
        "token": "faster",
        "context": "- **534,628x faster** on cache hits (1,810ms â†’ 0.01ms per MCP tool call)"
      },
      {
        "line": 2491,
        "token": "latency",
        "context": "- **99.9996% latency reduction** for cached operations"
      },
      {
        "line": 2492,
        "token": "cache",
        "context": "- **90%+ cache hit rate** in normal usage patterns"
      },
      {
        "line": 2493,
        "token": "tools",
        "context": "- **MCP tools now 41x faster** than HTTP API after warm-up"
      },
      {
        "line": 2494,
        "token": "cache",
        "context": "- **New MCP Tool**: `get_cache_stats` - Real-time cache performance monitoring"
      },
      {
        "line": 2495,
        "token": "hit",
        "context": "- Track hits/misses, hit rate percentage"
      },
      {
        "line": 2496,
        "token": "storage",
        "context": "- Monitor storage and service cache sizes"
      },
      {
        "line": 2497,
        "token": "initialization",
        "context": "- View initialization time statistics (avg/min/max)"
      },
      {
        "line": 2499,
        "token": "cache",
        "context": "- Global cache structures: `_STORAGE_CACHE`, `_MEMORY_SERVICE_CACHE`, `_CACHE_STATS`"
      },
      {
        "line": 2500,
        "token": "concurrent",
        "context": "- Thread-safe concurrent access via `asyncio.Lock`"
      },
      {
        "line": 2501,
        "token": "cleanup",
        "context": "- Automatic cleanup on server shutdown (no memory leaks)"
      },
      {
        "line": 2503,
        "token": "server",
        "context": "- `src/mcp_memory_service/server.py` - Production MCP server caching"
      },
      {
        "line": 2504,
        "token": "server",
        "context": "- `src/mcp_memory_service/mcp_server.py` - FastMCP server caching"
      },
      {
        "line": 2505,
        "token": "cache",
        "context": "- `src/mcp_memory_service/utils/cache_manager.py` - New cache management utilities"
      },
      {
        "line": 2506,
        "token": "effectiveness",
        "context": "- `scripts/benchmarks/benchmark_server_caching.py` - Cache effectiveness validation"
      },
      {
        "line": 2507,
        "token": "breaking",
        "context": "- **Backward Compatibility**: Zero breaking changes, transparent caching for all MCP clients"
      },
      {
        "line": 2508,
        "token": "tools",
        "context": "- **Use Case**: MCP tools in Claude Desktop and Claude Code are now the fastest method for memory operations"
      },
      {
        "line": 2511,
        "token": "review",
        "context": "- **Code Quality Improvements** - Gemini Code Assist review implementation (PR #227)"
      },
      {
        "line": 2512,
        "token": "code",
        "context": "- Eliminated code duplication across `server.py` and `mcp_server.py`"
      },
      {
        "line": 2513,
        "token": "shared",
        "context": "- Created shared `CacheManager.calculate_stats()` utility for statistics"
      },
      {
        "line": 2514,
        "token": "compliance",
        "context": "- Enhanced PEP 8 compliance with proper naming conventions"
      },
      {
        "line": 2515,
        "token": "comprehensive",
        "context": "- Added comprehensive inline documentation for cache implementation"
      },
      {
        "line": 2518,
        "token": "unsafe",
        "context": "- **Security Vulnerability** - Removed unsafe `eval()` usage in benchmark script (PR #227)"
      },
      {
        "line": 2519,
        "token": "eval",
        "context": "- Replaced `eval(stats_str)` with safe `json.loads()` for parsing cache statistics"
      },
      {
        "line": 2520,
        "token": "arbitrary",
        "context": "- Eliminated arbitrary code execution risk in development tools"
      },
      {
        "line": 2521,
        "token": "benchmark",
        "context": "- Improved benchmark script robustness"
      },
      {
        "line": 2524,
        "token": "consecutive",
        "context": "- **Benchmark Results** (10 consecutive MCP tool calls):"
      },
      {
        "line": 2529,
        "token": "tools",
        "context": "- **Impact**: MCP tools are now the recommended method for Claude Desktop and Claude Code users"
      },
      {
        "line": 2531,
        "token": "persist",
        "context": "- Caches persist across stateless HTTP calls"
      },
      {
        "line": 2532,
        "token": "instances",
        "context": "- Storage instances keyed by \"{backend}:{path}\""
      },
      {
        "line": 2533,
        "token": "instances",
        "context": "- MemoryService instances keyed by storage ID"
      },
      {
        "line": 2534,
        "token": "initialization",
        "context": "- Lazy initialization preserved to prevent startup hangs"
      },
      {
        "line": 2537,
        "token": "cache",
        "context": "- Updated Wiki: 05-Performance-Optimization.md with cache architecture"
      },
      {
        "line": 2538,
        "token": "cache",
        "context": "- Added cache monitoring guide using `get_cache_stats` tool"
      },
      {
        "line": 2539,
        "token": "comparison",
        "context": "- Performance comparison tables now show MCP as fastest method"
      },
      {
        "line": 2544,
        "token": "code",
        "context": "- **Drift Detection Script Refactoring** - Improved code maintainability in `check_drift.py` (PR #226)"
      },
      {
        "line": 2545,
        "token": "config",
        "context": "- **Refactored**: Cloudflare config dictionary construction to use dictionary comprehension"
      },
      {
        "line": 2546,
        "token": "configuration",
        "context": "- **Improvement**: Separated configuration keys list from transformation logic"
      },
      {
        "line": 2547,
        "token": "maintain",
        "context": "- **Benefit**: Easier to maintain and modify configuration keys"
      },
      {
        "line": 2548,
        "token": "cleaner",
        "context": "- **Code Quality**: More Pythonic, cleaner, and more readable"
      },
      {
        "line": 2549,
        "token": "functional",
        "context": "- **Impact**: No functional changes, pure code quality improvement"
      },
      {
        "line": 2551,
        "token": "code",
        "context": "- **Credit**: Implements Gemini code review suggestions from PR #224"
      },
      {
        "line": 2556,
        "token": "critical",
        "context": "- **Drift Detection Script Initialization** - Corrected critical bugs in `check_drift.py` (PR #224)"
      },
      {
        "line": 2557,
        "token": "incorrect",
        "context": "- **Bug 1**: Fixed incorrect config attribute `SQLITE_DB_PATH` â†’ `SQLITE_VEC_PATH` in AppConfig"
      },
      {
        "line": 2558,
        "token": "missing",
        "context": "- **Bug 2**: Added missing `cloudflare_config` parameter to HybridMemoryStorage initialization"
      },
      {
        "line": 2559,
        "token": "was",
        "context": "- **Impact**: Script was completely broken for Cloudflare/Hybrid backends - now initializes successfully"
      },
      {
        "line": 2560,
        "token": "prevented",
        "context": "- **Error prevented**: `AttributeError: 'AppConfig' object has no attribute 'SQLITE_DB_PATH'`"
      },
      {
        "line": 2562,
        "token": "was",
        "context": "- **Severity**: High - Script was non-functional for users with hybrid or cloudflare backends"
      },
      {
        "line": 2563,
        "token": "model",
        "context": "- **CI Test Infrastructure** - Added HuggingFace model caching to prevent network-related test failures (PR #225)"
      },
      {
        "line": 2564,
        "token": "runners",
        "context": "- **Root Cause**: GitHub Actions runners cannot access huggingface.co during test runs"
      },
      {
        "line": 2565,
        "token": "directory",
        "context": "- **Solution**: Implemented `actions/cache@v3` for `~/.cache/huggingface` directory"
      },
      {
        "line": 2566,
        "token": "step",
        "context": "- **Pre-download step**: Downloads `all-MiniLM-L6-v2` model after dependency installation"
      },
      {
        "line": 2567,
        "token": "all",
        "context": "- **Impact**: Fixes all future PR test failures caused by model download restrictions"
      },
      {
        "line": 2568,
        "token": "includes",
        "context": "- **Cache Strategy**: Key includes `pyproject.toml` hash for dependency tracking"
      },
      {
        "line": 2569,
        "token": "run",
        "context": "- **Performance**: First run downloads model, subsequent runs use cache"
      },
      {
        "line": 2573,
        "token": "detection",
        "context": "- **PR #224**: Drift detection script now properly initializes Cloudflare backend with all required parameters (api_token, account_id, d1_database_id, vectorize"
      },
      {
        "line": 2574,
        "token": "environment",
        "context": "- **PR #225**: CI environment now caches embedding models, eliminating network dependency during test execution"
      },
      {
        "line": 2575,
        "token": "fixes",
        "context": "- **Testing**: Both fixes validated in PR test runs - drift detection now works, tests pass consistently"
      },
      {
        "line": 2580,
        "token": "metadata",
        "context": "- **Hybrid Backend Drift Detection** - Automatic metadata synchronization using `updated_at` timestamps (issue #202)"
      },
      {
        "line": 2581,
        "token": "awareness",
        "context": "- **Bidirectional awareness**: Detects metadata changes on either backend (SQLite-vec â†” Cloudflare)"
      },
      {
        "line": 2582,
        "token": "drift",
        "context": "- **Periodic drift checks**: Configurable interval via `MCP_HYBRID_DRIFT_CHECK_INTERVAL` (default: 1 hour)"
      },
      {
        "line": 2583,
        "token": "timestamp",
        "context": "- **\"Newer timestamp wins\" conflict resolution**: Prevents data loss during metadata updates"
      },
      {
        "line": 2584,
        "token": "support",
        "context": "- **Dry-run support**: Preview changes via `python scripts/sync/check_drift.py`"
      },
      {
        "line": 2585,
        "token": "configuration",
        "context": "- **New configuration variables**:"
      },
      {
        "line": 2586,
        "token": "metadata",
        "context": "- `MCP_HYBRID_SYNC_UPDATES` - Enable metadata sync (default: true)"
      },
      {
        "line": 2587,
        "token": "between",
        "context": "- `MCP_HYBRID_DRIFT_CHECK_INTERVAL` - Seconds between drift checks (default: 3600)"
      },
      {
        "line": 2588,
        "token": "check",
        "context": "- `MCP_HYBRID_DRIFT_BATCH_SIZE` - Memories to check per scan (default: 100)"
      },
      {
        "line": 2589,
        "token": "methods",
        "context": "- **New methods**:"
      },
      {
        "line": 2590,
        "token": "drift",
        "context": "- `BackgroundSyncService._detect_and_sync_drift()` - Core drift detection logic with dry-run mode"
      },
      {
        "line": 2591,
        "token": "memories",
        "context": "- `CloudflareStorage.get_memories_updated_since()` - Query memories by update timestamp"
      },
      {
        "line": 2592,
        "token": "initial",
        "context": "- **Enhanced initial sync**: Now detects and syncs metadata drift for existing memories"
      },
      {
        "line": 2595,
        "token": "backend",
        "context": "- **Issue #202** - Hybrid backend now syncs metadata updates (tags, types, custom fields)"
      },
      {
        "line": 2596,
        "token": "behavior",
        "context": "- Previous behavior only detected missing memories, ignoring metadata changes"
      },
      {
        "line": 2597,
        "token": "silent",
        "context": "- Prevented silent data loss when memories updated on one backend but not synced"
      },
      {
        "line": 2598,
        "token": "fixes",
        "context": "- Tag fixes in Cloudflare now properly propagate to local SQLite"
      },
      {
        "line": 2599,
        "token": "updates",
        "context": "- Metadata updates no longer diverge between backends"
      },
      {
        "line": 2602,
        "token": "sync",
        "context": "- Initial sync (`_perform_initial_sync`) now compares timestamps for existing memories"
      },
      {
        "line": 2603,
        "token": "sync",
        "context": "- Periodic sync includes drift detection checks at configurable intervals"
      },
      {
        "line": 2604,
        "token": "statistics",
        "context": "- Sync statistics tracking expanded with drift detection metrics"
      },
      {
        "line": 2608,
        "token": "configuration",
        "context": "- `src/mcp_memory_service/config.py` - Added 3 configuration variables"
      },
      {
        "line": 2609,
        "token": "detection",
        "context": "- `src/mcp_memory_service/storage/hybrid.py` - Drift detection implementation (~150 lines)"
      },
      {
        "line": 2610,
        "token": "method",
        "context": "- `src/mcp_memory_service/storage/cloudflare.py` - Added `get_memories_updated_since()` method"
      },
      {
        "line": 2611,
        "token": "validation",
        "context": "- `scripts/sync/check_drift.py` - New dry-run validation script"
      },
      {
        "line": 2612,
        "token": "drift",
        "context": "- **Architecture**: Timestamp-based drift detection with 1-second clock skew tolerance"
      },
      {
        "line": 2613,
        "token": "async",
        "context": "- **Performance**: Non-blocking async operations, configurable batch sizes"
      },
      {
        "line": 2614,
        "token": "feature",
        "context": "- **Safety**: Opt-in feature, dry-run mode, comprehensive audit logging"
      },
      {
        "line": 2619,
        "token": "review",
        "context": "- **Code Quality Improvements** - Applied Gemini Code Assist review suggestions (issue #180)"
      },
      {
        "line": 2620,
        "token": "chained",
        "context": "- **documents.py:87** - Replaced chained `.replace()` calls with `re.sub()` for path separator sanitization"
      },
      {
        "line": 2621,
        "token": "elements",
        "context": "- **app.js:751-762** - Cached DOM elements in setProcessingMode to reduce query overhead"
      },
      {
        "line": 2622,
        "token": "upload",
        "context": "- **app.js:551-553, 778-780** - Cached upload option elements to optimize handleDocumentUpload"
      },
      {
        "line": 2623,
        "token": "indentation",
        "context": "- **index.html:357, 570** - Fixed indentation consistency for closing `</div>` tags"
      },
      {
        "line": 2624,
        "token": "impact",
        "context": "- Performance impact: Minor - reduced DOM query overhead"
      },
      {
        "line": 2625,
        "token": "changes",
        "context": "- Breaking changes: None"
      },
      {
        "line": 2629,
        "token": "sanitization",
        "context": "- **Code Quality**: Regex-based sanitization more scalable, DOM element caching reduces redundant queries"
      },
      {
        "line": 2630,
        "token": "refactor",
        "context": "- **Commit**: ffc6246 - refactor: code quality improvements from Gemini review (issue #180)"
      },
      {
        "line": 2635,
        "token": "systematic",
        "context": "- **GitHub Release Manager Agent** - Resolved systematic version history omission in README.md (commit ccf959a)"
      },
      {
        "line": 2636,
        "token": "agent",
        "context": "- Fixed agent behavior that was omitting previous versions from \"Previous Releases\" section"
      },
      {
        "line": 2637,
        "token": "list",
        "context": "- Added v8.24.1 to Previous Releases list (was missing despite being valid release)"
      },
      {
        "line": 2638,
        "token": "agent",
        "context": "- Enhanced agent instructions with CRITICAL section for maintaining version history integrity"
      },
      {
        "line": 2639,
        "token": "quality",
        "context": "- Added quality assurance checklist item to prevent future omissions"
      },
      {
        "line": 2640,
        "token": "cause",
        "context": "- Root cause: Agent was replacing entire Previous Releases section instead of prepending new version"
      },
      {
        "line": 2643,
        "token": "test",
        "context": "- **Test Coverage for Tag+Time Filtering** - Comprehensive test suite for issue #216 (commit ebff282)"
      },
      {
        "line": 2644,
        "token": "unit",
        "context": "- 10 unit tests passing across SQLite-vec, Cloudflare, and Hybrid backends"
      },
      {
        "line": 2645,
        "token": "functionality",
        "context": "- Validates PR #215 functionality (tag+time filtering to fix semantic over-filtering bug #214)"
      },
      {
        "line": 2646,
        "token": "verify",
        "context": "- Tests verify memories can be retrieved using both tag criteria AND time range filters"
      },
      {
        "line": 2647,
        "token": "integration",
        "context": "- API integration tests created (with known threading issues documented for future fix)"
      },
      {
        "line": 2648,
        "token": "regression",
        "context": "- Ensures regression prevention for semantic search over-filtering bug"
      },
      {
        "line": 2651,
        "token": "release",
        "context": "- GitHub release workflow now more reliable with enhanced agent guardrails"
      },
      {
        "line": 2652,
        "token": "suite",
        "context": "- Test suite provides better coverage for multi-filter memory retrieval scenarios"
      },
      {
        "line": 2656,
        "token": "claude/agents/github-release-manager.md",
        "context": "- `.claude/agents/github-release-manager.md` - Added CRITICAL section for Previous Releases maintenance"
      },
      {
        "line": 2657,
        "token": "new",
        "context": "- `tests/test_time_filtering.py` - 10 new unit tests for tag+time filtering"
      },
      {
        "line": 2658,
        "token": "integration",
        "context": "- `tests/integration/test_api_time_search.py` - API integration tests (threading issues documented)"
      },
      {
        "line": 2659,
        "token": "unit",
        "context": "- **Test Execution**: All 10 unit tests passing, API tests have known threading limitations"
      },
      {
        "line": 2660,
        "token": "version",
        "context": "- **Impact**: Prevents version history loss in future releases, ensures tag+time filtering remains functional"
      },
      {
        "line": 2665,
        "token": "workflow",
        "context": "- **CI/CD Workflow Infrastructure** - Development Setup Validation workflow fixes (issue #217 related)"
      },
      {
        "line": 2666,
        "token": "bash",
        "context": "- Fixed bash errexit handling in workflow tests - prevents premature exit on intentional test failures"
      },
      {
        "line": 2667,
        "token": "exit",
        "context": "- Corrected exit code capture using EXIT_CODE=0 and || EXIT_CODE=$? pattern"
      },
      {
        "line": 2668,
        "token": "workflow",
        "context": "- All 5 workflow tests now passing: version consistency, pre-commit hooks, server warnings, developer prompts, docs accuracy"
      },
      {
        "line": 2669,
        "token": "cause",
        "context": "- Root cause: bash runs with -e flag (errexit), which exits immediately when commands return non-zero exit codes"
      },
      {
        "line": 2670,
        "token": "intentionally",
        "context": "- Tests intentionally run check_dev_setup.py expecting exit code 1, but bash was exiting before capture"
      },
      {
        "line": 2674,
        "token": "tests",
        "context": "- Workflow tests can now properly validate that the development setup validator correctly detects problems"
      },
      {
        "line": 2675,
        "token": "code",
        "context": "- Exit code capture no longer uses \"|| true\" pattern (was making all commands return 0)"
      },
      {
        "line": 2680,
        "token": "python",
        "context": "- Before: `python script.py || true` (always returns 0, breaks exit code testing)"
      },
      {
        "line": 2681,
        "token": "python",
        "context": "- After: `EXIT_CODE=0; python script.py || EXIT_CODE=$?` (captures actual exit code, prevents bash exit)"
      },
      {
        "line": 2682,
        "token": "jobs",
        "context": "- **Test Jobs**: All 5 jobs in dev-setup-validation workflow now pass consistently"
      },
      {
        "line": 2683,
        "token": "test",
        "context": "- **Context**: Part of test infrastructure improvement efforts (issue #217)"
      },
      {
        "line": 2688,
        "token": "test",
        "context": "- **Test Infrastructure Failures** - Resolved 27 pre-existing test failures (issue #217)"
      },
      {
        "line": 2689,
        "token": "async",
        "context": "- Fixed async fixture incompatibility in 6 test files (19+ failures)"
      },
      {
        "line": 2690,
        "token": "missing",
        "context": "- Corrected missing imports (MCPMemoryServer â†’ MemoryServer, removed MemoryMetadata)"
      },
      {
        "line": 2691,
        "token": "missing",
        "context": "- Added missing content_hash parameter to Memory() instantiations"
      },
      {
        "line": 2692,
        "token": "hardcoded",
        "context": "- Updated hardcoded version strings (6.3.0 â†’ 8.24.0)"
      },
      {
        "line": 2693,
        "token": "test",
        "context": "- Improved test pass rate from 63% to 71% (412/584 tests passing)"
      },
      {
        "line": 2694,
        "token": "via",
        "context": "- Execution: Automated via amp-bridge agent"
      },
      {
        "line": 2697,
        "token": "suite",
        "context": "- Test suite now has cleaner baseline for detecting new regressions"
      },
      {
        "line": 2698,
        "token": "async",
        "context": "- All async test fixtures now use @pytest_asyncio.fixture decorator"
      },
      {
        "line": 2701,
        "token": "agent",
        "context": "- **Automated Fix**: Used amp-bridge agent for pattern-based refactoring"
      },
      {
        "line": 2702,
        "token": "minutes",
        "context": "- **Execution Time**: ~15 minutes (vs 1-2 hours manual)"
      },
      {
        "line": 2703,
        "token": "test",
        "context": "- **Files Modified**: 11 test files across tests/ and tests/integration/"
      },
      {
        "line": 2704,
        "token": "infrastructure",
        "context": "- **Root Causes**: Test infrastructure issues, not code bugs"
      },
      {
        "line": 2705,
        "token": "failures",
        "context": "- **Remaining Failures**: 172 failures remain (backend config, performance, actual bugs)"
      },
      {
        "line": 2710,
        "token": "now",
        "context": "- **PyPI Publishing Automation** - Package now available via `pip install mcp-memory-service`"
      },
      {
        "line": 2711,
        "token": "workflow",
        "context": "- **Workflow Automation**: Configured GitHub Actions workflow to automatically publish to PyPI on tag pushes"
      },
      {
        "line": 2712,
        "token": "can",
        "context": "- **Installation Simplification**: Users can now install directly via `pip install mcp-memory-service` or `uv pip install mcp-memory-service`"
      },
      {
        "line": 2713,
        "token": "installation",
        "context": "- **Accessibility**: Resolves installation barriers for users without git access or familiarity"
      },
      {
        "line": 2714,
        "token": "secret",
        "context": "- **Token Configuration**: Secured with `PYPI_TOKEN` GitHub secret for automated publishing"
      },
      {
        "line": 2715,
        "token": "only",
        "context": "- **Quality Gates**: Publishes only after successful test suite execution"
      },
      {
        "line": 2718,
        "token": "primary",
        "context": "- **Distribution Method**: Added PyPI as primary distribution channel alongside GitHub releases"
      },
      {
        "line": 2719,
        "token": "guides",
        "context": "- **Installation Documentation**: Updated guides to include pip-based installation as recommended method"
      },
      {
        "line": 2723,
        "token": "workflow",
        "context": "- `.github/workflows/publish.yml` - NEW workflow for automated PyPI publishing"
      },
      {
        "line": 2724,
        "token": "repository",
        "context": "- GitHub repository secrets - Added `PYPI_TOKEN` for authentication"
      },
      {
        "line": 2725,
        "token": "runs",
        "context": "- **Trigger**: Workflow runs automatically on git tag creation (pattern: `v*.*.*`)"
      },
      {
        "line": 2726,
        "token": "build",
        "context": "- **Build System**: Uses Hatchling build backend with `python-semantic-release`"
      },
      {
        "line": 2729,
        "token": "installation",
        "context": "- **For New Users**: Preferred installation is now `pip install mcp-memory-service`"
      },
      {
        "line": 2730,
        "token": "action",
        "context": "- **For Existing Users**: No action required - git-based installation continues to work"
      },
      {
        "line": 2731,
        "token": "creation",
        "context": "- **For Contributors**: Tag creation now triggers PyPI publishing automatically"
      },
      {
        "line": 2736,
        "token": "layer",
        "context": "- **Stale Virtual Environment Prevention System** - Comprehensive 6-layer strategy to prevent \"stale venv vs source code\" version mismatches"
      },
      {
        "line": 2737,
        "token": "servers",
        "context": "- **Root Cause**: MCP servers load from site-packages, not source files. System restart doesn't help - it relaunches with same stale package"
      },
      {
        "line": 2738,
        "token": "issue",
        "context": "- **Impact**: Prevented issue that caused v8.23.0 tag validation bug to persist despite v8.22.2 fix (source showed v8.23.0 while venv had v8.5.3)"
      },
      {
        "line": 2742,
        "token": "version",
        "context": "- New `scripts/validation/check_dev_setup.py` - Validates source/venv version consistency, detects editable installs"
      },
      {
        "line": 2743,
        "token": "commits",
        "context": "- Enhanced `scripts/hooks/pre-commit` - Blocks commits when venv is stale, provides actionable error messages"
      },
      {
        "line": 2744,
        "token": "development",
        "context": "- Added CLAUDE.md development setup section with explicit `pip install -e .` guidance"
      },
      {
        "line": 2747,
        "token": "function",
        "context": "- Added `check_version_consistency()` function in `src/mcp_memory_service/server.py`"
      },
      {
        "line": 2748,
        "token": "startup",
        "context": "- Server startup warnings when version mismatch detected (source vs package)"
      },
      {
        "line": 2749,
        "token": "developer",
        "context": "- Updated README.md developer section with editable install instructions"
      },
      {
        "line": 2750,
        "token": "docs/development/ai-agent-instructions.md",
        "context": "- Enhanced `docs/development/ai-agent-instructions.md` with proper setup commands"
      },
      {
        "line": 2753,
        "token": "developer",
        "context": "- Enhanced `scripts/installation/install.py` with developer detection (checks for git repo)"
      },
      {
        "line": 2754,
        "token": "prompt",
        "context": "- Interactive prompt guides developers to use `pip install -e .` for editable installs"
      },
      {
        "line": 2755,
        "token": "workflow",
        "context": "- New CI/CD workflow `.github/workflows/dev-setup-validation.yml` with 5 comprehensive test jobs:"
      },
      {
        "line": 2756,
        "token": "consistency",
        "context": "1. Version consistency validation"
      },
      {
        "line": 2757,
        "token": "hook",
        "context": "2. Pre-commit hook functionality"
      },
      {
        "line": 2758,
        "token": "startup",
        "context": "3. Server startup warnings"
      },
      {
        "line": 2759,
        "token": "developer",
        "context": "4. Interactive developer prompts"
      },
      {
        "line": 2760,
        "token": "accuracy",
        "context": "5. Documentation accuracy checks"
      },
      {
        "line": 2763,
        "token": "now",
        "context": "- **Developer Workflow**: Developers now automatically guided to use `pip install -e .` for proper setup"
      },
      {
        "line": 2764,
        "token": "validates",
        "context": "- **Pre-commit Hook**: Now validates venv consistency before allowing commits"
      },
      {
        "line": 2765,
        "token": "developer",
        "context": "- **Installation Process**: Detects developer mode and provides targeted guidance"
      },
      {
        "line": 2769,
        "token": "hook",
        "context": "1. **Development**: Pre-commit hook blocks bad commits, detection script validates setup"
      },
      {
        "line": 2770,
        "token": "startup",
        "context": "2. **Runtime**: Server startup warnings catch edge cases"
      },
      {
        "line": 2771,
        "token": "ai-agent-instructions.md",
        "context": "3. **Documentation**: CLAUDE.md, README.md, ai-agent-instructions.md all updated"
      },
      {
        "line": 2772,
        "token": "hook",
        "context": "4. **Automation**: check_dev_setup.py, pre-commit hook, CI/CD workflow"
      },
      {
        "line": 2773,
        "token": "prompts",
        "context": "5. **Interactive**: install.py prompts developers for editable install"
      },
      {
        "line": 2774,
        "token": "workflow",
        "context": "6. **Testing**: CI/CD workflow with 5 comprehensive test jobs"
      },
      {
        "line": 2777,
        "token": "automated",
        "context": "- `scripts/validation/check_dev_setup.py` - NEW automated detection script"
      },
      {
        "line": 2778,
        "token": "venv",
        "context": "- `scripts/hooks/pre-commit` - Enhanced with venv validation"
      },
      {
        "line": 2779,
        "token": "development",
        "context": "- `CLAUDE.md` - Added development setup guidance"
      },
      {
        "line": 2780,
        "token": "runtime",
        "context": "- `src/mcp_memory_service/server.py` - Added runtime version check"
      },
      {
        "line": 2781,
        "token": "developer",
        "context": "- `README.md` - Updated developer section"
      },
      {
        "line": 2782,
        "token": "docs/development/ai-agent-instructions.md",
        "context": "- `docs/development/ai-agent-instructions.md` - Updated setup commands"
      },
      {
        "line": 2783,
        "token": "developer",
        "context": "- `scripts/installation/install.py` - Added developer detection"
      },
      {
        "line": 2784,
        "token": "validation",
        "context": "- `.github/workflows/dev-setup-validation.yml` - NEW CI/CD validation"
      },
      {
        "line": 2787,
        "token": "pip",
        "context": "- **For Developers**: Run `pip install -e .` to install in editable mode (will be prompted by install.py)"
      },
      {
        "line": 2788,
        "token": "action",
        "context": "- **For Users**: No action required - prevention system is transparent for production use"
      },
      {
        "line": 2789,
        "token": "installed",
        "context": "- **Pre-commit Hook**: Automatically installed during `install.py`, validates on every commit"
      },
      {
        "line": 2792,
        "token": "fb74",
        "context": "- `670fb74` - Phase 1: Automated detection (check_dev_setup.py, pre-commit hook, CLAUDE.md)"
      },
      {
        "line": 2793,
        "token": "warnings",
        "context": "- `9537259` - Phase 2: Runtime warnings (server.py) + developer documentation"
      },
      {
        "line": 2794,
        "token": "onboarding",
        "context": "- `a17bcc7` - Phase 3: Interactive onboarding (install.py) + CI/CD validation"
      }
    ],
    "structure_diff": {
      "heading": [
        189,
        318
      ],
      "tables": [
        5,
        6
      ]
    }
  },
  {
    "english": "CLAUDE.md",
    "chinese": "CLAUDE_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "gitignore",
        "context": "> **ğŸ“ ä¸ªæ€§åŒ–é…ç½®**ï¼šæ¬¢è¿åˆ›å»ºè¢« `.gitignore` å¿½ç•¥çš„ `CLAUDE.local.md`ï¼Œç”¨äºè®°å½•ä¸ªäººä¹ æƒ¯ã€å®šåˆ¶æµç¨‹æˆ–ç‰¹å®šç¯å¢ƒè¯´æ˜ã€‚æœ¬ä¸»æ–‡ä»¶ä»…å­˜æ”¾å›¢é˜Ÿå…±äº«çš„è§„èŒƒã€‚"
      },
      {
        "line": 13,
        "token": "v8.13.3",
        "context": "> **ğŸš¨ v8.13.3**ï¼š**MCP å·¥å…·æ¢å¤** â€”â€” ä¿®å¤ v8.12.0 å›å½’å¯¼è‡´çš„è®°å¿†æ“ä½œä¸­æ–­ï¼Œå°† MemoryService å“åº”è½¬æ¢ä¸ºè§„èŒƒçš„ MCP `TypedDict`ã€‚æ›´æ–°åè¯·æ‰§è¡Œ `/mcp` é‡æ–°åŠ è½½æœåŠ¡å™¨ã€‚"
      },
      {
        "line": 15,
        "token": "v8.13.2",
        "context": "> **ğŸ”„ v8.13.2**ï¼š**åŒæ­¥è„šæœ¬æ¢å¤** â€”â€” è§£å†³ `store_memory` API è¿ç§»å¼•å‘çš„åç«¯åŒæ­¥å¤±è´¥ï¼Œæ”¹ç”¨ `storage.store()` æ­£ç¡®åˆ›å»º Memory å¯¹è±¡ã€‚"
      },
      {
        "line": 19,
        "token": "HTTP",
        "context": "> **ğŸ“Š v8.13.0**ï¼š**HTTP é›†æˆæµ‹è¯•** â€”â€” 32 ä¸ªç«¯åˆ°ç«¯æµ‹è¯•è¦†ç›–å¯åŠ¨éªŒè¯ã€ä¾èµ–æ³¨å…¥ã€å­˜å‚¨æ¥å£å…¼å®¹æ€§ï¼Œé˜²æ­¢ç”Ÿäº§å›å½’ã€‚"
      },
      {
        "line": 21,
        "token": "git",
        "context": "> **ğŸ§  v8.5.1**ï¼š**åŠ¨æ€è®°å¿†æƒé‡è°ƒèŠ‚** â€”â€” æ ¹æ®è®°å¿†å¹´é¾„ä¸ git æ´»åŠ¨è‡ªåŠ¨è°ƒæ•´æƒé‡ï¼Œé¿å…é™ˆæ—§è®°å¿†ä¸»å¯¼ä¸Šä¸‹æ–‡ã€‚"
      },
      {
        "line": 25,
        "token": "v8.3.1",
        "context": "> **ğŸ‰ v8.3.1**ï¼š**HTTP æœåŠ¡ç®¡ç†** â€”â€” è·¨å¹³å°è‡ªå¯è„šæœ¬ä¸å¥åº·æ£€æŸ¥ï¼Œä¾¿äºè‡ªç„¶è®°å¿†è§¦å‘å™¨æ¥å…¥ã€‚"
      },
      {
        "line": 29,
        "token": "HTTP/MCP",
        "context": "> **ğŸš€ v7.0.0**ï¼šæ”¯æŒ **OAuth 2.1 åŠ¨æ€å®¢æˆ·ç«¯æ³¨å†Œ** ä¸ **åŒåè®®è®°å¿†é’©å­**ï¼Œå¯è‡ªåŠ¨ä¾¦æµ‹ HTTP/MCP åè®®ã€‚"
      },
      {
        "line": 35,
        "token": "python",
        "context": "| **Setup** | `python scripts/installation/install.py --storage-backend hybrid` | Install with hybrid backend (recommended) |"
      },
      {
        "line": 36,
        "token": "run",
        "context": "| | `uv run memory server` | Start server |"
      },
      {
        "line": 37,
        "token": "pytest",
        "context": "| | `pytest tests/` | Run tests |"
      },
      {
        "line": 38,
        "token": "claude",
        "context": "| **Memory Ops** | `claude /memory-store \"content\"` | Store information |"
      },
      {
        "line": 39,
        "token": "claude",
        "context": "| | `claude /memory-recall \"query\"` | Retrieve information |"
      },
      {
        "line": 40,
        "token": "claude",
        "context": "| | `claude /memory-health` | Check service status |"
      },
      {
        "line": 41,
        "token": "curl",
        "context": "| **Quality System** | `curl http://127.0.0.1:8000/api/quality/distribution` | Get quality analytics (v8.45.0+) |"
      },
      {
        "line": 42,
        "token": "curl",
        "context": "| | `curl -X POST http://127.0.0.1:8000/api/quality/memories/{hash}/rate -d '{\"rating\":1}'` | Rate memory quality |"
      },
      {
        "line": 43,
        "token": "curl",
        "context": "| | `curl http://127.0.0.1:8000/api/quality/memories/{hash}` | Get quality metrics |"
      },
      {
        "line": 44,
        "token": "export",
        "context": "| | `export MCP_QUALITY_BOOST_ENABLED=true` | Enable quality-boosted search |"
      },
      {
        "line": 45,
        "token": "python",
        "context": "| **Validation** | `python scripts/validation/validate_configuration_complete.py` | Comprehensive config validation |"
      },
      {
        "line": 46,
        "token": "python",
        "context": "| | `python scripts/validation/diagnose_backend_config.py` | Cloudflare diagnostics |"
      },
      {
        "line": 47,
        "token": "python",
        "context": "| **Maintenance** | `python scripts/maintenance/consolidate_memory_types.py --dry-run` | Preview type consolidation |"
      },
      {
        "line": 48,
        "token": "python",
        "context": "| | `python scripts/maintenance/find_all_duplicates.py` | Find duplicates |"
      },
      {
        "line": 49,
        "token": "python",
        "context": "| | `python scripts/sync/check_drift.py` | Check hybrid backend drift (v8.25.0+) |"
      },
      {
        "line": 50,
        "token": "bash",
        "context": "| **Quality** | `bash scripts/pr/quality_gate.sh 123` | Run PR quality checks |"
      },
      {
        "line": 51,
        "token": "bash",
        "context": "| | `bash scripts/pr/quality_gate.sh 123 --with-pyscn` | Comprehensive quality analysis (includes pyscn) |"
      },
      {
        "line": 52,
        "token": "bash",
        "context": "| | `bash scripts/quality/track_pyscn_metrics.sh` | Track quality metrics over time |"
      },
      {
        "line": 53,
        "token": "bash",
        "context": "| | `bash scripts/quality/weekly_quality_review.sh` | Generate weekly quality review |"
      },
      {
        "line": 54,
        "token": "pyscn",
        "context": "| | `pyscn analyze .` | Run pyscn static analysis |"
      },
      {
        "line": 55,
        "token": "curl",
        "context": "| **Consolidation** | `curl -X POST http://127.0.0.1:8000/api/consolidation/trigger -H \"Content-Type: application/json\" -d '{\"time_horizon\":\"weekly\"}'` | Trigge"
      },
      {
        "line": 56,
        "token": "curl",
        "context": "| | `curl http://127.0.0.1:8000/api/consolidation/status` | Check scheduler status |"
      },
      {
        "line": 57,
        "token": "curl",
        "context": "| | `curl http://127.0.0.1:8000/api/consolidation/recommendations` | Get consolidation recommendations |"
      },
      {
        "line": 58,
        "token": "curl",
        "context": "| **Backup** | `curl -X POST http://127.0.0.1:8000/api/backup/now` | Trigger manual backup (v8.29.0+) |"
      },
      {
        "line": 59,
        "token": "curl",
        "context": "| | `curl http://127.0.0.1:8000/api/backup/status` | Check backup status and schedule |"
      },
      {
        "line": 60,
        "token": "curl",
        "context": "| | `curl http://127.0.0.1:8000/api/backup/list` | List available backups |"
      },
      {
        "line": 61,
        "token": "curl",
        "context": "| **Sync Controls** | `curl -X POST http://127.0.0.1:8000/api/sync/pause` | Pause hybrid backend sync (v8.29.0+) |"
      },
      {
        "line": 62,
        "token": "curl",
        "context": "| | `curl -X POST http://127.0.0.1:8000/api/sync/resume` | Resume hybrid backend sync |"
      },
      {
        "line": 63,
        "token": "systemctl",
        "context": "| **Service** | `systemctl --user status mcp-memory-http.service` | Check HTTP service status (Linux) |"
      },
      {
        "line": 64,
        "token": "status",
        "context": "| | `scripts/service/memory_service_manager.sh status` | Check service status |"
      },
      {
        "line": 65,
        "token": "curl",
        "context": "| **Debug** | `curl http://127.0.0.1:8000/api/health` | Health check |"
      },
      {
        "line": 66,
        "token": "npx",
        "context": "| | `npx @modelcontextprotocol/inspector uv run memory server` | MCP Inspector |"
      },
      {
        "line": 68,
        "token": "complete",
        "context": "See [scripts/README.md](scripts/README.md) for complete command reference."
      },
      {
        "line": 78,
        "token": "HTTP",
        "context": "- **Web ç•Œé¢**ï¼šåŸºäº FastAPI çš„æ§åˆ¶å°ï¼ŒHTTP ç«¯å£ `http://127.0.0.1:8001/`ï¼ŒHTTPS ç«¯å£ `https://localhost:8443/`ï¼Œå¹¶æä¾› REST APIã€‚"
      },
      {
        "line": 79,
        "token": "PDF",
        "context": "- **æ–‡æ¡£å…¥åº“**ï¼šå¯æ’æ‹”åŠ è½½å™¨æ”¯æŒ PDFã€DOCXã€PPTXã€æ–‡æœ¬ï¼Œäº¦å¯é€‰ç”¨ semtools å¢å¼ºè§£æã€‚"
      },
      {
        "line": 80,
        "token": "HTTP",
        "context": "- **åŒåè®®è®°å¿†é’©å­** ğŸ†•ï¼šæä¾› HTTP + MCP è‡ªåŠ¨ä¾¦æµ‹ä¸åˆ‡æ¢ã€‚"
      },
      {
        "line": 81,
        "token": "HTTP",
        "context": "- **HTTP æ¨¡å¼**ï¼šé€šè¿‡ `https://localhost:8443/api/*` è®¿é—® Web æœåŠ¡ã€‚"
      },
      {
        "line": 82,
        "token": "run",
        "context": "- **MCP æ¨¡å¼**ï¼šä½¿ç”¨ `uv run memory server` ç›´æ¥é€šä¿¡ã€‚"
      },
      {
        "line": 83,
        "token": "HTTP",
        "context": "- **æ™ºèƒ½æ£€æµ‹**ï¼šMCP ä¼˜å…ˆ â†’ HTTP å›é€€ â†’ æ ¹æ®ç¯å¢ƒè‡ªåŠ¨é€‰æ‹©ã€‚"
      },
      {
        "line": 88,
        "token": "semtools",
        "context": "å¢å¼ºå‹è§£ææ¡†æ¶ï¼Œç»“åˆ semtools æå‡ç²¾åº¦ã€‚"
      },
      {
        "line": 94,
        "token": "PDF",
        "context": "| PDF | PyPDF2/pdfplumber | âœ… LlamaParse | ä¼˜ç§€ï¼ˆå« OCR/è¡¨æ ¼ï¼‰ |"
      },
      {
        "line": 106,
        "token": "docs/document-ingestion.md",
        "context": "See [docs/document-ingestion.md](docs/document-ingestion.md) for full configuration and usage."
      },
      {
        "line": 110,
        "token": "interface",
        "context": "Web interface at `http://127.0.0.1:8000/` with CRUD operations, semantic/tag/time search, real-time updates (SSE), mobile responsive. Performance: 25ms page loa"
      },
      {
        "line": 129,
        "token": "https",
        "context": "- è¯¦è§è¯„ä¼°æŠ¥å‘Šä¸æ”¹è¿›è®¡åˆ’ï¼š [è¯„ä¼° Wiki](https://github.com/doobidoo/mcp-memory-service/wiki/Memory-Quality-System-Evaluation) Â· [Issue #268](https://github.com/doobidoo/mcp-me"
      },
      {
        "line": 163,
        "token": "scoring",
        "context": "Quality scoring is now integrated with memory awareness hooks:"
      },
      {
        "line": 166,
        "token": "reads",
        "context": "- `memory-scorer.js` reads `quality_score` from memory metadata"
      },
      {
        "line": 167,
        "token": "hook",
        "context": "- Weight: 20% of hook scoring (reduces contentQuality/contentRelevance)"
      },
      {
        "line": 168,
        "token": "fallback",
        "context": "- Graceful fallback to 0.5 if quality_score not available"
      },
      {
        "line": 171,
        "token": "hook",
        "context": "- Session-end hook triggers `/api/quality/memories/{hash}/evaluate`"
      },
      {
        "line": 172,
        "token": "timeout",
        "context": "- Non-blocking: 10s timeout, doesn't delay session end"
      },
      {
        "line": 173,
        "token": "ranker",
        "context": "- ONNX ranker provides ~355ms evaluation time"
      },
      {
        "line": 196,
        "token": "docs/guides/memory-quality-guide.md",
        "context": "**Updated for v8.48.3** - See [docs/guides/memory-quality-guide.md](docs/guides/memory-quality-guide.md) for:"
      },
      {
        "line": 197,
        "token": "user",
        "context": "- Comprehensive user guide"
      },
      {
        "line": 198,
        "token": "examples",
        "context": "- Configuration examples"
      },
      {
        "line": 200,
        "token": "practices",
        "context": "- Best practices"
      },
      {
        "line": 201,
        "token": "benchmarks",
        "context": "- Performance benchmarks"
      },
      {
        "line": 205,
        "token": "memory",
        "context": "**Dream-inspired memory consolidation** with automatic scheduling and Code Execution API (v8.23.0+)."
      },
      {
        "line": 209,
        "token": "HTTP",
        "context": "**Consolidation Scheduler Location**: HTTP Server (v8.23.0+)"
      },
      {
        "line": 210,
        "token": "HTTP",
        "context": "- Runs 24/7 with HTTP server (independent of MCP server/Claude Desktop)"
      },
      {
        "line": 211,
        "token": "automatic",
        "context": "- Uses APScheduler for automatic scheduling"
      },
      {
        "line": 212,
        "token": "via",
        "context": "- Accessible via both HTTP API and MCP tools"
      },
      {
        "line": 213,
        "token": "reliable",
        "context": "- **Benefits**: Persistent, reliable, no dependency on Claude Desktop being open"
      },
      {
        "line": 215,
        "token": "operations",
        "context": "**Code Execution API** (token-efficient operations):"
      },
      {
        "line": 226,
        "token": "HTTP",
        "context": "### HTTP API Endpoints"
      },
      {
        "line": 230,
        "token": "consolidation",
        "context": "| `/api/consolidation/trigger` | POST | Trigger consolidation | ~10-30s |"
      },
      {
        "line": 231,
        "token": "status",
        "context": "| `/api/consolidation/status` | GET | Scheduler status | <5ms |"
      },
      {
        "line": 232,
        "token": "horizon",
        "context": "| `/api/consolidation/recommendations/{horizon}` | GET | Get recommendations | ~50ms |"
      },
      {
        "line": 262,
        "token": "single",
        "context": "# Ingest a single document"
      },
      {
        "line": 263,
        "token": "claude",
        "context": "claude /memory-ingest document.pdf --tags documentation"
      },
      {
        "line": 265,
        "token": "directory",
        "context": "# Ingest directory"
      },
      {
        "line": 266,
        "token": "claude",
        "context": "claude /memory-ingest-dir ./docs --tags knowledge-base"
      },
      {
        "line": 269,
        "token": "import",
        "context": "from mcp_memory_service.ingestion import get_loader_for_file"
      },
      {
        "line": 271,
        "token": "loader",
        "context": "loader = get_loader_for_file(Path(\"document.pdf\"))"
      },
      {
        "line": 272,
        "token": "async",
        "context": "async for chunk in loader.extract_chunks(Path(\"document.pdf\")):"
      },
      {
        "line": 273,
        "token": "await",
        "context": "await store_memory(chunk.content, tags=[\"doc\"])"
      },
      {
        "line": 312,
        "token": "HTTP",
        "context": "# Enable HTTP server in .env"
      },
      {
        "line": 313,
        "token": "export",
        "context": "export MCP_HTTP_ENABLED=true"
      },
      {
        "line": 315,
        "token": "service",
        "context": "# Restart service"
      },
      {
        "line": 316,
        "token": "systemctl",
        "context": "systemctl --user restart mcp-memory-http.service"
      },
      {
        "line": 332,
        "token": "production",
        "context": "# Storage Backend (Hybrid is RECOMMENDED for production)"
      },
      {
        "line": 333,
        "token": "export",
        "context": "export MCP_MEMORY_STORAGE_BACKEND=hybrid  # hybrid|cloudflare|sqlite_vec"
      },
      {
        "line": 335,
        "token": "backends",
        "context": "# Cloudflare Configuration (REQUIRED for hybrid/cloudflare backends)"
      },
      {
        "line": 336,
        "token": "export",
        "context": "export CLOUDFLARE_API_TOKEN=\"your-token\"      # Required for Cloudflare backend"
      },
      {
        "line": 337,
        "token": "export",
        "context": "export CLOUDFLARE_ACCOUNT_ID=\"your-account\"   # Required for Cloudflare backend"
      },
      {
        "line": 338,
        "token": "export",
        "context": "export CLOUDFLARE_D1_DATABASE_ID=\"your-d1-id\" # Required for Cloudflare backend"
      },
      {
        "line": 339,
        "token": "export",
        "context": "export CLOUDFLARE_VECTORIZE_INDEX=\"mcp-memory-index\" # Required for Cloudflare backend"
      },
      {
        "line": 342,
        "token": "export",
        "context": "export MCP_HTTP_ENABLED=true                  # Enable HTTP server"
      },
      {
        "line": 343,
        "token": "export",
        "context": "export MCP_HTTPS_ENABLED=true                 # Enable HTTPS (production)"
      },
      {
        "line": 344,
        "token": "export",
        "context": "export MCP_API_KEY=\"$(openssl rand -base64 32)\" # Generate secure API key"
      },
      {
        "line": 361,
        "token": "required",
        "context": "# Installation (Zero-restart required)"
      },
      {
        "line": 362,
        "token": "python",
        "context": "cd claude-hooks && python install_hooks.py --natural-triggers"
      },
      {
        "line": 365,
        "token": "node",
        "context": "node ~/.claude/hooks/memory-mode-controller.js status"
      },
      {
        "line": 366,
        "token": "node",
        "context": "node ~/.claude/hooks/memory-mode-controller.js profile balanced"
      },
      {
        "line": 367,
        "token": "node",
        "context": "node ~/.claude/hooks/memory-mode-controller.js sensitivity 0.7"
      },
      {
        "line": 368,
        "token": "node",
        "context": "node ~/.claude/hooks/test-natural-triggers.js"
      },
      {
        "line": 384,
        "token": "enabled",
        "context": "\"enabled\": true,"
      },
      {
        "line": 389,
        "token": "performance",
        "context": "\"performance\": {"
      },
      {
        "line": 390,
        "token": "balanced",
        "context": "\"defaultProfile\": \"balanced\","
      },
      {
        "line": 391,
        "token": "true",
        "context": "\"enableMonitoring\": true,"
      },
      {
        "line": 392,
        "token": "true",
        "context": "\"autoAdjust\": true"
      },
      {
        "line": 410,
        "token": "mcp",
        "context": "mcp context list                                # List available contexts"
      },
      {
        "line": 411,
        "token": "mcp",
        "context": "mcp context status                             # Check session initialization status"
      },
      {
        "line": 412,
        "token": "mcp",
        "context": "mcp context optimize                           # Get optimization suggestions"
      },
      {
        "line": 474,
        "token": "protocol",
        "context": "\"protocol\": \"auto\","
      },
      {
        "line": 475,
        "token": "mcp",
        "context": "\"preferredProtocol\": \"mcp\","
      },
      {
        "line": 476,
        "token": "true",
        "context": "\"fallbackEnabled\": true,"
      },
      {
        "line": 477,
        "token": "http",
        "context": "\"http\": {"
      },
      {
        "line": 478,
        "token": "endpoint",
        "context": "\"endpoint\": \"https://localhost:8443\","
      },
      {
        "line": 481,
        "token": "true",
        "context": "\"useDetailedHealthCheck\": true"
      },
      {
        "line": 483,
        "token": "mcp",
        "context": "\"mcp\": {"
      },
      {
        "line": 484,
        "token": "run",
        "context": "\"serverCommand\": [\"uv\", \"run\", \"memory\", \"server\", \"-s\", \"cloudflare\"],"
      },
      {
        "line": 528,
        "token": "hybrid",
        "context": "# Enable hybrid backend"
      },
      {
        "line": 529,
        "token": "export",
        "context": "export MCP_MEMORY_STORAGE_BACKEND=hybrid"
      },
      {
        "line": 531,
        "token": "configuration",
        "context": "# Hybrid-specific configuration"
      },
      {
        "line": 532,
        "token": "export",
        "context": "export MCP_HYBRID_SYNC_INTERVAL=300    # Background sync every 5 minutes"
      },
      {
        "line": 533,
        "token": "export",
        "context": "export MCP_HYBRID_BATCH_SIZE=50        # Sync 50 operations at a time"
      },
      {
        "line": 534,
        "token": "export",
        "context": "export MCP_HYBRID_SYNC_ON_STARTUP=true # Initial sync on startup"
      },
      {
        "line": 536,
        "token": "detection",
        "context": "# Drift detection configuration (v8.25.0+)"
      },
      {
        "line": 537,
        "token": "export",
        "context": "export MCP_HYBRID_SYNC_UPDATES=true              # Enable metadata sync (default: true)"
      },
      {
        "line": 538,
        "token": "export",
        "context": "export MCP_HYBRID_DRIFT_CHECK_INTERVAL=3600      # Seconds between drift checks (default: 1 hour)"
      },
      {
        "line": 539,
        "token": "export",
        "context": "export MCP_HYBRID_DRIFT_BATCH_SIZE=100           # Memories to check per scan (default: 100)"
      },
      {
        "line": 541,
        "token": "credentials",
        "context": "# Requires Cloudflare credentials (same as cloudflare backend)"
      },
      {
        "line": 542,
        "token": "export",
        "context": "export CLOUDFLARE_API_TOKEN=\"your-token\""
      },
      {
        "line": 543,
        "token": "export",
        "context": "export CLOUDFLARE_ACCOUNT_ID=\"your-account\""
      },
      {
        "line": 544,
        "token": "export",
        "context": "export CLOUDFLARE_D1_DATABASE_ID=\"your-d1-id\""
      },
      {
        "line": 545,
        "token": "export",
        "context": "export CLOUDFLARE_VECTORIZE_INDEX=\"mcp-memory-index\""
      },
      {
        "line": 661,
        "token": "usage",
        "context": "# Proactive usage - invokes automatically on feature completion"
      },
      {
        "line": 662,
        "token": "usage",
        "context": "# Manual usage - invoke @agent when ready to release"
      },
      {
        "line": 663,
        "token": "agent",
        "context": "@agent github-release-manager \"Check if we need a release\""
      },
      {
        "line": 664,
        "token": "agent",
        "context": "@agent github-release-manager \"Create release for v8.20.0\""
      },
      {
        "line": 699,
        "token": "docs/quick-setup-cloudflare-dual-environment.md",
        "context": "# å¿«é€Ÿæ£€æŸ¥ç»„åˆç¯å¢ƒï¼Œè¯¦è§ docs/quick-setup-cloudflare-dual-environment.md"
      },
      {
        "line": 700,
        "token": "python",
        "context": "python scripts/validation/diagnose_backend_config.py  # Validate Cloudflare configuration"
      },
      {
        "line": 701,
        "token": "claude",
        "context": "claude mcp list                             # Check Claude Code MCP servers"
      },
      {
        "line": 707,
        "token": "cloudflare/hybrid",
        "context": "# è‹¥æœŸæœ› cloudflare/hybrid å´æ˜¾ç¤º sqlite-vec"
      },
      {
        "line": 708,
        "token": "python",
        "context": "python scripts/validation/diagnose_backend_config.py"
      },
      {
        "line": 709,
        "token": "claude",
        "context": "claude mcp remove memory && claude mcp add memory \\"
      },
      {
        "line": 710,
        "token": "python",
        "context": "python -e MCP_MEMORY_STORAGE_BACKEND=cloudflare \\"
      },
      {
        "line": 717,
        "token": "HTTP",
        "context": "# æ£€æŸ¥ HTTP æœåŠ¡æ˜¯å¦è¿è¡Œ"
      },
      {
        "line": 718,
        "token": "systemctl",
        "context": "systemctl --user status mcp-memory-http.service  # Linux"
      },
      {
        "line": 720,
        "token": "run",
        "context": "uv run python scripts/server/check_http_server.py"
      },
      {
        "line": 722,
        "token": "hooks",
        "context": "# ç¡®è®¤ hooks é…ç½®çš„ç«¯å£"
      },
      {
        "line": 723,
        "token": "cat",
        "context": "cat ~/.claude/hooks/config.json | grep endpoint"
      },
      {
        "line": 724,
        "token": "http",
        "context": "# é¢„æœŸè¿”å› http://127.0.0.1:8001ï¼ˆé¿å…ä½¿ç”¨ 8889 ç­‰ç«¯å£ï¼‰"
      },
      {
        "line": 745,
        "token": "netstat",
        "context": "netstat -ano | findstr \"8001\""
      },
      {
        "line": 748,
        "token": "lsof",
        "context": "lsof -i :8001"
      },
      {
        "line": 750,
        "token": "grep",
        "context": "grep endpoint ~/.claude/hooks/config.json"
      },
      {
        "line": 765,
        "token": "view",
        "context": "gh pr view <PR_NUMBER> --json mergedAt,title"
      },
      {
        "line": 768,
        "token": "aux",
        "context": "ps aux | grep \"memory.*server\" | grep -v grep"
      },
      {
        "line": 776,
        "token": "mcp",
        "context": "/mcp  # åœ¨ Claude Code ä¸­é‡è¿ MCP"
      },
      {
        "line": 779,
        "token": "HTTP",
        "context": "# HTTP æœåŠ¡éœ€å•ç‹¬é‡å¯ï¼š"
      },
      {
        "line": 780,
        "token": "systemctl",
        "context": "systemctl --user restart mcp-memory-http.service"
      },
      {
        "line": 790,
        "token": "mcp",
        "context": "/mcp                                         # æŸ¥çœ‹å½“å‰è¿æ¥çš„ MCP æœåŠ¡å™¨"
      },
      {
        "line": 791,
        "token": "python",
        "context": "python scripts/validation/diagnose_backend_config.py  # ç¯å¢ƒè‡ªæ£€"
      },
      {
        "line": 793,
        "token": "python",
        "context": "python debug_server_initialization.py       # æµ‹è¯•åˆå§‹åŒ–æµç¨‹ï¼ˆv6.15.1+ï¼‰"
      },
      {
        "line": 794,
        "token": "tail",
        "context": "tail -50 ~/Library/Logs/Claude/mcp-server-memory.log | \\"
      },
      {
        "line": 795,
        "token": "grep",
        "context": "grep -E \"(ğŸš€|â˜ï¸|âœ…|âŒ)\"  # è§£æå¢å¼ºæ—¥å¿—"
      },
      {
        "line": 831,
        "token": "connect",
        "context": "âš ï¸ Memory Connection â†’ Failed to connect using any available protocol"
      },
      {
        "line": 832,
        "token": "http",
        "context": "ğŸ’¾ Storage â†’ ğŸ’¾ Unknown Storage (http://127.0.0.1:8000)"
      },
      {
        "line": 837,
        "token": "systemctl",
        "context": "systemctl --user status mcp-memory-http.service  # æŸ¥çœ‹æœåŠ¡å™¨åè®®"
      },
      {
        "line": 838,
        "token": "grep",
        "context": "grep endpoint ~/.claude/hooks/config.json        # æ£€æŸ¥ç«¯ç‚¹"
      },
      {
        "line": 844,
        "token": "http",
        "context": "\"http\": {"
      },
      {
        "line": 845,
        "token": "endpoint",
        "context": "\"endpoint\": \"https://localhost:8000\","
      },
      {
        "line": 864,
        "token": "curl",
        "context": "curl -sk \"https://localhost:8000/api/search/by-tag\" \\"
      },
      {
        "line": 866,
        "token": "tags",
        "context": "-d '{\"tags\": [\"session-consolidation\"], \"limit\": 5}' | \\"
      },
      {
        "line": 867,
        "token": "python",
        "context": "python -m json.tool | grep created_at_iso"
      },
      {
        "line": 870,
        "token": "node",
        "context": "node ~/.claude/hooks/core/session-end.js"
      },
      {
        "line": 873,
        "token": "curl",
        "context": "curl -sk \"https://localhost:8000/api/health\""
      },
      {
        "line": 891,
        "token": "claude",
        "context": "claude /session-start"
      },
      {
        "line": 901,
        "token": "hooks",
        "context": "\"hooks\": {"
      },
      {
        "line": 910,
        "token": "hooks",
        "context": "\"hooks\": {"
      },
      {
        "line": 913,
        "token": "matchers",
        "context": "\"matchers\": [\"*\"],"
      },
      {
        "line": 914,
        "token": "hooks",
        "context": "\"hooks\": ["
      },
      {
        "line": 916,
        "token": "type",
        "context": "\"type\": \"command\","
      },
      {
        "line": 917,
        "token": "command",
        "context": "\"command\": \"node ~/.claude/hooks/core/mid-conversation.js\","
      },
      {
        "line": 918,
        "token": "timeout",
        "context": "\"timeout\": 8"
      }
    ],
    "structure_diff": {
      "heading": [
        106,
        101
      ],
      "codeblock": [
        48,
        59
      ],
      "tables": [
        99,
        72
      ]
    }
  },
  {
    "english": "CODE_OF_CONDUCT.md",
    "chinese": "CODE_OF_CONDUCT_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 18,
        "token": "members",
        "context": "We as members, contributors, and leaders pledge to make participation in our"
      },
      {
        "line": 19,
        "token": "community",
        "context": "community a harassment-free experience for everyone, regardless of age, body"
      },
      {
        "line": 20,
        "token": "size",
        "context": "size, visible or invisible disability, ethnicity, sex characteristics, gender"
      },
      {
        "line": 21,
        "token": "identity",
        "context": "identity and expression, level of experience, education, socio-economic status,"
      },
      {
        "line": 22,
        "token": "nationality",
        "context": "nationality, personal appearance, race, caste, color, religion, or sexual"
      },
      {
        "line": 23,
        "token": "identity",
        "context": "identity and orientation."
      },
      {
        "line": 25,
        "token": "pledge",
        "context": "We pledge to act and interact in ways that contribute to an open, welcoming,"
      },
      {
        "line": 26,
        "token": "diverse",
        "context": "diverse, inclusive, and healthy community."
      },
      {
        "line": 30,
        "token": "behavior",
        "context": "Examples of behavior that contributes to a positive environment for our"
      },
      {
        "line": 31,
        "token": "community",
        "context": "community include:"
      },
      {
        "line": 33,
        "token": "empathy",
        "context": "* Demonstrating empathy and kindness toward other people"
      },
      {
        "line": 34,
        "token": "respectful",
        "context": "* Being respectful of differing opinions, viewpoints, and experiences"
      },
      {
        "line": 35,
        "token": "gracefully",
        "context": "* Giving and gracefully accepting constructive feedback"
      },
      {
        "line": 36,
        "token": "responsibility",
        "context": "* Accepting responsibility and apologizing to those affected by our mistakes,"
      },
      {
        "line": 37,
        "token": "learning",
        "context": "and learning from the experience"
      },
      {
        "line": 38,
        "token": "what",
        "context": "* Focusing on what is best not just for us as individuals, but for the overall"
      },
      {
        "line": 39,
        "token": "community",
        "context": "community"
      },
      {
        "line": 41,
        "token": "unacceptable",
        "context": "Examples of unacceptable behavior include:"
      },
      {
        "line": 43,
        "token": "use",
        "context": "* The use of sexualized language or imagery, and sexual attention or advances of"
      },
      {
        "line": 44,
        "token": "any",
        "context": "any kind"
      },
      {
        "line": 45,
        "token": "insulting",
        "context": "* Trolling, insulting or derogatory comments, and personal or political attacks"
      },
      {
        "line": 46,
        "token": "private",
        "context": "* Public or private harassment"
      },
      {
        "line": 47,
        "token": "others",
        "context": "* Publishing others' private information, such as a physical or email address,"
      },
      {
        "line": 48,
        "token": "without",
        "context": "without their explicit permission"
      },
      {
        "line": 49,
        "token": "conduct",
        "context": "* Other conduct which could reasonably be considered inappropriate in a"
      },
      {
        "line": 50,
        "token": "professional",
        "context": "professional setting"
      },
      {
        "line": 54,
        "token": "leaders",
        "context": "Community leaders are responsible for clarifying and enforcing our standards of"
      },
      {
        "line": 55,
        "token": "acceptable",
        "context": "acceptable behavior and will take appropriate and fair corrective action in"
      },
      {
        "line": 56,
        "token": "response",
        "context": "response to any behavior that they deem inappropriate, threatening, offensive,"
      },
      {
        "line": 59,
        "token": "leaders",
        "context": "Community leaders have the right and responsibility to remove, edit, or reject"
      },
      {
        "line": 60,
        "token": "comments",
        "context": "comments, commits, code, wiki edits, issues, and other contributions that are"
      },
      {
        "line": 61,
        "token": "not",
        "context": "not aligned to this Code of Conduct, and will communicate reasons for moderation"
      },
      {
        "line": 62,
        "token": "decisions",
        "context": "decisions when appropriate."
      },
      {
        "line": 66,
        "token": "applies",
        "context": "This Code of Conduct applies within all community spaces, and also applies when"
      },
      {
        "line": 67,
        "token": "individual",
        "context": "an individual is officially representing the community in public spaces."
      },
      {
        "line": 68,
        "token": "representing",
        "context": "Examples of representing our community include using an official e-mail address,"
      },
      {
        "line": 69,
        "token": "posting",
        "context": "posting via an official social media account, or acting as an appointed"
      },
      {
        "line": 70,
        "token": "representative",
        "context": "representative at an online or offline event."
      },
      {
        "line": 74,
        "token": "abusive",
        "context": "Instances of abusive, harassing, or otherwise unacceptable behavior may be"
      },
      {
        "line": 75,
        "token": "reported",
        "context": "reported to the community leaders responsible for enforcement via:"
      },
      {
        "line": 77,
        "token": "public",
        "context": "* **GitHub Issues**: For public concerns that warrant community discussion"
      },
      {
        "line": 78,
        "token": "questions",
        "context": "* **GitHub Discussions**: For questions about community standards"
      },
      {
        "line": 79,
        "token": "sensitive",
        "context": "* **Direct Contact**: For sensitive matters, contact the project maintainers directly"
      },
      {
        "line": 81,
        "token": "complaints",
        "context": "All complaints will be reviewed and investigated promptly and fairly."
      },
      {
        "line": 83,
        "token": "community",
        "context": "All community leaders are obligated to respect the privacy and security of the"
      },
      {
        "line": 84,
        "token": "reporter",
        "context": "reporter of any incident."
      },
      {
        "line": 88,
        "token": "leaders",
        "context": "Community leaders will follow these Community Impact Guidelines in determining"
      },
      {
        "line": 89,
        "token": "consequences",
        "context": "the consequences for any action they deem in violation of this Code of Conduct:"
      },
      {
        "line": 93,
        "token": "inappropriate",
        "context": "**Community Impact**: Use of inappropriate language or other behavior deemed"
      },
      {
        "line": 94,
        "token": "unprofessional",
        "context": "unprofessional or unwelcome in the community."
      },
      {
        "line": 96,
        "token": "private",
        "context": "**Consequence**: A private, written warning from community leaders, providing"
      },
      {
        "line": 97,
        "token": "clarity",
        "context": "clarity around the nature of the violation and an explanation of why the"
      },
      {
        "line": 98,
        "token": "behavior",
        "context": "behavior was inappropriate. A public apology may be requested."
      },
      {
        "line": 102,
        "token": "violation",
        "context": "**Community Impact**: A violation through a single incident or series of"
      },
      {
        "line": 105,
        "token": "warning",
        "context": "**Consequence**: A warning with consequences for continued behavior. No"
      },
      {
        "line": 106,
        "token": "interaction",
        "context": "interaction with the people involved, including unsolicited interaction with"
      },
      {
        "line": 107,
        "token": "enforcing",
        "context": "those enforcing the Code of Conduct, for a specified period of time. This"
      },
      {
        "line": 108,
        "token": "includes",
        "context": "includes avoiding interactions in community spaces as well as external channels"
      },
      {
        "line": 109,
        "token": "like",
        "context": "like social media. Violating these terms may lead to a temporary or permanent"
      },
      {
        "line": 114,
        "token": "serious",
        "context": "**Community Impact**: A serious violation of community standards, including"
      },
      {
        "line": 115,
        "token": "sustained",
        "context": "sustained inappropriate behavior."
      },
      {
        "line": 117,
        "token": "temporary",
        "context": "**Consequence**: A temporary ban from any sort of interaction or public"
      },
      {
        "line": 118,
        "token": "communication",
        "context": "communication with the community for a specified period of time. No public or"
      },
      {
        "line": 119,
        "token": "private",
        "context": "private interaction with the people involved, including unsolicited interaction"
      },
      {
        "line": 120,
        "token": "enforcing",
        "context": "with those enforcing the Code of Conduct, is allowed during this period."
      },
      {
        "line": 121,
        "token": "terms",
        "context": "Violating these terms may lead to a permanent ban."
      },
      {
        "line": 125,
        "token": "pattern",
        "context": "**Community Impact**: Demonstrating a pattern of violation of community"
      },
      {
        "line": 126,
        "token": "standards",
        "context": "standards, including sustained inappropriate behavior, harassment of an"
      },
      {
        "line": 127,
        "token": "individual",
        "context": "individual, or aggression toward or disparagement of classes of individuals."
      },
      {
        "line": 129,
        "token": "permanent",
        "context": "**Consequence**: A permanent ban from any sort of public interaction within the"
      },
      {
        "line": 134,
        "token": "adapted",
        "context": "This Code of Conduct is adapted from the [Contributor Covenant][homepage],"
      },
      {
        "line": 135,
        "token": "version",
        "context": "version 2.1, available at"
      },
      {
        "line": 136,
        "token": "https",
        "context": "[https://www.contributor-covenant.org/version/2/1/code_of_conduct.html][v2.1]."
      },
      {
        "line": 138,
        "token": "were",
        "context": "Community Impact Guidelines were inspired by"
      },
      {
        "line": 139,
        "token": "code",
        "context": "[Mozilla's code of conduct enforcement ladder][Mozilla CoC]."
      },
      {
        "line": 141,
        "token": "answers",
        "context": "For answers to common questions about this code of conduct, see the FAQ at"
      },
      {
        "line": 142,
        "token": "https",
        "context": "[https://www.contributor-covenant.org/faq][FAQ]. Translations are available at"
      },
      {
        "line": 143,
        "token": "https",
        "context": "[https://www.contributor-covenant.org/translations][translations]."
      },
      {
        "line": 145,
        "token": "homepage",
        "context": "[homepage]: https://www.contributor-covenant.org"
      },
      {
        "line": 146,
        "token": "https",
        "context": "[v2.1]: https://www.contributor-covenant.org/version/2/1/code_of_conduct.html"
      },
      {
        "line": 147,
        "token": "https",
        "context": "[Mozilla CoC]: https://github.com/mozilla/diversity"
      },
      {
        "line": 148,
        "token": "https",
        "context": "[FAQ]: https://www.contributor-covenant.org/faq"
      },
      {
        "line": 149,
        "token": "translations",
        "context": "[translations]: https://www.contributor-covenant.org/translations"
      }
    ],
    "structure_diff": {
      "heading": [
        12,
        13
      ]
    }
  },
  {
    "english": "CONTRIBUTING.md",
    "chinese": "CONTRIBUTING_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 147,
        "token": "type",
        "context": "æ ¼å¼ï¼š`<type>: <description>`ã€‚å¸¸è§ç±»å‹ï¼š"
      },
      {
        "line": 148,
        "token": "feat",
        "context": "- `feat`ï¼šæ–°åŠŸèƒ½"
      },
      {
        "line": 149,
        "token": "fix",
        "context": "- `fix`ï¼šç¼ºé™·ä¿®å¤"
      },
      {
        "line": 150,
        "token": "docs",
        "context": "- `docs`ï¼šæ–‡æ¡£æ›´æ–°"
      },
      {
        "line": 151,
        "token": "test",
        "context": "- `test`ï¼šæµ‹è¯•è°ƒæ•´"
      },
      {
        "line": 152,
        "token": "refactor",
        "context": "- `refactor`ï¼šä»£ç é‡æ„"
      },
      {
        "line": 153,
        "token": "perf",
        "context": "- `perf`ï¼šæ€§èƒ½æå‡"
      },
      {
        "line": 154,
        "token": "chore",
        "context": "- `chore`ï¼šæ—¥å¸¸ç»´æŠ¤"
      },
      {
        "line": 179,
        "token": "docstring",
        "context": "- å…¬å…±å‡½æ•°/ç±»éœ€ç¼–å†™ Google é£æ ¼ docstringã€‚"
      },
      {
        "line": 228,
        "token": "mock",
        "context": "- å¤–éƒ¨ä¾èµ–è¯·é€‚å½“ mockã€‚"
      },
      {
        "line": 254,
        "token": "docstring",
        "context": "- å…¬å…± API å¿…é¡»æœ‰ docstringï¼›"
      },
      {
        "line": 256,
        "token": "docstring",
        "context": "- åœ¨ docstring ä¸­æä¾›å¿…è¦ç¤ºä¾‹ï¼›"
      },
      {
        "line": 269,
        "token": "https",
        "context": "- å‚è€ƒ [Context Provider Workflow Automation](https://github.com/doobidoo/mcp-memory-service/wiki/Context-Provider-Workflow-Automation)ï¼Œåˆ©ç”¨æ™ºèƒ½æ¨¡å¼è‡ªåŠ¨åŒ–å¼€å‘æµç¨‹ã€‚"
      },
      {
        "line": 273,
        "token": "docs/api/tools.md",
        "context": "- åœ¨ `docs/api/tools.md` è®°å½•æ–°å¢ MCP å·¥å…·ï¼›"
      },
      {
        "line": 281,
        "token": "feat",
        "context": "1. **æ ‡é¢˜æ ¼å¼**ï¼šä½¿ç”¨è¯­ä¹‰åŒ–æè¿°ï¼Œä¾‹å¦‚ `feat: add batch memory operations`ã€‚"
      },
      {
        "line": 327,
        "token": "pip",
        "context": "- å®‰è£…æ–¹å¼ï¼ˆpipã€Dockerã€æºç ç­‰ï¼‰ã€‚"
      },
      {
        "line": 354,
        "token": "https",
        "context": "- **æ–‡æ¡£**ï¼šä¼˜å…ˆæŸ¥é˜… [Wiki](https://github.com/doobidoo/mcp-memory-service/wiki)ã€‚"
      },
      {
        "line": 355,
        "token": "issues",
        "context": "- **é—®é¢˜**ï¼šæ–°å»º Issue å‰å…ˆæœç´¢ç°æœ‰ [issues](https://github.com/doobidoo/mcp-memory-service/issues)ã€‚"
      },
      {
        "line": 356,
        "token": "https",
        "context": "- **è®¨è®º**ï¼šä½¿ç”¨ [GitHub Discussions](https://github.com/doobidoo/mcp-memory-service/discussions) æé—®ã€‚"
      },
      {
        "line": 369,
        "token": "https",
        "context": "- å‚è€ƒ [Context Provider Workflow Automation](https://github.com/doobidoo/mcp-memory-service/wiki/Context-Provider-Workflow-Automation) è‡ªåŠ¨åŒ–å¼€å‘æµç¨‹ã€‚"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "Development-Sprint-November-2025.md",
    "chinese": "Development-Sprint-November-2025_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 14,
        "token": "project",
        "context": "Between November 12-26, 2025, the MCP Memory Service project achieved a remarkable development sprint combining performance breakthroughs, code quality mileston"
      },
      {
        "line": 22,
        "token": "versions",
        "context": "| **Releases Shipped** | 7 major/minor versions |"
      },
      {
        "line": 23,
        "token": "improvements",
        "context": "| **Performance Gains** | 10x to 534,628x improvements |"
      },
      {
        "line": 25,
        "token": "minutes",
        "context": "| **Fastest Release Cycle** | 35 minutes (issue â†’ production) |"
      },
      {
        "line": 26,
        "token": "lines",
        "context": "| **Lines of Duplicate Code Eliminated** | 176-186 lines |"
      },
      {
        "line": 27,
        "token": "caught",
        "context": "| **Critical Bugs Prevented** | 2 (caught by AI review) |"
      },
      {
        "line": 34,
        "token": "performance",
        "context": "**10x performance improvement** by moving analytics queries from application layer to database layer."
      },
      {
        "line": 37,
        "token": "endpoints",
        "context": "Analytics endpoints were fetching ALL memories (10,000+) into Python, then filtering by date range in application code:"
      },
      {
        "line": 47,
        "token": "filtering",
        "context": "Push filtering to SQL database layer with indexed WHERE clauses:"
      },
      {
        "line": 63,
        "token": "faster",
        "context": "| **SQLite-vec** | ~500ms | ~50ms | **10x faster** |"
      },
      {
        "line": 64,
        "token": "faster",
        "context": "| **Cloudflare D1** | ~2-3s | ~200ms | **10-15x faster** |"
      },
      {
        "line": 65,
        "token": "reduction",
        "context": "| **Data Transfer** | 50MB | 1.5MB | **97% reduction** |"
      },
      {
        "line": 67,
        "token": "handles",
        "context": "**Scalability**: Now handles databases with unlimited memories efficiently (previously hard-limited to 10,000)."
      },
      {
        "line": 69,
        "token": "release",
        "context": "**Development Speed**: Issue #238 â†’ Production release in **35 minutes** using automated workflows."
      },
      {
        "line": 74,
        "token": "tools",
        "context": "**MCP tools transformed from slowest to FASTEST** method for memory operations."
      },
      {
        "line": 77,
        "token": "speedup",
        "context": "**534,628x speedup** on cache hits - the most dramatic performance improvement in project history."
      },
      {
        "line": 80,
        "token": "slowest",
        "context": "- MCP Tools: ~1,810ms (slowest method)"
      },
      {
        "line": 81,
        "token": "HTTP",
        "context": "- HTTP API: ~479ms (fastest method)"
      },
      {
        "line": 84,
        "token": "cached",
        "context": "- **MCP Tools (cached)**: ~0.01ms â† **NEW FASTEST**"
      },
      {
        "line": 85,
        "token": "first",
        "context": "- MCP Tools (first call): ~2,485ms (one-time cost)"
      },
      {
        "line": 86,
        "token": "HTTP",
        "context": "- HTTP API: ~479ms"
      },
      {
        "line": 89,
        "token": "class",
        "context": "Created `CacheManager` class with global storage/service caching:"
      },
      {
        "line": 104,
        "token": "cache",
        "context": "- **90%+ cache hit rate** in production"
      },
      {
        "line": 105,
        "token": "faster",
        "context": "- **41x faster than HTTP API** after warm-up"
      },
      {
        "line": 106,
        "token": "latency",
        "context": "- **99.9996% latency reduction** on cached operations"
      },
      {
        "line": 108,
        "token": "response",
        "context": "**Impact**: Sub-millisecond response times transform the user experience for Claude Desktop and Claude Code users."
      },
      {
        "line": 115,
        "token": "complexity",
        "context": "Achieved **100% of Phase 2 complexity reduction targets** across three coordinated releases."
      },
      {
        "line": 118,
        "token": "minutes",
        "context": "**40 minutes**: Analysis â†’ PR â†’ Review â†’ Merge â†’ Release"
      },
      {
        "line": 120,
        "token": "complexity",
        "context": "- `analytics.py::get_memory_growth()` complexity: 11 â†’ 6-7 (-4 to -5 points)"
      },
      {
        "line": 121,
        "token": "approach",
        "context": "- Pattern: PeriodType Enum + data-driven approach"
      },
      {
        "line": 122,
        "token": "review",
        "context": "- gemini-pr-automator: 3 review iterations, exceeded target"
      },
      {
        "line": 125,
        "token": "minutes",
        "context": "**45 minutes**: 2 high-priority functions"
      },
      {
        "line": 127,
        "token": "points",
        "context": "- `install.py::configure_paths()` 15 â†’ 5 (**-10 points**)"
      },
      {
        "line": 128,
        "token": "helpers",
        "context": "- Extracted 4 helpers: `get_platform_base_dir()`, `setup_storage_directories()`, `build_mcp_env_config()`, `update_claude_config_file()`"
      },
      {
        "line": 129,
        "token": "points",
        "context": "- `cloudflare.py::_search_by_tags_internal()` 13 â†’ 8 (-5 points)"
      },
      {
        "line": 130,
        "token": "helpers",
        "context": "- Extracted 3 helpers for tag normalization and query building"
      },
      {
        "line": 133,
        "token": "minutes",
        "context": "**60 minutes**: Remaining 7 functions (100% complete!)"
      },
      {
        "line": 135,
        "token": "consolidation",
        "context": "- **2 consolidation functions** (-8 points): Context managers + config-driven patterns"
      },
      {
        "line": 136,
        "token": "analytics",
        "context": "- **3 analytics functions** (-8 points): 70+ lines extracted"
      },
      {
        "line": 137,
        "token": "detection",
        "context": "- **1 GPU detection** (-2 points): Platform-specific checks unified"
      },
      {
        "line": 138,
        "token": "helper",
        "context": "- **1 Cloudflare helper** (-1 point): Timestamp fetching"
      },
      {
        "line": 140,
        "token": "caught",
        "context": "**CRITICAL**: Gemini Code Assist caught 2 bugs before release:"
      },
      {
        "line": 141,
        "token": "bug",
        "context": "1. âŒâ†’âœ… Timezone bug: `datetime.now()` â†’ `datetime.now(timezone.utc)` (would have caused incorrect consolidation timestamps)"
      },
      {
        "line": 142,
        "token": "calculation",
        "context": "2. âŒâ†’âœ… Analytics double-counting: Fixed total_memories calculation (would have shown incorrect percentages)"
      },
      {
        "line": 154,
        "token": "grade",
        "context": "**After Phase 2**: Health 68-72/100 (Grade B) â† **Full grade improvement**"
      },
      {
        "line": 159,
        "token": "lines",
        "context": "**176-186 lines of duplicate code eliminated** across 10 consolidation commits."
      },
      {
        "line": 162,
        "token": "applied",
        "context": "Consistently applied methodology across all consolidations:"
      },
      {
        "line": 182,
        "token": "protocol",
        "context": "1. **`parse_mcp_response()`** - MCP protocol error handling (3 blocks, 47 lines)"
      },
      {
        "line": 183,
        "token": "cache",
        "context": "2. **`_get_or_create_memory_service()`** - Two-tier cache management (3 blocks, 65 lines)"
      },
      {
        "line": 184,
        "token": "boundary",
        "context": "3. **`_calculate_season_date_range()`** - Winter boundary logic (2 blocks, 24 lines)"
      },
      {
        "line": 185,
        "token": "processing",
        "context": "4. **`_process_and_store_chunk()`** - Document processing (3 blocks, ~40-50 lines)"
      },
      {
        "line": 188,
        "token": "groups",
        "context": "**4 groups intentionally deferred** with documented rationale:"
      },
      {
        "line": 189,
        "token": "backend",
        "context": "- High-risk backend logic (60 lines, critical startup code)"
      },
      {
        "line": 190,
        "token": "semantic",
        "context": "- Different semantic contexts (error handling patterns)"
      },
      {
        "line": 191,
        "token": "duplication",
        "context": "- Low-priority test/script duplication"
      },
      {
        "line": 193,
        "token": "over",
        "context": "**Key Insight**: Quality over arbitrary metrics - pursuing <3% duplication target would require high-risk, low-benefit consolidations."
      },
      {
        "line": 196,
        "token": "approaching",
        "context": "- **Duplication**: 5.5% â†’ 4.5-4.7% (approaching <3% target)"
      },
      {
        "line": 197,
        "token": "maintained",
        "context": "- **Test Coverage**: 100% maintained throughout"
      },
      {
        "line": 198,
        "token": "complete",
        "context": "- **Breaking Changes**: Zero - complete backward compatibility"
      },
      {
        "line": 205,
        "token": "specialized",
        "context": "Three specialized agents orchestrated the development workflow:"
      },
      {
        "line": 208,
        "token": "release",
        "context": "**Complete release automation** - Zero manual steps"
      },
      {
        "line": 211,
        "token": "version",
        "context": "1. Four-file version bump (\\_\\_init\\_\\_.py, pyproject.toml, README.md, uv.lock)"
      },
      {
        "line": 212,
        "token": "updates",
        "context": "2. CHANGELOG.md updates with detailed metrics"
      },
      {
        "line": 213,
        "token": "operations",
        "context": "3. Git operations (commit, tag, push)"
      },
      {
        "line": 214,
        "token": "creation",
        "context": "4. GitHub Release creation with release notes"
      },
      {
        "line": 215,
        "token": "verification",
        "context": "5. CI/CD verification (Docker Publish, PyPI Publish, HTTP-MCP Bridge)"
      },
      {
        "line": 217,
        "token": "complete",
        "context": "**Impact**: 3 complete releases in Phase 2 sprint with consistent documentation quality."
      },
      {
        "line": 220,
        "token": "review",
        "context": "**Automated PR review cycles** - Eliminates \"Wait 1min â†’ /gemini review\" loops"
      },
      {
        "line": 223,
        "token": "review",
        "context": "- Automated Gemini Code Assist review iteration"
      },
      {
        "line": 224,
        "token": "change",
        "context": "- Breaking change detection"
      },
      {
        "line": 225,
        "token": "generation",
        "context": "- Test generation for new code"
      },
      {
        "line": 226,
        "token": "gate",
        "context": "- Quality gate checks"
      },
      {
        "line": 229,
        "token": "review",
        "context": "- 5 review iterations"
      },
      {
        "line": 230,
        "token": "bugs",
        "context": "- Caught 2 CRITICAL bugs before release"
      },
      {
        "line": 231,
        "token": "hours",
        "context": "- Saved 2-3 hours of manual review"
      },
      {
        "line": 233,
        "token": "minutes",
        "context": "**Time Savings**: 10-30 minutes per PR across 9 total review iterations in Phase 2."
      },
      {
        "line": 236,
        "token": "code",
        "context": "**Complete code generation** - Not just analysis"
      },
      {
        "line": 239,
        "token": "full",
        "context": "- Provided full implementations (not just suggestions)"
      },
      {
        "line": 240,
        "token": "syntax",
        "context": "- Zero syntax errors in generated code"
      },
      {
        "line": 241,
        "token": "token",
        "context": "- Strategic token conservation (~50-60K tokens saved)"
      },
      {
        "line": 243,
        "token": "way",
        "context": "**User Feedback**: \"way faster than claude code\""
      },
      {
        "line": 253,
        "token": "minutes",
        "context": "| **v8.39.0** | Nov 26 | **35 minutes** | Issue â†’ Production (fastest ever) |"
      },
      {
        "line": 254,
        "token": "minutes",
        "context": "| v8.38.0 | Nov 25 | ~90 minutes | 10 consolidation commits |"
      },
      {
        "line": 255,
        "token": "minutes",
        "context": "| v8.36.0 | Nov 24 | 60 minutes | 7 functions, 2 critical bugs caught |"
      },
      {
        "line": 256,
        "token": "minutes",
        "context": "| v8.35.0 | Nov 24 | 45 minutes | 2 high-priority functions |"
      },
      {
        "line": 257,
        "token": "minutes",
        "context": "| v8.34.0 | Nov 22 | 40 minutes | First Phase 2 function |"
      },
      {
        "line": 260,
        "token": "hours",
        "context": "**Total Time**: ~4 hours across 3 days for 10-function refactoring"
      },
      {
        "line": 261,
        "token": "hours",
        "context": "**vs Manual Estimate**: 8-12 hours"
      },
      {
        "line": 262,
        "token": "agents",
        "context": "**Time Savings**: 50-67% with AI agents"
      },
      {
        "line": 265,
        "token": "bugs",
        "context": "**2 bugs caught by Gemini Code Assist before release**:"
      },
      {
        "line": 266,
        "token": "handling",
        "context": "- Timezone handling in consolidation scheduler"
      },
      {
        "line": 267,
        "token": "calculation",
        "context": "- Analytics calculation errors"
      },
      {
        "line": 269,
        "token": "have",
        "context": "**Impact**: Would have required emergency hotfixes if shipped to production."
      },
      {
        "line": 276,
        "token": "filtering",
        "context": "**Pattern**: Push filtering to SQL WHERE clauses instead of application code"
      },
      {
        "line": 285,
        "token": "performance",
        "context": "**Benefit**: 10x performance, leverages indexes, scales to unlimited data"
      },
      {
        "line": 288,
        "token": "cache",
        "context": "**Pattern**: Module-level cache dictionaries for stateless HTTP environments"
      },
      {
        "line": 297,
        "token": "speedup",
        "context": "**Benefit**: 534,628x speedup, 90%+ hit rate, sub-millisecond response"
      },
      {
        "line": 300,
        "token": "differences",
        "context": "**Pattern**: Parameterize differences, extract to helper function"
      },
      {
        "line": 308,
        "token": "lines",
        "context": "**Benefit**: 176-186 lines eliminated, improved maintainability"
      },
      {
        "line": 311,
        "token": "chains",
        "context": "**Pattern**: Replace if/elif chains with dictionary lookups"
      },
      {
        "line": 327,
        "token": "complexity",
        "context": "**Benefit**: Reduced complexity, easier to extend, config-as-data"
      },
      {
        "line": 336,
        "token": "specialized",
        "context": "- Using specialized agents (amp-bridge, github-release-manager, gemini-pr-automator) dramatically improved efficiency"
      },
      {
        "line": 337,
        "token": "time",
        "context": "- 50-67% time savings vs manual workflows"
      },
      {
        "line": 340,
        "token": "function",
        "context": "- v8.34.0 (1 function) had deepest review quality"
      },
      {
        "line": 341,
        "token": "reason",
        "context": "- Easier to reason about changes, faster iteration"
      },
      {
        "line": 344,
        "token": "critical",
        "context": "- Caught 2 critical bugs before release"
      },
      {
        "line": 345,
        "token": "portability",
        "context": "- Provided portability fixes and API modernization suggestions"
      },
      {
        "line": 346,
        "token": "review",
        "context": "- Iterative review cycles improved code quality"
      },
      {
        "line": 349,
        "token": "helper",
        "context": "- Establishing helper extraction pattern early made subsequent work systematic"
      },
      {
        "line": 350,
        "token": "consolidation",
        "context": "- 10 consolidation commits followed same methodology"
      },
      {
        "line": 355,
        "token": "use",
        "context": "- Strategic use of amp-bridge for heavy work saved ~50-60K tokens"
      },
      {
        "line": 356,
        "token": "more",
        "context": "- Allowed more complex work within context limits"
      },
      {
        "line": 359,
        "token": "groups",
        "context": "- Deferring high-risk groups showed mature engineering judgment"
      },
      {
        "line": 360,
        "token": "achieved",
        "context": "- Grade B achieved without compromising stability"
      },
      {
        "line": 363,
        "token": "ensured",
        "context": "- github-release-manager ensured no documentation steps missed"
      },
      {
        "line": 364,
        "token": "release",
        "context": "- Consistent release quality across 7 versions"
      },
      {
        "line": 367,
        "token": "coverage",
        "context": "- 100% coverage throughout maintained confidence in changes"
      },
      {
        "line": 368,
        "token": "changes",
        "context": "- All changes backward compatible (zero breaking changes)"
      },
      {
        "line": 375,
        "token": "releases",
        "context": "- **7 releases** in 14 days"
      },
      {
        "line": 376,
        "token": "performance",
        "context": "- **10x to 534,628x** performance improvements"
      },
      {
        "line": 377,
        "token": "minute",
        "context": "- **35-minute** fastest release cycle"
      },
      {
        "line": 378,
        "token": "lines",
        "context": "- **176-186 lines** of duplicate code eliminated"
      },
      {
        "line": 379,
        "token": "health",
        "context": "- **Grade D â†’ Grade B** health score improvement"
      },
      {
        "line": 380,
        "token": "critical",
        "context": "- **2 critical bugs** prevented before release"
      },
      {
        "line": 381,
        "token": "time",
        "context": "- **50-67% time savings** with AI agents"
      },
      {
        "line": 382,
        "token": "test",
        "context": "- **100% test coverage** maintained"
      },
      {
        "line": 383,
        "token": "breaking",
        "context": "- **0 breaking changes** across all releases"
      },
      {
        "line": 386,
        "token": "minutes",
        "context": "**v8.39.0 in 35 minutes**: From issue analysis (#238) to production release with 10x performance improvement, comprehensive tests, and full documentation - all "
      },
      {
        "line": 389,
        "token": "tools",
        "context": "**MCP Global Caching (v8.26.0)**: Transformed MCP tools from slowest (1,810ms) to fastest (0.01ms) method - a 534,628x improvement that sets new standards for M"
      },
      {
        "line": 392,
        "token": "complexity",
        "context": "**Phase 2 Complete (v8.34-36)**: Achieved 100% of complexity reduction targets across three coordinated releases in 4 hours, with AI code review catching critic"
      },
      {
        "line": 399,
        "token": "filtering",
        "context": "- Database-layer filtering now standard for all analytics endpoints"
      },
      {
        "line": 400,
        "token": "caching",
        "context": "- Global caching pattern applicable to all stateless HTTP environments"
      },
      {
        "line": 401,
        "token": "response",
        "context": "- Sub-millisecond response times set user experience baseline"
      },
      {
        "line": 404,
        "token": "extraction",
        "context": "- Helper extraction pattern established for future consolidations"
      },
      {
        "line": 405,
        "token": "logic",
        "context": "- Configuration-driven logic reduces complexity systematically"
      },
      {
        "line": 406,
        "token": "test",
        "context": "- 100% test coverage requirement proven sustainable"
      },
      {
        "line": 409,
        "token": "minute",
        "context": "- 35-minute release cycles achievable with agent automation"
      },
      {
        "line": 410,
        "token": "code",
        "context": "- AI code review preventing bugs before production"
      },
      {
        "line": 411,
        "token": "workflows",
        "context": "- Agent-first workflows becoming default approach"
      },
      {
        "line": 418,
        "token": "https",
        "context": "- [v8.39.0 - Storage-Layer Date-Range Filtering](https://github.com/doobidoo/mcp-memory-service/releases/tag/v8.39.0)"
      },
      {
        "line": 419,
        "token": "https",
        "context": "- [v8.38.0 - Phase 2b Duplication Reduction](https://github.com/doobidoo/mcp-memory-service/releases/tag/v8.38.0)"
      },
      {
        "line": 420,
        "token": "https",
        "context": "- [v8.36.0 - Phase 2 Complete](https://github.com/doobidoo/mcp-memory-service/releases/tag/v8.36.0)"
      },
      {
        "line": 421,
        "token": "https",
        "context": "- [v8.26.0 - MCP Global Caching](https://github.com/doobidoo/mcp-memory-service/releases/tag/v8.26.0)"
      },
      {
        "line": 423,
        "token": "https",
        "context": "**Project Repository**: https://github.com/doobidoo/mcp-memory-service"
      },
      {
        "line": 426,
        "token": "https",
        "context": "- [#238 - Analytics Performance Optimization](https://github.com/doobidoo/mcp-memory-service/issues/238)"
      },
      {
        "line": 427,
        "token": "https",
        "context": "- [#240 - Phase 2 Code Quality](https://github.com/doobidoo/mcp-memory-service/issues/240)"
      },
      {
        "line": 428,
        "token": "https",
        "context": "- [#246 - Phase 2b Duplication Reduction](https://github.com/doobidoo/mcp-memory-service/issues/246)"
      },
      {
        "line": 433,
        "token": "days",
        "context": "**Sprint Duration**: November 12-26, 2025 (14 days)"
      },
      {
        "line": 434,
        "token": "versions",
        "context": "**Total Releases**: 7 major/minor versions"
      }
    ],
    "structure_diff": {
      "heading": [
        65,
        66
      ]
    }
  },
  {
    "english": "IMPLEMENTATION_SUMMARY.md",
    "chinese": "IMPLEMENTATION_SUMMARY_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 16,
        "token": "implemented",
        "context": "Successfully implemented Phase 1 (Foundation Layer) of the Memento-Inspired Quality System for Issue #260. This is a **local-first** quality scoring system with"
      },
      {
        "line": 22,
        "token": "model",
        "context": "1. **Tier 1 (Primary)**: Local ONNX cross-encoder model (ms-marco-MiniLM-L-6-v2, 23MB)"
      },
      {
        "line": 23,
        "token": "external",
        "context": "- Zero external dependencies"
      },
      {
        "line": 24,
        "token": "latency",
        "context": "- 50-100ms latency on CPU, 10-20ms on GPU"
      },
      {
        "line": 25,
        "token": "detection",
        "context": "- Automatic GPU detection (CUDA > CoreML > DirectML > CPU)"
      },
      {
        "line": 28,
        "token": "only",
        "context": "- User opt-in only via environment variables"
      },
      {
        "line": 29,
        "token": "integration",
        "context": "- Groq integration ready, Gemini placeholder"
      },
      {
        "line": 31,
        "token": "signals",
        "context": "3. **Tier 4 (Fallback)**: Implicit signals"
      },
      {
        "line": 32,
        "token": "available",
        "context": "- Always available, no dependencies"
      },
      {
        "line": 33,
        "token": "access",
        "context": "- Uses access patterns: frequency, recency, ranking"
      },
      {
        "line": 52,
        "token": "default",
        "context": "- `MCP_QUALITY_SYSTEM_ENABLED` (default: true)"
      },
      {
        "line": 53,
        "token": "default",
        "context": "- `MCP_QUALITY_AI_PROVIDER` (default: local, options: local|groq|gemini|auto|none)"
      },
      {
        "line": 54,
        "token": "default",
        "context": "- `MCP_QUALITY_LOCAL_MODEL` (default: ms-marco-MiniLM-L-6-v2)"
      },
      {
        "line": 55,
        "token": "default",
        "context": "- `MCP_QUALITY_LOCAL_DEVICE` (default: auto, options: auto|cpu|cuda|mps|directml)"
      },
      {
        "line": 56,
        "token": "default",
        "context": "- `MCP_QUALITY_BOOST_ENABLED` (default: false)"
      },
      {
        "line": 57,
        "token": "default",
        "context": "- `MCP_QUALITY_BOOST_WEIGHT` (default: 0.3)"
      },
      {
        "line": 68,
        "token": "model",
        "context": "- Downloads ms-marco-MiniLM-L-6-v2 model from HuggingFace (23MB)"
      },
      {
        "line": 69,
        "token": "verification",
        "context": "- SHA256 verification for integrity"
      },
      {
        "line": 70,
        "token": "provider",
        "context": "- Automatic GPU provider detection"
      },
      {
        "line": 71,
        "token": "architecture",
        "context": "- Cross-encoder architecture: processes (query, memory) pairs together"
      },
      {
        "line": 72,
        "token": "scores",
        "context": "- Returns scores 0.0-1.0 via sigmoid transformation"
      },
      {
        "line": 87,
        "token": "frequency",
        "context": "- **Access frequency**: Logarithmic scaling (0-1)"
      },
      {
        "line": 88,
        "token": "decay",
        "context": "- **Recency**: Exponential decay (30 days â†’ 0.1, 1 day â†’ 0.8)"
      },
      {
        "line": 89,
        "token": "position",
        "context": "- **Ranking**: Average position in search results (inverted, so higher rank = higher score)"
      },
      {
        "line": 91,
        "token": "recency",
        "context": "**Formula:** `0.4 * access_frequency + 0.3 * recency + 0.3 * ranking`"
      },
      {
        "line": 105,
        "token": "local",
        "context": "1. Try Local ONNX (if ai_provider='local' or 'auto')"
      },
      {
        "line": 106,
        "token": "available",
        "context": "2. Try Groq API (if available and configured)"
      },
      {
        "line": 107,
        "token": "available",
        "context": "3. Try Gemini API (if available and configured)"
      },
      {
        "line": 108,
        "token": "back",
        "context": "4. Fall back to Implicit Signals (always works)"
      },
      {
        "line": 111,
        "token": "tier",
        "context": "- `quality_provider`: Which tier scored the memory (e.g., 'onnx_local', 'groq', 'implicit_signals')"
      },
      {
        "line": 124,
        "token": "disabled",
        "context": "- **Boost disabled**: Use AI score only"
      },
      {
        "line": 125,
        "token": "enabled",
        "context": "- **Boost enabled**: `(1 - boost_weight) * ai_score + boost_weight * implicit_score`"
      },
      {
        "line": 128,
        "token": "composite",
        "context": "- `quality_score`: Final composite score"
      },
      {
        "line": 129,
        "token": "scores",
        "context": "- `ai_scores`: Historical AI scores (last 10)"
      },
      {
        "line": 130,
        "token": "tier",
        "context": "- `quality_provider`: Which tier was used"
      },
      {
        "line": 131,
        "token": "debugging",
        "context": "- `quality_components`: Breakdown for debugging"
      },
      {
        "line": 157,
        "token": "existing",
        "context": "**Backward Compatible:** Uses existing `metadata` dict, no schema changes required."
      },
      {
        "line": 162,
        "token": "helper",
        "context": "- `sqlite_vec.py`: Added `_persist_access_metadata()` helper"
      },
      {
        "line": 163,
        "token": "helper",
        "context": "- `cloudflare.py`: Added `_persist_access_metadata()` helper"
      },
      {
        "line": 164,
        "token": "works",
        "context": "- `hybrid.py`: Inherits from SQLite, works automatically"
      },
      {
        "line": 167,
        "token": "queries",
        "context": "1. User queries memories via `retrieve(query, n_results)`"
      },
      {
        "line": 168,
        "token": "retrieved",
        "context": "2. Each retrieved memory calls `memory.record_access(query)`"
      },
      {
        "line": 169,
        "token": "calls",
        "context": "3. Backend calls `_persist_access_metadata(memory)` to update storage"
      },
      {
        "line": 170,
        "token": "includes",
        "context": "4. Metadata includes: access_count, last_accessed_at, access_queries (last 10)"
      },
      {
        "line": 177,
        "token": "validation",
        "context": "- âœ… Configuration validation (defaults, env vars, validation)"
      },
      {
        "line": 178,
        "token": "signals",
        "context": "- âœ… Implicit signals evaluation (new, popular, old memories)"
      },
      {
        "line": 179,
        "token": "ranker",
        "context": "- âœ… ONNX ranker initialization and scoring"
      },
      {
        "line": 180,
        "token": "evaluator",
        "context": "- âœ… Multi-tier AI evaluator fallback chain"
      },
      {
        "line": 181,
        "token": "quality",
        "context": "- âœ… Composite quality scorer (with/without boost)"
      },
      {
        "line": 182,
        "token": "access",
        "context": "- âœ… Memory access tracking integration"
      },
      {
        "line": 183,
        "token": "benchmarks",
        "context": "- âœ… Performance benchmarks (implicit <10ms, ONNX <100ms CPU)"
      },
      {
        "line": 196,
        "token": "inference",
        "context": "| **ONNX Ranker** | 50-100ms | 10-20ms | Cross-encoder inference |"
      },
      {
        "line": 197,
        "token": "combination",
        "context": "| **Composite Scorer** | <10ms | N/A | Score combination overhead |"
      },
      {
        "line": 199,
        "token": "per",
        "context": "**Total Overhead:** <110ms per retrieval on CPU (with ONNX), <20ms on GPU"
      },
      {
        "line": 204,
        "token": "local",
        "context": "- Default `ai_provider='local'` uses only ONNX"
      },
      {
        "line": 205,
        "token": "require",
        "context": "- Cloud APIs (Groq, Gemini) require explicit opt-in via environment variables"
      },
      {
        "line": 206,
        "token": "works",
        "context": "- System works fully offline with local ONNX model + implicit signals"
      },
      {
        "line": 209,
        "token": "unavailable",
        "context": "- ONNX unavailable â†’ Fall back to implicit signals"
      },
      {
        "line": 210,
        "token": "fails",
        "context": "- Cloud API fails â†’ Fall back to ONNX or implicit signals"
      },
      {
        "line": 211,
        "token": "fallback",
        "context": "- Ultimate fallback: implicit signals (always works)"
      },
      {
        "line": 216,
        "token": "tool",
        "context": "- MCP tool: `/memory-quality-score <query> <content_hash>`"
      },
      {
        "line": 217,
        "token": "HTTP",
        "context": "- HTTP endpoint: `POST /api/quality/score`"
      },
      {
        "line": 218,
        "token": "scoring",
        "context": "- Batch scoring for search results"
      },
      {
        "line": 221,
        "token": "search",
        "context": "- Re-rank search results by quality score"
      },
      {
        "line": 222,
        "token": "combination",
        "context": "- Weighted combination: `0.7 * semantic_similarity + 0.3 * quality_score`"
      },
      {
        "line": 223,
        "token": "weights",
        "context": "- User-configurable weights"
      },
      {
        "line": 226,
        "token": "system",
        "context": "- Consolidation system integration"
      },
      {
        "line": 227,
        "token": "memories",
        "context": "- Archive low-quality memories (<0.3 score, 90+ days inactive)"
      },
      {
        "line": 228,
        "token": "memories",
        "context": "- Promote high-quality memories in search"
      },
      {
        "line": 233,
        "token": "schema",
        "context": "- âœ… No schema changes required"
      },
      {
        "line": 234,
        "token": "existing",
        "context": "- âœ… Uses existing `metadata` field"
      },
      {
        "line": 235,
        "token": "memories",
        "context": "- âœ… Existing memories get quality scores on first retrieval"
      },
      {
        "line": 236,
        "token": "works",
        "context": "- âœ… System works with or without ONNX Runtime installed"
      },
      {
        "line": 239,
        "token": "scoring",
        "context": "- Quality scoring is purely additive"
      },
      {
        "line": 240,
        "token": "backends",
        "context": "- Storage backends remain compatible"
      },
      {
        "line": 241,
        "token": "protocol",
        "context": "- MCP protocol unchanged (Phase 1)"
      },
      {
        "line": 298,
        "token": "module",
        "context": "- âœ… Quality module created with 5 files"
      },
      {
        "line": 299,
        "token": "ranker",
        "context": "- âœ… ONNX ranker downloads and scores correctly (<100ms CPU)"
      },
      {
        "line": 300,
        "token": "fallback",
        "context": "- âœ… Multi-tier fallback chain works (Local â†’ Cloud â†’ Implicit)"
      },
      {
        "line": 301,
        "token": "model",
        "context": "- âœ… Memory model extended with quality properties"
      },
      {
        "line": 302,
        "token": "backends",
        "context": "- âœ… Storage backends track access patterns"
      },
      {
        "line": 303,
        "token": "unit",
        "context": "- âœ… All unit tests passing (12/12)"
      },
      {
        "line": 304,
        "token": "external",
        "context": "- âœ… Zero external API calls by default (local-first)"
      },
      {
        "line": 318,
        "token": "added",
        "context": "- `/src/mcp_memory_service/models/memory.py` (added quality properties + `record_access()`)"
      },
      {
        "line": 319,
        "token": "added",
        "context": "- `/src/mcp_memory_service/storage/sqlite_vec.py` (added access tracking + `_persist_access_metadata()`)"
      },
      {
        "line": 320,
        "token": "added",
        "context": "- `/src/mcp_memory_service/storage/cloudflare.py` (added access tracking + `_persist_access_metadata()`)"
      },
      {
        "line": 322,
        "token": "new",
        "context": "**Total:** 7 new files, 3 modified files"
      }
    ],
    "structure_diff": {
      "heading": [
        31,
        32
      ]
    }
  },
  {
    "english": "README.md",
    "chinese": "README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 22,
        "token": "memory",
        "context": "**Production-ready MCP memory service** with **zero database locks**, **hybrid backend** (fast local + cloud sync), and **intelligent memory search** for **AI a"
      },
      {
        "line": 24,
        "token": "img",
        "context": "<img width=\"240\" alt=\"MCP Memory Service\" src=\"https://github.com/user-attachments/assets/eab1f341-ca54-445c-905e-273cd9e89555\" />"
      },
      {
        "line": 26,
        "token": "minutes",
        "context": "## ğŸš€ Quick Start (2 minutes)"
      },
      {
        "line": 32,
        "token": "slow",
        "context": "- ğŸš€ **10-100x Faster Queries** - Fixed slow ISO string comparison in `get_memories_updated_since()` (issue #264)"
      },
      {
        "line": 33,
        "token": "numeric",
        "context": "- ğŸ”§ **Indexed Column Usage** - Changed to numeric `updated_at` comparison from slow `updated_at_iso` string comparison"
      },
      {
        "line": 34,
        "token": "errors",
        "context": "- ğŸ¯ **Eliminates D1 Errors** - Fixes timeout/400 Bad Request errors on large datasets in hybrid backend"
      },
      {
        "line": 35,
        "token": "detection",
        "context": "- ğŸ“Š **Performance Impact** - Drift detection queries now use indexed column for optimal Cloudflare D1 performance"
      },
      {
        "line": 36,
        "token": "cause",
        "context": "- ğŸ™ **Credit** - Root cause analysis by Claude Code workflow (GitHub Actions)"
      },
      {
        "line": 39,
        "token": "token",
        "context": "- **v8.48.3** - Code Execution Hook Fix - 75% token reduction now working (fixed time_filter parameter, Python warnings, venv detection)"
      },
      {
        "line": 40,
        "token": "HTTP",
        "context": "- **v8.48.2** - HTTP Server Auto-Start & Time Parser Improvements (smart service management, \"last N periods\" support)"
      },
      {
        "line": 41,
        "token": "redundant",
        "context": "- **v8.48.1** - Critical Hotfix - Startup Failure Fix (redundant calendar import removed, immediate upgrade required)"
      },
      {
        "line": 42,
        "token": "size",
        "context": "- **v8.48.0** - CSV-Based Metadata Compression (78% size reduction, 100% sync success, metadata validation)"
      },
      {
        "line": 43,
        "token": "fix",
        "context": "- **v8.47.1** - ONNX Quality Evaluation Bug Fixes (self-match fix, association pollution, sync queue overflow, realistic distribution)"
      },
      {
        "line": 44,
        "token": "enhancement",
        "context": "- **v8.47.0** - Association-Based Quality Boost (connection-based enhancement, network effect leverage, metadata persistence)"
      },
      {
        "line": 45,
        "token": "scores",
        "context": "- **v8.46.3** - Quality Score Persistence Fix (ONNX scores in hybrid backend, metadata normalization)"
      },
      {
        "line": 46,
        "token": "tag",
        "context": "- **v8.46.2** - Session-Start Hook Crash Fix + Hook Installer Improvements (client-side tag filtering, isolated version metadata)"
      },
      {
        "line": 47,
        "token": "console",
        "context": "- **v8.46.1** - Windows Hooks Installer Fix + Quality System Integration (UTF-8 console configuration, backend quality scoring)"
      },
      {
        "line": 48,
        "token": "automatic",
        "context": "- **v8.45.3** - ONNX Ranker Model Export Fix (automatic model export, offline mode support, 7-16ms CPU performance)"
      },
      {
        "line": 49,
        "token": "global",
        "context": "- **v8.45.2** - Dashboard Dark Mode Consistency Fixes (global CSS overrides, Chart.js dark mode support)"
      },
      {
        "line": 50,
        "token": "HTTP",
        "context": "- **v8.45.1** - Quality System Test Infrastructure Fixes (HTTP API router, storage retrieval, async test client)"
      },
      {
        "line": 51,
        "token": "local",
        "context": "- **v8.45.0** - Memory Quality System - AI-Driven Automatic Quality Scoring (ONNX-powered local SLM, multi-tier fallback, quality-based retention)"
      },
      {
        "line": 52,
        "token": "keys",
        "context": "- **v8.44.0** - Multi-Language Expansion (Japanese, Korean, German, French, Spanish - 359 keys each, complete i18n coverage)"
      },
      {
        "line": 53,
        "token": "branch",
        "context": "- **v8.43.0** - Internationalization & Quality Automation (English/Chinese i18n, Claude branch automation, quality gates)"
      },
      {
        "line": 54,
        "token": "objects",
        "context": "- **v8.42.1** - MCP Resource Handler Fix (`AttributeError` with Pydantic AnyUrl objects)"
      },
      {
        "line": 55,
        "token": "visible",
        "context": "- **v8.42.0** - Memory Awareness Enhancements (visible memory injection, quality session summaries, LLM-powered summarization)"
      },
      {
        "line": 56,
        "token": "utilities",
        "context": "- **v8.41.2** - Hook Installer Utility File Deployment (ALL 14 utilities copied, future-proof glob pattern)"
      },
      {
        "line": 57,
        "token": "recency",
        "context": "- **v8.41.1** - Context Formatter Memory Sorting (recency sorting within categories, newest first)"
      },
      {
        "line": 58,
        "token": "error",
        "context": "- **v8.41.0** - Session Start Hook Reliability Improvements (error suppression, clean output, memory filtering, classification fixes)"
      },
      {
        "line": 59,
        "token": "automatic",
        "context": "- **v8.40.0** - Session Start Version Display (automatic version comparison, PyPI status labels)"
      },
      {
        "line": 60,
        "token": "critical",
        "context": "- **v8.39.1** - Dashboard Analytics Bug Fixes: Three critical fixes (top tags filtering, recent activity display, storage report fields)"
      },
      {
        "line": 61,
        "token": "filtering",
        "context": "- **v8.39.0** - Performance Optimization: Storage-layer date-range filtering (10x faster analytics, 97% data transfer reduction)"
      },
      {
        "line": 62,
        "token": "HTTP",
        "context": "- **v8.38.1** - Critical Hotfix: HTTP MCP JSON-RPC 2.0 compliance fix (Claude Code/Desktop connection failures resolved)"
      },
      {
        "line": 63,
        "token": "lines",
        "context": "- **v8.38.0** - Code Quality: Phase 2b COMPLETE (~176-186 lines duplicate code eliminated, 10 consolidations)"
      },
      {
        "line": 64,
        "token": "duplicate",
        "context": "- **v8.37.0** - Code Quality: Phase 2a COMPLETE (5 duplicate high-complexity functions eliminated)"
      },
      {
        "line": 65,
        "token": "HTTP",
        "context": "- **v8.36.1** - Critical Hotfix: HTTP server startup crash fix (forward reference error in analytics.py)"
      },
      {
        "line": 66,
        "token": "target",
        "context": "- **v8.36.0** - Code Quality: Phase 2 COMPLETE (100% of target achieved, -39 complexity points)"
      },
      {
        "line": 67,
        "token": "complexity",
        "context": "- **v8.35.0** - Code Quality: Phase 2 Batch 1 (install.py, cloudflare.py, -15 complexity points)"
      },
      {
        "line": 68,
        "token": "refactored",
        "context": "- **v8.34.0** - Code Quality: Phase 2 Complexity Reduction (analytics.py refactored, 11 â†’ 6-7 complexity)"
      },
      {
        "line": 69,
        "token": "dead",
        "context": "- **v8.33.0** - Critical Installation Bug Fix + Code Quality Improvements (dead code cleanup, automatic MCP setup)"
      },
      {
        "line": 70,
        "token": "pyscn",
        "context": "- **v8.32.0** - Code Quality Excellence: pyscn Static Analysis Integration (multi-layer QA workflow)"
      },
      {
        "line": 71,
        "token": "faster",
        "context": "- **v8.31.0** - Revolutionary Batch Update Performance (21,428x faster memory consolidation)"
      },
      {
        "line": 72,
        "token": "accurate",
        "context": "- **v8.30.0** - Analytics Intelligence: Adaptive Charts & Critical Data Fixes (accurate trend visualization)"
      },
      {
        "line": 73,
        "token": "HTTP",
        "context": "- **v8.28.1** - Critical HTTP MCP Transport JSON-RPC 2.0 Compliance Fix (Claude Code compatibility)"
      },
      {
        "line": 74,
        "token": "unified",
        "context": "- **v8.28.0** - Cloudflare AND/OR Tag Filtering (unified search API, 3-5x faster hybrid sync)"
      },
      {
        "line": 75,
        "token": "preservation",
        "context": "- **v8.27.1** - Critical Hotfix: Timestamp Regression (created_at preservation during metadata sync)"
      },
      {
        "line": 76,
        "token": "faster",
        "context": "- **v8.26.0** - Revolutionary MCP Performance (534,628x faster tools, 90%+ cache hit rate)"
      },
      {
        "line": 77,
        "token": "automatic",
        "context": "- **v8.25.0** - Hybrid Backend Drift Detection (automatic metadata sync, bidirectional awareness)"
      },
      {
        "line": 78,
        "token": "regex",
        "context": "- **v8.24.4** - Code Quality Improvements from Gemini Code Assist (regex sanitization, DOM caching)"
      },
      {
        "line": 79,
        "token": "tag",
        "context": "- **v8.24.3** - Test Coverage & Release Agent Improvements (tag+time filtering tests, version history fix)"
      },
      {
        "line": 80,
        "token": "bash",
        "context": "- **v8.24.2** - CI/CD Workflow Fixes (bash errexit handling, exit code capture)"
      },
      {
        "line": 81,
        "token": "test",
        "context": "- **v8.24.1** - Test Infrastructure Improvements (27 test failures resolved, 63% â†’ 71% pass rate)"
      },
      {
        "line": 82,
        "token": "automated",
        "context": "- **v8.24.0** - PyPI Publishing Enabled (automated package publishing via GitHub Actions)"
      },
      {
        "line": 83,
        "token": "layer",
        "context": "- **v8.23.1** - Stale Virtual Environment Prevention System (6-layer developer protection)"
      },
      {
        "line": 84,
        "token": "via",
        "context": "- **v8.23.0** - Consolidation Scheduler via Code Execution API (88% token reduction)"
      },
      {
        "line": 86,
        "token": "https",
        "context": "**ğŸ“– Full Details**: [CHANGELOG.md](CHANGELOG.md#8222---2025-11-09) | [All Releases](https://github.com/doobidoo/mcp-memory-service/releases)"
      },
      {
        "line": 115,
        "token": "configure",
        "context": "**Then configure Claude Desktop** by adding to `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) or equivalent:"
      },
      {
        "line": 130,
        "token": "advanced",
        "context": "For advanced configuration with the interactive installer, clone the repo and run `python scripts/installation/install.py`."
      },
      {
        "line": 134,
        "token": "development",
        "context": "**For development and contributing**, use editable install to ensure source code changes take effect immediately:"
      },
      {
        "line": 156,
        "token": "install",
        "context": "**âš ï¸ Important**: Editable install (`-e` flag) ensures MCP servers load from source code, not stale `site-packages`. Without this, source changes won't be refle"
      },
      {
        "line": 164,
        "token": "complete",
        "context": "See [CLAUDE.md](CLAUDE.md#development-setup-critical) for complete development guidelines."
      },
      {
        "line": 185,
        "token": "recommended",
        "context": "- **Default (recommended)**: Lightweight SQLite-vec with ONNX embeddings - fast, works offline, <100MB dependencies"
      },
      {
        "line": 186,
        "token": "advanced",
        "context": "- **`--with-ml`**: Adds PyTorch + sentence-transformers for advanced ML features - heavier but more capable"
      },
      {
        "line": 187,
        "token": "hybrid",
        "context": "- **`--storage-backend hybrid`**: Hybrid backend with SQLite-vec + Cloudflare sync - best for multi-device access"
      },
      {
        "line": 206,
        "token": "older",
        "context": "**Updating from an older version?** Scripts have been reorganized for better maintainability:"
      },
      {
        "line": 207,
        "token": "python",
        "context": "- **Recommended**: Use `python -m mcp_memory_service.server` in your Claude Desktop config (no path dependencies!)"
      },
      {
        "line": 208,
        "token": "run",
        "context": "- **Alternative 1**: Use `uv run memory server` with UV tooling"
      },
      {
        "line": 209,
        "token": "path",
        "context": "- **Alternative 2**: Update path from `scripts/run_memory_server.py` to `scripts/server/run_memory_server.py`"
      },
      {
        "line": 210,
        "token": "compatible",
        "context": "- **Backward compatible**: Old path still works with a migration notice"
      },
      {
        "line": 214,
        "token": "your",
        "context": "On your first run, you'll see some warnings that are **completely normal**:"
      },
      {
        "line": 216,
        "token": "load",
        "context": "- **\"WARNING: Failed to load from cache: No snapshots directory\"** - The service is checking for cached models (first-time setup)"
      },
      {
        "line": 217,
        "token": "deprecated",
        "context": "- **\"WARNING: Using TRANSFORMERS_CACHE is deprecated\"** - Informational warning, doesn't affect functionality"
      },
      {
        "line": 218,
        "token": "download",
        "context": "- **Model download in progress** - The service automatically downloads a ~25MB embedding model (takes 1-2 minutes)"
      },
      {
        "line": 220,
        "token": "warnings",
        "context": "These warnings disappear after the first successful run. The service is working correctly! For details, see our [First-Time Setup Guide](docs/first-time-setup.m"
      },
      {
        "line": 224,
        "token": "may",
        "context": "**sqlite-vec** may not have pre-built wheels for Python 3.13 yet. If installation fails:"
      },
      {
        "line": 225,
        "token": "installer",
        "context": "- The installer will automatically try multiple installation methods"
      },
      {
        "line": 226,
        "token": "using",
        "context": "- Consider using Python 3.12 for the smoothest experience: `brew install python@3.12`"
      },
      {
        "line": 227,
        "token": "backend",
        "context": "- Alternative: Use Cloudflare backend with `--storage-backend cloudflare`"
      },
      {
        "line": 228,
        "token": "docs/troubleshooting/general.md",
        "context": "- See [Troubleshooting Guide](docs/troubleshooting/general.md#python-313-sqlite-vec-issues) for details"
      },
      {
        "line": 232,
        "token": "users",
        "context": "**macOS users** may encounter `enable_load_extension` errors with sqlite-vec:"
      },
      {
        "line": 233,
        "token": "lacks",
        "context": "- **System Python** on macOS lacks SQLite extension support by default"
      },
      {
        "line": 234,
        "token": "brew",
        "context": "- **Solution**: Use Homebrew Python: `brew install python && rehash`"
      },
      {
        "line": 235,
        "token": "pyenv",
        "context": "- **Alternative**: Use pyenv: `PYTHON_CONFIGURE_OPTS='--enable-loadable-sqlite-extensions' pyenv install 3.12.0`"
      },
      {
        "line": 236,
        "token": "backend",
        "context": "- **Fallback**: Use Cloudflare or Hybrid backend: `--storage-backend cloudflare` or `--storage-backend hybrid`"
      },
      {
        "line": 237,
        "token": "docs/troubleshooting/general.md",
        "context": "- See [Troubleshooting Guide](docs/troubleshooting/general.md#macos-sqlite-extension-issues) for details"
      },
      {
        "line": 241,
        "token": "how",
        "context": "**Intelligent Context Injection** - See how the memory service automatically surfaces relevant information at session start:"
      },
      {
        "line": 243,
        "token": "img",
        "context": "<img src=\"docs/assets/images/memory-awareness-hooks-example.png\" alt=\"Memory Awareness Hooks in Action\" width=\"100%\" />"
      },
      {
        "line": 245,
        "token": "you",
        "context": "**What you're seeing:**"
      },
      {
        "line": 246,
        "token": "memory",
        "context": "- ğŸ§  **Automatic memory injection** - 8 relevant memories found from 2,526 total"
      },
      {
        "line": 247,
        "token": "categorization",
        "context": "- ğŸ“‚ **Smart categorization** - Recent Work, Current Problems, Additional Context"
      },
      {
        "line": 248,
        "token": "analysis",
        "context": "- ğŸ“Š **Git-aware analysis** - Recent commits and keywords automatically extracted"
      },
      {
        "line": 249,
        "token": "scoring",
        "context": "- ğŸ¯ **Relevance scoring** - Top memories scored at 100% (today), 89% (8d ago), 84% (today)"
      },
      {
        "line": 250,
        "token": "retrieval",
        "context": "- âš¡ **Fast retrieval** - SQLite-vec backend with 5ms read performance"
      },
      {
        "line": 251,
        "token": "sync",
        "context": "- ğŸ”„ **Background sync** - Hybrid backend syncing to Cloudflare"
      },
      {
        "line": 253,
        "token": "starts",
        "context": "**Result**: Claude starts every session with full project context - no manual prompting needed."
      },
      {
        "line": 257,
        "token": "our",
        "context": "**ğŸ‘‰ Visit our comprehensive [Wiki](https://github.com/doobidoo/mcp-memory-service/wiki) for detailed guides:**"
      },
      {
        "line": 260,
        "token": "https",
        "context": "- **[Natural Memory Triggers v7.1.3 Guide](https://github.com/doobidoo/mcp-memory-service/wiki/Natural-Memory-Triggers-v7.1.0)** - Intelligent automatic memory "
      },
      {
        "line": 261,
        "token": "trigger",
        "context": "- âœ… **85%+ trigger accuracy** with semantic pattern detection"
      },
      {
        "line": 262,
        "token": "performance",
        "context": "- âœ… **Multi-tier performance** (50ms instant â†’ 150ms fast â†’ 500ms intensive)"
      },
      {
        "line": 263,
        "token": "management",
        "context": "- âœ… **CLI management system** for real-time configuration"
      },
      {
        "line": 264,
        "token": "context",
        "context": "- âœ… **Git-aware context** integration for enhanced relevance"
      },
      {
        "line": 265,
        "token": "installation",
        "context": "- âœ… **Zero-restart installation** with dynamic hook loading"
      },
      {
        "line": 268,
        "token": "https",
        "context": "- **[ğŸ” OAuth 2.1 Setup Guide](https://github.com/doobidoo/mcp-memory-service/wiki/OAuth-2.1-Setup-Guide)** - **NEW!** Complete OAuth 2.1 Dynamic Client Registra"
      },
      {
        "line": 269,
        "token": "https",
        "context": "- **[ğŸ”— Integration Guide](https://github.com/doobidoo/mcp-memory-service/wiki/03-Integration-Guide)** - Claude Desktop, **Claude Code HTTP transport**, VS Code,"
      },
      {
        "line": 270,
        "token": "https",
        "context": "- **[ğŸ›¡ï¸ Advanced Configuration](https://github.com/doobidoo/mcp-memory-service/wiki/04-Advanced-Configuration)** - **Updated!** OAuth security, enterprise featu"
      },
      {
        "line": 273,
        "token": "https",
        "context": "- **[ğŸ“Š Memory Consolidation System Guide](https://github.com/doobidoo/mcp-memory-service/wiki/Memory-Consolidation-System-Guide)** - **NEW!** Automated memory m"
      },
      {
        "line": 274,
        "token": "consolidation",
        "context": "- âœ… **Dream-inspired consolidation** (decay scoring, association discovery, compression, archival)"
      },
      {
        "line": 275,
        "token": "automatic",
        "context": "- âœ… **24/7 automatic scheduling** (daily/weekly/monthly via HTTP server)"
      },
      {
        "line": 276,
        "token": "token",
        "context": "- âœ… **Token-efficient Code Execution API** (90% token reduction vs MCP tools)"
      },
      {
        "line": 277,
        "token": "performance",
        "context": "- âœ… **Real-world performance data** (4-6 min for 2,495 memories with hybrid backend)"
      },
      {
        "line": 278,
        "token": "manual",
        "context": "- âœ… **Three manual trigger methods** (HTTP API, MCP tools, Python API)"
      },
      {
        "line": 281,
        "token": "https",
        "context": "- **[ğŸ“‹ Installation Guide](https://github.com/doobidoo/mcp-memory-service/wiki/01-Installation-Guide)** - Complete installation for all platforms and use cases"
      },
      {
        "line": 282,
        "token": "https",
        "context": "- **[ğŸ–¥ï¸ Platform Setup Guide](https://github.com/doobidoo/mcp-memory-service/wiki/02-Platform-Setup-Guide)** - Windows, macOS, and Linux optimizations"
      },
      {
        "line": 283,
        "token": "https",
        "context": "- **[âš¡ Performance Optimization](https://github.com/doobidoo/mcp-memory-service/wiki/05-Performance-Optimization)** - Speed up queries, optimize resources, scal"
      },
      {
        "line": 286,
        "token": "https",
        "context": "- **[ğŸ‘¨â€ğŸ’» Development Reference](https://github.com/doobidoo/mcp-memory-service/wiki/06-Development-Reference)** - Claude Code hooks, API reference, debugging"
      },
      {
        "line": 287,
        "token": "https",
        "context": "- **[ğŸ”§ Troubleshooting Guide](https://github.com/doobidoo/mcp-memory-service/wiki/07-TROUBLESHOOTING)** - **Updated!** OAuth troubleshooting + common issues"
      },
      {
        "line": 288,
        "token": "https",
        "context": "- **[â“ FAQ](https://github.com/doobidoo/mcp-memory-service/wiki/08-FAQ)** - Frequently asked questions"
      },
      {
        "line": 289,
        "token": "https",
        "context": "- **[ğŸ“ Examples](https://github.com/doobidoo/mcp-memory-service/wiki/09-Examples)** - Practical code examples and workflows"
      },
      {
        "line": 292,
        "token": "months",
        "context": "- **[ğŸ“Š Repository Statistics](docs/statistics/REPOSITORY_STATISTICS.md)** - 10 months of development metrics, activity patterns, and insights"
      },
      {
        "line": 293,
        "token": "enhancement",
        "context": "- **[ğŸ—ï¸ Architecture Specs](docs/architecture/)** - Search enhancement specifications and design documents"
      },
      {
        "line": 294,
        "token": "agent",
        "context": "- **[ğŸ‘©â€ğŸ’» Development Docs](docs/development/)** - AI agent instructions, release checklist, refactoring notes"
      },
      {
        "line": 295,
        "token": "production",
        "context": "- **[ğŸš€ Deployment Guides](docs/deployment/)** - Docker, dual-service, and production deployment"
      },
      {
        "line": 296,
        "token": "backends",
        "context": "- **[ğŸ“š Additional Guides](docs/guides/)** - Storage backends, migration, mDNS discovery"
      },
      {
        "line": 301,
        "token": "local",
        "context": "- **Hybrid Backend** - Fast 5ms local SQLite + background Cloudflare sync (RECOMMENDED default)"
      },
      {
        "line": 302,
        "token": "latency",
        "context": "- Zero user-facing latency for cloud operations"
      },
      {
        "line": 303,
        "token": "synchronization",
        "context": "- Automatic multi-device synchronization"
      },
      {
        "line": 304,
        "token": "offline",
        "context": "- Graceful offline operation"
      },
      {
        "line": 305,
        "token": "HTTP",
        "context": "- **Zero Database Locks** - Concurrent HTTP + MCP server access works flawlessly"
      },
      {
        "line": 306,
        "token": "pragmas",
        "context": "- Auto-configured SQLite pragmas (`busy_timeout=15000,cache_size=20000`)"
      },
      {
        "line": 307,
        "token": "mode",
        "context": "- WAL mode with proper multi-client coordination"
      },
      {
        "line": 308,
        "token": "concurrent",
        "context": "- Tested: 5/5 concurrent writes succeeded with no errors"
      },
      {
        "line": 309,
        "token": "handles",
        "context": "- **Auto-Configuration** - Installer handles everything"
      },
      {
        "line": 310,
        "token": "pragmas",
        "context": "- SQLite pragmas for concurrent access"
      },
      {
        "line": 311,
        "token": "credentials",
        "context": "- Cloudflare credentials with connection testing"
      },
      {
        "line": 312,
        "token": "integration",
        "context": "- Claude Desktop integration with hybrid backend"
      },
      {
        "line": 313,
        "token": "fallback",
        "context": "- Graceful fallback to sqlite_vec if cloud setup fails"
      },
      {
        "line": 316,
        "token": "document",
        "context": "- **Interactive Web UI** - Drag-and-drop document upload with real-time progress"
      },
      {
        "line": 317,
        "token": "PDF",
        "context": "- **Multiple Formats** - PDF, TXT, MD, JSON with intelligent chunking"
      },
      {
        "line": 318,
        "token": "chunks",
        "context": "- **Document Viewer** - Browse chunks, view metadata, search content"
      },
      {
        "line": 319,
        "token": "tagging",
        "context": "- **Smart Tagging** - Automatic tagging with length validation (max 100 chars)"
      },
      {
        "line": 320,
        "token": "semtools",
        "context": "- **Optional semtools** - Enhanced PDF/DOCX/PPTX parsing with LlamaParse"
      },
      {
        "line": 321,
        "token": "traversal",
        "context": "- **Security Hardened** - Path traversal protection, XSS prevention, input validation"
      },
      {
        "line": 322,
        "token": "document",
        "context": "- **7 New Endpoints** - Complete REST API for document management"
      },
      {
        "line": 325,
        "token": "compliant",
        "context": "- **OAuth 2.1 Dynamic Client Registration** - RFC 7591 & RFC 8414 compliant"
      },
      {
        "line": 326,
        "token": "HTTP",
        "context": "- **Claude Code HTTP Transport** - Zero-configuration team collaboration"
      },
      {
        "line": 327,
        "token": "security",
        "context": "- **JWT Authentication** - Enterprise-grade security with scope validation"
      },
      {
        "line": 328,
        "token": "client",
        "context": "- **Auto-Discovery Endpoints** - Seamless client registration and authorization"
      },
      {
        "line": 329,
        "token": "keys",
        "context": "- **Multi-Auth Support** - OAuth + API keys + optional anonymous access"
      },
      {
        "line": 332,
        "token": "search",
        "context": "- **Semantic search** with vector embeddings"
      },
      {
        "line": 333,
        "token": "language",
        "context": "- **Natural language time queries** (\"yesterday\", \"last week\")"
      },
      {
        "line": 334,
        "token": "organization",
        "context": "- **Tag-based organization** with smart categorization"
      },
      {
        "line": 335,
        "token": "consolidation",
        "context": "- **Memory consolidation** with dream-inspired algorithms"
      },
      {
        "line": 336,
        "token": "search",
        "context": "- **Document-aware search** - Query across uploaded documents and manual memories"
      },
      {
        "line": 339,
        "token": "integration",
        "context": "- **Claude Desktop** - Native MCP integration"
      },
      {
        "line": 340,
        "token": "HTTP",
        "context": "- **Claude Code** - **HTTP transport** + Memory-aware development with hooks"
      },
      {
        "line": 341,
        "token": "command",
        "context": "- ğŸªŸ **Windows Support**: `/session-start` command for manual session initialization (workaround for issue #160)"
      },
      {
        "line": 342,
        "token": "automatic",
        "context": "- ğŸ **macOS/Linux**: Full automatic SessionStart hooks + slash command"
      },
      {
        "line": 343,
        "token": "extensions",
        "context": "- **VS Code, Cursor, Continue** - IDE extensions"
      },
      {
        "line": 344,
        "token": "applications",
        "context": "- **13+ AI applications** - REST API compatibility"
      },
      {
        "line": 347,
        "token": "local",
        "context": "- **Hybrid** ğŸŒŸ (RECOMMENDED) - Fast local SQLite + background Cloudflare sync (v8.9.0 default)"
      },
      {
        "line": 348,
        "token": "local",
        "context": "- 5ms local reads with zero user-facing latency"
      },
      {
        "line": 349,
        "token": "synchronization",
        "context": "- Multi-device synchronization"
      },
      {
        "line": 350,
        "token": "database",
        "context": "- Zero database locks with auto-configured pragmas"
      },
      {
        "line": 351,
        "token": "backups",
        "context": "- Automatic backups and cloud persistence"
      },
      {
        "line": 352,
        "token": "storage",
        "context": "- **SQLite-vec** - Local-only storage (lightweight ONNX embeddings, 5ms reads)"
      },
      {
        "line": 353,
        "token": "offline",
        "context": "- Good for single-user offline use"
      },
      {
        "line": 354,
        "token": "cloud",
        "context": "- No cloud dependencies"
      },
      {
        "line": 355,
        "token": "storage",
        "context": "- **Cloudflare** - Cloud-only storage (global edge distribution with D1 + Vectorize)"
      },
      {
        "line": 356,
        "token": "performance",
        "context": "- Network-dependent performance"
      },
      {
        "line": 358,
        "token": "heavy",
        "context": "> **Note**: All heavy ML dependencies (PyTorch, sentence-transformers) are now optional to dramatically reduce build times and image sizes. SQLite-vec uses ligh"
      },
      {
        "line": 362,
        "token": "installation",
        "context": "- **Service installation** - Auto-start background operation"
      },
      {
        "line": 363,
        "token": "HTTPS/SSL",
        "context": "- **HTTPS/SSL** - Secure connections with OAuth 2.1"
      },
      {
        "line": 364,
        "token": "support",
        "context": "- **Docker support** - Easy deployment with team collaboration"
      },
      {
        "line": 365,
        "token": "http",
        "context": "- **Interactive Dashboard** - Web UI at http://127.0.0.1:8888/ for complete management"
      },
      {
        "line": 417,
        "token": "approach",
        "context": "**Recommended approach** - Add to your Claude Desktop config (`~/.claude/config.json`):"
      },
      {
        "line": 433,
        "token": "approaches",
        "context": "**Alternative approaches:**"
      },
      {
        "line": 524,
        "token": "repository",
        "context": "1. Fork the repository"
      },
      {
        "line": 525,
        "token": "feature",
        "context": "2. Create a feature branch"
      },
      {
        "line": 526,
        "token": "your",
        "context": "3. Make your changes with tests"
      },
      {
        "line": 527,
        "token": "pull",
        "context": "4. Submit a pull request"
      },
      {
        "line": 529,
        "token": "detailed",
        "context": "See [CONTRIBUTING.md](CONTRIBUTING.md) for detailed guidelines."
      },
      {
        "line": 533,
        "token": "https",
        "context": "- **ğŸ“– Documentation**: [Wiki](https://github.com/doobidoo/mcp-memory-service/wiki) - Comprehensive guides"
      },
      {
        "line": 534,
        "token": "https",
        "context": "- **ğŸ› Bug Reports**: [GitHub Issues](https://github.com/doobidoo/mcp-memory-service/issues)"
      },
      {
        "line": 535,
        "token": "https",
        "context": "- **ğŸ’¬ Discussions**: [GitHub Discussions](https://github.com/doobidoo/mcp-memory-service/discussions)"
      },
      {
        "line": 536,
        "token": "https",
        "context": "- **ğŸ”§ Troubleshooting**: [Troubleshooting Guide](https://github.com/doobidoo/mcp-memory-service/wiki/07-TROUBLESHOOTING)"
      },
      {
        "line": 537,
        "token": "python",
        "context": "- **âœ… Configuration Validator**: Run `python scripts/validation/validate_configuration_complete.py` to check your setup"
      },
      {
        "line": 538,
        "token": "sync",
        "context": "- **ğŸ”„ Backend Sync Tools**: See [scripts/README.md](scripts/README.md#backend-synchronization) for Cloudflareâ†”SQLite sync"
      },
      {
        "line": 542,
        "token": "metrics",
        "context": "**Real-world metrics from active deployments:**"
      },
      {
        "line": 543,
        "token": "memories",
        "context": "- **1700+ memories** stored and actively used across teams"
      },
      {
        "line": 544,
        "token": "local",
        "context": "- **5ms local reads** with hybrid backend (v8.9.0)"
      },
      {
        "line": 545,
        "token": "database",
        "context": "- **Zero database locks** with concurrent HTTP + MCP access (v8.9.0)"
      },
      {
        "line": 546,
        "token": "concurrent",
        "context": "- Tested: 5/5 concurrent writes succeeded"
      },
      {
        "line": 547,
        "token": "pragmas",
        "context": "- Auto-configured pragmas prevent lock errors"
      },
      {
        "line": 548,
        "token": "response",
        "context": "- **<500ms response time** for semantic search (local & HTTP transport)"
      },
      {
        "line": 549,
        "token": "token",
        "context": "- **65% token reduction** in Claude Code sessions with OAuth collaboration"
      },
      {
        "line": 550,
        "token": "faster",
        "context": "- **96.7% faster** context setup (15min â†’ 30sec)"
      },
      {
        "line": 551,
        "token": "knowledge",
        "context": "- **100% knowledge retention** across sessions and team members"
      },
      {
        "line": 552,
        "token": "setup",
        "context": "- **Zero-configuration** setup success rate: **98.5%** (OAuth + hybrid backend)"
      },
      {
        "line": 556,
        "token": "https",
        "context": "- [![Smithery](https://smithery.ai/badge/@doobidoo/mcp-memory-service)](https://smithery.ai/server/@doobidoo/mcp-memory-service) **Verified MCP Server**"
      },
      {
        "line": 557,
        "token": "https",
        "context": "- [![Glama AI](https://img.shields.io/badge/Featured-Glama%20AI-blue)](https://glama.ai/mcp/servers/bzvl3lz34o) **Featured AI Tool**"
      },
      {
        "line": 558,
        "token": "across",
        "context": "- **Production-tested** across 13+ AI applications"
      },
      {
        "line": 559,
        "token": "feedback",
        "context": "- **Community-driven** with real-world feedback and improvements"
      },
      {
        "line": 563,
        "token": "see",
        "context": "Apache License 2.0 - see [LICENSE](LICENSE) for details."
      },
      {
        "line": 567,
        "token": "supercharge",
        "context": "**Ready to supercharge your AI workflow?** ğŸš€"
      },
      {
        "line": 569,
        "token": "our",
        "context": "ğŸ‘‰ **[Start with our Installation Guide](https://github.com/doobidoo/mcp-memory-service/wiki/01-Installation-Guide)** or explore the **[Wiki](https://github.com/"
      },
      {
        "line": 571,
        "token": "your",
        "context": "*Transform your AI conversations into persistent, searchable knowledge that grows with you.*"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "SECURITY.md",
    "chinese": "SECURITY_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 17,
        "token": "actively",
        "context": "We actively maintain and provide security updates for the following versions of MCP Memory Service:"
      },
      {
        "line": 21,
        "token": "x.x",
        "context": "| 8.x.x   | :white_check_mark: | Current stable release - full support |"
      },
      {
        "line": 22,
        "token": "x.x",
        "context": "| 7.x.x   | :white_check_mark: | Previous stable - security fixes only |"
      },
      {
        "line": 23,
        "token": "longer",
        "context": "| < 7.0   | :x:                | No longer supported |"
      },
      {
        "line": 27,
        "token": "take",
        "context": "We take the security of MCP Memory Service seriously. If you discover a security vulnerability, please report it responsibly."
      },
      {
        "line": 31,
        "token": "sensitive",
        "context": "**For sensitive security issues**, please use one of these private reporting methods:"
      },
      {
        "line": 34,
        "token": "https",
        "context": "- Navigate to the [Security Advisories](https://github.com/doobidoo/mcp-memory-service/security/advisories) page"
      },
      {
        "line": 35,
        "token": "vulnerability",
        "context": "- Click \"Report a vulnerability\""
      },
      {
        "line": 36,
        "token": "detailed",
        "context": "- Provide detailed information about the vulnerability"
      },
      {
        "line": 39,
        "token": "prefix",
        "context": "- Open a GitHub Discussion with `[SECURITY]` prefix for initial contact"
      },
      {
        "line": 40,
        "token": "provide",
        "context": "- We'll provide a secure communication channel for details"
      },
      {
        "line": 42,
        "token": "security",
        "context": "**For non-sensitive security concerns**, you may open a regular GitHub issue."
      },
      {
        "line": 46,
        "token": "reporting",
        "context": "When reporting a vulnerability, please include:"
      },
      {
        "line": 48,
        "token": "description",
        "context": "1. **Description**: Clear description of the vulnerability"
      },
      {
        "line": 49,
        "token": "security",
        "context": "2. **Impact**: Potential security impact and affected versions"
      },
      {
        "line": 50,
        "token": "instructions",
        "context": "3. **Reproduction**: Step-by-step instructions to reproduce the issue"
      },
      {
        "line": 52,
        "token": "version",
        "context": "- Python version"
      },
      {
        "line": 53,
        "token": "system",
        "context": "- Operating system"
      },
      {
        "line": 54,
        "token": "backend",
        "context": "- Storage backend (SQLite-vec, Cloudflare, Hybrid)"
      },
      {
        "line": 55,
        "token": "method",
        "context": "- Installation method (pip, Docker, source)"
      },
      {
        "line": 56,
        "token": "commands",
        "context": "5. **Proof of Concept**: Code or commands demonstrating the vulnerability (if applicable)"
      },
      {
        "line": 57,
        "token": "ideas",
        "context": "6. **Suggested Fix**: Any ideas for fixing the issue (optional)"
      },
      {
        "line": 61,
        "token": "aim",
        "context": "We aim to respond to security reports according to the following timeline:"
      },
      {
        "line": 63,
        "token": "hours",
        "context": "- **Acknowledgment**: Within 48 hours of report"
      },
      {
        "line": 64,
        "token": "business",
        "context": "- **Initial Assessment**: Within 5 business days"
      },
      {
        "line": 65,
        "token": "until",
        "context": "- **Status Updates**: Weekly until resolved"
      },
      {
        "line": 66,
        "token": "days",
        "context": "- **Fix Development**: 7-14 days for high-severity issues"
      },
      {
        "line": 67,
        "token": "soon",
        "context": "- **Patch Release**: As soon as fix is validated and tested"
      },
      {
        "line": 68,
        "token": "patch",
        "context": "- **Public Disclosure**: After patch is released (coordinated with reporter)"
      },
      {
        "line": 72,
        "token": "use",
        "context": "We use the following severity levels to prioritize security issues:"
      },
      {
        "line": 75,
        "token": "code",
        "context": "- Remote code execution"
      },
      {
        "line": 76,
        "token": "bypass",
        "context": "- Authentication bypass"
      },
      {
        "line": 77,
        "token": "exfiltration",
        "context": "- Data exfiltration from other users' memories"
      },
      {
        "line": 78,
        "token": "system",
        "context": "- Complete system compromise"
      },
      {
        "line": 81,
        "token": "escalation",
        "context": "- Privilege escalation"
      },
      {
        "line": 82,
        "token": "injection",
        "context": "- SQL injection"
      },
      {
        "line": 83,
        "token": "scripting",
        "context": "- Cross-site scripting (XSS) in dashboard"
      },
      {
        "line": 84,
        "token": "service",
        "context": "- Denial of service affecting all users"
      },
      {
        "line": 87,
        "token": "disclosure",
        "context": "- Information disclosure (limited scope)"
      },
      {
        "line": 88,
        "token": "request",
        "context": "- Cross-site request forgery (CSRF)"
      },
      {
        "line": 89,
        "token": "file",
        "context": "- Local file access vulnerabilities"
      },
      {
        "line": 90,
        "token": "exhaustion",
        "context": "- Resource exhaustion (single user)"
      },
      {
        "line": 93,
        "token": "attacks",
        "context": "- Timing attacks"
      },
      {
        "line": 94,
        "token": "configuration",
        "context": "- Security configuration issues"
      },
      {
        "line": 95,
        "token": "information",
        "context": "- Low-impact information leaks"
      },
      {
        "line": 101,
        "token": "use",
        "context": "1. **Keep Updated**: Always use the latest stable version"
      },
      {
        "line": 103,
        "token": "strong",
        "context": "- Use strong API keys (`openssl rand -base64 32`)"
      },
      {
        "line": 104,
        "token": "HTTPS",
        "context": "- Enable HTTPS for HTTP server mode"
      },
      {
        "line": 105,
        "token": "network",
        "context": "- Restrict network access to localhost unless needed"
      },
      {
        "line": 107,
        "token": "commit",
        "context": "- Never commit `.env` files with credentials"
      },
      {
        "line": 108,
        "token": "environment",
        "context": "- Use environment variables for sensitive data"
      },
      {
        "line": 109,
        "token": "tokens",
        "context": "- Rotate Cloudflare API tokens regularly"
      },
      {
        "line": 110,
        "token": "deployments",
        "context": "4. **Authentication**: Enable OAuth 2.1 for multi-user deployments"
      },
      {
        "line": 111,
        "token": "logs",
        "context": "5. **Monitoring**: Review logs for suspicious activity"
      },
      {
        "line": 112,
        "token": "backup",
        "context": "6. **Backups**: Regularly backup your memory database"
      },
      {
        "line": 117,
        "token": "dependency",
        "context": "- Review dependency updates for known vulnerabilities"
      },
      {
        "line": 118,
        "token": "scan",
        "context": "- Use `pip-audit` to scan for security issues"
      },
      {
        "line": 119,
        "token": "dependencies",
        "context": "- Keep dependencies up to date"
      },
      {
        "line": 121,
        "token": "all",
        "context": "- Sanitize all user input"
      },
      {
        "line": 122,
        "token": "parameterized",
        "context": "- Use parameterized queries (no string concatenation)"
      },
      {
        "line": 123,
        "token": "file",
        "context": "- Validate file uploads and document ingestion"
      },
      {
        "line": 125,
        "token": "secure",
        "context": "- Use secure session management"
      },
      {
        "line": 126,
        "token": "proper",
        "context": "- Implement proper access controls"
      },
      {
        "line": 127,
        "token": "security",
        "context": "- Follow OAuth 2.1 security best practices"
      },
      {
        "line": 129,
        "token": "log",
        "context": "- Never log API keys, tokens, or passwords"
      },
      {
        "line": 130,
        "token": "sensitive",
        "context": "- Encrypt sensitive data at rest (user responsibility)"
      },
      {
        "line": 131,
        "token": "secure",
        "context": "- Use secure random number generation"
      },
      {
        "line": 132,
        "token": "must",
        "context": "5. **Code Review**: All PRs must pass security review before merge"
      },
      {
        "line": 137,
        "token": "file",
        "context": "- **Local File Access**: Database file should have appropriate permissions (600)"
      },
      {
        "line": 138,
        "token": "proper",
        "context": "- **Concurrent Access**: Use proper locking to prevent corruption"
      },
      {
        "line": 139,
        "token": "responsibility",
        "context": "- **Backup Encryption**: User responsibility to encrypt backups"
      },
      {
        "line": 142,
        "token": "have",
        "context": "- **API Token Security**: Tokens have full account access - guard carefully"
      },
      {
        "line": 143,
        "token": "enforces",
        "context": "- **Rate Limiting**: Cloudflare enforces rate limits (10k requests/min)"
      },
      {
        "line": 144,
        "token": "stored",
        "context": "- **Data Residency**: Data stored in Cloudflare's network per your account settings"
      },
      {
        "line": 147,
        "token": "secure",
        "context": "- **Synchronization**: Ensure secure sync between local and cloud storage"
      },
      {
        "line": 148,
        "token": "credentials",
        "context": "- **Credential Exposure**: Both SQLite and Cloudflare credentials needed"
      },
      {
        "line": 151,
        "token": "HTTPS",
        "context": "- **HTTPS Recommended**: Use HTTPS in production environments"
      },
      {
        "line": 152,
        "token": "user",
        "context": "- **XSS Protection**: All user input is escaped before rendering"
      },
      {
        "line": 153,
        "token": "operations",
        "context": "- **CSRF Protection**: Implement for state-changing operations"
      },
      {
        "line": 154,
        "token": "secure",
        "context": "- **Session Security**: Enable secure cookies in production"
      },
      {
        "line": 157,
        "token": "server",
        "context": "- **Local Access Only**: MCP server typically runs locally via stdin/stdout"
      },
      {
        "line": 158,
        "token": "client",
        "context": "- **Process Isolation**: Each client gets isolated server process"
      },
      {
        "line": 159,
        "token": "default",
        "context": "- **No Network Exposure**: By default, MCP mode has no network attack surface"
      },
      {
        "line": 163,
        "token": "patches",
        "context": "Security patches are released as:"
      },
      {
        "line": 164,
        "token": "versions",
        "context": "- **Patch versions** (8.x.Y) for low/medium severity"
      },
      {
        "line": 165,
        "token": "versions",
        "context": "- **Minor versions** (8.X.0) for high severity requiring API changes"
      },
      {
        "line": 166,
        "token": "releases",
        "context": "- **Out-of-band releases** for critical vulnerabilities"
      },
      {
        "line": 168,
        "token": "advisories",
        "context": "Security advisories are published at:"
      },
      {
        "line": 169,
        "token": "https",
        "context": "- [GitHub Security Advisories](https://github.com/doobidoo/mcp-memory-service/security/advisories)"
      },
      {
        "line": 170,
        "token": "tag",
        "context": "- [CHANGELOG.md](CHANGELOG.md) with `[SECURITY]` tag"
      },
      {
        "line": 171,
        "token": "notes",
        "context": "- Release notes for affected versions"
      },
      {
        "line": 175,
        "token": "follow",
        "context": "We follow **coordinated disclosure**:"
      },
      {
        "line": 177,
        "token": "reported",
        "context": "1. Vulnerability reported privately"
      },
      {
        "line": 178,
        "token": "confirm",
        "context": "2. We confirm and develop a fix"
      },
      {
        "line": 179,
        "token": "advisory",
        "context": "3. Security advisory drafted (private)"
      },
      {
        "line": 180,
        "token": "released",
        "context": "4. Patch released with security note"
      },
      {
        "line": 181,
        "token": "disclosure",
        "context": "5. Public disclosure 7 days after patch release"
      },
      {
        "line": 182,
        "token": "credited",
        "context": "6. Reporter credited (if desired)"
      },
      {
        "line": 184,
        "token": "appreciate",
        "context": "We appreciate security researchers following responsible disclosure practices and will acknowledge contributors in our security advisories."
      },
      {
        "line": 188,
        "token": "recognize",
        "context": "We recognize security researchers who help make MCP Memory Service more secure:"
      },
      {
        "line": 190,
        "token": "contributors",
        "context": "<!-- Security contributors will be listed here -->"
      },
      {
        "line": 191,
        "token": "security",
        "context": "*No security vulnerabilities have been publicly disclosed to date.*"
      },
      {
        "line": 195,
        "token": "security",
        "context": "For security concerns that don't fit the above categories:"
      },
      {
        "line": 196,
        "token": "https",
        "context": "- **General Security Questions**: [GitHub Discussions](https://github.com/doobidoo/mcp-memory-service/discussions)"
      },
      {
        "line": 197,
        "token": "reporting",
        "context": "- **Project Security**: See reporting instructions above"
      }
    ],
    "structure_diff": {
      "heading": [
        20,
        21
      ]
    }
  },
  {
    "english": "SPONSORS.md",
    "chinese": "SPONSORS_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 14,
        "token": "you",
        "context": "Thank you for considering sponsoring MCP Memory Service! Your support helps maintain and enhance this production-ready knowledge management system."
      },
      {
        "line": 18,
        "token": "more",
        "context": "MCP Memory Service is more than just a memory storage toolâ€”it's a comprehensive knowledge management platform that:"
      },
      {
        "line": 20,
        "token": "queries",
        "context": "- **Processes queries in <1 second** with advanced semantic search"
      },
      {
        "line": 21,
        "token": "memories",
        "context": "- **Manages 300+ memories** in production environments"
      },
      {
        "line": 22,
        "token": "operations",
        "context": "- **Provides 16 operations** for complete memory lifecycle management"
      },
      {
        "line": 23,
        "token": "enterprise",
        "context": "- **Offers enterprise features** like automatic backups and health monitoring"
      },
      {
        "line": 24,
        "token": "ecosystem",
        "context": "- **Supports the MCP ecosystem** with a reference implementation"
      },
      {
        "line": 28,
        "token": "align",
        "context": "<p align=\"center\">"
      },
      {
        "line": 29,
        "token": "img",
        "context": "<img src=\"https://img.shields.io/badge/Memories_Managed-319+-blue?style=for-the-badge\" />"
      },
      {
        "line": 30,
        "token": "img",
        "context": "<img src=\"https://img.shields.io/badge/Query_Time-828ms-green?style=for-the-badge\" />"
      },
      {
        "line": 31,
        "token": "img",
        "context": "<img src=\"https://img.shields.io/badge/Cache_Hit_Rate-100%25-brightgreen?style=for-the-badge\" />"
      },
      {
        "line": 32,
        "token": "img",
        "context": "<img src=\"https://img.shields.io/badge/Operations-16-orange?style=for-the-badge\" />"
      },
      {
        "line": 37,
        "token": "month",
        "context": "### ğŸ¥‰ Bronze Sponsor ($10/month)"
      },
      {
        "line": 38,
        "token": "listed",
        "context": "- âœ… Name listed in README.md"
      },
      {
        "line": 39,
        "token": "discussions",
        "context": "- âœ… Access to sponsor-only discussions"
      },
      {
        "line": 40,
        "token": "access",
        "context": "- âœ… Early access to new features"
      },
      {
        "line": 41,
        "token": "badge",
        "context": "- âœ… Sponsor badge on GitHub profile"
      },
      {
        "line": 43,
        "token": "month",
        "context": "### ğŸ¥ˆ Silver Sponsor ($50/month)"
      },
      {
        "line": 44,
        "token": "benefits",
        "context": "- âœ… All Bronze benefits"
      },
      {
        "line": 45,
        "token": "issue",
        "context": "- âœ… Priority issue support"
      },
      {
        "line": 46,
        "token": "development",
        "context": "- âœ… Monthly development updates"
      },
      {
        "line": 47,
        "token": "release",
        "context": "- âœ… Name in release notes"
      },
      {
        "line": 48,
        "token": "development",
        "context": "- âœ… Access to development roadmap"
      },
      {
        "line": 50,
        "token": "month",
        "context": "### ğŸ¥‡ Gold Sponsor ($200/month)"
      },
      {
        "line": 51,
        "token": "benefits",
        "context": "- âœ… All Silver benefits"
      },
      {
        "line": 52,
        "token": "request",
        "context": "- âœ… Feature request priority"
      },
      {
        "line": 53,
        "token": "on-1",
        "context": "- âœ… 1-on-1 monthly video call"
      },
      {
        "line": 54,
        "token": "project",
        "context": "- âœ… Logo on project documentation"
      },
      {
        "line": 55,
        "token": "integration",
        "context": "- âœ… Custom integration support"
      },
      {
        "line": 57,
        "token": "month",
        "context": "### ğŸ’ Diamond Sponsor ($500+/month)"
      },
      {
        "line": 58,
        "token": "benefits",
        "context": "- âœ… All Gold benefits"
      },
      {
        "line": 59,
        "token": "feature",
        "context": "- âœ… Custom feature development"
      },
      {
        "line": 60,
        "token": "integration",
        "context": "- âœ… Direct integration support"
      },
      {
        "line": 61,
        "token": "training",
        "context": "- âœ… Team training sessions"
      },
      {
        "line": 62,
        "token": "project",
        "context": "- âœ… Logo on project homepage"
      },
      {
        "line": 63,
        "token": "opportunities",
        "context": "- âœ… Co-marketing opportunities"
      },
      {
        "line": 67,
        "token": "sponsorship",
        "context": "Your sponsorship directly funds:"
      },
      {
        "line": 70,
        "token": "month",
        "context": "- [ ] **$200/month** - Automatic backup scheduling system"
      },
      {
        "line": 71,
        "token": "month",
        "context": "- [ ] **$400/month** - Multi-language support (ES, FR, DE, JP)"
      },
      {
        "line": 72,
        "token": "month",
        "context": "- [ ] **$600/month** - Cloud sync capabilities (AWS, GCP, Azure)"
      },
      {
        "line": 75,
        "token": "month",
        "context": "- [ ] **$800/month** - Advanced analytics dashboard"
      },
      {
        "line": 76,
        "token": "month",
        "context": "- [ ] **$1000/month** - Plugin system for custom extensions"
      },
      {
        "line": 77,
        "token": "month",
        "context": "- [ ] **$1500/month** - Enterprise authentication (SSO, LDAP)"
      },
      {
        "line": 82,
        "token": "href",
        "context": "<a href=\"https://github.com/sponsors/doobidoo\">"
      },
      {
        "line": 83,
        "token": "img",
        "context": "<img src=\"https://img.shields.io/badge/Sponsor_on_GitHub-â¤ï¸-ea4aaa?style=for-the-badge&logo=github-sponsors\" />"
      },
      {
        "line": 87,
        "token": "https",
        "context": "- **Ko-fi**: [ko-fi.com/doobidoo](https://ko-fi.com/doobidoo)"
      },
      {
        "line": 88,
        "token": "https",
        "context": "- **Buy Me a Coffee**: [buymeacoffee.com/doobidoo](https://coff.ee/doobidoo)"
      },
      {
        "line": 89,
        "token": "https",
        "context": "- **PayPal**: [paypal.me/doobidoo](https://paypal.me/heinrichkrupp1)"
      },
      {
        "line": 98,
        "token": "first",
        "context": "*Be the first Diamond sponsor!*"
      },
      {
        "line": 101,
        "token": "first",
        "context": "*Be the first Gold sponsor!*"
      },
      {
        "line": 104,
        "token": "first",
        "context": "*Be the first Silver sponsor!*"
      },
      {
        "line": 107,
        "token": "first",
        "context": "*Be the first Bronze sponsor!*"
      },
      {
        "line": 112,
        "token": "development",
        "context": "- Support open-source development"
      },
      {
        "line": 113,
        "token": "priority",
        "context": "- Get priority support for your use cases"
      },
      {
        "line": 114,
        "token": "future",
        "context": "- Shape the future of the project"
      },
      {
        "line": 115,
        "token": "direct",
        "context": "- Learn from direct developer interaction"
      },
      {
        "line": 118,
        "token": "project",
        "context": "- Ensure long-term project sustainability"
      },
      {
        "line": 119,
        "token": "custom",
        "context": "- Get custom features for your needs"
      },
      {
        "line": 120,
        "token": "integration",
        "context": "- Receive integration support"
      },
      {
        "line": 121,
        "token": "your",
        "context": "- Show your commitment to open source"
      },
      {
        "line": 122,
        "token": "visibility",
        "context": "- Marketing visibility to our user base"
      },
      {
        "line": 126,
        "token": "transformed",
        "context": "> \"MCP Memory Service transformed how our AI assistants manage context. The semantic search is incredibly fast and accurate.\" - *Production User*"
      },
      {
        "line": 128,
        "token": "tag",
        "context": "> \"The tag system and memory maintenance features saved us hours of manual organization work.\" - *Enterprise User*"
      },
      {
        "line": 132,
        "token": "custom",
        "context": "For custom sponsorship packages or enterprise inquiries:"
      },
      {
        "line": 134,
        "token": "our",
        "context": "- Discord: [Join our community](https://discord.gg/cc4BU9Hqfinder)"
      },
      {
        "line": 135,
        "token": "conversation",
        "context": "- GitHub Discussions: [Start a conversation](https://github.com/doobidoo/mcp-memory-service/discussions)"
      },
      {
        "line": 139,
        "token": "sponsorship",
        "context": "Every sponsorship, no matter the size, makes a difference. Your support enables continued development, better documentation, and a stronger community around MCP"
      },
      {
        "line": 141,
        "token": "building",
        "context": "Together, we're building the future of AI memory management!"
      },
      {
        "line": 145,
        "token": "align",
        "context": "<p align=\"center\">"
      },
      {
        "line": 146,
        "token": "href",
        "context": "<a href=\"https://github.com/doobidoo/mcp-memory-service\">"
      },
      {
        "line": 147,
        "token": "img",
        "context": "<img src=\"https://img.shields.io/github/stars/doobidoo/mcp-memory-service?style=social\" />"
      },
      {
        "line": 149,
        "token": "href",
        "context": "<a href=\"https://github.com/doobidoo/mcp-memory-service/fork\">"
      },
      {
        "line": 150,
        "token": "img",
        "context": "<img src=\"https://img.shields.io/github/forks/doobidoo/mcp-memory-service?style=social\" />"
      }
    ],
    "structure_diff": {
      "heading": [
        26,
        27
      ]
    }
  },
  {
    "english": "archive/docs-removed-2025-08-23/UBUNTU_SETUP.md",
    "chinese": "archive/docs-removed-2025-08-23/UBUNTU_SETUP_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "guide",
        "context": "This guide shows how to set up the MCP Memory Service with SQLite-vec backend on Ubuntu for integration with Claude Code and VS Code."
      },
      {
        "line": 12,
        "token": "have",
        "context": "You have successfully completed:"
      },
      {
        "line": 13,
        "token": "installation",
        "context": "- âœ… SQLite-vec installation and testing"
      },
      {
        "line": 14,
        "token": "dependencies",
        "context": "- âœ… Basic dependencies (sentence-transformers, torch, mcp)"
      },
      {
        "line": 15,
        "token": "configuration",
        "context": "- âœ… Environment configuration"
      },
      {
        "line": 19,
        "token": "machine",
        "context": "Your Ubuntu machine now has:"
      },
      {
        "line": 39,
        "token": "not",
        "context": "If not already installed:"
      },
      {
        "line": 53,
        "token": "automatically",
        "context": "This automatically:"
      },
      {
        "line": 54,
        "token": "installation",
        "context": "- Detects Claude Code installation"
      },
      {
        "line": 55,
        "token": "personalized",
        "context": "- Creates personalized .mcp.json from template"
      },
      {
        "line": 56,
        "token": "placeholder",
        "context": "- Replaces placeholder paths with your system paths"
      },
      {
        "line": 57,
        "token": "optimized",
        "context": "- Adds optimized environment variables"
      },
      {
        "line": 58,
        "token": "gitignore",
        "context": "- Adds .mcp.json to .gitignore (protects personal info)"
      },
      {
        "line": 59,
        "token": "configuration",
        "context": "- Verifies the configuration works"
      },
      {
        "line": 79,
        "token": "system",
        "context": "The system uses a template-based approach to protect personal information:"
      },
      {
        "line": 81,
        "token": "shared",
        "context": "- **Template**: .mcp.json.template (shared, no personal data)"
      },
      {
        "line": 82,
        "token": "personalized",
        "context": "- **Generated**: .mcp.json (personalized, automatically added to .gitignore)"
      },
      {
        "line": 83,
        "token": "replaced",
        "context": "- **Placeholders**: {{USER_HOME}} replaced with your actual home directory"
      },
      {
        "line": 87,
        "token": "database",
        "context": "Your SQLite-vec database will be created at:"
      },
      {
        "line": 92,
        "token": "single",
        "context": "This single file contains all your memories and can be easily backed up."
      },
      {
        "line": 96,
        "token": "running",
        "context": "With the MCP Memory Service running, Claude Code can:"
      },
      {
        "line": 98,
        "token": "memories",
        "context": "- **Store memories**: \"Remember that I prefer using Ubuntu for development\""
      },
      {
        "line": 99,
        "token": "memories",
        "context": "- **Retrieve memories**: \"What did I tell you about my development preferences?\""
      },
      {
        "line": 100,
        "token": "tags",
        "context": "- **Search by tags**: Find memories with specific topics"
      },
      {
        "line": 101,
        "token": "recall",
        "context": "- **Time-based recall**: \"What did we discuss yesterday about databases?\""
      },
      {
        "line": 105,
        "token": "backend",
        "context": "SQLite-vec backend provides:"
      },
      {
        "line": 106,
        "token": "less",
        "context": "- **75% less memory usage** vs ChromaDB"
      },
      {
        "line": 107,
        "token": "startup",
        "context": "- **Faster startup times** (2-3x faster)"
      },
      {
        "line": 108,
        "token": "file",
        "context": "- **Single file database** (easy backup/share)"
      },
      {
        "line": 109,
        "token": "memories",
        "context": "- **Better for <100K memories**"
      },
      {
        "line": 122,
        "token": "available",
        "context": "### Option 2: MCP Extension (if available)"
      },
      {
        "line": 137,
        "token": "needed",
        "context": "## ğŸ”„ Migration from ChromaDB (if needed)"
      },
      {
        "line": 139,
        "token": "you",
        "context": "If you have existing ChromaDB data to migrate:"
      },
      {
        "line": 163,
        "token": "when",
        "context": "### Full Test (when server is ready)"
      },
      {
        "line": 202,
        "token": "your",
        "context": "Add to your `~/.bashrc` for permanent configuration:"
      },
      {
        "line": 212,
        "token": "memories",
        "context": "| Memory Usage (1K memories) | ~200MB | ~50MB | 75% less |"
      },
      {
        "line": 213,
        "token": "faster",
        "context": "| Startup Time | ~5-10s | ~2-3s | 2-3x faster |"
      },
      {
        "line": 214,
        "token": "less",
        "context": "| Disk Usage | ~50MB | ~35MB | 30% less |"
      },
      {
        "line": 219,
        "token": "using",
        "context": "1. **Start using the memory service** with Claude Code"
      },
      {
        "line": 220,
        "token": "development",
        "context": "2. **Store development notes** and project information"
      },
      {
        "line": 221,
        "token": "your",
        "context": "3. **Build up your memory database** over time"
      },
      {
        "line": 222,
        "token": "faster",
        "context": "4. **Enjoy faster, lighter memory operations**"
      },
      {
        "line": 226,
        "token": "you",
        "context": "If you encounter issues:"
      },
      {
        "line": 227,
        "token": "troubleshooting",
        "context": "1. Check the troubleshooting section above"
      },
      {
        "line": 228,
        "token": "sqlite-vec-backend.md",
        "context": "2. Review the [SQLite-vec Backend Guide](../sqlite-vec-backend.md)"
      },
      {
        "line": 231,
        "token": "setup",
        "context": "Your Ubuntu setup is ready for high-performance memory operations with Claude Code! ğŸš€"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/authentication.md",
    "chinese": "archive/docs-removed-2025-08-23/authentication_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide provides comprehensive information about API key authentication in MCP Memory Service, including setup, configuration, security best practices, and t"
      },
      {
        "line": 10,
        "token": "supports",
        "context": "MCP Memory Service supports optional API key authentication for HTTP-based deployments. When enabled, all HTTP API requests must include a valid API key in the "
      },
      {
        "line": 16,
        "token": "key",
        "context": "API key authentication is controlled by the `MCP_API_KEY` environment variable:"
      },
      {
        "line": 26,
        "token": "not",
        "context": "**Important**: When `MCP_API_KEY` is not set or empty, the HTTP API runs without authentication. This is suitable for local development but **not recommended fo"
      },
      {
        "line": 32,
        "token": "recommended",
        "context": "**1. OpenSSL (recommended)**"
      },
      {
        "line": 65,
        "token": "length",
        "context": "- **Minimum length**: 16 characters (32+ recommended)"
      },
      {
        "line": 66,
        "token": "set",
        "context": "- **Character set**: Use URL-safe characters (base64/hex encoding recommended)"
      },
      {
        "line": 67,
        "token": "cryptographically",
        "context": "- **Randomness**: Use cryptographically secure random generation"
      },
      {
        "line": 68,
        "token": "keys",
        "context": "- **Uniqueness**: Different keys for different environments/deployments"
      },
      {
        "line": 74,
        "token": "service",
        "context": "The service installer automatically generates a secure API key:"
      },
      {
        "line": 87,
        "token": "installation",
        "context": "After installation, you can find your API key in several ways:"
      },
      {
        "line": 121,
        "token": "use",
        "context": "Configure Claude Desktop to use API key authentication:"
      },
      {
        "line": 226,
        "token": "store",
        "context": "1. **Environment Variables**: Always store API keys in environment variables, never in code"
      },
      {
        "line": 227,
        "token": "different",
        "context": "2. **Separate Keys**: Use different API keys for different environments (dev/staging/prod)"
      },
      {
        "line": 228,
        "token": "keys",
        "context": "3. **Regular Rotation**: Rotate API keys regularly, especially after team changes"
      },
      {
        "line": 229,
        "token": "secrets",
        "context": "4. **Secure Storage**: Use secrets management systems for production deployments"
      },
      {
        "line": 233,
        "token": "key",
        "context": "1. **Principle of Least Privilege**: Limit API key access to necessary personnel only"
      },
      {
        "line": 234,
        "token": "security",
        "context": "2. **Network Security**: Combine with network-level security (VPN, firewall rules)"
      },
      {
        "line": 235,
        "token": "HTTPS",
        "context": "3. **HTTPS Only**: Always use HTTPS in production to encrypt API key transmission"
      },
      {
        "line": 236,
        "token": "authentication",
        "context": "4. **Monitoring**: Log authentication failures (but never log the keys themselves)"
      },
      {
        "line": 241,
        "token": "secure",
        "context": "- Use secure channels for key distribution (encrypted messaging, secrets management)"
      },
      {
        "line": 242,
        "token": "keys",
        "context": "- Store keys in secure configuration management systems"
      },
      {
        "line": 243,
        "token": "different",
        "context": "- Use different keys for different services/environments"
      },
      {
        "line": 244,
        "token": "key",
        "context": "- Document key ownership and rotation procedures"
      },
      {
        "line": 247,
        "token": "keys",
        "context": "- Share keys via email, chat, or version control"
      },
      {
        "line": 248,
        "token": "same",
        "context": "- Use the same key across multiple environments"
      },
      {
        "line": 249,
        "token": "keys",
        "context": "- Store keys in plain text files or databases"
      },
      {
        "line": 250,
        "token": "keys",
        "context": "- Include keys in error messages or logs"
      },
      {
        "line": 256,
        "token": "service",
        "context": "1. **Stop the service:**"
      },
      {
        "line": 261,
        "token": "new",
        "context": "2. **Generate new key:**"
      },
      {
        "line": 267,
        "token": "service",
        "context": "3. **Update service configuration:**"
      },
      {
        "line": 278,
        "token": "client",
        "context": "4. **Update client configurations:**"
      },
      {
        "line": 279,
        "token": "config",
        "context": "- Update Claude Desktop config"
      },
      {
        "line": 280,
        "token": "application",
        "context": "- Update application environment variables"
      },
      {
        "line": 281,
        "token": "any",
        "context": "- Update any scripts or automation"
      },
      {
        "line": 283,
        "token": "service",
        "context": "5. **Restart the service:**"
      },
      {
        "line": 290,
        "token": "environment",
        "context": "1. **Update environment variable:**"
      },
      {
        "line": 295,
        "token": "server",
        "context": "2. **Restart the server:**"
      },
      {
        "line": 302,
        "token": "new",
        "context": "3. **Test with new key:**"
      },
      {
        "line": 323,
        "token": "header",
        "context": "1. **Missing Authorization header**"
      },
      {
        "line": 332,
        "token": "header",
        "context": "2. **Incorrect header format**"
      },
      {
        "line": 341,
        "token": "key",
        "context": "3. **Wrong API key**"
      },
      {
        "line": 358,
        "token": "key",
        "context": "1. Verify the API key matches the server configuration"
      },
      {
        "line": 359,
        "token": "whitespace",
        "context": "2. Check for whitespace or encoding issues in the key"
      },
      {
        "line": 360,
        "token": "key",
        "context": "3. Ensure the key hasn't been rotated on the server"
      },
      {
        "line": 364,
        "token": "server",
        "context": "**Check server status:**"
      },
      {
        "line": 381,
        "token": "simple",
        "context": "Create a simple test script:"
      },
      {
        "line": 414,
        "token": "debug",
        "context": "Enable debug logging in the server:"
      },
      {
        "line": 424,
        "token": "logs",
        "context": "Debug logs will show:"
      },
      {
        "line": 425,
        "token": "request",
        "context": "- Incoming request headers"
      },
      {
        "line": 426,
        "token": "attempts",
        "context": "- Authentication attempts"
      },
      {
        "line": 427,
        "token": "key",
        "context": "- API key validation results"
      },
      {
        "line": 433,
        "token": "needed",
        "context": "- **Development**: As needed (after security incidents)"
      },
      {
        "line": 435,
        "token": "after",
        "context": "- **Production**: Quarterly (or after team changes)"
      },
      {
        "line": 439,
        "token": "production",
        "context": "For production systems requiring zero downtime:"
      },
      {
        "line": 441,
        "token": "support",
        "context": "1. **Multiple Keys**: Implement support for multiple valid keys"
      },
      {
        "line": 443,
        "token": "new",
        "context": "- Add new key to server (both keys valid)"
      },
      {
        "line": 444,
        "token": "all",
        "context": "- Update all clients to use new key"
      },
      {
        "line": 445,
        "token": "old",
        "context": "- Remove old key from server"
      },
      {
        "line": 446,
        "token": "authentication",
        "context": "3. **Monitoring**: Watch for authentication failures during transition"
      },
      {
        "line": 450,
        "token": "case",
        "context": "In case of key compromise:"
      },
      {
        "line": 452,
        "token": "compromised",
        "context": "1. **Immediate**: Rotate the compromised key"
      },
      {
        "line": 453,
        "token": "access",
        "context": "2. **Audit**: Check access logs for unauthorized usage"
      },
      {
        "line": 454,
        "token": "relevant",
        "context": "3. **Notify**: Inform relevant team members"
      },
      {
        "line": 455,
        "token": "rotation",
        "context": "4. **Review**: Update rotation procedures as needed"
      },
      {
        "line": 503,
        "token": "keys",
        "context": "- API keys provide access to potentially sensitive memory data"
      },
      {
        "line": 504,
        "token": "appropriate",
        "context": "- Implement appropriate data classification and handling procedures"
      },
      {
        "line": 505,
        "token": "encryption",
        "context": "- Consider encryption at rest for stored memories"
      },
      {
        "line": 506,
        "token": "audit",
        "context": "- Maintain audit logs of API access"
      },
      {
        "line": 510,
        "token": "organizations",
        "context": "For organizations subject to compliance requirements:"
      },
      {
        "line": 512,
        "token": "key",
        "context": "1. **Key Lifecycle Management**: Document key generation, distribution, rotation, and revocation"
      },
      {
        "line": 513,
        "token": "all",
        "context": "2. **Access Logging**: Log all API access attempts (successful and failed)"
      },
      {
        "line": 514,
        "token": "key",
        "context": "3. **Regular Audits**: Review API key usage and access patterns"
      },
      {
        "line": 515,
        "token": "procedures",
        "context": "4. **Incident Response**: Prepare procedures for key compromise scenarios"
      },
      {
        "line": 519,
        "token": "key",
        "context": "Proper API key management is essential for secure MCP Memory Service deployments. Follow the guidelines in this document to ensure your memory service remains s"
      },
      {
        "line": 521,
        "token": "additional",
        "context": "For additional security questions or advanced deployment scenarios, consult the [Multi-Client Deployment Guide](../deployment/multi-client-server.md) and [Servi"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/claude-code-compatibility.md",
    "chinese": "archive/docs-removed-2025-08-23/claude-code-compatibility_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "server",
        "context": "The MCP Memory Service FastAPI server v4.0.0-alpha.1 implements the official MCP protocol but has specific compatibility considerations with Claude Code's SSE c"
      },
      {
        "line": 13,
        "token": "mcp",
        "context": "- **Standard MCP Libraries**: Python `mcp` package, JavaScript MCP SDK"
      },
      {
        "line": 14,
        "token": "proper",
        "context": "- **Claude Desktop**: Works with proper MCP configuration"
      },
      {
        "line": 15,
        "token": "client",
        "context": "- **Custom MCP Clients**: Any client implementing standard MCP protocol"
      },
      {
        "line": 16,
        "token": "HTTP",
        "context": "- **HTTP API**: Full REST API access via port 8080"
      },
      {
        "line": 20,
        "token": "client",
        "context": "**Problem**: Claude Code's SSE client has specific header and protocol requirements that don't match the FastMCP server implementation."
      },
      {
        "line": 23,
        "token": "server",
        "context": "- FastMCP server requires `Accept: application/json, text/event-stream` headers"
      },
      {
        "line": 24,
        "token": "client",
        "context": "- Claude Code's SSE client doesn't send the required header combination"
      },
      {
        "line": 25,
        "token": "correctly",
        "context": "- Server correctly rejects invalid SSE connections with proper error messages"
      },
      {
        "line": 35,
        "token": "HTTP",
        "context": "### Option 1: Use HTTP Dashboard"
      },
      {
        "line": 92,
        "token": "exact",
        "context": "- [ ] Investigate Claude Code's exact SSE client requirements"
      },
      {
        "line": 93,
        "token": "compatibility",
        "context": "- [ ] Consider server-side compatibility layer"
      },
      {
        "line": 94,
        "token": "client",
        "context": "- [ ] Expand client compatibility testing"
      },
      {
        "line": 97,
        "token": "implementation",
        "context": "- [ ] Custom SSE implementation for Claude Code compatibility"
      },
      {
        "line": 98,
        "token": "transport",
        "context": "- [ ] Alternative transport protocols (WebSocket, HTTP long-polling)"
      },
      {
        "line": 99,
        "token": "library",
        "context": "- [ ] Client library development"
      },
      {
        "line": 102,
        "token": "team",
        "context": "- [ ] Collaborate with Claude Code team on SSE standardization"
      },
      {
        "line": 103,
        "token": "protocol",
        "context": "- [ ] MCP protocol enhancement proposals"
      },
      {
        "line": 104,
        "token": "client",
        "context": "- [ ] Universal client compatibility layer"
      },
      {
        "line": 108,
        "token": "migration",
        "context": "The FastAPI MCP migration successfully achieved its primary goals:"
      },
      {
        "line": 109,
        "token": "connectivity",
        "context": "- âœ… SSL connectivity issues resolved"
      },
      {
        "line": 110,
        "token": "protocol",
        "context": "- âœ… Standard MCP protocol compliance"
      },
      {
        "line": 111,
        "token": "architecture",
        "context": "- âœ… Production-ready architecture"
      },
      {
        "line": 113,
        "token": "compatibility",
        "context": "The Claude Code compatibility issue is a client-specific limitation that doesn't impact the core migration success. Users have multiple viable workarounds avail"
      },
      {
        "line": 117,
        "token": "HTTP",
        "context": "- **HTTP Dashboard**: http://memory.local:8080/"
      },
      {
        "line": 119,
        "token": "https",
        "context": "- **Issues**: Report at https://github.com/doobidoo/mcp-memory-service/issues"
      },
      {
        "line": 120,
        "token": "docs/guides/claude-code-quickstart.md",
        "context": "- **Claude Commands**: See `docs/guides/claude-code-quickstart.md`"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/claude-code-integration.md",
    "chinese": "archive/docs-removed-2025-08-23/claude-code-integration_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide explains how to integrate the MCP Memory Service with Claude Code, providing two powerful approaches for using persistent memory capabilities in the "
      },
      {
        "line": 10,
        "token": "you",
        "context": "Before you begin, ensure you have:"
      },
      {
        "line": 12,
        "token": "https",
        "context": "1. Installed [Claude Code](https://www.anthropic.com/news/introducing-claude-code) CLI tool"
      },
      {
        "line": 13,
        "token": "your",
        "context": "2. Set up the MCP Memory Service on your machine"
      },
      {
        "line": 14,
        "token": "familiarity",
        "context": "3. Basic familiarity with command-line interfaces"
      },
      {
        "line": 18,
        "token": "offers",
        "context": "The MCP Memory Service offers **two integration methods** with Claude Code:"
      },
      {
        "line": 21,
        "token": "command",
        "context": "**New in v2.2.0** - Direct command syntax following the CCPlugins pattern"
      },
      {
        "line": 24,
        "token": "server",
        "context": "Traditional MCP server approach for deep integration"
      },
      {
        "line": 30,
        "token": "conversational",
        "context": "The **conversational commands approach** provides direct memory operations through Claude Code commands that follow the CCPlugins pattern. This is the **recomme"
      },
      {
        "line": 34,
        "token": "commands",
        "context": "The commands can be installed during the main MCP Memory Service installation:"
      },
      {
        "line": 47,
        "token": "install",
        "context": "Or install them manually:"
      },
      {
        "line": 63,
        "token": "information",
        "context": "Store information in your memory service with automatic context detection and smart tagging."
      },
      {
        "line": 72,
        "token": "project",
        "context": "- Automatic project context detection from current directory"
      },
      {
        "line": 73,
        "token": "tag",
        "context": "- Smart tag generation based on file types and git repository"
      },
      {
        "line": 74,
        "token": "context",
        "context": "- Session context integration"
      },
      {
        "line": 75,
        "token": "enrichment",
        "context": "- Metadata enrichment with timestamps and paths"
      },
      {
        "line": 78,
        "token": "memories",
        "context": "Retrieve memories using natural language time expressions."
      },
      {
        "line": 87,
        "token": "language",
        "context": "- Natural language time parsing (\"yesterday\", \"last Tuesday\", \"two months ago\")"
      },
      {
        "line": 88,
        "token": "filtering",
        "context": "- Context-aware filtering based on current project"
      },
      {
        "line": 89,
        "token": "relevance",
        "context": "- Temporal relevance scoring"
      },
      {
        "line": 90,
        "token": "queries",
        "context": "- Seasonal and event-based queries"
      },
      {
        "line": 93,
        "token": "through",
        "context": "Search through stored memories using tags, content keywords, and semantic similarity."
      },
      {
        "line": 102,
        "token": "filtering",
        "context": "- Tag-based filtering with partial matching"
      },
      {
        "line": 103,
        "token": "content",
        "context": "- Semantic content search using embeddings"
      },
      {
        "line": 104,
        "token": "query",
        "context": "- Combined query support (tags + content)"
      },
      {
        "line": 105,
        "token": "scoring",
        "context": "- Relevance scoring and ranking"
      },
      {
        "line": 108,
        "token": "current",
        "context": "Capture the current conversation and project context as a memory."
      },
      {
        "line": 117,
        "token": "session",
        "context": "- Automatic session analysis and summarization"
      },
      {
        "line": 118,
        "token": "repository",
        "context": "- Git repository state capture"
      },
      {
        "line": 119,
        "token": "change",
        "context": "- File change detection and inclusion"
      },
      {
        "line": 120,
        "token": "decision",
        "context": "- Key decision and insight extraction"
      },
      {
        "line": 123,
        "token": "health",
        "context": "Check the health and status of your MCP Memory Service."
      },
      {
        "line": 132,
        "token": "connectivity",
        "context": "- Service connectivity verification"
      },
      {
        "line": 133,
        "token": "health",
        "context": "- Database health and statistics"
      },
      {
        "line": 134,
        "token": "metrics",
        "context": "- Performance metrics and diagnostics"
      },
      {
        "line": 135,
        "token": "testing",
        "context": "- Auto-discovery testing and troubleshooting"
      },
      {
        "line": 139,
        "token": "automatically",
        "context": "- **Auto-Discovery**: Commands automatically locate your MCP Memory Service via mDNS"
      },
      {
        "line": 140,
        "token": "current",
        "context": "- **Context Awareness**: Understand current project, git repository, and session state"
      },
      {
        "line": 141,
        "token": "handling",
        "context": "- **Error Recovery**: Graceful handling when memory service is unavailable"
      },
      {
        "line": 142,
        "token": "support",
        "context": "- **Cross-Platform**: Full support for Windows, macOS, and Linux"
      },
      {
        "line": 143,
        "token": "both",
        "context": "- **Backend Agnostic**: Works with both ChromaDB and SQLite-vec storage backends"
      },
      {
        "line": 170,
        "token": "users",
        "context": "For users who prefer the traditional MCP server approach or need deeper integration, you can register the MCP Memory Service directly with Claude Code."
      },
      {
        "line": 174,
        "token": "can",
        "context": "You can register the MCP Memory Service to work with Claude Code using the `claude mcp add` command."
      },
      {
        "line": 178,
        "token": "see",
        "context": "To see which MCP servers are already registered with Claude:"
      },
      {
        "line": 186,
        "token": "add",
        "context": "To add the memory service that's running on your local machine:"
      },
      {
        "line": 192,
        "token": "example",
        "context": "For example, if you've installed the memory service using UV (recommended):"
      },
      {
        "line": 198,
        "token": "path",
        "context": "Replace the path elements with the actual paths on your system."
      },
      {
        "line": 202,
        "token": "example",
        "context": "Here's a real-world example of adding the memory service to Claude Code:"
      },
      {
        "line": 208,
        "token": "command",
        "context": "This command:"
      },
      {
        "line": 209,
        "token": "new",
        "context": "1. Registers a new MCP server named \"memory-service\""
      },
      {
        "line": 210,
        "token": "spawn",
        "context": "2. Uses the \"spawn\" transport method, which runs the command when needed"
      },
      {
        "line": 211,
        "token": "full",
        "context": "3. Specifies the full path to the UV command"
      },
      {
        "line": 212,
        "token": "working",
        "context": "4. Sets the working directory to your mcp-memory-service location"
      },
      {
        "line": 213,
        "token": "memory",
        "context": "5. Runs the \"memory\" module"
      },
      {
        "line": 215,
        "token": "running",
        "context": "After running this command, you should see a confirmation message like:"
      },
      {
        "line": 223,
        "token": "registered",
        "context": "Once registered, you can use the memory service directly in your conversations with Claude Code. The memory functions available include:"
      },
      {
        "line": 225,
        "token": "memories",
        "context": "- Storing memories"
      },
      {
        "line": 226,
        "token": "memories",
        "context": "- Retrieving memories based on semantic search"
      },
      {
        "line": 227,
        "token": "information",
        "context": "- Recalling information from specific time periods"
      },
      {
        "line": 228,
        "token": "tags",
        "context": "- Searching by tags"
      },
      {
        "line": 229,
        "token": "many",
        "context": "- And many more"
      },
      {
        "line": 237,
        "token": "you",
        "context": "If you encounter issues with the commands:"
      },
      {
        "line": 240,
        "token": "installed",
        "context": "- Verify Claude Code CLI is installed: `claude --version`"
      },
      {
        "line": 241,
        "token": "commands",
        "context": "- Check commands are installed: `ls ~/.claude/commands/memory-*.md`"
      },
      {
        "line": 242,
        "token": "commands",
        "context": "- Reinstall commands: `python scripts/claude_commands_utils.py`"
      },
      {
        "line": 245,
        "token": "running",
        "context": "- Verify MCP Memory Service is running: `memory --help`"
      },
      {
        "line": 246,
        "token": "service",
        "context": "- Check service health: `claude /memory-health`"
      },
      {
        "line": 247,
        "token": "service",
        "context": "- Ensure service is discoverable via mDNS"
      },
      {
        "line": 250,
        "token": "commands",
        "context": "- Check commands directory permissions: `ls -la ~/.claude/commands/`"
      },
      {
        "line": 251,
        "token": "write",
        "context": "- Ensure write access to the commands directory"
      },
      {
        "line": 255,
        "token": "you",
        "context": "If you encounter issues with MCP server registration:"
      },
      {
        "line": 257,
        "token": "memory",
        "context": "1. Verify the memory service is running properly as a standalone application"
      },
      {
        "line": 258,
        "token": "paths",
        "context": "2. Check that the paths in your `claude mcp add` command are correct"
      },
      {
        "line": 259,
        "token": "you",
        "context": "3. Ensure you have the necessary permissions to execute the specified commands"
      },
      {
        "line": 260,
        "token": "running",
        "context": "4. Try running `claude mcp list` to verify the server was added correctly"
      },
      {
        "line": 265,
        "token": "want",
        "context": "- âœ… You want quick setup with minimal configuration"
      },
      {
        "line": 266,
        "token": "prefer",
        "context": "- âœ… You prefer direct command syntax (`claude /memory-store`)"
      },
      {
        "line": 267,
        "token": "want",
        "context": "- âœ… You want automatic service discovery and context awareness"
      },
      {
        "line": 268,
        "token": "new",
        "context": "- âœ… You're new to MCP and want the simplest approach"
      },
      {
        "line": 269,
        "token": "want",
        "context": "- âœ… You want CCPlugins-compatible command integration"
      },
      {
        "line": 272,
        "token": "need",
        "context": "- âœ… You need deep integration with Claude Code's MCP system"
      },
      {
        "line": 273,
        "token": "want",
        "context": "- âœ… You want to use the service alongside other MCP servers"
      },
      {
        "line": 274,
        "token": "prefer",
        "context": "- âœ… You prefer traditional MCP tool-based interactions"
      },
      {
        "line": 275,
        "token": "need",
        "context": "- âœ… You need maximum control over the server configuration"
      },
      {
        "line": 276,
        "token": "building",
        "context": "- âœ… You're building complex multi-server MCP workflows"
      },
      {
        "line": 280,
        "token": "integration",
        "context": "Both integration methods provide powerful advantages:"
      },
      {
        "line": 283,
        "token": "conversations",
        "context": "1. **Persistent Memory**: Your conversations and stored information persist across sessions"
      },
      {
        "line": 284,
        "token": "can",
        "context": "2. **Semantic Search**: Claude can retrieve relevant information even when not phrased exactly the same way"
      },
      {
        "line": 285,
        "token": "about",
        "context": "3. **Temporal Recall**: Ask about information from specific time periods (e.g., \"last week\", \"yesterday\")"
      },
      {
        "line": 286,
        "token": "tags",
        "context": "4. **Organized Knowledge**: Use tags to categorize and later retrieve information by category"
      },
      {
        "line": 287,
        "token": "understand",
        "context": "5. **Project Context**: Commands understand your current project and development context"
      },
      {
        "line": 290,
        "token": "command",
        "context": "- **Immediate Access**: Direct command syntax without MCP server complexity"
      },
      {
        "line": 291,
        "token": "project",
        "context": "- **Context Integration**: Automatic project and git repository detection"
      },
      {
        "line": 292,
        "token": "fallback",
        "context": "- **Error Recovery**: Graceful fallback when service is unavailable"
      },
      {
        "line": 293,
        "token": "interface",
        "context": "- **User-Friendly**: Conversational interface following established patterns"
      },
      {
        "line": 296,
        "token": "protocol",
        "context": "- **Deep Integration**: Full MCP protocol support with rich tool interactions"
      },
      {
        "line": 297,
        "token": "server",
        "context": "- **Flexible Configuration**: Advanced server configuration options"
      },
      {
        "line": 298,
        "token": "integration",
        "context": "- **Multi-Server Support**: Seamless integration with other MCP servers"
      },
      {
        "line": 299,
        "token": "interactions",
        "context": "- **Protocol Compliance**: Standard MCP tool-based interactions"
      },
      {
        "line": 301,
        "token": "integration",
        "context": "This integration transforms Claude Code into a powerful knowledge management system with long-term memory capabilities, making your development workflow more ef"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/claude-code-quickstart.md",
    "chinese": "archive/docs-removed-2025-08-23/claude-code-quickstart_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "running",
        "context": "Get up and running with MCP Memory Service Claude Code commands in just 2 minutes!"
      },
      {
        "line": 10,
        "token": "https",
        "context": "âœ… [Claude Code CLI](https://claude.ai/code) installed and working"
      },
      {
        "line": 11,
        "token": "pip",
        "context": "âœ… Python 3.10+ with pip"
      },
      {
        "line": 12,
        "token": "minutes",
        "context": "âœ… 5 minutes of your time"
      },
      {
        "line": 23,
        "token": "installer",
        "context": "The installer will:"
      },
      {
        "line": 24,
        "token": "your",
        "context": "- âœ… Detect your Claude Code CLI automatically"
      },
      {
        "line": 25,
        "token": "memory",
        "context": "- âœ… Install the memory service with optimal settings for your system"
      },
      {
        "line": 26,
        "token": "conversational",
        "context": "- âœ… Install 5 conversational memory commands"
      },
      {
        "line": 27,
        "token": "everything",
        "context": "- âœ… Test everything to ensure it works"
      },
      {
        "line": 36,
        "token": "should",
        "context": "You should see a comprehensive health check interface. If you see the command description and interface, you're all set! ğŸ‰"
      },
      {
        "line": 60,
        "token": "now",
        "context": "That's it! You now have powerful memory capabilities integrated directly into Claude Code."
      },
      {
        "line": 66,
        "token": "claude",
        "context": "| `claude /memory-store` | Store information with context | `claude /memory-store \"Important decision about architecture\"` |"
      },
      {
        "line": 67,
        "token": "claude",
        "context": "| `claude /memory-recall` | Retrieve by time expressions | `claude /memory-recall \"what did we decide last week?\"` |"
      },
      {
        "line": 68,
        "token": "claude",
        "context": "| `claude /memory-search` | Search by tags or content | `claude /memory-search --tags \"architecture,database\"` |"
      },
      {
        "line": 69,
        "token": "claude",
        "context": "| `claude /memory-context` | Capture session context | `claude /memory-context --summary \"Planning session\"` |"
      },
      {
        "line": 70,
        "token": "claude",
        "context": "| `claude /memory-health` | Check service status | `claude /memory-health --detailed` |"
      },
      {
        "line": 75,
        "token": "operations",
        "context": "- **Context-aware operations**: Commands automatically detect your current project"
      },
      {
        "line": 76,
        "token": "tagging",
        "context": "- **Smart tagging**: Automatic tag generation based on your work"
      },
      {
        "line": 77,
        "token": "queries",
        "context": "- **Time-based queries**: Natural language like \"yesterday\", \"last week\", \"two months ago\""
      },
      {
        "line": 78,
        "token": "search",
        "context": "- **Semantic search**: Find related information even with different wording"
      },
      {
        "line": 81,
        "token": "claude-code-integration.md",
        "context": "- ğŸ“– [**Full Integration Guide**](claude-code-integration.md) - Complete documentation"
      },
      {
        "line": 82,
        "token": "installation/master-guide.md",
        "context": "- ğŸ”§ [**Installation Master Guide**](../installation/master-guide.md) - Advanced installation options"
      },
      {
        "line": 83,
        "token": "troubleshooting/general.md",
        "context": "- â“ [**Troubleshooting**](../troubleshooting/general.md) - Solutions to common issues"
      },
      {
        "line": 112,
        "token": "https",
        "context": "- ğŸ’¬ [GitHub Issues](https://github.com/doobidoo/mcp-memory-service/issues)"
      },
      {
        "line": 114,
        "token": "https",
        "context": "- ğŸ” [Search Existing Solutions](https://github.com/doobidoo/mcp-memory-service/issues?q=is%3Aissue)"
      },
      {
        "line": 120,
        "token": "server",
        "context": "ğŸš€ **Zero Configuration**: No MCP server setup required"
      },
      {
        "line": 121,
        "token": "your",
        "context": "ğŸ§  **Context Intelligence**: Understands your current project and session"
      },
      {
        "line": 122,
        "token": "commands",
        "context": "ğŸ’¬ **Conversational Interface**: Natural, CCPlugins-compatible commands"
      },
      {
        "line": 123,
        "token": "memory",
        "context": "âš¡ **Instant Access**: Direct command-line memory operations"
      },
      {
        "line": 124,
        "token": "capabilities",
        "context": "ğŸ› ï¸ **Professional Grade**: Enterprise-level capabilities through simple commands"
      },
      {
        "line": 126,
        "token": "your",
        "context": "**Enjoy your enhanced Claude Code experience with persistent memory!** ğŸ‰"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/claude-desktop-setup.md",
    "chinese": "archive/docs-removed-2025-08-23/claude-desktop-setup_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide helps you configure the MCP Memory Service to work with Claude Desktop on Windows without repeated PyTorch downloads."
      },
      {
        "line": 10,
        "token": "was",
        "context": "**Issue**: Claude Desktop was downloading PyTorch models (230MB+) on every startup due to missing offline configuration."
      },
      {
        "line": 12,
        "token": "offline",
        "context": "**Solution**: Added offline mode environment variables to your Claude Desktop config to use cached models."
      },
      {
        "line": 17,
        "token": "offline",
        "context": "- Added offline mode environment variables (`HF_HUB_OFFLINE=1`, `TRANSFORMERS_OFFLINE=1`)"
      },
      {
        "line": 18,
        "token": "cache",
        "context": "- Added cache path configurations"
      },
      {
        "line": 19,
        "token": "your",
        "context": "- Kept your existing SQLite-vec backend setup"
      },
      {
        "line": 22,
        "token": "database",
        "context": "- SQLite-vec database: 434 memories accessible âœ…"
      },
      {
        "line": 23,
        "token": "models",
        "context": "- sentence-transformers: Loading models without downloads âœ…"
      },
      {
        "line": 24,
        "token": "mode",
        "context": "- Offline mode: No network requests when properly configured âœ…"
      },
      {
        "line": 28,
        "token": "active",
        "context": "Your active config at `%APPDATA%\\Claude\\claude_desktop_config.json` now has:"
      },
      {
        "line": 30,
        "token": "single",
        "context": "- **Backend**: SQLite-vec (single database file)"
      },
      {
        "line": 31,
        "token": "memories",
        "context": "- **Database**: `memory_migrated.db` with 434 memories"
      },
      {
        "line": 32,
        "token": "prevent",
        "context": "- **Offline Mode**: Enabled to prevent downloads"
      },
      {
        "line": 33,
        "token": "better",
        "context": "- **UV Package Manager**: For better dependency management"
      },
      {
        "line": 37,
        "token": "anonymized",
        "context": "See `examples/claude_desktop_config_windows.json` for an anonymized template with:"
      },
      {
        "line": 38,
        "token": "backend",
        "context": "- SQLite-vec backend configuration (recommended)"
      },
      {
        "line": 39,
        "token": "alternative",
        "context": "- ChromaDB alternative configuration"
      },
      {
        "line": 40,
        "token": "mode",
        "context": "- Offline mode settings"
      },
      {
        "line": 41,
        "token": "optimizations",
        "context": "- Performance optimizations"
      },
      {
        "line": 43,
        "token": "your",
        "context": "Replace `YOUR_USERNAME` with your actual Windows username."
      },
      {
        "line": 49,
        "token": "were",
        "context": "- These were blocking access to globally installed packages"
      },
      {
        "line": 53,
        "token": "virtual",
        "context": "- Better virtual environment detection"
      },
      {
        "line": 54,
        "token": "path",
        "context": "- Windows-specific path handling"
      },
      {
        "line": 55,
        "token": "access",
        "context": "- Global site-packages access when not blocked"
      },
      {
        "line": 59,
        "token": "model",
        "context": "- Enhanced model cache detection for Windows"
      },
      {
        "line": 60,
        "token": "detection",
        "context": "- Better first-run detection logic"
      },
      {
        "line": 61,
        "token": "cache",
        "context": "- Multiple cache location checking"
      },
      {
        "line": 64,
        "token": "both",
        "context": "Updated both ChromaDB and SQLite-vec storage:"
      },
      {
        "line": 65,
        "token": "hardcoded",
        "context": "- Fixed hardcoded Linux paths"
      },
      {
        "line": 66,
        "token": "offline",
        "context": "- Added offline mode configuration"
      },
      {
        "line": 67,
        "token": "cache",
        "context": "- Better cache path detection"
      },
      {
        "line": 71,
        "token": "updating",
        "context": "After updating your Claude Desktop config:"
      },
      {
        "line": 73,
        "token": "completely",
        "context": "1. **Restart Claude Desktop** completely"
      },
      {
        "line": 74,
        "token": "logs",
        "context": "2. **Check the logs** - you should see:"
      },
      {
        "line": 79,
        "token": "more",
        "context": "3. **No more downloads** - The 230MB PyTorch download should not occur"
      },
      {
        "line": 83,
        "token": "can",
        "context": "You can test the server directly:"
      },
      {
        "line": 88,
        "token": "should",
        "context": "You should see dependency checking passes and models load from cache."
      },
      {
        "line": 92,
        "token": "you",
        "context": "If you still see downloads:"
      },
      {
        "line": 93,
        "token": "your",
        "context": "1. Verify your username in the config paths"
      },
      {
        "line": 94,
        "token": "models",
        "context": "2. Check that models exist in `%USERPROFILE%\\.cache\\huggingface\\hub`"
      },
      {
        "line": 95,
        "token": "has",
        "context": "3. Ensure Claude Desktop has been fully restarted"
      },
      {
        "line": 99,
        "token": "blocking",
        "context": "- `examples/claude_desktop_config_template.json` - Removed blocking env vars"
      },
      {
        "line": 100,
        "token": "config",
        "context": "- `examples/claude_desktop_config_windows.json` - New Windows-specific config"
      },
      {
        "line": 101,
        "token": "path",
        "context": "- `src/mcp_memory_service/server.py` - Enhanced path detection"
      },
      {
        "line": 102,
        "token": "cache",
        "context": "- `src/mcp_memory_service/dependency_check.py` - Better cache detection"
      },
      {
        "line": 103,
        "token": "hardcoded",
        "context": "- `src/mcp_memory_service/storage/sqlite_vec.py` - Fixed hardcoded paths"
      },
      {
        "line": 104,
        "token": "offline",
        "context": "- `src/mcp_memory_service/storage/chroma.py` - Added offline mode support"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/claude_integration.md",
    "chinese": "archive/docs-removed-2025-08-23/claude_integration_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "memory",
        "context": "- Run memory server: `python scripts/run_memory_server.py`"
      },
      {
        "line": 8,
        "token": "tests",
        "context": "- Run tests: `pytest tests/`"
      },
      {
        "line": 9,
        "token": "specific",
        "context": "- Run specific test: `pytest tests/test_memory_ops.py::test_store_memory -v`"
      },
      {
        "line": 10,
        "token": "environment",
        "context": "- Check environment: `python scripts/verify_environment_enhanced.py`"
      },
      {
        "line": 11,
        "token": "installation",
        "context": "- Windows installation: `python scripts/install_windows.py`"
      },
      {
        "line": 12,
        "token": "package",
        "context": "- Build package: `python -m build`"
      },
      {
        "line": 15,
        "token": "install",
        "context": "- Always install in a virtual environment: `python -m venv venv`"
      },
      {
        "line": 16,
        "token": "installation",
        "context": "- Use `install.py` for cross-platform installation"
      },
      {
        "line": 17,
        "token": "requires",
        "context": "- Windows requires special PyTorch installation with correct index URL:"
      },
      {
        "line": 21,
        "token": "recursion",
        "context": "- For recursion errors, run: `python scripts/fix_sitecustomize.py`"
      },
      {
        "line": 24,
        "token": "comprehensive",
        "context": "- See the comprehensive [Invocation Guide](invocation_guide.md) for full details"
      },
      {
        "line": 25,
        "token": "trigger",
        "context": "- Key trigger phrases:"
      },
      {
        "line": 26,
        "token": "remember",
        "context": "- **Storage**: \"remember that\", \"remember this\", \"save to memory\", \"store in memory\""
      },
      {
        "line": 27,
        "token": "you",
        "context": "- **Retrieval**: \"do you remember\", \"recall\", \"retrieve from memory\", \"search your memory for\""
      },
      {
        "line": 28,
        "token": "find",
        "context": "- **Tag-based**: \"find memories with tag\", \"search for tag\", \"retrieve memories tagged\""
      },
      {
        "line": 29,
        "token": "forget",
        "context": "- **Deletion**: \"forget\", \"delete from memory\", \"remove from memory\""
      },
      {
        "line": 32,
        "token": "type",
        "context": "- Python 3.10+ with type hints"
      },
      {
        "line": 33,
        "token": "dataclasses",
        "context": "- Use dataclasses for models (see `models/memory.py`)"
      },
      {
        "line": 34,
        "token": "docstrings",
        "context": "- Triple-quoted docstrings for modules and functions"
      },
      {
        "line": 35,
        "token": "pattern",
        "context": "- Async/await pattern for all I/O operations"
      },
      {
        "line": 36,
        "token": "handling",
        "context": "- Error handling with specific exception types and informative messages"
      },
      {
        "line": 37,
        "token": "appropriate",
        "context": "- Logging with appropriate levels for different severity"
      },
      {
        "line": 38,
        "token": "messages",
        "context": "- Commit messages follow semantic release format: `type(scope): message`"
      },
      {
        "line": 41,
        "token": "package",
        "context": "- `src/mcp_memory_service/` - Core package code"
      },
      {
        "line": 42,
        "token": "models",
        "context": "- `models/` - Data models"
      },
      {
        "line": 43,
        "token": "abstraction",
        "context": "- `storage/` - Database abstraction"
      },
      {
        "line": 44,
        "token": "functions",
        "context": "- `utils/` - Helper functions"
      },
      {
        "line": 45,
        "token": "protocol",
        "context": "- `server.py` - MCP protocol implementation"
      },
      {
        "line": 46,
        "token": "scripts",
        "context": "- `scripts/` - Utility scripts"
      },
      {
        "line": 47,
        "token": "wrapper",
        "context": "- `memory_wrapper.py` - Windows wrapper script"
      },
      {
        "line": 48,
        "token": "installation",
        "context": "- `install.py` - Cross-platform installation script"
      },
      {
        "line": 51,
        "token": "vector",
        "context": "- ChromaDB (0.5.23) for vector database"
      },
      {
        "line": 52,
        "token": "embeddings",
        "context": "- sentence-transformers (>=2.2.2) for embeddings"
      },
      {
        "line": 53,
        "token": "installation",
        "context": "- PyTorch (platform-specific installation)"
      },
      {
        "line": 54,
        "token": "protocol",
        "context": "- MCP protocol (>=1.0.0, <2.0.0) for client-server communication"
      },
      {
        "line": 57,
        "token": "installation",
        "context": "- For Windows installation issues, use `scripts/install_windows.py`"
      },
      {
        "line": 58,
        "token": "requires",
        "context": "- Apple Silicon requires Python 3.10+ built for ARM64"
      },
      {
        "line": 59,
        "token": "issues",
        "context": "- CUDA issues: verify with `torch.cuda.is_available()`"
      },
      {
        "line": 60,
        "token": "protocol",
        "context": "- For MCP protocol issues, check `server.py` for required methods"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/complete-setup-guide.md",
    "chinese": "archive/docs-removed-2025-08-23/complete-setup-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "aging",
        "context": "- **Exponential Decay**: Memory aging with retention periods"
      },
      {
        "line": 10,
        "token": "memory",
        "context": "- **Creative Associations**: Auto-discovery of memory connections"
      },
      {
        "line": 11,
        "token": "algorithm",
        "context": "- **Semantic Clustering**: DBSCAN algorithm grouping"
      },
      {
        "line": 12,
        "token": "char",
        "context": "- **Memory Compression**: 500-char summaries with originals preserved"
      },
      {
        "line": 13,
        "token": "archival",
        "context": "- **Controlled Forgetting**: Relevance-based archival"
      },
      {
        "line": 14,
        "token": "runs",
        "context": "- **Automated Scheduling**: Daily/weekly/monthly runs"
      },
      {
        "line": 16,
        "token": "HTTPS",
        "context": "### ğŸŒ **mDNS Multi-Client HTTPS**"
      },
      {
        "line": 17,
        "token": "clean",
        "context": "- **Service Name**: `memory.local` (clean, no port needed)"
      },
      {
        "line": 18,
        "token": "http._tcp.local.",
        "context": "- **Service Type**: `_http._tcp.local.` (standard HTTP service)"
      },
      {
        "line": 19,
        "token": "standard",
        "context": "- **Port**: 443 (standard HTTPS)"
      },
      {
        "line": 20,
        "token": "client",
        "context": "- **Auto-Discovery**: Zero-configuration client setup"
      },
      {
        "line": 21,
        "token": "HTTPS",
        "context": "- **HTTPS**: Self-signed certificates (auto-generated)"
      },
      {
        "line": 22,
        "token": "all",
        "context": "- **Multi-Interface**: Available on all network interfaces"
      },
      {
        "line": 24,
        "token": "binding",
        "context": "- **Security**: Non-root binding via CAP_NET_BIND_SERVICE"
      },
      {
        "line": 27,
        "token": "boot",
        "context": "- **Systemd Integration**: Starts on boot automatically"
      },
      {
        "line": 28,
        "token": "failures",
        "context": "- **Auto-Restart**: Recovers from failures"
      },
      {
        "line": 29,
        "token": "regular",
        "context": "- **User Service**: Runs as regular user (not root)"
      },
      {
        "line": 30,
        "token": "systemd",
        "context": "- **Logging**: Integrated with systemd journal"
      },
      {
        "line": 82,
        "token": "range",
        "context": "- **Association Discovery**: Similarity range 0.3-0.7, max 100 pairs per run"
      },
      {
        "line": 83,
        "token": "algorithm",
        "context": "- **Clustering**: DBSCAN algorithm, minimum 5 memories per cluster"
      },
      {
        "line": 84,
        "token": "character",
        "context": "- **Compression**: 500 character summaries, preserve originals"
      },
      {
        "line": 85,
        "token": "threshold",
        "context": "- **Forgetting**: Relevance threshold 0.1, 90-day access threshold"
      },
      {
        "line": 91,
        "token": "https",
        "context": "- **Dashboard**: https://localhost:443 or https://memory.local"
      },
      {
        "line": 92,
        "token": "https",
        "context": "- **API Documentation**: https://memory.local/api/docs"
      },
      {
        "line": 93,
        "token": "https",
        "context": "- **Health Check**: https://memory.local/api/health"
      },
      {
        "line": 94,
        "token": "https",
        "context": "- **SSE Events**: https://memory.local/api/events"
      },
      {
        "line": 95,
        "token": "https",
        "context": "- **Connection Stats**: https://memory.local/api/events/stats"
      },
      {
        "line": 98,
        "token": "https",
        "context": "- **Clean mDNS**: https://memory.local (no port needed!)"
      },
      {
        "line": 100,
        "token": "find",
        "context": "- **Auto-Discovery**: Clients find service automatically"
      },
      {
        "line": 101,
        "token": "HTTPS",
        "context": "- **Standard Port**: 443 (HTTPS default)"
      },
      {
        "line": 115,
        "token": "systemctl",
        "context": "### **Direct systemctl Commands**"
      },
      {
        "line": 146,
        "token": "HTTPS",
        "context": "### **4. HTTPS Certificate**"
      },
      {
        "line": 155,
        "token": "service",
        "context": "- `mcp-memory.service` - Systemd service configuration"
      },
      {
        "line": 156,
        "token": "installation",
        "context": "- `install_service.sh` - Service installation script"
      },
      {
        "line": 157,
        "token": "management",
        "context": "- `service_control.sh` - Service management script"
      },
      {
        "line": 158,
        "token": "update",
        "context": "- `update_service.sh` - Configuration update script"
      },
      {
        "line": 159,
        "token": "testing",
        "context": "- `test_service.sh` - Debug testing script"
      },
      {
        "line": 162,
        "token": "startup",
        "context": "- `setup_consolidation_mdns.sh` - Manual startup script"
      },
      {
        "line": 163,
        "token": "comprehensive",
        "context": "- `COMPLETE_SETUP_GUIDE.md` - This comprehensive guide"
      },
      {
        "line": 164,
        "token": "startup",
        "context": "- `STARTUP_SETUP_GUIDE.md` - Original startup guide"
      },
      {
        "line": 170,
        "token": "HTTPS",
        "context": "- **HTTPS Only**: Self-signed certificates for development"
      },
      {
        "line": 171,
        "token": "discovery",
        "context": "- **Local Network**: mDNS discovery limited to local network"
      },
      {
        "line": 174,
        "token": "hkr",
        "context": "- **User Service**: Runs as `hkr` user (not root)"
      },
      {
        "line": 176,
        "token": "removed",
        "context": "- **No Privilege Escalation**: NoNewPrivileges removed for compatibility"
      },
      {
        "line": 271,
        "token": "everything",
        "context": "When everything is working correctly, you should see:"
      },
      {
        "line": 273,
        "token": "active",
        "context": "1. **Service Status**: `Active: active (running)`"
      },
      {
        "line": 274,
        "token": "status",
        "context": "2. **API Response**: `{\"status\": \"healthy\"}`"
      },
      {
        "line": 275,
        "token": "visible",
        "context": "3. **mDNS Discovery**: Service visible on multiple interfaces"
      },
      {
        "line": 276,
        "token": "HTTPS",
        "context": "4. **HTTPS Access**: Dashboard accessible at https://localhost:8000"
      },
      {
        "line": 277,
        "token": "starts",
        "context": "5. **Auto-Startup**: Service starts automatically on boot"
      },
      {
        "line": 278,
        "token": "show",
        "context": "6. **Consolidation**: Logs show consolidation system enabled"
      },
      {
        "line": 279,
        "token": "clients",
        "context": "7. **Client Connections**: Multiple clients can connect simultaneously"
      },
      {
        "line": 283,
        "token": "now",
        "context": "**ğŸ‰ Your MCP Memory Service is now fully operational with consolidation, mDNS auto-discovery, HTTPS, and automatic startup!**"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/database-synchronization.md",
    "chinese": "archive/docs-removed-2025-08-23/database-synchronization_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide covers setting up database synchronization for MCP Memory Service across multiple machines using JSON export/import and Litestream replication."
      },
      {
        "line": 10,
        "token": "synchronization",
        "context": "The synchronization system enables you to maintain consistent memory databases across multiple devices while preserving all original timestamps, metadata, and s"
      },
      {
        "line": 36,
        "token": "creation",
        "context": "- **Timestamp Preservation**: Original creation and update times maintained"
      },
      {
        "line": 37,
        "token": "memory",
        "context": "- **Source Tracking**: Each memory tagged with originating machine"
      },
      {
        "line": 38,
        "token": "hash",
        "context": "- **Deduplication**: Content hash prevents duplicate memories"
      },
      {
        "line": 39,
        "token": "provides",
        "context": "- **Real-time Sync**: Litestream provides near-instant replication"
      },
      {
        "line": 40,
        "token": "comprehensive",
        "context": "- **Conflict Resolution**: Last-write-wins with comprehensive logging"
      },
      {
        "line": 46,
        "token": "installed",
        "context": "- **Python 3.10+** with MCP Memory Service installed"
      },
      {
        "line": 47,
        "token": "database",
        "context": "- **Litestream** for database replication"
      },
      {
        "line": 48,
        "token": "backend",
        "context": "- **SQLite-vec** backend configured"
      },
      {
        "line": 52,
        "token": "connectivity",
        "context": "- **Network connectivity** between all machines"
      },
      {
        "line": 53,
        "token": "disk",
        "context": "- **Sufficient disk space** for database replicas"
      },
      {
        "line": 54,
        "token": "permissions",
        "context": "- **Write permissions** to database directories"
      },
      {
        "line": 60,
        "token": "memories",
        "context": "Export memories from each machine that has existing data:"
      },
      {
        "line": 88,
        "token": "JSON",
        "context": "Transfer the JSON export files to your central server:"
      },
      {
        "line": 103,
        "token": "central",
        "context": "On the central server, import all memories:"
      },
      {
        "line": 117,
        "token": "all",
        "context": "Check that all memories were imported correctly:"
      },
      {
        "line": 170,
        "token": "https",
        "context": "1. Download from [Litestream Releases](https://github.com/benbjohnson/litestream/releases)"
      },
      {
        "line": 172,
        "token": "environment",
        "context": "3. Add to PATH environment variable"
      },
      {
        "line": 176,
        "token": "central",
        "context": "Create `/etc/litestream.yml` on the central server:"
      },
      {
        "line": 199,
        "token": "litestream",
        "context": "**Windows Client** (`C:\\ProgramData\\litestream\\litestream.yml`):"
      },
      {
        "line": 219,
        "token": "HTTP",
        "context": "### Set Up HTTP Server for Replicas"
      },
      {
        "line": 221,
        "token": "central",
        "context": "On the central server, set up a web server to serve Litestream replicas:"
      },
      {
        "line": 223,
        "token": "nginx",
        "context": "**Using nginx:**"
      },
      {
        "line": 239,
        "token": "HTTP",
        "context": "**Using Python HTTP server (for testing):**"
      },
      {
        "line": 311,
        "token": "replica",
        "context": "**On replica machines, perform initial sync:**"
      },
      {
        "line": 333,
        "token": "monitoring",
        "context": "Create a monitoring script to check sync status:"
      },
      {
        "line": 366,
        "token": "replication",
        "context": "Check Litestream replication status:"
      },
      {
        "line": 382,
        "token": "replication",
        "context": "Even with replication, maintain regular backups:"
      },
      {
        "line": 442,
        "token": "replica",
        "context": "**If replica becomes corrupted:**"
      },
      {
        "line": 454,
        "token": "master",
        "context": "**If master fails:**"
      },
      {
        "line": 465,
        "token": "local",
        "context": "- Use local network for replication when possible"
      },
      {
        "line": 466,
        "token": "appropriate",
        "context": "- Configure appropriate sync intervals based on usage"
      },
      {
        "line": 467,
        "token": "bandwidth",
        "context": "- Monitor bandwidth usage"
      },
      {
        "line": 470,
        "token": "operations",
        "context": "- Regular VACUUM operations on master"
      },
      {
        "line": 471,
        "token": "database",
        "context": "- Monitor database size growth"
      },
      {
        "line": 472,
        "token": "checkpoint",
        "context": "- Optimize checkpoint intervals"
      },
      {
        "line": 475,
        "token": "alerts",
        "context": "Set up alerts for:"
      },
      {
        "line": 476,
        "token": "lag",
        "context": "- Replication lag > 60 seconds"
      },
      {
        "line": 477,
        "token": "size",
        "context": "- Database size growth > 10% per day"
      },
      {
        "line": 478,
        "token": "downtime",
        "context": "- Service downtime"
      },
      {
        "line": 479,
        "token": "connectivity",
        "context": "- Network connectivity issues"
      },
      {
        "line": 483,
        "token": "HTTPS",
        "context": "- Use HTTPS for replication endpoints in production"
      },
      {
        "line": 484,
        "token": "proper",
        "context": "- Implement proper authentication for replica access"
      },
      {
        "line": 485,
        "token": "backups",
        "context": "- Encrypt backups and transfer files"
      },
      {
        "line": 486,
        "token": "access",
        "context": "- Monitor access logs for anomalies"
      },
      {
        "line": 487,
        "token": "security",
        "context": "- Regular security audits of sync infrastructure"
      },
      {
        "line": 489,
        "token": "synchronization",
        "context": "This synchronization setup provides robust, real-time database replication while preserving all memory metadata and enabling distributed workflows across multip"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/CLEANUP_PLAN.md",
    "chinese": "archive/docs-removed-2025-08-23/development/CLEANUP_PLAN_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "initialization",
        "context": "- `test_chromadb.py` - Tests ChromaDB initialization with new API pattern"
      },
      {
        "line": 10,
        "token": "health",
        "context": "- `test_health_check_fixes.py` - Tests health check fixes and validation"
      },
      {
        "line": 11,
        "token": "tag",
        "context": "- `test_issue_5_fix.py` - Tests tag deletion functionality"
      },
      {
        "line": 12,
        "token": "performance",
        "context": "- `test_performance_optimizations.py` - Tests performance improvements"
      },
      {
        "line": 15,
        "token": "structured",
        "context": "1. **Create a structured tests directory:**"
      },
      {
        "line": 30,
        "token": "existing",
        "context": "2. **Move existing test files to appropriate directories:**"
      },
      {
        "line": 36,
        "token": "proper",
        "context": "3. **Create a proper test runner:**"
      },
      {
        "line": 37,
        "token": "configuration",
        "context": "- Add `pytest.ini` configuration"
      },
      {
        "line": 38,
        "token": "common",
        "context": "- Add `conftest.py` with common fixtures"
      },
      {
        "line": 39,
        "token": "coveragerc",
        "context": "- Create a `.coveragerc` file for coverage reporting"
      },
      {
        "line": 44,
        "token": "history",
        "context": "- `CHANGELOG.md` - Release history and changes"
      },
      {
        "line": 45,
        "token": "documentation",
        "context": "- `CLAUDE.md` - Claude-specific documentation"
      },
      {
        "line": 46,
        "token": "summary",
        "context": "- `CLEANUP_SUMMARY.md` - Cleanup summary"
      },
      {
        "line": 47,
        "token": "check",
        "context": "- `HEALTH_CHECK_FIXES_SUMMARY.md` - Health check fixes documentation"
      },
      {
        "line": 48,
        "token": "optimization",
        "context": "- `PERFORMANCE_OPTIMIZATION_SUMMARY.md` - Performance optimization documentation"
      },
      {
        "line": 49,
        "token": "project",
        "context": "- `README.md` - Main project documentation"
      },
      {
        "line": 52,
        "token": "implementation",
        "context": "1. **Consolidate implementation documentation:**"
      },
      {
        "line": 70,
        "token": "existing",
        "context": "2. **Move existing documentation:**"
      },
      {
        "line": 71,
        "token": "docs/implementation/health_checks.md",
        "context": "- `HEALTH_CHECK_FIXES_SUMMARY.md` â†’ `docs/implementation/health_checks.md`"
      },
      {
        "line": 72,
        "token": "docs/implementation/performance.md",
        "context": "- `PERFORMANCE_OPTIMIZATION_SUMMARY.md` â†’ `docs/implementation/performance.md`"
      },
      {
        "line": 73,
        "token": "root",
        "context": "- Keep `CHANGELOG.md` in the root directory"
      },
      {
        "line": 74,
        "token": "docs/guides/claude_integration.md",
        "context": "- Move `CLAUDE.md` to `docs/guides/claude_integration.md`"
      },
      {
        "line": 79,
        "token": "directory",
        "context": "- `backup_performance_optimization/` - Archive this directory"
      },
      {
        "line": 80,
        "token": "development",
        "context": "- Any development artifacts that are no longer needed"
      },
      {
        "line": 83,
        "token": "archive",
        "context": "1. **Create an archive directory:**"
      },
      {
        "line": 91,
        "token": "backup",
        "context": "2. **Move backup files to the archive:**"
      },
      {
        "line": 93,
        "token": "archive",
        "context": "- Create a README in the archive directory explaining what's stored there"
      },
      {
        "line": 98,
        "token": "new",
        "context": "1. **Create a new branch for changes:**"
      },
      {
        "line": 103,
        "token": "organize",
        "context": "2. **Add and organize files:**"
      },
      {
        "line": 130,
        "token": "changes",
        "context": "4. **Commit changes:**"
      },
      {
        "line": 136,
        "token": "new",
        "context": "5. **Create new branch for hardware testing:**"
      },
      {
        "line": 143,
        "token": "tests",
        "context": "1. **Run tests to ensure everything still works:**"
      },
      {
        "line": 149,
        "token": "documentation",
        "context": "2. **Verify documentation links are updated:**"
      },
      {
        "line": 150,
        "token": "any",
        "context": "- Check README.md for any links to moved files"
      },
      {
        "line": 151,
        "token": "any",
        "context": "- Update any cross-references in documentation"
      },
      {
        "line": 153,
        "token": "complete",
        "context": "3. **Ensure CHANGELOG is complete:**"
      },
      {
        "line": 154,
        "token": "all",
        "context": "- Verify all changes are documented"
      },
      {
        "line": 155,
        "token": "version",
        "context": "- Check version numbers and dates"
      },
      {
        "line": 157,
        "token": "changes",
        "context": "4. **Track changes in memory:**"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/CLEANUP_README.md",
    "chinese": "archive/docs-removed-2025-08-23/development/CLEANUP_README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "branch",
        "context": "This branch contains cleanup and reorganization changes for the MCP-MEMORY-SERVICE project."
      },
      {
        "line": 11,
        "token": "test",
        "context": "- Restructured test files into proper directories"
      },
      {
        "line": 12,
        "token": "documentation",
        "context": "- Organized documentation into a docs/ directory"
      },
      {
        "line": 13,
        "token": "old",
        "context": "- Archived old backup files"
      },
      {
        "line": 16,
        "token": "entries",
        "context": "- Updated CHANGELOG.md with v1.2.0 entries"
      },
      {
        "line": 17,
        "token": "comprehensive",
        "context": "- Created comprehensive documentation structure"
      },
      {
        "line": 18,
        "token": "each",
        "context": "- Added READMEs for each directory"
      },
      {
        "line": 21,
        "token": "proper",
        "context": "- Created proper pytest configuration"
      },
      {
        "line": 22,
        "token": "fixtures",
        "context": "- Added fixtures for common test scenarios"
      },
      {
        "line": 23,
        "token": "tests",
        "context": "- Organized tests by type (unit, integration, performance)"
      },
      {
        "line": 27,
        "token": "apply",
        "context": "To apply these changes, run:"
      },
      {
        "line": 36,
        "token": "organization",
        "context": "After organization is complete, create a hardware testing branch:"
      },
      {
        "line": 42,
        "token": "changes",
        "context": "The changes have been tracked in the memory system with the tag `memory-driven-development`."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/CLEANUP_SUMMARY.md",
    "chinese": "archive/docs-removed-2025-08-23/development/CLEANUP_SUMMARY_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "files",
        "context": "- **Memory Service**: 11 test/debug files â†’ `/archive/`"
      },
      {
        "line": 13,
        "token": "files",
        "context": "- **Dashboard**: 37 test/debug files â†’ `/archive/test-files/`"
      },
      {
        "line": 14,
        "token": "obsolete",
        "context": "- **Total**: 48 obsolete artifacts safely preserved"
      },
      {
        "line": 63,
        "token": "increased",
        "context": "- âœ… Total Memories: 164 (increased from previous 162)"
      },
      {
        "line": 69,
        "token": "health",
        "context": "1. Database health check âœ…"
      },
      {
        "line": 70,
        "token": "health",
        "context": "2. Dashboard health check âœ…"
      },
      {
        "line": 71,
        "token": "storage",
        "context": "3. Memory storage operation âœ…"
      },
      {
        "line": 72,
        "token": "retrieval",
        "context": "4. Memory retrieval operation âœ…"
      },
      {
        "line": 77,
        "token": "server",
        "context": "- `src/mcp_memory_service/server.py` - Main server"
      },
      {
        "line": 79,
        "token": "core",
        "context": "- All core implementation files"
      },
      {
        "line": 80,
        "token": "files",
        "context": "- Configuration files (pyproject.toml, etc.)"
      },
      {
        "line": 84,
        "token": "directory",
        "context": "- `src/` directory - Main dashboard implementation"
      },
      {
        "line": 85,
        "token": "files",
        "context": "- Configuration files (package.json, vite.config.ts, etc.)"
      },
      {
        "line": 86,
        "token": "scripts",
        "context": "- Build scripts and deployment files"
      },
      {
        "line": 115,
        "token": "backups",
        "context": "1. **Full backups created** before any file operations"
      },
      {
        "line": 116,
        "token": "created",
        "context": "2. **Archives created** instead of deletion (nothing lost)"
      },
      {
        "line": 117,
        "token": "files",
        "context": "3. **Critical files preserved** (especially `server copy.py`)"
      },
      {
        "line": 118,
        "token": "verified",
        "context": "4. **Functionality verified** after cleanup"
      },
      {
        "line": 119,
        "token": "code",
        "context": "5. **Production code untouched**"
      },
      {
        "line": 123,
        "token": "service",
        "context": "1. âœ… Memory service cleanup complete"
      },
      {
        "line": 124,
        "token": "integration",
        "context": "2. ğŸ”„ Dashboard integration testing (next phase)"
      },
      {
        "line": 125,
        "token": "remaining",
        "context": "3. ğŸ¯ Focus on remaining dashboard issues"
      },
      {
        "line": 126,
        "token": "optimization",
        "context": "4. ğŸ“Š Performance optimization if needed"
      },
      {
        "line": 130,
        "token": "organized",
        "context": "**Result: Clean, organized codebase with all production functionality intact! ğŸš€**"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/TIMESTAMP_FIX_SUMMARY.md",
    "chinese": "archive/docs-removed-2025-08-23/development/TIMESTAMP_FIX_SUMMARY_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "memory",
        "context": "The memory recall functionality in mcp-memory-service was experiencing issues with timestamp-based queries. Memories stored with precise timestamps (including s"
      },
      {
        "line": 10,
        "token": "issue",
        "context": "The issue was caused by timestamps being converted to integers at multiple points in the codebase:"
      },
      {
        "line": 12,
        "token": "timestamps",
        "context": "1. **Storage**: In `ChromaMemoryStorage._optimize_metadata_for_chroma()`, timestamps were being stored as `int(memory.created_at)`"
      },
      {
        "line": 13,
        "token": "recall",
        "context": "2. **Querying**: In the `recall()` method, timestamp comparisons were using `int(start_timestamp)` and `int(end_timestamp)`"
      },
      {
        "line": 14,
        "token": "timestamp",
        "context": "3. **Memory Model**: In `Memory.to_dict()`, the timestamp field was being converted to `int(self.created_at)`"
      },
      {
        "line": 16,
        "token": "integer",
        "context": "This integer conversion caused loss of sub-second precision, making all memories within the same second indistinguishable by timestamp."
      },
      {
        "line": 21,
        "token": "line",
        "context": "Changed line 949 in `_optimize_metadata_for_chroma()`:"
      },
      {
        "line": 31,
        "token": "lines",
        "context": "Changed lines 739 and 743 in the `recall()` method:"
      },
      {
        "line": 43,
        "token": "line",
        "context": "Changed line 161 in `Memory.to_dict()`:"
      },
      {
        "line": 53,
        "token": "full",
        "context": "Moved the full ISO date pattern check before the specific date pattern check to prevent \"2024-06-15\" from being incorrectly parsed as \"24-06-15\"."
      },
      {
        "line": 58,
        "token": "timestamp",
        "context": "- Tests for timestamp precision storage"
      },
      {
        "line": 59,
        "token": "natural",
        "context": "- Tests for natural language time parsing"
      },
      {
        "line": 60,
        "token": "various",
        "context": "- Tests for various recall scenarios (yesterday, last week, specific dates)"
      },
      {
        "line": 61,
        "token": "combined",
        "context": "- Tests for combined semantic and time-based recall"
      },
      {
        "line": 62,
        "token": "case",
        "context": "- Edge case tests"
      },
      {
        "line": 65,
        "token": "tests",
        "context": "- Comprehensive tests for all supported time expressions"
      },
      {
        "line": 66,
        "token": "relative",
        "context": "- Tests for relative dates (yesterday, 3 days ago, last week)"
      },
      {
        "line": 67,
        "token": "specific",
        "context": "- Tests for specific date formats (MM/DD/YYYY, YYYY-MM-DD)"
      },
      {
        "line": 68,
        "token": "seasons",
        "context": "- Tests for seasons, holidays, and named periods"
      },
      {
        "line": 69,
        "token": "time",
        "context": "- Tests for time extraction from queries"
      },
      {
        "line": 72,
        "token": "fix",
        "context": "The fix has been verified with:"
      },
      {
        "line": 73,
        "token": "tests",
        "context": "1. Unit tests covering individual components"
      },
      {
        "line": 74,
        "token": "tests",
        "context": "2. Integration tests demonstrating end-to-end functionality"
      },
      {
        "line": 75,
        "token": "tests",
        "context": "3. Precision tests showing that sub-second timestamps are now preserved"
      },
      {
        "line": 78,
        "token": "can",
        "context": "- Memories can now be recalled with precise timestamp filtering"
      },
      {
        "line": 79,
        "token": "precision",
        "context": "- Sub-second precision is maintained throughout storage and retrieval"
      },
      {
        "line": 80,
        "token": "language",
        "context": "- Natural language time expressions work correctly"
      },
      {
        "line": 81,
        "token": "breaking",
        "context": "- No breaking changes to existing functionality"
      },
      {
        "line": 84,
        "token": "adding",
        "context": "1. Consider adding database migration for existing memories with integer timestamps"
      },
      {
        "line": 85,
        "token": "performance",
        "context": "2. Monitor performance impact of float vs integer comparisons in large datasets"
      },
      {
        "line": 86,
        "token": "documentation",
        "context": "3. Add documentation about supported time expressions for users"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/autonomous-memory-consolidation.md",
    "chinese": "archive/docs-removed-2025-08-23/development/autonomous-memory-consolidation_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "document",
        "context": "This document provides a comprehensive guide for implementing the [Dream-Inspired Memory Consolidation System](./dream-inspired-memory-consolidation.md) as a fu"
      },
      {
        "line": 12,
        "token": "memory",
        "context": "**The dream-inspired memory consolidation system can run almost entirely on autopilot** by leveraging the embeddings already generated during memory storage. Th"
      },
      {
        "line": 18,
        "token": "mathematical",
        "context": "Pure mathematical calculations requiring zero AI intervention:"
      },
      {
        "line": 49,
        "token": "existing",
        "context": "Uses existing embeddings with vector mathematics:"
      },
      {
        "line": 107,
        "token": "logic",
        "context": "Rule-based logic with no AI required:"
      },
      {
        "line": 142,
        "token": "statistical",
        "context": "Uses statistical methods instead of generative AI:"
      },
      {
        "line": 402,
        "token": "keys",
        "context": "- No API keys required"
      },
      {
        "line": 403,
        "token": "external",
        "context": "- No external service dependencies"
      },
      {
        "line": 404,
        "token": "internet",
        "context": "- No internet connection needed"
      },
      {
        "line": 405,
        "token": "entirely",
        "context": "- Works entirely offline"
      },
      {
        "line": 408,
        "token": "algorithms",
        "context": "- Deterministic algorithms"
      },
      {
        "line": 409,
        "token": "results",
        "context": "- Reproducible results"
      },
      {
        "line": 410,
        "token": "debug",
        "context": "- Easy to debug and test"
      },
      {
        "line": 411,
        "token": "performance",
        "context": "- Consistent performance"
      },
      {
        "line": 414,
        "token": "ongoing",
        "context": "- Zero ongoing AI costs"
      },
      {
        "line": 415,
        "token": "rate",
        "context": "- No API rate limits"
      },
      {
        "line": 416,
        "token": "billing",
        "context": "- No usage-based billing"
      },
      {
        "line": 417,
        "token": "computational",
        "context": "- Minimal computational resources"
      },
      {
        "line": 420,
        "token": "processing",
        "context": "- All processing stays local"
      },
      {
        "line": 421,
        "token": "data",
        "context": "- No data leaves your system"
      },
      {
        "line": 422,
        "token": "data",
        "context": "- Complete data sovereignty"
      },
      {
        "line": 423,
        "token": "exposure",
        "context": "- No third-party exposure"
      },
      {
        "line": 426,
        "token": "network",
        "context": "- No network latency"
      },
      {
        "line": 427,
        "token": "processing",
        "context": "- Instant processing"
      },
      {
        "line": 428,
        "token": "operations",
        "context": "- Parallel operations possible"
      },
      {
        "line": 429,
        "token": "local",
        "context": "- Scales with local hardware"
      },
      {
        "line": 435,
        "token": "language",
        "context": "| Natural language summaries | âœ… Eloquent prose | âŒ Structured data |"
      },
      {
        "line": 436,
        "token": "reasoning",
        "context": "| Complex reasoning | âœ… Nuanced understanding | âŒ Rule-based logic |"
      },
      {
        "line": 437,
        "token": "quality",
        "context": "| Summary quality | âœ… Human-like | âœ… Statistically representative |"
      },
      {
        "line": 438,
        "token": "costs",
        "context": "| Cost | ğŸ’° Ongoing API costs | âœ… Free after setup |"
      },
      {
        "line": 439,
        "token": "dependent",
        "context": "| Speed | ğŸŒ Network dependent | ğŸš€ Local processing |"
      },
      {
        "line": 440,
        "token": "sent",
        "context": "| Privacy | âš ï¸ Data sent to API | ğŸ”’ Completely private |"
      },
      {
        "line": 441,
        "token": "dependent",
        "context": "| Reliability | âš ï¸ Service dependent | âœ… Always available |"
      },
      {
        "line": 445,
        "token": "required",
        "context": "- [ ] Install required Python packages (numpy, scikit-learn, apscheduler)"
      },
      {
        "line": 446,
        "token": "retention",
        "context": "- [ ] Configure retention periods for your use case"
      },
      {
        "line": 447,
        "token": "clustering",
        "context": "- [ ] Set up clustering thresholds based on your embedding model"
      },
      {
        "line": 448,
        "token": "scheduling",
        "context": "- [ ] Configure scheduling based on your memory volume"
      },
      {
        "line": 449,
        "token": "each",
        "context": "- [ ] Test each component independently"
      },
      {
        "line": 450,
        "token": "initial",
        "context": "- [ ] Monitor initial runs and adjust thresholds"
      },
      {
        "line": 451,
        "token": "logging",
        "context": "- [ ] Set up logging and monitoring"
      },
      {
        "line": 452,
        "token": "backup",
        "context": "- [ ] Create backup strategy for archived memories"
      },
      {
        "line": 456,
        "token": "autonomous",
        "context": "The autonomous implementation proves that sophisticated memory consolidation doesn't require external AI. By leveraging existing embeddings and mathematical alg"
      },
      {
        "line": 458,
        "token": "approach",
        "context": "This approach transforms the dream-inspired concept into a practical, deployable system that can run indefinitely without human intervention or external depende"
      },
      {
        "line": 463,
        "token": "dream-inspired-memory-consolidation.md",
        "context": "- [Dream-Inspired Memory Consolidation System](./dream-inspired-memory-consolidation.md)"
      },
      {
        "line": 464,
        "token": "https",
        "context": "- [Issue #11: Multi-Layered Memory Consolidation](https://github.com/doobidoo/mcp-memory-service/issues/11)"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/dream-inspired-memory-consolidation.md",
    "chinese": "archive/docs-removed-2025-08-23/development/dream-inspired-memory-consolidation_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "document",
        "context": "This document describes an innovative approach to memory consolidation inspired by human cognitive processes during sleep. Originally conceptualized on June 7, "
      },
      {
        "line": 10,
        "token": "complete",
        "context": "> **ğŸ“š Implementation Guide**: For a complete guide on implementing this system autonomously without external AI, see the [Autonomous Memory Consolidation Guide]"
      },
      {
        "line": 14,
        "token": "memory",
        "context": "Traditional memory systems face challenges with:"
      },
      {
        "line": 15,
        "token": "growth",
        "context": "- Unbounded growth leading to performance degradation"
      },
      {
        "line": 16,
        "token": "surfacing",
        "context": "- Difficulty surfacing truly important information"
      },
      {
        "line": 17,
        "token": "creative",
        "context": "- Lack of creative discovery mechanisms"
      },
      {
        "line": 18,
        "token": "natural",
        "context": "- No natural \"forgetting\" process"
      },
      {
        "line": 20,
        "token": "approach",
        "context": "The dream-inspired approach addresses these by mimicking how human brains consolidate memories during sleep cycles."
      },
      {
        "line": 26,
        "token": "naturally",
        "context": "Memories naturally lose relevance over time unless reinforced by connections or access patterns."
      },
      {
        "line": 60,
        "token": "consolidation",
        "context": "During consolidation, the system randomly pairs memories to discover non-obvious connections, similar to how dreams create unexpected associations."
      },
      {
        "line": 104,
        "token": "all",
        "context": "Not all memories need to be retained forever. The system implements intelligent forgetting to maintain efficiency."
      },
      {
        "line": 155,
        "token": "condensed",
        "context": "Create condensed representations of memory clusters for efficient long-term storage."
      },
      {
        "line": 203,
        "token": "entire",
        "context": "**ğŸš€ This entire system can run autonomously without external AI!** The key insight is that the MCP Memory Service already generates embeddings when memories are"
      },
      {
        "line": 205,
        "token": "similarity",
        "context": "- Mathematical similarity calculations (cosine similarity)"
      },
      {
        "line": 206,
        "token": "algorithms",
        "context": "- Clustering algorithms (DBSCAN, hierarchical clustering)"
      },
      {
        "line": 207,
        "token": "summarization",
        "context": "- Statistical summarization (TF-IDF, centroid method)"
      },
      {
        "line": 208,
        "token": "decision",
        "context": "- Rule-based decision making"
      },
      {
        "line": 210,
        "token": "detailed",
        "context": "For detailed implementation without AI dependencies, see the [Autonomous Memory Consolidation Guide](./autonomous-memory-consolidation.md)."
      },
      {
        "line": 214,
        "token": "mechanisms",
        "context": "The dream-inspired mechanisms enhance each consolidation layer:"
      },
      {
        "line": 217,
        "token": "initial",
        "context": "- Calculate initial relevance scores"
      },
      {
        "line": 218,
        "token": "memory",
        "context": "- Identify highly-connected memory clusters"
      },
      {
        "line": 219,
        "token": "memories",
        "context": "- Flag memories showing rapid decay"
      },
      {
        "line": 222,
        "token": "creative",
        "context": "- Run creative association discovery"
      },
      {
        "line": 223,
        "token": "semantic",
        "context": "- Begin semantic compression of stable clusters"
      },
      {
        "line": 224,
        "token": "light",
        "context": "- Apply light pruning to obvious temporary content"
      },
      {
        "line": 227,
        "token": "relevance",
        "context": "- Comprehensive relevance recalculation"
      },
      {
        "line": 228,
        "token": "forgetting",
        "context": "- Controlled forgetting with archival"
      },
      {
        "line": 229,
        "token": "semantic",
        "context": "- Create month-level semantic summaries"
      },
      {
        "line": 232,
        "token": "creative",
        "context": "- Deep creative association analysis"
      },
      {
        "line": 233,
        "token": "semantic",
        "context": "- Major semantic compression operations"
      },
      {
        "line": 234,
        "token": "knowledge",
        "context": "- Identify long-term knowledge structures"
      },
      {
        "line": 237,
        "token": "compression",
        "context": "- Final compression of historical data"
      },
      {
        "line": 238,
        "token": "memories",
        "context": "- Archive rarely-accessed memories"
      },
      {
        "line": 239,
        "token": "knowledge",
        "context": "- Create year-level knowledge maps"
      },
      {
        "line": 325,
        "token": "automatically",
        "context": "1. **Natural Scalability**: System automatically manages growth through decay and forgetting"
      },
      {
        "line": 326,
        "token": "associations",
        "context": "2. **Serendipitous Discovery**: Creative associations reveal unexpected insights"
      },
      {
        "line": 327,
        "token": "human",
        "context": "3. **Cognitive Realism**: Mirrors human memory, making it more intuitive"
      },
      {
        "line": 328,
        "token": "archival",
        "context": "4. **Performance Optimization**: Compression and archival maintain speed"
      },
      {
        "line": 329,
        "token": "relevance",
        "context": "5. **Adaptive Importance**: Memory relevance evolves based on usage and connections"
      },
      {
        "line": 333,
        "token": "memories",
        "context": "- Never auto-delete memories marked as 'critical' or 'important'"
      },
      {
        "line": 334,
        "token": "compress",
        "context": "- Always compress before archiving"
      },
      {
        "line": 335,
        "token": "audit",
        "context": "- Maintain audit trail of all consolidation operations"
      },
      {
        "line": 336,
        "token": "users",
        "context": "- Allow users to recover archived memories"
      },
      {
        "line": 337,
        "token": "options",
        "context": "- Provide options to disable forgetting for specific memory types"
      },
      {
        "line": 341,
        "token": "different",
        "context": "1. **Sleep Cycle Simulation**: Run different consolidation phases at different \"depths\""
      },
      {
        "line": 342,
        "token": "analyze",
        "context": "2. **Dream Journal**: Track and analyze creative associations over time"
      },
      {
        "line": 343,
        "token": "resurface",
        "context": "3. **Memory Replay**: Periodically resurface old memories for potential new connections"
      },
      {
        "line": 344,
        "token": "optimal",
        "context": "4. **Adaptive Decay Rates**: Learn optimal retention periods from user behavior"
      },
      {
        "line": 345,
        "token": "emotional",
        "context": "5. **Emotional Tagging**: Consider emotional context in consolidation decisions"
      },
      {
        "line": 349,
        "token": "https",
        "context": "- ğŸ“‹ [Issue #11: Multi-Layered Memory Consolidation System](https://github.com/doobidoo/mcp-memory-service/issues/11)"
      },
      {
        "line": 350,
        "token": "autonomous-memory-consolidation.md",
        "context": "- ğŸ¤– [Autonomous Memory Consolidation Guide](./autonomous-memory-consolidation.md) - Complete implementation without external AI"
      },
      {
        "line": 351,
        "token": "https",
        "context": "- ğŸ“š [MCP Memory Service Documentation](https://github.com/doobidoo/mcp-memory-service)"
      },
      {
        "line": 355,
        "token": "memory",
        "context": "The dream-inspired memory consolidation system brings biological realism to digital memory management. By implementing natural processes like decay, creative as"
      },
      {
        "line": 357,
        "token": "approach",
        "context": "This approach transforms memory management from a storage problem into a living, breathing system that evolves with its user's needs."
      },
      {
        "line": 361,
        "token": "concept",
        "context": "*Original concept: June 7, 2025*"
      },
      {
        "line": 363,
        "token": "created",
        "context": "*Documentation created: July 28, 2025*"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/hybrid-slm-memory-consolidation.md",
    "chinese": "archive/docs-removed-2025-08-23/development/hybrid-slm-memory-consolidation_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "document",
        "context": "This document extends the [Autonomous Memory Consolidation](./autonomous-memory-consolidation.md) system by selectively incorporating on-device Small Language M"
      },
      {
        "line": 10,
        "token": "optional",
        "context": "> **Note**: This is an optional enhancement. The memory consolidation system works fully autonomously without SLMs, but can provide richer insights when enhance"
      },
      {
        "line": 14,
        "token": "autonomous",
        "context": "The autonomous system excels at:"
      },
      {
        "line": 15,
        "token": "operations",
        "context": "- âœ… Mathematical operations (similarity, clustering)"
      },
      {
        "line": 16,
        "token": "behavior",
        "context": "- âœ… Deterministic behavior"
      },
      {
        "line": 17,
        "token": "dependencies",
        "context": "- âœ… Zero dependencies"
      },
      {
        "line": 18,
        "token": "language",
        "context": "- âŒ Natural language summaries"
      },
      {
        "line": 19,
        "token": "reasoning",
        "context": "- âŒ Complex reasoning about connections"
      },
      {
        "line": 21,
        "token": "add",
        "context": "On-device SLMs add:"
      },
      {
        "line": 22,
        "token": "prose",
        "context": "- âœ… Eloquent prose summaries"
      },
      {
        "line": 23,
        "token": "understanding",
        "context": "- âœ… Nuanced understanding"
      },
      {
        "line": 24,
        "token": "insights",
        "context": "- âœ… Creative insights"
      },
      {
        "line": 25,
        "token": "completely",
        "context": "- âœ… Still completely private (local processing)"
      },
      {
        "line": 32,
        "token": "quantized",
        "context": "- **Size**: ~1.2GB quantized (Q4_K_M)"
      },
      {
        "line": 34,
        "token": "summarization",
        "context": "- **Best for**: Basic summarization, keyword expansion"
      },
      {
        "line": 35,
        "token": "ollama",
        "context": "- **Install**: `ollama pull llama3.2:1b`"
      },
      {
        "line": 54,
        "token": "quantized",
        "context": "- **Size**: ~2.3GB quantized"
      },
      {
        "line": 55,
        "token": "reasoning",
        "context": "- **Strengths**: Exceptional reasoning for size"
      },
      {
        "line": 56,
        "token": "creative",
        "context": "- **Best for**: Analyzing creative connections"
      },
      {
        "line": 57,
        "token": "ollama",
        "context": "- **Install**: `ollama pull phi3:mini`"
      },
      {
        "line": 62,
        "token": "quantized",
        "context": "- **Size**: ~4GB quantized (Q4_K_M)"
      },
      {
        "line": 63,
        "token": "modern",
        "context": "- **Performance**: 20-40 tokens/sec on modern CPU"
      },
      {
        "line": 64,
        "token": "consolidation",
        "context": "- **Best for**: Full consolidation narratives"
      },
      {
        "line": 65,
        "token": "ollama",
        "context": "- **Install**: `ollama pull mistral:7b-instruct-q4_K_M`"
      },
      {
        "line": 93,
        "token": "quantized",
        "context": "- **Size**: ~1.5GB quantized"
      },
      {
        "line": 94,
        "token": "training",
        "context": "- **Strengths**: Google's training quality"
      },
      {
        "line": 95,
        "token": "scoring",
        "context": "- **Best for**: Classification and scoring"
      },
      {
        "line": 96,
        "token": "ollama",
        "context": "- **Install**: `ollama pull gemma:2b`"
      },
      {
        "line": 101,
        "token": "quantized",
        "context": "- **Size**: ~4-5GB quantized"
      },
      {
        "line": 102,
        "token": "complex",
        "context": "- **Strengths**: Multilingual, complex reasoning"
      },
      {
        "line": 103,
        "token": "users",
        "context": "- **Best for**: International users, detailed analysis"
      },
      {
        "line": 104,
        "token": "ollama",
        "context": "- **Install**: `ollama pull qwen2.5:7b-instruct`"
      },
      {
        "line": 489,
        "token": "mini",
        "context": "| Phi-3 mini | 2.3GB | 30-60 | 150-300 | Excellent |"
      },
      {
        "line": 496,
        "token": "multiple",
        "context": "1. **Batch Processing**: Process multiple summaries in one call"
      },
      {
        "line": 497,
        "token": "responses",
        "context": "2. **Caching**: Cache SLM responses for similar inputs"
      },
      {
        "line": 498,
        "token": "fast",
        "context": "3. **Progressive Enhancement**: Start with fast model, upgrade if needed"
      },
      {
        "line": 499,
        "token": "enhancement",
        "context": "4. **Time-based Scheduling**: Run SLM enhancement during off-hours"
      },
      {
        "line": 504,
        "token": "precision",
        "context": "1. **Best of Both Worlds**: Mathematical precision + natural language eloquence"
      },
      {
        "line": 505,
        "token": "disable",
        "context": "2. **Flexible Deployment**: Can disable SLM without breaking system"
      },
      {
        "line": 506,
        "token": "runs",
        "context": "3. **Privacy Preserved**: Everything runs locally"
      },
      {
        "line": 507,
        "token": "only",
        "context": "4. **Resource Efficient**: SLM only when valuable"
      },
      {
        "line": 508,
        "token": "functional",
        "context": "5. **Progressive Enhancement**: Better with SLM, functional without"
      },
      {
        "line": 514,
        "token": "summaries",
        "context": "| Natural summaries | âŒ Structured data | âœ… Eloquent prose |"
      },
      {
        "line": 515,
        "token": "insights",
        "context": "| Creative insights | âŒ Statistical only | âœ… Nuanced understanding |"
      },
      {
        "line": 516,
        "token": "usage",
        "context": "| Resource usage | âœ… Minimal | ğŸ”¶ Moderate |"
      },
      {
        "line": 517,
        "token": "fast",
        "context": "| Speed | âœ… Very fast | ğŸ”¶ Task-dependent |"
      },
      {
        "line": 518,
        "token": "operations",
        "context": "| Deterministic | âœ… Always | ğŸ”¶ Core operations only |"
      },
      {
        "line": 551,
        "token": "small",
        "context": "1. **Fine-tuned Models**: Train small models specifically for memory consolidation"
      },
      {
        "line": 552,
        "token": "different",
        "context": "2. **Multi-Model Ensemble**: Use different models for different tasks"
      },
      {
        "line": 553,
        "token": "choose",
        "context": "3. **Adaptive Model Selection**: Automatically choose model based on task complexity"
      },
      {
        "line": 554,
        "token": "summaries",
        "context": "4. **Streaming Generation**: Process summaries as they generate"
      },
      {
        "line": 555,
        "token": "various",
        "context": "5. **Quantization Optimization**: Test various quantization levels for best trade-offs"
      },
      {
        "line": 559,
        "token": "hybrid",
        "context": "The hybrid approach with on-device SLMs provides the perfect balance between the reliability of autonomous processing and the expressiveness of natural language"
      },
      {
        "line": 561,
        "token": "transforms",
        "context": "This transforms the dream-inspired memory consolidation from a purely algorithmic system into an intelligent assistant that can provide genuine insights while r"
      },
      {
        "line": 566,
        "token": "autonomous-memory-consolidation.md",
        "context": "- ğŸ”§ [Autonomous Memory Consolidation Guide](./autonomous-memory-consolidation.md)"
      },
      {
        "line": 567,
        "token": "dream-inspired-memory-consolidation.md",
        "context": "- ğŸ’­ [Dream-Inspired Memory Consolidation System](./dream-inspired-memory-consolidation.md)"
      },
      {
        "line": 568,
        "token": "https",
        "context": "- ğŸ“‹ [Issue #11: Multi-Layered Memory Consolidation](https://github.com/doobidoo/mcp-memory-service/issues/11)"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/mcp-milestone.md",
    "chinese": "archive/docs-removed-2025-08-23/development/mcp-milestone_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 11,
        "token": "transitioned",
        "context": "Successfully transitioned MCP Memory Service from experimental local-only service to **production-ready remote memory infrastructure** with native MCP protocol "
      },
      {
        "line": 16,
        "token": "beta",
        "context": "- **v4.0.0-beta.1** beta release completed"
      },
      {
        "line": 17,
        "token": "workflows",
        "context": "- Fixed Docker CI/CD workflows (main.yml and publish-and-test.yml)"
      },
      {
        "line": 18,
        "token": "created",
        "context": "- GitHub Release created with comprehensive notes"
      },
      {
        "line": 19,
        "token": "cleanup",
        "context": "- Repository cleanup (3 obsolete branches removed)"
      },
      {
        "line": 22,
        "token": "access",
        "context": "- **Issue #71**: Remote Memory Service access - **FULLY RESOLVED** via FastAPI MCP integration"
      },
      {
        "line": 23,
        "token": "issues",
        "context": "- **Issue #72**: Node.js Bridge SSL issues - **SUPERSEDED** (bridge deprecated in favor of native protocol)"
      },
      {
        "line": 26,
        "token": "critical",
        "context": "Applied critical refactorings from fellow AI Coder:"
      },
      {
        "line": 27,
        "token": "str",
        "context": "- **Flexible ID Validation**: `Optional[Union[str, int]]` supporting both string and integer IDs"
      },
      {
        "line": 28,
        "token": "mcp",
        "context": "- **Dual Route Handling**: Both `/mcp` and `/mcp/` endpoints to prevent 307 redirects"
      },
      {
        "line": 29,
        "token": "implementation",
        "context": "- **Content Hash Generation**: Proper `generate_content_hash()` implementation"
      },
      {
        "line": 32,
        "token": "deployed",
        "context": "- **Remote Server**: Successfully deployed at `your-server-ip:8000`"
      },
      {
        "line": 33,
        "token": "database",
        "context": "- **Backend**: SQLite-vec (1.7MB database, 384-dimensional embeddings)"
      },
      {
        "line": 34,
        "token": "loaded",
        "context": "- **Model**: all-MiniLM-L6-v2 loaded and operational"
      },
      {
        "line": 35,
        "token": "memories",
        "context": "- **Existing Data**: 65 memories already stored"
      },
      {
        "line": 36,
        "token": "protocol",
        "context": "- **API Coverage**: Full MCP protocol + REST API + Dashboard"
      },
      {
        "line": 40,
        "token": "represents",
        "context": "This represents the **successful completion of architectural evolution** from:"
      },
      {
        "line": 41,
        "token": "experimental",
        "context": "- âŒ Local-only experimental service"
      },
      {
        "line": 42,
        "token": "remote",
        "context": "- âœ… Production-ready remote memory infrastructure"
      },
      {
        "line": 45,
        "token": "can",
        "context": "1. **Cross-Device Access**: Claude Code can connect from any device"
      },
      {
        "line": 46,
        "token": "implementation",
        "context": "2. **Protocol Compliance**: Standard MCP JSON-RPC 2.0 implementation"
      },
      {
        "line": 47,
        "token": "design",
        "context": "3. **Scalable Architecture**: Dual-service design (HTTP + MCP)"
      },
      {
        "line": 48,
        "token": "testing",
        "context": "4. **Robust CI/CD**: Automated testing and deployment pipeline"
      },
      {
        "line": 63,
        "token": "http",
        "context": "- ğŸ”§ **MCP Protocol**: `http://your-server-ip:8000/mcp`"
      },
      {
        "line": 64,
        "token": "http",
        "context": "- ğŸ“Š **Dashboard**: `http://your-server-ip:8000/`"
      },
      {
        "line": 65,
        "token": "http",
        "context": "- ğŸ“š **API Docs**: `http://your-server-ip:8000/api/docs`"
      },
      {
        "line": 69,
        "token": "beta",
        "context": "- Monitor beta feedback for v4.0.0 stable release"
      },
      {
        "line": 70,
        "token": "remote",
        "context": "- Continue remote memory service operation"
      },
      {
        "line": 71,
        "token": "integrations",
        "context": "- Support Claude Code integrations across devices"
      },
      {
        "line": 75,
        "token": "milestone",
        "context": "**This milestone marks the successful transformation of MCP Memory Service into a fully operational, remotely accessible, protocol-compliant memory infrastructu"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/multi-client-architecture.md",
    "chinese": "archive/docs-removed-2025-08-23/development/multi-client-architecture_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "document",
        "context": "This document provides technical details about the multi-client architecture implementation in the MCP Memory Service, specifically focusing on the integrated s"
      },
      {
        "line": 10,
        "token": "architecture",
        "context": "The multi-client architecture enables multiple MCP applications to safely share the same memory database concurrently. The latest implementation integrates this"
      },
      {
        "line": 17,
        "token": "system",
        "context": "The system uses a multi-pronged approach to detect MCP clients:"
      },
      {
        "line": 44,
        "token": "configuration",
        "context": "1. **File-based Detection**: Checks for configuration files in standard locations"
      },
      {
        "line": 45,
        "token": "configuration",
        "context": "2. **Content Analysis**: Examines configuration files for MCP-related settings"
      },
      {
        "line": 46,
        "token": "tools",
        "context": "3. **CLI Detection**: Tests for command-line tools (e.g., Claude Code)"
      },
      {
        "line": 47,
        "token": "extensions",
        "context": "4. **Extension Detection**: Identifies IDE extensions that support MCP"
      },
      {
        "line": 52,
        "token": "client",
        "context": "Each client type has a dedicated configuration handler:"
      },
      {
        "line": 86,
        "token": "configuration",
        "context": "Universal configuration templates ensure consistency:"
      },
      {
        "line": 121,
        "token": "mode",
        "context": "Write-Ahead Logging mode enables safe concurrent access:"
      },
      {
        "line": 147,
        "token": "number",
        "context": "- **Multiple Readers**: Any number of clients can read simultaneously"
      },
      {
        "line": 148,
        "token": "client",
        "context": "- **Single Writer**: One client writes at a time, with automatic queuing"
      },
      {
        "line": 149,
        "token": "backoff",
        "context": "- **Retry Logic**: Exponential backoff for lock conflicts"
      },
      {
        "line": 150,
        "token": "second",
        "context": "- **Timeout Handling**: 15-second timeout prevents deadlocks"
      },
      {
        "line": 155,
        "token": "setup",
        "context": "The multi-client setup integrates at specific points in the installation flow:"
      },
      {
        "line": 180,
        "token": "setup",
        "context": "Multi-client setup is offered based on:"
      },
      {
        "line": 201,
        "token": "system",
        "context": "The system implements multiple fallback layers:"
      },
      {
        "line": 232,
        "token": "automated",
        "context": "1. **Automated â†’ Manual**: If automated setup fails, provide manual instructions"
      },
      {
        "line": 233,
        "token": "config",
        "context": "2. **Specific â†’ Generic**: If client-specific config fails, use generic templates"
      },
      {
        "line": 234,
        "token": "users",
        "context": "3. **Integrated â†’ Standalone**: Direct users to standalone setup script"
      },
      {
        "line": 235,
        "token": "provide",
        "context": "4. **Setup â†’ Documentation**: Always provide comprehensive documentation"
      },
      {
        "line": 240,
        "token": "architecture",
        "context": "The architecture is designed for easy extension:"
      },
      {
        "line": 289,
        "token": "current",
        "context": "The current implementation could evolve into a plugin system:"
      },
      {
        "line": 323,
        "token": "support",
        "context": "Multi-client support is limited to SQLite-vec backend because:"
      },
      {
        "line": 325,
        "token": "mode",
        "context": "1. **WAL Mode Support**: SQLite's WAL mode provides robust concurrent access"
      },
      {
        "line": 326,
        "token": "database",
        "context": "2. **File-based Storage**: Single database file simplifies sharing"
      },
      {
        "line": 327,
        "token": "optimized",
        "context": "3. **Performance**: SQLite is optimized for multi-reader scenarios"
      },
      {
        "line": 328,
        "token": "concurrency",
        "context": "4. **Reliability**: Well-tested concurrency mechanisms"
      },
      {
        "line": 329,
        "token": "network",
        "context": "5. **Simplicity**: No network coordination required"
      },
      {
        "line": 332,
        "token": "into",
        "context": "Integration into the main installer provides:"
      },
      {
        "line": 334,
        "token": "learn",
        "context": "1. **Discoverability**: Users learn about multi-client capabilities during installation"
      },
      {
        "line": 335,
        "token": "setup",
        "context": "2. **Convenience**: One-step setup for all MCP applications"
      },
      {
        "line": 336,
        "token": "configuration",
        "context": "3. **Consistency**: Uniform configuration across all clients"
      },
      {
        "line": 337,
        "token": "support",
        "context": "4. **Future-proofing**: Automatic support for new MCP applications"
      },
      {
        "line": 340,
        "token": "configuration",
        "context": "Direct configuration file modification was chosen over:"
      },
      {
        "line": 342,
        "token": "variables",
        "context": "- **Environment variables only**: Would require manual client restart"
      },
      {
        "line": 343,
        "token": "coordination",
        "context": "- **Network-based coordination**: Adds complexity and failure points"
      },
      {
        "line": 344,
        "token": "instructions",
        "context": "- **Copy-paste instructions**: Reduces user experience and increases errors"
      },
      {
        "line": 349,
        "token": "concurrent",
        "context": "- **WAL Mode**: Allows concurrent readers without blocking"
      },
      {
        "line": 350,
        "token": "cache",
        "context": "- **Cache Size**: 20MB cache improves multi-client performance"
      },
      {
        "line": 351,
        "token": "second",
        "context": "- **Busy Timeout**: 15-second timeout prevents deadlocks"
      },
      {
        "line": 352,
        "token": "mode",
        "context": "- **Synchronous Mode**: NORMAL mode balances safety and performance"
      },
      {
        "line": 355,
        "token": "database",
        "context": "- **Shared Database**: Single database reduces total memory usage"
      },
      {
        "line": 356,
        "token": "client",
        "context": "- **Connection Pooling**: Each client maintains its own connection pool"
      },
      {
        "line": 357,
        "token": "mode",
        "context": "- **Cache Coordination**: WAL mode provides implicit cache coordination"
      },
      {
        "line": 360,
        "token": "initialize",
        "context": "- **Lazy Initialization**: Clients initialize storage on first use"
      },
      {
        "line": 361,
        "token": "file",
        "context": "- **Fast Detection**: Configuration file checking is optimized"
      },
      {
        "line": 362,
        "token": "adds",
        "context": "- **Minimal Overhead**: Setup adds <1 second to installation time"
      },
      {
        "line": 367,
        "token": "configuration",
        "context": "- **Path Validation**: All configuration paths are validated before modification"
      },
      {
        "line": 368,
        "token": "configurations",
        "context": "- **Backup Creation**: Original configurations are backed up before changes"
      },
      {
        "line": 369,
        "token": "permissions",
        "context": "- **Permission Checks**: Write permissions verified before attempting changes"
      },
      {
        "line": 372,
        "token": "configuration",
        "context": "- **Template Validation**: All configuration templates are validated"
      },
      {
        "line": 373,
        "token": "user",
        "context": "- **Injection Prevention**: No user input is directly inserted into configurations"
      },
      {
        "line": 374,
        "token": "defaults",
        "context": "- **Safe Defaults**: Conservative defaults used for security-sensitive settings"
      },
      {
        "line": 477,
        "token": "HTTP",
        "context": "1. **HTTP Coordination**: Advanced coordination for 3+ clients"
      },
      {
        "line": 478,
        "token": "validation",
        "context": "2. **Configuration Validation**: Real-time validation of client configurations"
      },
      {
        "line": 479,
        "token": "configuration",
        "context": "3. **Auto-Updates**: Automatic configuration updates for new MCP versions"
      },
      {
        "line": 480,
        "token": "memory",
        "context": "4. **Cloud Sync**: Multi-device memory synchronization"
      },
      {
        "line": 481,
        "token": "plugin",
        "context": "5. **Plugin System**: Formal plugin architecture for client support"
      },
      {
        "line": 484,
        "token": "merge",
        "context": "1. **Conflict Resolution**: Advanced merge strategies for concurrent edits"
      },
      {
        "line": 485,
        "token": "sharding",
        "context": "2. **Performance Optimization**: Database sharding for large-scale deployments"
      },
      {
        "line": 486,
        "token": "communication",
        "context": "3. **Security Enhancements**: Encrypted inter-client communication"
      },
      {
        "line": 487,
        "token": "mobile",
        "context": "4. **Mobile Support**: Extension to mobile MCP applications"
      },
      {
        "line": 489,
        "token": "architecture",
        "context": "This architecture provides a robust, extensible foundation for universal multi-client support in the MCP Memory Service ecosystem."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/development/test-results.md",
    "chinese": "archive/docs-removed-2025-08-23/development/test-results_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "alpha.1",
        "context": "## Version: 4.0.0-alpha.1"
      },
      {
        "line": 13,
        "token": "starts",
        "context": "- âœ… **FastAPI MCP Server starts successfully**"
      },
      {
        "line": 14,
        "token": "localhost",
        "context": "- âœ… **Listening on localhost:8000**"
      },
      {
        "line": 15,
        "token": "protocol",
        "context": "- âœ… **MCP protocol responding correctly**"
      },
      {
        "line": 16,
        "token": "HTTP",
        "context": "- âœ… **Streamable HTTP transport working**"
      },
      {
        "line": 17,
        "token": "management",
        "context": "- âœ… **Session management functional**"
      },
      {
        "line": 20,
        "token": "accepts",
        "context": "- âœ… **Server accepts MCP requests** (responds with proper JSON-RPC)"
      },
      {
        "line": 21,
        "token": "handling",
        "context": "- âœ… **Session ID handling** (creates transport sessions)"
      },
      {
        "line": 22,
        "token": "handling",
        "context": "- âœ… **Error handling** (proper error responses for invalid requests)"
      },
      {
        "line": 23,
        "token": "requirements",
        "context": "- âœ… **Content-type requirements** (requires text/event-stream)"
      },
      {
        "line": 26,
        "token": "core",
        "context": "**âœ… Implemented (5 core tools)**:"
      },
      {
        "line": 27,
        "token": "memories",
        "context": "1. `store_memory` - Store memories with tags and metadata"
      },
      {
        "line": 28,
        "token": "search",
        "context": "2. `retrieve_memory` - Semantic search and retrieval"
      },
      {
        "line": 29,
        "token": "memory",
        "context": "3. `search_by_tag` - Tag-based memory search"
      },
      {
        "line": 30,
        "token": "specific",
        "context": "4. `delete_memory` - Delete specific memories"
      },
      {
        "line": 31,
        "token": "check",
        "context": "5. `check_database_health` - Health check and statistics"
      },
      {
        "line": 34,
        "token": "config",
        "context": "- âœ… **Claude Code config updated** from Node.js bridge to FastAPI MCP"
      },
      {
        "line": 35,
        "token": "config",
        "context": "- âœ… **Old config**: `node examples/http-mcp-bridge.js`"
      },
      {
        "line": 36,
        "token": "config",
        "context": "- âœ… **New config**: `python test_mcp_minimal.py`"
      },
      {
        "line": 37,
        "token": "simplified",
        "context": "- âœ… **Environment simplified** (no complex SSL/endpoint config needed)"
      },
      {
        "line": 42,
        "token": "protocol",
        "context": "- âœ… **Native MCP protocol** (no HTTP-to-MCP translation)"
      },
      {
        "line": 43,
        "token": "implementation",
        "context": "- âœ… **Direct Python implementation** (using official MCP SDK)"
      },
      {
        "line": 44,
        "token": "configuration",
        "context": "- âœ… **Simplified configuration** (no bridging complexity)"
      },
      {
        "line": 45,
        "token": "eliminated",
        "context": "- âœ… **Local SSL eliminated** (direct protocol, no HTTPS needed locally)"
      },
      {
        "line": 48,
        "token": "startup",
        "context": "- âœ… **Fast startup** (~2 seconds to ready state)"
      },
      {
        "line": 49,
        "token": "memory",
        "context": "- âœ… **Low memory usage** (minimal overhead vs Node.js bridge)"
      },
      {
        "line": 50,
        "token": "immediate",
        "context": "- âœ… **Responsive** (immediate MCP protocol responses)"
      },
      {
        "line": 51,
        "token": "clean",
        "context": "- âœ… **Stable** (clean session management)"
      },
      {
        "line": 56,
        "token": "server",
        "context": "1. âœ… **Phase 1A**: Local server testing - SUCCESS"
      },
      {
        "line": 57,
        "token": "configuration",
        "context": "2. âœ… **Phase 1B**: Claude Code configuration - SUCCESS"
      },
      {
        "line": 58,
        "token": "tools",
        "context": "3. ğŸš§ **Phase 1C**: MCP tools testing - PENDING (requires session restart)"
      },
      {
        "line": 61,
        "token": "proven",
        "context": "- âœ… **Foundation proven** - FastAPI MCP architecture works"
      },
      {
        "line": 62,
        "token": "compatibility",
        "context": "- âœ… **Protocol compatibility** - Official MCP SDK integration successful"
      },
      {
        "line": 63,
        "token": "working",
        "context": "- âœ… **Configuration working** - Claude Code can connect to new server"
      },
      {
        "line": 64,
        "token": "structure",
        "context": "- âœ… **Tool structure validated** - 5 core operations implemented"
      },
      {
        "line": 67,
        "token": "session",
        "context": "1. **Restart Claude Code session** to pick up new MCP server config"
      },
      {
        "line": 68,
        "token": "core",
        "context": "2. **Test 5 core MCP tools** with real Claude Code integration"
      },
      {
        "line": 69,
        "token": "issues",
        "context": "3. **Validate SSL issues resolved** (vs Node.js bridge problems)"
      },
      {
        "line": 70,
        "token": "full",
        "context": "4. **Expand to full 22 tools** implementation"
      },
      {
        "line": 71,
        "token": "server",
        "context": "5. **Remote server deployment** planning"
      },
      {
        "line": 76,
        "token": "handshake",
        "context": "- **Problem**: Node.js SSL handshake failures with self-signed certificates"
      },
      {
        "line": 77,
        "token": "server",
        "context": "- **Solution**: Native FastAPI MCP server eliminates SSL layer entirely"
      },
      {
        "line": 78,
        "token": "protocol",
        "context": "- **Result**: Direct MCP protocol communication, no SSL issues possible"
      },
      {
        "line": 81,
        "token": "working",
        "context": "- **FastMCP Framework**: Official MCP Python SDK working perfectly"
      },
      {
        "line": 82,
        "token": "HTTP",
        "context": "- **Streamable HTTP**: Correct transport for Claude Code integration"
      },
      {
        "line": 83,
        "token": "core",
        "context": "- **Tool Structure**: All 5 core memory operations implemented"
      },
      {
        "line": 84,
        "token": "session",
        "context": "- **Session Management**: Proper MCP session lifecycle handling"
      },
      {
        "line": 87,
        "token": "complex",
        "context": "- **Simplified Config**: No complex environment variables needed"
      },
      {
        "line": 88,
        "token": "intermediate",
        "context": "- **Direct Connection**: No intermediate bridging or translation"
      },
      {
        "line": 89,
        "token": "validation",
        "context": "- **Local Testing**: Immediate validation without remote dependencies"
      },
      {
        "line": 90,
        "token": "progression",
        "context": "- **Version Management**: Clean v4.0.0-alpha.1 progression"
      },
      {
        "line": 94,
        "token": "migration",
        "context": "The **FastAPI MCP Server migration is fundamentally successful**. The architecture change from Node.js bridge to native Python MCP server resolves all SSL issue"
      },
      {
        "line": 96,
        "token": "full",
        "context": "**Status**: Ready for full MCP tools integration testing"
      },
      {
        "line": 97,
        "token": "core",
        "context": "**Confidence**: High - core architecture proven to work"
      },
      {
        "line": 98,
        "token": "fallback",
        "context": "**Risk**: Low - fallback to Node.js bridge available if needed"
      },
      {
        "line": 100,
        "token": "validates",
        "context": "This validates our architectural decision and proves the FastAPI MCP approach will solve the remote memory access problems that users have been experiencing."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/distributed-sync.md",
    "chinese": "archive/docs-removed-2025-08-23/distributed-sync_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide provides comprehensive documentation for the distributed memory synchronization system introduced in MCP Memory Service v6.3.0."
      },
      {
        "line": 9,
        "token": "overview",
        "context": "- [Overview](#overview)"
      },
      {
        "line": 10,
        "token": "architecture",
        "context": "- [Architecture](#architecture)"
      },
      {
        "line": 15,
        "token": "troubleshooting",
        "context": "- [Troubleshooting](#troubleshooting)"
      },
      {
        "line": 20,
        "token": "distributed",
        "context": "The distributed memory synchronization system transforms your MCP Memory Service into a distributed architecture with seamless synchronization between local dev"
      },
      {
        "line": 22,
        "token": "workflow",
        "context": "- **Git-like workflow**: Stage â†’ Pull â†’ Apply â†’ Push operations"
      },
      {
        "line": 23,
        "token": "architecture",
        "context": "- **Remote-first architecture**: Direct API communication with local fallback"
      },
      {
        "line": 24,
        "token": "replication",
        "context": "- **Real-time replication**: Litestream integration for live database sync"
      },
      {
        "line": 25,
        "token": "capability",
        "context": "- **Offline capability**: Local staging database for disconnected development"
      },
      {
        "line": 26,
        "token": "conflict",
        "context": "- **Intelligent conflict resolution**: Content hash-based deduplication"
      },
      {
        "line": 27,
        "token": "support",
        "context": "- **Cross-platform support**: Linux, macOS, and Windows compatibility"
      },
      {
        "line": 49,
        "token": "attempts",
        "context": "1. **Remote-First Storage**: `enhanced_memory_store.sh` attempts direct API storage first"
      },
      {
        "line": 50,
        "token": "back",
        "context": "2. **Local Staging**: Falls back to local SQLite database if remote unavailable"
      },
      {
        "line": 51,
        "token": "periodically",
        "context": "3. **Background Sync**: `memory_sync.sh` periodically synchronizes staged changes"
      },
      {
        "line": 52,
        "token": "provides",
        "context": "4. **Real-time Replication**: Litestream provides continuous database backup/sync"
      },
      {
        "line": 53,
        "token": "hash",
        "context": "5. **Conflict Resolution**: Content hash comparison prevents duplicate memories"
      },
      {
        "line": 59,
        "token": "installed",
        "context": "- MCP Memory Service v6.3.0+ installed"
      },
      {
        "line": 60,
        "token": "server",
        "context": "- Remote server accessible via HTTPS (e.g., `narrowbox.local:8443`)"
      },
      {
        "line": 61,
        "token": "backend",
        "context": "- SQLite-vec backend configured on both client and server"
      },
      {
        "line": 65,
        "token": "sync",
        "context": "1. **Install the sync system:**"
      },
      {
        "line": 71,
        "token": "remote",
        "context": "2. **Configure remote connection:**"
      },
      {
        "line": 78,
        "token": "synchronization",
        "context": "3. **Initialize synchronization:**"
      },
      {
        "line": 83,
        "token": "connectivity",
        "context": "4. **Verify connectivity:**"
      },
      {
        "line": 90,
        "token": "memories",
        "context": "**Store memories (remote-first):**"
      },
      {
        "line": 95,
        "token": "changes",
        "context": "**Synchronize changes:**"
      },
      {
        "line": 100,
        "token": "sync",
        "context": "**Check sync status:**"
      },
      {
        "line": 274,
        "token": "sync",
        "context": "The sync system can be installed as a native system service for automatic operation:"
      },
      {
        "line": 276,
        "token": "systemd",
        "context": "#### Linux (systemd)"
      },
      {
        "line": 317,
        "token": "files",
        "context": "Service files are automatically generated during installation:"
      },
      {
        "line": 321,
        "token": "entries",
        "context": "- **Windows**: Registry entries under `HKLM\\SYSTEM\\CurrentControlSet\\Services`"
      },
      {
        "line": 367,
        "token": "verbose",
        "context": "Enable verbose logging for troubleshooting:"
      },
      {
        "line": 377,
        "token": "logs",
        "context": "Sync logs provide detailed operation history:"
      },
      {
        "line": 394,
        "token": "each",
        "context": "1. **Start each session with sync:**"
      },
      {
        "line": 400,
        "token": "storage",
        "context": "2. **Use remote-first storage:**"
      },
      {
        "line": 408,
        "token": "synchronization",
        "context": "3. **Regular synchronization:**"
      },
      {
        "line": 415,
        "token": "session",
        "context": "4. **End session with push:**"
      },
      {
        "line": 423,
        "token": "configuration",
        "context": "1. **Server configuration:**"
      },
      {
        "line": 433,
        "token": "considerations",
        "context": "2. **Security considerations:**"
      },
      {
        "line": 434,
        "token": "HTTPS",
        "context": "- Use HTTPS with valid certificates"
      },
      {
        "line": 435,
        "token": "key",
        "context": "- Configure API key authentication"
      },
      {
        "line": 436,
        "token": "firewall",
        "context": "- Set up firewall rules for port 8443"
      },
      {
        "line": 437,
        "token": "request",
        "context": "- Enable request rate limiting"
      },
      {
        "line": 439,
        "token": "setup",
        "context": "3. **Monitoring setup:**"
      },
      {
        "line": 450,
        "token": "backups",
        "context": "1. **Regular backups:**"
      },
      {
        "line": 457,
        "token": "organization",
        "context": "2. **Content organization:**"
      },
      {
        "line": 463,
        "token": "old",
        "context": "3. **Cleanup old data:**"
      },
      {
        "line": 471,
        "token": "operations",
        "context": "1. **Batch operations:**"
      },
      {
        "line": 476,
        "token": "optimization",
        "context": "2. **Network optimization:**"
      },
      {
        "line": 482,
        "token": "optimization",
        "context": "3. **Storage optimization:**"
      },
      {
        "line": 525,
        "token": "completes",
        "context": "This completes the comprehensive distributed synchronization documentation. The system provides enterprise-grade distributed memory management with offline capa"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/invocation_guide.md",
    "chinese": "archive/docs-removed-2025-08-23/invocation_guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "document",
        "context": "This document outlines the specific keywords and phrases that trigger the MCP memory service in Claude Desktop conversations, along with examples of how to use "
      },
      {
        "line": 10,
        "token": "following",
        "context": "The following keywords and phrases will trigger Claude to store information in the MCP memory service:"
      },
      {
        "line": 14,
        "token": "remember",
        "context": "| \"remember that\" | \"Please remember that my project deadline is May 15th.\" | Most common and reliable trigger |"
      },
      {
        "line": 15,
        "token": "remember",
        "context": "| \"remember this\" | \"Remember this: The database credentials are in the config file.\" | Works well for specific information |"
      },
      {
        "line": 16,
        "token": "save",
        "context": "| \"save to memory\" | \"Save to memory that I prefer dark mode in all applications.\" | Explicit storage command |"
      },
      {
        "line": 17,
        "token": "store",
        "context": "| \"store in memory\" | \"Store in memory that my team meeting is every Tuesday.\" | Explicit storage command |"
      },
      {
        "line": 18,
        "token": "add",
        "context": "| \"add to memory\" | \"Add to memory that the client prefers email communication.\" | Works for appending information |"
      },
      {
        "line": 19,
        "token": "make",
        "context": "| \"make a note\" | \"Make a note that we need to follow up next week.\" | More conversational trigger |"
      },
      {
        "line": 20,
        "token": "remember",
        "context": "| \"remember for later\" | \"Remember for later that we discussed the API integration approach.\" | Implies future retrieval |"
      },
      {
        "line": 21,
        "token": "keep",
        "context": "| \"keep track of\" | \"Keep track of the fact that version 2.3 has this bug.\" | Good for tracking issues |"
      },
      {
        "line": 25,
        "token": "following",
        "context": "The following keywords and phrases will trigger Claude to retrieve information from the MCP memory service:"
      },
      {
        "line": 29,
        "token": "you",
        "context": "| \"do you remember\" | \"Do you remember my favorite color?\" | Natural question format |"
      },
      {
        "line": 30,
        "token": "recall",
        "context": "| \"recall\" | \"Recall what we discussed about the database schema.\" | Direct command for retrieval |"
      },
      {
        "line": 31,
        "token": "what",
        "context": "| \"what did I tell you about\" | \"What did I tell you about my project timeline?\" | Conversational retrieval |"
      },
      {
        "line": 32,
        "token": "retrieve",
        "context": "| \"retrieve from memory\" | \"Retrieve from memory our discussion about authentication.\" | Explicit retrieval command |"
      },
      {
        "line": 33,
        "token": "search",
        "context": "| \"search your memory for\" | \"Search your memory for information about the API design.\" | Useful for specific searches |"
      },
      {
        "line": 34,
        "token": "find",
        "context": "| \"find in your memory\" | \"Find in your memory our discussion from last week.\" | Good for time-based retrieval |"
      },
      {
        "line": 35,
        "token": "check",
        "context": "| \"check your memory for\" | \"Check your memory for the requirements we outlined.\" | Alternative retrieval phrase |"
      },
      {
        "line": 36,
        "token": "what",
        "context": "| \"what do you know about\" | \"What do you know about my team structure?\" | Natural question format |"
      },
      {
        "line": 40,
        "token": "retrieves",
        "context": "When Claude retrieves information from the MCP memory service, it's important to understand how this affects the current conversation:"
      },
      {
        "line": 42,
        "token": "memories",
        "context": "1. **Automatic Context Integration**: When memories are retrieved, they are automatically included in Claude's context for the current conversation. This means "
      },
      {
        "line": 44,
        "token": "your",
        "context": "2. **Trial and Error Retrieval**: If your first retrieval attempt doesn't find the information you're looking for, Claude's responses about \"no matching memorie"
      },
      {
        "line": 46,
        "token": "because",
        "context": "3. **Selective Memory Storage**: Just because information was retrieved doesn't mean the current conversation about that retrieval is automatically stored. The "
      },
      {
        "line": 50,
        "token": "common",
        "context": "A common workflow for effectively using the memory service:"
      },
      {
        "line": 52,
        "token": "your",
        "context": "1. **Initial Retrieval**: \"Search your memory for information about the marketing campaign we discussed.\""
      },
      {
        "line": 54,
        "token": "first",
        "context": "2. **Refinement**: If the first search isn't what you need, you can refine it: \"Try searching for memories with the tag 'Q3 marketing' instead.\""
      },
      {
        "line": 56,
        "token": "there",
        "context": "3. **Further Refinement**: \"Check if there's anything from conversations we had in March about social media strategy.\""
      },
      {
        "line": 58,
        "token": "retrieves",
        "context": "4. **Found Relevant Information**: Once Claude retrieves the information you want, you can continue your conversation based on this information."
      },
      {
        "line": 60,
        "token": "you",
        "context": "5. **Explicit Storage**: If you want the current conversation to be remembered: \"Please remember this conversation about our refined marketing approach with tag"
      },
      {
        "line": 62,
        "token": "approach",
        "context": "This approach lets you search through past memories with multiple attempts until you find what you need, without storing all the search attempts, and then expli"
      },
      {
        "line": 66,
        "token": "walk",
        "context": "Let's walk through a complete example showing what happens behind the scenes when retrieving and using memory:"
      },
      {
        "line": 68,
        "token": "discussing",
        "context": "**Current Conversation Context**: Human and Claude are discussing coreference resolution using FastCoref and Ollama Mistral."
      },
      {
        "line": 72,
        "token": "you",
        "context": "**Human**: \"Do you remember which Mistral model I said I was planning to use?\""
      },
      {
        "line": 75,
        "token": "recognizes",
        "context": "- Claude recognizes the phrase \"Do you remember\" as a memory retrieval trigger"
      },
      {
        "line": 76,
        "token": "calls",
        "context": "- Claude calls the MCP memory service using the `retrieve_memory` function:"
      },
      {
        "line": 80,
        "token": "searches",
        "context": "- MCP searches the ChromaDB vector database using the query embedding"
      },
      {
        "line": 81,
        "token": "finds",
        "context": "- MCP finds a few memories about Mistral but not the specific model information"
      },
      {
        "line": 82,
        "token": "returns",
        "context": "- MCP returns these results to Claude"
      },
      {
        "line": 84,
        "token": "found",
        "context": "**Claude**: \"I found some information about Mistral in my memory, but I don't see specifics about which model you were planning to use. Would you like me to sha"
      },
      {
        "line": 88,
        "token": "checking",
        "context": "**Human**: \"Try checking memories with the tag 'models' or anything from our conversation last Tuesday.\""
      },
      {
        "line": 91,
        "token": "recognizes",
        "context": "- Claude recognizes this as a refined memory retrieval request"
      },
      {
        "line": 92,
        "token": "makes",
        "context": "- Claude makes two MCP function calls:"
      },
      {
        "line": 100,
        "token": "processes",
        "context": "- MCP processes both requests, checking for tag matches and time-based retrieval"
      },
      {
        "line": 101,
        "token": "still",
        "context": "- MCP still doesn't find the exact information and returns partial matches"
      },
      {
        "line": 103,
        "token": "found",
        "context": "**Claude**: \"I found some memories tagged 'models' but nothing specific about which Mistral model you plan to use. I did find a conversation from last Tuesday, "
      },
      {
        "line": 107,
        "token": "your",
        "context": "**Human**: \"Search your memory for anything I mentioned about 'Mistral-7B' specifically.\""
      },
      {
        "line": 110,
        "token": "calls",
        "context": "- Claude calls MCP again with a more specific query:"
      },
      {
        "line": 114,
        "token": "searches",
        "context": "- MCP searches with this specific term"
      },
      {
        "line": 115,
        "token": "finds",
        "context": "- MCP finds a relevant memory about the user planning to use Mistral-7B-Instruct"
      },
      {
        "line": 116,
        "token": "returns",
        "context": "- MCP returns this memory to Claude"
      },
      {
        "line": 118,
        "token": "found",
        "context": "**Claude**: \"I found it! In a previous conversation, you mentioned that you planned to use the Mistral-7B-Instruct model with Ollama because it has good perform"
      },
      {
        "line": 122,
        "token": "based",
        "context": "**Human**: \"Great! So based on that, how should I configure FastCoref to work optimally with Mistral-7B-Instruct via Ollama?\""
      },
      {
        "line": 125,
        "token": "has",
        "context": "- Claude has now incorporated the retrieved memory into its current conversation context"
      },
      {
        "line": 126,
        "token": "additional",
        "context": "- No additional MCP calls are made at this point"
      },
      {
        "line": 127,
        "token": "uses",
        "context": "- Claude uses both the retrieved information and its general knowledge to formulate a response"
      },
      {
        "line": 129,
        "token": "detailed",
        "context": "**Claude**: [Provides detailed information about FastCoref configuration with Mistral-7B-Instruct]"
      },
      {
        "line": 133,
        "token": "was",
        "context": "**Human**: \"This was very helpful. Please remember this conversation about FastCoref configuration with Mistral-7B-Instruct and tag it as 'coreference', 'config"
      },
      {
        "line": 136,
        "token": "recognizes",
        "context": "- Claude recognizes \"Please remember\" as a memory storage trigger"
      },
      {
        "line": 137,
        "token": "calls",
        "context": "- Claude calls the MCP memory storage function:"
      },
      {
        "line": 147,
        "token": "stores",
        "context": "- MCP stores this information in ChromaDB with proper embeddings and metadata"
      },
      {
        "line": 148,
        "token": "confirms",
        "context": "- MCP confirms successful storage to Claude"
      },
      {
        "line": 150,
        "token": "saved",
        "context": "**Claude**: \"I've saved our conversation about FastCoref configuration with Mistral-7B-Instruct and tagged it as requested. You can retrieve this information in"
      },
      {
        "line": 152,
        "token": "example",
        "context": "This example illustrates how multiple retrieval attempts can be made without cluttering memory, and how only the valuable parts of the conversation are stored w"
      },
      {
        "line": 156,
        "token": "retrieve",
        "context": "To retrieve memories based on specific tags, use these phrases:"
      },
      {
        "line": 160,
        "token": "find",
        "context": "| \"find memories with tag\" | \"Find memories with tag 'project'.\" | Explicit tag retrieval |"
      },
      {
        "line": 161,
        "token": "search",
        "context": "| \"search for tag\" | \"Search for tag 'meeting notes'.\" | Simple tag search |"
      },
      {
        "line": 162,
        "token": "retrieve",
        "context": "| \"retrieve memories tagged\" | \"Retrieve memories tagged 'important'.\" | Alternative tag phrase |"
      },
      {
        "line": 163,
        "token": "recall",
        "context": "| \"recall information tagged\" | \"Recall information tagged 'deadline'.\" | Combines recall with tags |"
      },
      {
        "line": 167,
        "token": "retrieving",
        "context": "For retrieving memories based on when they were stored, use these time expressions:"
      },
      {
        "line": 171,
        "token": "yesterday",
        "context": "| \"yesterday\" | \"What did we discuss yesterday?\" | Simple day reference |"
      },
      {
        "line": 172,
        "token": "last",
        "context": "| \"last week\" | \"Recall our conversation from last week.\" | Weekly timeframe |"
      },
      {
        "line": 173,
        "token": "two",
        "context": "| \"two days ago\" | \"What did I tell you two days ago?\" | Specific day count |"
      },
      {
        "line": 174,
        "token": "morning",
        "context": "| \"this morning\" | \"What did we talk about this morning?\" | Time of day reference |"
      },
      {
        "line": 175,
        "token": "last",
        "context": "| \"last month\" | \"Find our discussions from last month about the project.\" | Monthly timeframe |"
      },
      {
        "line": 176,
        "token": "earlier",
        "context": "| \"earlier today\" | \"What did I ask you to remember earlier today?\" | Same-day reference |"
      },
      {
        "line": 180,
        "token": "delete",
        "context": "To delete specific memories or all memories with certain tags:"
      },
      {
        "line": 184,
        "token": "forget",
        "context": "| \"forget\" | \"Please forget what I told you about my address.\" | Used for specific deletion |"
      },
      {
        "line": 185,
        "token": "delete",
        "context": "| \"delete from memory\" | \"Delete from memory our discussion about the old project.\" | Explicit deletion |"
      },
      {
        "line": 186,
        "token": "remove",
        "context": "| \"remove from memory\" | \"Remove from memory everything with tag 'temporary'.\" | Good for tag-based cleanup |"
      },
      {
        "line": 187,
        "token": "clear",
        "context": "| \"clear memories about\" | \"Clear memories about the prototype discussion.\" | Content-based deletion |"
      },
      {
        "line": 191,
        "token": "explicit",
        "context": "1. **Be explicit**: When storing important information, use clear commands like \"Please remember that...\" rather than assuming Claude will store it automaticall"
      },
      {
        "line": 193,
        "token": "tags",
        "context": "2. **Use tags when storing**: Add tags to organize memories: \"Remember that my favorite color is blue, tag this as 'preferences'.\""
      },
      {
        "line": 195,
        "token": "specific",
        "context": "3. **Be specific when retrieving**: The more specific your retrieval request, the more relevant the results will be."
      },
      {
        "line": 197,
        "token": "approaches",
        "context": "4. **Combine approaches**: For complex retrievals, combine techniques: \"Find memories from last week tagged 'project' about the database design.\""
      },
      {
        "line": 199,
        "token": "storage",
        "context": "5. **Confirm storage**: After asking Claude to remember something important, ask it to confirm what it stored to verify it was captured correctly."
      },
      {
        "line": 203,
        "token": "you",
        "context": "When you use these keywords, Claude identifies them as memory-related commands and calls the appropriate MCP memory service functions:"
      },
      {
        "line": 205,
        "token": "storage",
        "context": "1. For storage, Claude calls `store_memory` with your content and optional metadata"
      },
      {
        "line": 206,
        "token": "retrieval",
        "context": "2. For retrieval, Claude calls functions like `retrieve_memory`, `search_by_tag`, or `recall_memory`"
      },
      {
        "line": 207,
        "token": "deletion",
        "context": "3. For deletion, Claude calls `delete_memory` or `delete_by_tag`"
      },
      {
        "line": 209,
        "token": "memory",
        "context": "The MCP memory service stores this information in a vector database (ChromaDB) that allows for semantic searching, so you can retrieve information even if you d"
      },
      {
        "line": 213,
        "token": "system",
        "context": "- The system works best with explicit commands rather than implicit expectations"
      },
      {
        "line": 214,
        "token": "long",
        "context": "- Very long or complex information may be summarized when stored"
      },
      {
        "line": 215,
        "token": "retrieval",
        "context": "- Memory retrieval is based on relevance scoring, so results might not always include everything on a topic"
      },
      {
        "line": 216,
        "token": "expressions",
        "context": "- Time-based expressions need to be clear (e.g., \"last week\" works better than \"recently\")"
      },
      {
        "line": 220,
        "token": "information",
        "context": "1. **Store information**: \"Please remember that our client meeting is scheduled for Thursday at 2 PM, tag this as 'meetings' and 'client'.\""
      },
      {
        "line": 222,
        "token": "storage",
        "context": "2. **Verify storage**: \"What do you know about our upcoming client meeting?\""
      },
      {
        "line": 224,
        "token": "retrieval",
        "context": "3. **Later retrieval**: \"Search your memory for information tagged 'client' from this week.\""
      },
      {
        "line": 226,
        "token": "outdated",
        "context": "4. **Clean up outdated information**: \"Delete from memory information about client meetings that happened more than a month ago.\""
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/macos-intel.md",
    "chinese": "archive/docs-removed-2025-08-23/macos-intel_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide addresses the specific challenges of running MCP Memory Service on Intel-based Mac systems, including both legacy (2013-2017) and modern (2018+) Inte"
      },
      {
        "line": 11,
        "token": "older",
        "context": "**Target Hardware**: 2015 MacBook Pro, older Intel Macs without dedicated GPU"
      },
      {
        "line": 12,
        "token": "compatibility",
        "context": "**Optimization**: Maximum compatibility, minimal resource usage"
      },
      {
        "line": 13,
        "token": "runtime",
        "context": "**Recommended Backend**: SQLite-vec with ONNX runtime"
      },
      {
        "line": 15,
        "token": "specs",
        "context": "**Typical specs this applies to:**"
      },
      {
        "line": 16,
        "token": "inch",
        "context": "- MacBook Pro (15-inch, Mid 2015)"
      },
      {
        "line": 17,
        "token": "inch",
        "context": "- MacBook Pro (13-inch, Early 2015)"
      },
      {
        "line": 18,
        "token": "inch/13-inch",
        "context": "- MacBook Air (11-inch/13-inch, 2013-2017)"
      },
      {
        "line": 19,
        "token": "inch/27-inch",
        "context": "- iMac (21.5-inch/27-inch, 2013-2017) with integrated graphics"
      },
      {
        "line": 22,
        "token": "better",
        "context": "**Target Hardware**: 2018+ Intel Macs with better GPU support"
      },
      {
        "line": 23,
        "token": "performance",
        "context": "**Optimization**: Balanced performance and compatibility"
      },
      {
        "line": 24,
        "token": "optimization",
        "context": "**Recommended Backend**: ChromaDB with CPU optimization"
      },
      {
        "line": 28,
        "token": "systems",
        "context": "Intel-based Mac systems require special consideration for several reasons:"
      },
      {
        "line": 30,
        "token": "has",
        "context": "1. **PyTorch Compatibility**: PyTorch has moved toward optimizing for Apple Silicon, with some compatibility challenges on Intel Macs"
      },
      {
        "line": 31,
        "token": "can",
        "context": "2. **NumPy Version Conflicts**: Newer NumPy 2.x can cause compatibility issues with other ML libraries"
      },
      {
        "line": 32,
        "token": "has",
        "context": "3. **Python Version Sensitivity**: Python 3.13+ has introduced breaking changes that affect ML libraries"
      },
      {
        "line": 33,
        "token": "older",
        "context": "4. **Memory Constraints**: Limited RAM on older systems requires careful resource management"
      },
      {
        "line": 34,
        "token": "dependencies",
        "context": "5. **ChromaDB Installation Issues**: Complex dependencies often fail on older systems"
      },
      {
        "line": 40,
        "token": "recommended",
        "context": "- Python 3.10 (recommended for best compatibility)"
      },
      {
        "line": 41,
        "token": "clone",
        "context": "- Git to clone the repository"
      },
      {
        "line": 42,
        "token": "install",
        "context": "- Xcode Command Line Tools: `xcode-select --install`"
      },
      {
        "line": 46,
        "token": "installer",
        "context": "The installer automatically detects Intel Mac hardware:"
      },
      {
        "line": 61,
        "token": "you",
        "context": "If you prefer manual control:"
      },
      {
        "line": 112,
        "token": "installer",
        "context": "The installer automatically detects legacy hardware by checking:"
      },
      {
        "line": 201,
        "token": "repository",
        "context": "The repository includes several Intel Mac-specific scripts:"
      },
      {
        "line": 205,
        "token": "startup",
        "context": "- `scripts/legacy_intel_mac/run_mcp_memory.sh` - Standard startup script"
      },
      {
        "line": 206,
        "token": "mode",
        "context": "- `scripts/legacy_intel_mac/run_mcp_memory_foreground.sh` - Foreground mode with debugging"
      },
      {
        "line": 207,
        "token": "startup",
        "context": "- `scripts/legacy_intel_mac/start_memory_for_claude.sh` - Claude-optimized startup"
      },
      {
        "line": 226,
        "token": "weight",
        "context": "1. **Use SQLite-vec Backend**: Lighter weight than ChromaDB"
      },
      {
        "line": 227,
        "token": "inference",
        "context": "2. **ONNX Runtime**: CPU-optimized inference"
      },
      {
        "line": 228,
        "token": "model",
        "context": "3. **Memory Management**: Limited model loading and caching"
      },
      {
        "line": 229,
        "token": "compact",
        "context": "4. **Smaller Models**: Use compact sentence transformer models"
      },
      {
        "line": 240,
        "token": "processing",
        "context": "1. **CPU Optimization**: Multi-threaded processing"
      },
      {
        "line": 241,
        "token": "cache",
        "context": "2. **Intelligent Caching**: Larger cache sizes"
      },
      {
        "line": 242,
        "token": "quality",
        "context": "3. **Better Models**: Higher quality embeddings"
      },
      {
        "line": 270,
        "token": "fails",
        "context": "**Symptom**: PyTorch fails to install or import"
      },
      {
        "line": 284,
        "token": "dependency",
        "context": "**Symptom**: ChromaDB dependency issues on legacy hardware"
      },
      {
        "line": 286,
        "token": "backend",
        "context": "**Solution**: Switch to SQLite-vec backend:"
      },
      {
        "line": 294,
        "token": "memory",
        "context": "**Symptom**: Out of memory errors during embedding generation"
      },
      {
        "line": 296,
        "token": "batch",
        "context": "**Solution**: Reduce batch size and enable memory optimization:"
      },
      {
        "line": 361,
        "token": "see",
        "context": "For Intel Macs with Homebrew-installed PyTorch, see the dedicated [Homebrew Integration Guide](../integration/homebrew.md)."
      },
      {
        "line": 367,
        "token": "per",
        "context": "- **Memory Storage**: ~100ms per memory"
      },
      {
        "line": 368,
        "token": "memories",
        "context": "- **Search Operations**: ~200ms for 100 memories"
      },
      {
        "line": 369,
        "token": "short",
        "context": "- **Embedding Generation**: ~500ms for short text"
      },
      {
        "line": 370,
        "token": "baseline",
        "context": "- **Memory Usage**: ~200MB baseline"
      },
      {
        "line": 374,
        "token": "per",
        "context": "- **Memory Storage**: ~50ms per memory"
      },
      {
        "line": 375,
        "token": "memories",
        "context": "- **Search Operations**: ~100ms for 1000 memories"
      },
      {
        "line": 376,
        "token": "short",
        "context": "- **Embedding Generation**: ~200ms for short text"
      },
      {
        "line": 377,
        "token": "baseline",
        "context": "- **Memory Usage**: ~400MB baseline"
      },
      {
        "line": 381,
        "token": "installation/master-guide.md",
        "context": "- [Installation Guide](../installation/master-guide.md) - General installation instructions"
      },
      {
        "line": 382,
        "token": "integration/homebrew.md",
        "context": "- [Homebrew Integration](../integration/homebrew.md) - Homebrew PyTorch setup"
      },
      {
        "line": 383,
        "token": "troubleshooting/general.md",
        "context": "- [Troubleshooting](../troubleshooting/general.md) - macOS-specific troubleshooting"
      },
      {
        "line": 384,
        "token": "implementation/performance.md",
        "context": "- [Performance Tuning](../implementation/performance.md) - Performance optimization guide"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/master-guide.md",
    "chinese": "archive/docs-removed-2025-08-23/master-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "backends",
        "context": "**Supports**: ChromaDB + SQLite-vec backends, HTTP/SSE API"
      },
      {
        "line": 12,
        "token": "newer",
        "context": "- Python 3.10 or newer"
      },
      {
        "line": 13,
        "token": "pip",
        "context": "- pip (latest version recommended)"
      },
      {
        "line": 14,
        "token": "virtual",
        "context": "- A virtual environment (venv or conda)"
      },
      {
        "line": 15,
        "token": "clone",
        "context": "- Git (to clone the repository)"
      },
      {
        "line": 20,
        "token": "older",
        "context": "**Best for**: 2015 MacBook Pro, older Intel Macs without GPU"
      },
      {
        "line": 28,
        "token": "does",
        "context": "**What this does:**"
      },
      {
        "line": 29,
        "token": "older",
        "context": "- âœ… Detects older Intel Mac hardware"
      },
      {
        "line": 30,
        "token": "backend",
        "context": "- âœ… Recommends SQLite-vec backend (lightweight)"
      },
      {
        "line": 31,
        "token": "available",
        "context": "- âœ… Uses Homebrew PyTorch if available (better compatibility)"
      },
      {
        "line": 32,
        "token": "runtime",
        "context": "- âœ… Configures ONNX runtime for CPU-only inference"
      },
      {
        "line": 33,
        "token": "limited",
        "context": "- âœ… Optimizes for limited memory systems"
      },
      {
        "line": 35,
        "token": "systems",
        "context": "### ğŸš€ Modern Hardware (2018+ Macs, GPU-enabled systems)"
      },
      {
        "line": 36,
        "token": "modern",
        "context": "**Best for**: M1/M2/M3 Macs, modern Intel systems, Windows with GPU"
      },
      {
        "line": 44,
        "token": "does",
        "context": "**What this does:**"
      },
      {
        "line": 45,
        "token": "available",
        "context": "- âœ… Auto-detects available hardware acceleration"
      },
      {
        "line": 46,
        "token": "full",
        "context": "- âœ… Recommends ChromaDB for full features"
      },
      {
        "line": 47,
        "token": "acceleration",
        "context": "- âœ… Configures GPU acceleration (CUDA/MPS/DirectML)"
      },
      {
        "line": 48,
        "token": "latest",
        "context": "- âœ… Installs latest PyTorch and sentence-transformers"
      },
      {
        "line": 51,
        "token": "servers",
        "context": "**Best for**: Linux servers, Docker deployments, CI/CD"
      },
      {
        "line": 83,
        "token": "installer",
        "context": "ğŸŒŸ **Multi-Client Setup**: The installer will automatically detect MCP applications (Claude Desktop, VS Code, Continue, etc.) and offer to configure shared memor"
      },
      {
        "line": 93,
        "token": "deployment",
        "context": "For cross-platform deployment:"
      },
      {
        "line": 115,
        "token": "dev",
        "context": "| `--dev` | Install in development mode | `python install.py --dev` |"
      },
      {
        "line": 116,
        "token": "storage",
        "context": "| `--chroma-path PATH` | Custom ChromaDB storage path | `python install.py --chroma-path /custom/path` |"
      },
      {
        "line": 117,
        "token": "backup",
        "context": "| `--backups-path PATH` | Custom backup storage path | `python install.py --backups-path /custom/backups` |"
      },
      {
        "line": 123,
        "token": "chromadb",
        "context": "| `chromadb` | Full-featured vector database | High-memory systems, full features |"
      },
      {
        "line": 124,
        "token": "alternative",
        "context": "| `sqlite_vec` | Lightweight alternative | Resource-constrained systems |"
      },
      {
        "line": 125,
        "token": "fallback",
        "context": "| `auto_detect` | Auto-selection with fallback | Uncertain hardware capabilities |"
      },
      {
        "line": 142,
        "token": "older",
        "context": "| `--legacy-hardware` | Optimize for older systems | 2013-2017 Intel Macs |"
      },
      {
        "line": 143,
        "token": "server",
        "context": "| `--server-mode` | Headless server installation | Linux servers, Docker |"
      },
      {
        "line": 144,
        "token": "acceleration",
        "context": "| `--force-cpu` | Disable GPU acceleration | Troubleshooting GPU issues |"
      },
      {
        "line": 150,
        "token": "shared",
        "context": "| `--multi-client` | Enable shared memory access | `python install.py --multi-client` |"
      },
      {
        "line": 151,
        "token": "only",
        "context": "| `--claude-only` | Configure for Claude Desktop only | `python install.py --claude-only` |"
      },
      {
        "line": 157,
        "token": "conversational",
        "context": "| `--install-claude-commands` | Install conversational memory commands | `python install.py --install-claude-commands` |"
      },
      {
        "line": 158,
        "token": "interactive",
        "context": "| `--skip-claude-commands-prompt` | Skip interactive commands installation prompt | `python install.py --skip-claude-commands-prompt` |"
      },
      {
        "line": 162,
        "token": "windows-setup.md",
        "context": "- **Windows**: See [windows-setup.md](../platforms/windows.md)"
      },
      {
        "line": 163,
        "token": "ubuntu-setup.md",
        "context": "- **Ubuntu/Linux**: See [ubuntu-setup.md](../platforms/ubuntu.md)"
      },
      {
        "line": 164,
        "token": "macos-intel.md",
        "context": "- **macOS Intel (Legacy)**: See [macos-intel.md](../platforms/macos-intel.md)"
      },
      {
        "line": 168,
        "token": "installation",
        "context": "Common installation issues and solutions can be found in [troubleshooting.md](../troubleshooting/general.md)."
      },
      {
        "line": 172,
        "token": "installation",
        "context": "After installation:"
      },
      {
        "line": 173,
        "token": "your",
        "context": "1. Configure your MCP client (Claude Desktop, VS Code, etc.)"
      },
      {
        "line": 174,
        "token": "connection",
        "context": "2. Test the connection with `python scripts/test-connection.py`"
      },
      {
        "line": 175,
        "token": "guides/claude_integration.md",
        "context": "3. Read the [User Guide](../guides/claude_integration.md) for usage instructions"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/mcp-client-configuration.md",
    "chinese": "archive/docs-removed-2025-08-23/mcp-client-configuration_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "guide",
        "context": "This guide provides complete configuration examples for connecting various IDEs and MCP clients to the remote MCP Memory Service. With v4.0.1, the service provi"
      },
      {
        "line": 12,
        "token": "http",
        "context": "- **Endpoint**: `http://your-server:8000/mcp`"
      },
      {
        "line": 13,
        "token": "over",
        "context": "- **Protocol**: JSON-RPC 2.0 over HTTP/HTTPS"
      },
      {
        "line": 14,
        "token": "token",
        "context": "- **Authentication**: Bearer token (API key)"
      },
      {
        "line": 48,
        "token": "HTTP",
        "context": "### Direct HTTP MCP Connection"
      },
      {
        "line": 50,
        "token": "native",
        "context": "For IDEs with native HTTP MCP support:"
      },
      {
        "line": 270,
        "token": "provides",
        "context": "The MCP Memory Service provides these tools:"
      },
      {
        "line": 273,
        "token": "new",
        "context": "**Description**: Store new memories with tags and metadata"
      },
      {
        "line": 275,
        "token": "content",
        "context": "- `content` (string, required): The memory content"
      },
      {
        "line": 276,
        "token": "tags",
        "context": "- `tags` (array[string], optional): Tags for categorization"
      },
      {
        "line": 277,
        "token": "string",
        "context": "- `memory_type` (string, optional): Type of memory (e.g., \"note\", \"decision\")"
      },
      {
        "line": 280,
        "token": "search",
        "context": "**Description**: Semantic search and retrieval of memories"
      },
      {
        "line": 282,
        "token": "query",
        "context": "- `query` (string, required): Search query"
      },
      {
        "line": 283,
        "token": "limit",
        "context": "- `limit` (integer, optional): Maximum results to return (default: 10)"
      },
      {
        "line": 286,
        "token": "memories",
        "context": "**Description**: Search memories by specific tags"
      },
      {
        "line": 288,
        "token": "tags",
        "context": "- `tags` (array[string], required): Tags to search for"
      },
      {
        "line": 289,
        "token": "operation",
        "context": "- `operation` (string, optional): \"AND\" or \"OR\" logic (default: \"AND\")"
      },
      {
        "line": 292,
        "token": "specific",
        "context": "**Description**: Delete a specific memory by content hash"
      },
      {
        "line": 294,
        "token": "string",
        "context": "- `content_hash` (string, required): Hash of the memory to delete"
      },
      {
        "line": 297,
        "token": "health",
        "context": "**Description**: Check the health and status of the memory database"
      },
      {
        "line": 304,
        "token": "secure",
        "context": "Generate a secure API key:"
      },
      {
        "line": 311,
        "token": "key",
        "context": "Set the API key on your server:"
      },
      {
        "line": 318,
        "token": "HTTPS",
        "context": "### HTTPS Setup (Production)"
      },
      {
        "line": 320,
        "token": "production",
        "context": "For production deployments, use HTTPS:"
      },
      {
        "line": 322,
        "token": "certificates",
        "context": "1. **Generate SSL certificates** (or use Let's Encrypt)"
      },
      {
        "line": 323,
        "token": "HTTPS",
        "context": "2. **Configure HTTPS** in the server"
      },
      {
        "line": 324,
        "token": "client",
        "context": "3. **Update client endpoints** to use `https://`"
      },
      {
        "line": 326,
        "token": "HTTPS",
        "context": "Example with HTTPS:"
      },
      {
        "line": 345,
        "token": "server",
        "context": "1. **Check server status**:"
      },
      {
        "line": 350,
        "token": "endpoint",
        "context": "2. **Verify MCP endpoint**:"
      },
      {
        "line": 357,
        "token": "authentication",
        "context": "3. **Check authentication**:"
      },
      {
        "line": 358,
        "token": "key",
        "context": "- Ensure API key is correctly set"
      },
      {
        "line": 359,
        "token": "header",
        "context": "- Verify Authorization header format: `Bearer YOUR_API_KEY`"
      },
      {
        "line": 363,
        "token": "endpoint",
        "context": "- **404 Not Found**: Check endpoint URL and server status"
      },
      {
        "line": 364,
        "token": "key",
        "context": "- **401 Unauthorized**: Verify API key and Authorization header"
      },
      {
        "line": 365,
        "token": "payload",
        "context": "- **422 Validation Error**: Check JSON-RPC payload format"
      },
      {
        "line": 366,
        "token": "server",
        "context": "- **500 Internal Error**: Check server logs for embedding model issues"
      },
      {
        "line": 370,
        "token": "port",
        "context": "- **Firewall**: Ensure port 8000 is accessible"
      },
      {
        "line": 371,
        "token": "includes",
        "context": "- **CORS**: Server includes CORS headers for web clients"
      },
      {
        "line": 372,
        "token": "address",
        "context": "- **DNS**: Use IP address if hostname resolution fails"
      },
      {
        "line": 376,
        "token": "HTTPS",
        "context": "1. **Use HTTPS** in production environments"
      },
      {
        "line": 377,
        "token": "keys",
        "context": "2. **Secure API keys** with proper rotation"
      },
      {
        "line": 378,
        "token": "retries",
        "context": "3. **Implement retries** for network failures"
      },
      {
        "line": 379,
        "token": "tool",
        "context": "4. **Cache tool lists** to reduce overhead"
      },
      {
        "line": 380,
        "token": "appropriate",
        "context": "5. **Use appropriate timeouts** for requests"
      },
      {
        "line": 381,
        "token": "server",
        "context": "6. **Monitor server health** regularly"
      },
      {
        "line": 387,
        "token": "deployments",
        "context": "For high-availability deployments:"
      },
      {
        "line": 406,
        "token": "custom",
        "context": "Add custom headers for monitoring or routing:"
      },
      {
        "line": 422,
        "token": "provides",
        "context": "The MCP Memory Service v4.0.1 provides a robust, production-ready remote memory solution with native MCP protocol support. This guide ensures seamless integrati"
      },
      {
        "line": 424,
        "token": "additional",
        "context": "For additional support, refer to the main documentation or check the GitHub repository for updates and examples."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/multi-client-server.md",
    "chinese": "archive/docs-removed-2025-08-23/multi-client-server_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide explains how to deploy MCP Memory Service for multiple clients accessing a shared memory database. The service supports two primary deployment patter"
      },
      {
        "line": 10,
        "token": "provides",
        "context": "MCP Memory Service provides several deployment options to support multiple clients:"
      },
      {
        "line": 12,
        "token": "HTTP/SSE",
        "context": "1. **ğŸŒŸ Centralized HTTP/SSE Server** (Recommended for distributed teams)"
      },
      {
        "line": 13,
        "token": "local",
        "context": "2. **ğŸ“ Shared File Access** (For local networks with shared storage)"
      },
      {
        "line": 14,
        "token": "direct",
        "context": "3. **â˜ï¸ Cloud Storage Limitations** (Why direct cloud storage doesn't work)"
      },
      {
        "line": 16,
        "token": "HTTP/SSE",
        "context": "## ğŸŒŸ Centralized HTTP/SSE Server Deployment (Recommended)"
      },
      {
        "line": 20,
        "token": "handling",
        "context": "- âœ… **True Concurrency**: Proper handling of multiple simultaneous clients"
      },
      {
        "line": 21,
        "token": "push",
        "context": "- âœ… **Real-time Updates**: Server-Sent Events (SSE) push changes to all clients instantly"
      },
      {
        "line": 22,
        "token": "any",
        "context": "- âœ… **Cross-platform**: Works from any device with HTTP access"
      },
      {
        "line": 23,
        "token": "key",
        "context": "- âœ… **Secure**: Optional API key authentication"
      },
      {
        "line": 24,
        "token": "handle",
        "context": "- âœ… **Scalable**: Can handle many concurrent clients"
      },
      {
        "line": 25,
        "token": "file",
        "context": "- âœ… **Cloud-friendly**: No file locking issues"
      },
      {
        "line": 53,
        "token": "your",
        "context": "1. **Install on your server machine:**"
      },
      {
        "line": 66,
        "token": "server",
        "context": "2. **Configure server settings:**"
      },
      {
        "line": 84,
        "token": "server",
        "context": "3. **Start the server:**"
      },
      {
        "line": 89,
        "token": "server",
        "context": "The server will be available at:"
      },
      {
        "line": 90,
        "token": "http",
        "context": "- **API Documentation**: `http://your-server:8000/api/docs`"
      },
      {
        "line": 91,
        "token": "http",
        "context": "- **Web Dashboard**: `http://your-server:8000/`"
      },
      {
        "line": 92,
        "token": "http",
        "context": "- **SSE Endpoint**: `http://your-server:8000/api/events/stream`"
      },
      {
        "line": 98,
        "token": "each",
        "context": "Configure each client to use the HTTP server instead of local MCP:"
      },
      {
        "line": 153,
        "token": "server",
        "context": "Check server health:"
      },
      {
        "line": 158,
        "token": "server",
        "context": "View server logs:"
      },
      {
        "line": 186,
        "token": "network",
        "context": "- âœ… **Local network environment** with shared storage (NFS, SMB)"
      },
      {
        "line": 187,
        "token": "users",
        "context": "- âœ… **Trusted users** who coordinate access"
      },
      {
        "line": 188,
        "token": "concurrent",
        "context": "- âœ… **Limited concurrent usage** (2-3 users max)"
      },
      {
        "line": 192,
        "token": "storage",
        "context": "- âŒ **Cloud storage** (OneDrive, Dropbox, Google Drive)"
      },
      {
        "line": 193,
        "token": "concurrency",
        "context": "- âŒ **High concurrency** (many simultaneous users)"
      },
      {
        "line": 194,
        "token": "teams",
        "context": "- âŒ **Distributed teams** across different networks"
      },
      {
        "line": 198,
        "token": "shared",
        "context": "1. **Install on shared storage location:**"
      },
      {
        "line": 205,
        "token": "all",
        "context": "2. **Configure all clients to use the same database:**"
      },
      {
        "line": 223,
        "token": "mode",
        "context": "- **File Locking**: SQLite WAL mode provides some concurrency, but conflicts can occur"
      },
      {
        "line": 224,
        "token": "operations",
        "context": "- **Network Latency**: Database operations may be slower over network"
      },
      {
        "line": 225,
        "token": "interruptions",
        "context": "- **Reliability**: Network interruptions can cause corruption"
      },
      {
        "line": 226,
        "token": "should",
        "context": "- **Coordination**: Users should avoid intensive operations simultaneously"
      },
      {
        "line": 232,
        "token": "file",
        "context": "Direct SQLite file storage on cloud services has fundamental issues:"
      },
      {
        "line": 255,
        "token": "storage",
        "context": "1. **File Locking**: Cloud storage doesn't support SQLite's fcntl() locking"
      },
      {
        "line": 256,
        "token": "edits",
        "context": "2. **Sync Conflicts**: Multiple edits create \"conflicted copy\" files"
      },
      {
        "line": 257,
        "token": "sync",
        "context": "3. **Atomicity**: Cloud sync can interrupt SQLite transactions"
      },
      {
        "line": 258,
        "token": "change",
        "context": "4. **Performance**: Every change uploads the entire database file"
      },
      {
        "line": 259,
        "token": "syncs",
        "context": "5. **Corruption**: Partial syncs can corrupt the database"
      },
      {
        "line": 263,
        "token": "storing",
        "context": "Instead of storing the database in cloud storage, host the MCP Memory Service server in the cloud:"
      },
      {
        "line": 286,
        "token": "version",
        "context": "Starting with version 2.1.0, MCP Memory Service supports automatic service discovery using mDNS (Multicast DNS), also known as Bonjour or Zeroconf. This elimina"
      },
      {
        "line": 290,
        "token": "automatically",
        "context": "- âœ… **Zero Configuration**: Clients automatically discover services without manual setup"
      },
      {
        "line": 291,
        "token": "HTTPS",
        "context": "- âœ… **HTTPS Support**: Automatic discovery of both HTTP and HTTPS endpoints"
      },
      {
        "line": 292,
        "token": "verify",
        "context": "- âœ… **Health Validation**: Clients verify service health before connecting"
      },
      {
        "line": 293,
        "token": "degradation",
        "context": "- âœ… **Fallback Support**: Graceful degradation to manual configuration if discovery fails"
      },
      {
        "line": 409,
        "token": "multiple",
        "context": "When multiple MCP Memory Services are available on the network:"
      },
      {
        "line": 442,
        "token": "traffic",
        "context": "Ensure mDNS traffic is allowed:"
      },
      {
        "line": 455,
        "token": "only",
        "context": "1. **Local Network Only**: mDNS only works on local networks (security by isolation)"
      },
      {
        "line": 456,
        "token": "use",
        "context": "2. **API Key Authentication**: Always use API keys even with mDNS discovery"
      },
      {
        "line": 457,
        "token": "HTTPS",
        "context": "3. **HTTPS Enforcement**: Enable HTTPS for encrypted communication"
      },
      {
        "line": 458,
        "token": "isolate",
        "context": "4. **Network Segmentation**: Use VLANs to isolate service discovery if needed"
      },
      {
        "line": 477,
        "token": "services",
        "context": "**Q: No services discovered**"
      },
      {
        "line": 489,
        "token": "timeout",
        "context": "**Q: Discovery timeout**"
      },
      {
        "line": 498,
        "token": "prefers",
        "context": "**Q: Client prefers wrong service**"
      },
      {
        "line": 510,
        "token": "detailed",
        "context": "Enable detailed logging for troubleshooting:"
      },
      {
        "line": 547,
        "token": "HTTP",
        "context": "#### Basic HTTP with mDNS:"
      },
      {
        "line": 553,
        "token": "HTTPS",
        "context": "#### HTTPS with mDNS:"
      },
      {
        "line": 575,
        "token": "work",
        "context": "**Note**: For mDNS to work with Docker, you may need to use `--network host` mode on Linux:"
      },
      {
        "line": 604,
        "token": "systemd",
        "context": "#### Using systemd Service"
      },
      {
        "line": 629,
        "token": "start",
        "context": "Enable and start:"
      },
      {
        "line": 641,
        "token": "use",
        "context": "Always use a secure API key for production deployments:"
      },
      {
        "line": 656,
        "token": "HTTP",
        "context": "All HTTP requests must include the API key in the Authorization header:"
      },
      {
        "line": 672,
        "token": "all",
        "context": "Ensure all clients are configured with the same API key:"
      },
      {
        "line": 700,
        "token": "keys",
        "context": "1. **Environment Variables**: Store API keys in environment variables, never in code"
      },
      {
        "line": 701,
        "token": "different",
        "context": "2. **Unique Keys**: Use different API keys for different environments (dev/staging/prod)"
      },
      {
        "line": 702,
        "token": "keys",
        "context": "3. **Key Rotation**: Rotate API keys regularly, especially after team changes"
      },
      {
        "line": 703,
        "token": "secrets",
        "context": "4. **Secure Storage**: Use secrets management systems for production deployments"
      },
      {
        "line": 704,
        "token": "failed",
        "context": "5. **Monitoring**: Log failed authentication attempts (but not the keys themselves)"
      },
      {
        "line": 722,
        "token": "server",
        "context": "- Check server logs for authentication failures"
      },
      {
        "line": 723,
        "token": "key",
        "context": "- Verify the API key is properly set in server environment"
      },
      {
        "line": 724,
        "token": "clients",
        "context": "- Ensure clients are sending the correct Authorization header format"
      },
      {
        "line": 728,
        "token": "HTTPS",
        "context": "- **HTTPS**: Use reverse proxy (nginx/caddy) for TLS encryption"
      },
      {
        "line": 729,
        "token": "access",
        "context": "- **Firewall**: Restrict access to specific IP ranges"
      },
      {
        "line": 730,
        "token": "secure",
        "context": "- **VPN**: Use VPN for secure remote access"
      },
      {
        "line": 734,
        "token": "automated",
        "context": "- **Backups**: Regular automated backups"
      },
      {
        "line": 735,
        "token": "database",
        "context": "- **Encryption**: Encrypt database file at rest"
      },
      {
        "line": 736,
        "token": "file",
        "context": "- **Access Control**: Limit file system permissions"
      },
      {
        "line": 742,
        "token": "not",
        "context": "**Q: Server not accessible from other machines**"
      },
      {
        "line": 752,
        "token": "errors",
        "context": "**Q: CORS errors in web browsers**"
      },
      {
        "line": 761,
        "token": "locked",
        "context": "**Q: Database locked errors**"
      },
      {
        "line": 774,
        "token": "issues",
        "context": "**Q: Performance issues with many clients**"
      },
      {
        "line": 786,
        "token": "deployments",
        "context": "For high-load deployments:"
      },
      {
        "line": 810,
        "token": "HTTP/SSE",
        "context": "The **Centralized HTTP/SSE Server** approach is the recommended solution for multi-client deployments. It provides:"
      },
      {
        "line": 812,
        "token": "concurrency",
        "context": "- **Reliable concurrency** without file locking issues"
      },
      {
        "line": 813,
        "token": "synchronization",
        "context": "- **Real-time synchronization** across all clients"
      },
      {
        "line": 814,
        "token": "deployment",
        "context": "- **Cloud deployment flexibility**"
      },
      {
        "line": 815,
        "token": "scalability",
        "context": "- **Professional scalability** for team environments"
      },
      {
        "line": 817,
        "token": "local",
        "context": "For local networks with trusted users, **Shared File Access** can work with careful coordination, but the HTTP server approach is more robust and future-proof."
      },
      {
        "line": 819,
        "token": "direct",
        "context": "**Avoid direct cloud storage** (Dropbox/OneDrive/Google Drive) for SQLite databases due to fundamental concurrency and corruption issues."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/service-installation.md",
    "chinese": "archive/docs-removed-2025-08-23/service-installation_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide provides instructions for installing MCP Memory Service as a native service on Windows, macOS, and Linux systems. The service will automatically star"
      },
      {
        "line": 10,
        "token": "can",
        "context": "The MCP Memory Service can be installed as a system service to:"
      },
      {
        "line": 11,
        "token": "automatically",
        "context": "- Start automatically on boot/login"
      },
      {
        "line": 12,
        "token": "background",
        "context": "- Run in the background without a terminal window"
      },
      {
        "line": 13,
        "token": "automatically",
        "context": "- Restart automatically if it crashes"
      },
      {
        "line": 14,
        "token": "system",
        "context": "- Integrate with system service management tools"
      },
      {
        "line": 20,
        "token": "installer",
        "context": "Use the cross-platform installer that automatically detects your operating system:"
      },
      {
        "line": 34,
        "token": "installer",
        "context": "The installer will:"
      },
      {
        "line": 35,
        "token": "your",
        "context": "1. Detect your operating system"
      },
      {
        "line": 36,
        "token": "dependencies",
        "context": "2. Check dependencies"
      },
      {
        "line": 37,
        "token": "secure",
        "context": "3. Generate a secure API key"
      },
      {
        "line": 38,
        "token": "appropriate",
        "context": "4. Install the appropriate service type"
      },
      {
        "line": 39,
        "token": "management",
        "context": "5. Provide platform-specific management commands"
      },
      {
        "line": 43,
        "token": "installation",
        "context": "After installation, you can manage the service using:"
      },
      {
        "line": 73,
        "token": "creates",
        "context": "This creates a Windows Service that:"
      },
      {
        "line": 74,
        "token": "under",
        "context": "- Runs under the current user account"
      },
      {
        "line": 75,
        "token": "automatically",
        "context": "- Starts automatically on system boot"
      },
      {
        "line": 76,
        "token": "managed",
        "context": "- Can be managed via Services console or `net` commands"
      },
      {
        "line": 94,
        "token": "privileges",
        "context": "- Administrator privileges for installation"
      },
      {
        "line": 95,
        "token": "newer",
        "context": "- Python 3.10 or newer"
      },
      {
        "line": 96,
        "token": "package",
        "context": "- `pywin32` package (auto-installed if missing)"
      },
      {
        "line": 113,
        "token": "creates",
        "context": "This creates a LaunchAgent/LaunchDaemon that:"
      },
      {
        "line": 114,
        "token": "login",
        "context": "- Runs on login (user) or boot (system)"
      },
      {
        "line": 115,
        "token": "automatically",
        "context": "- Restarts automatically if it crashes"
      },
      {
        "line": 116,
        "token": "launchd",
        "context": "- Integrates with macOS launchd system"
      },
      {
        "line": 134,
        "token": "service",
        "context": "- Check Console.app for service logs"
      },
      {
        "line": 135,
        "token": "tail",
        "context": "- Or tail the log files directly:"
      },
      {
        "line": 155,
        "token": "creates",
        "context": "This creates a systemd service that:"
      },
      {
        "line": 156,
        "token": "login",
        "context": "- Runs on login (user) or boot (system)"
      },
      {
        "line": 157,
        "token": "systemd",
        "context": "- Integrates with systemd and journald"
      },
      {
        "line": 158,
        "token": "automatic",
        "context": "- Supports automatic restart and resource limits"
      },
      {
        "line": 186,
        "token": "platforms",
        "context": "All platforms store configuration in:"
      },
      {
        "line": 187,
        "token": "directory",
        "context": "- **Config directory**: `~/.mcp_memory_service/`"
      },
      {
        "line": 188,
        "token": "file",
        "context": "- **Config file**: `~/.mcp_memory_service/service_config.json`"
      },
      {
        "line": 189,
        "token": "directory",
        "context": "- **Log directory**: `~/.mcp_memory_service/logs/`"
      },
      {
        "line": 193,
        "token": "service",
        "context": "The service inherits these environment variables:"
      },
      {
        "line": 194,
        "token": "backend",
        "context": "- `MCP_MEMORY_STORAGE_BACKEND`: Storage backend (default: `sqlite_vec`)"
      },
      {
        "line": 195,
        "token": "HTTP",
        "context": "- `MCP_HTTP_ENABLED`: Enable HTTP interface (default: `true`)"
      },
      {
        "line": 196,
        "token": "HTTP",
        "context": "- `MCP_HTTP_PORT`: HTTP port (default: `8000`)"
      },
      {
        "line": 197,
        "token": "HTTPS",
        "context": "- `MCP_HTTPS_ENABLED`: Enable HTTPS (default: `true`)"
      },
      {
        "line": 198,
        "token": "discovery",
        "context": "- `MCP_MDNS_ENABLED`: Enable mDNS discovery (default: `true`)"
      },
      {
        "line": 199,
        "token": "memory",
        "context": "- `MCP_CONSOLIDATION_ENABLED`: Enable memory consolidation (default: `true`)"
      },
      {
        "line": 200,
        "token": "key",
        "context": "- `MCP_API_KEY`: API key for HTTP authentication (optional, auto-generated during install)"
      },
      {
        "line": 204,
        "token": "installer",
        "context": "The installer automatically generates a secure API key for HTTP authentication. This key protects your memory service from unauthorized access when running as a"
      },
      {
        "line": 208,
        "token": "can",
        "context": "You can find your API key in several ways:"
      },
      {
        "line": 210,
        "token": "key",
        "context": "1. **Installation Output**: The key is displayed during installation"
      },
      {
        "line": 212,
        "token": "python",
        "context": "3. **Status Command**: Run `python install_service.py --status`"
      },
      {
        "line": 213,
        "token": "configuration",
        "context": "4. **Service File**: Check the systemd/service configuration file directly"
      },
      {
        "line": 217,
        "token": "generate",
        "context": "To generate a new secure API key:"
      },
      {
        "line": 229,
        "token": "change",
        "context": "To change your API key after installation:"
      },
      {
        "line": 231,
        "token": "service",
        "context": "1. **Stop the service**:"
      },
      {
        "line": 236,
        "token": "service",
        "context": "2. **Edit the service configuration**:"
      },
      {
        "line": 239,
        "token": "config",
        "context": "- **Windows**: Use `sc config` or Services Manager"
      },
      {
        "line": 241,
        "token": "environment",
        "context": "3. **Update the environment variable**:"
      },
      {
        "line": 247,
        "token": "restart",
        "context": "4. **Reload and restart the service**:"
      },
      {
        "line": 267,
        "token": "share",
        "context": "- **Keep it Secret**: Never share your API key in logs, emails, or version control"
      },
      {
        "line": 268,
        "token": "rotating",
        "context": "- **Regular Rotation**: Consider rotating your API key periodically"
      },
      {
        "line": 269,
        "token": "proper",
        "context": "- **Secure Storage**: Ensure proper file permissions on configuration files"
      },
      {
        "line": 270,
        "token": "different",
        "context": "- **Environment-Specific Keys**: Use different keys for development, staging, and production"
      },
      {
        "line": 275,
        "token": "admin",
        "context": "- **Pros**: No admin privileges required, runs in user context"
      },
      {
        "line": 276,
        "token": "runs",
        "context": "- **Cons**: Only runs when user is logged in"
      },
      {
        "line": 277,
        "token": "systems",
        "context": "- **Best for**: Desktop systems, development"
      },
      {
        "line": 280,
        "token": "independently",
        "context": "- **Pros**: Runs independently of user login, available to all users"
      },
      {
        "line": 281,
        "token": "admin",
        "context": "- **Cons**: Requires admin privileges, runs as specific user"
      },
      {
        "line": 282,
        "token": "shared",
        "context": "- **Best for**: Servers, shared systems"
      },
      {
        "line": 288,
        "token": "dependencies",
        "context": "1. **Check dependencies**:"
      },
      {
        "line": 293,
        "token": "logs",
        "context": "2. **Check logs**:"
      },
      {
        "line": 296,
        "token": "journalctl",
        "context": "- Linux: `journalctl -u mcp-memory` or `journalctl --user -u mcp-memory`"
      },
      {
        "line": 298,
        "token": "configuration",
        "context": "3. **Verify configuration**:"
      },
      {
        "line": 306,
        "token": "sudo",
        "context": "- **macOS/Linux**: Use `sudo` for system services"
      },
      {
        "line": 307,
        "token": "file",
        "context": "- Check file ownership in `~/.mcp_memory_service/`"
      },
      {
        "line": 311,
        "token": "port",
        "context": "If port 8000 is already in use:"
      },
      {
        "line": 312,
        "token": "port",
        "context": "1. Change the port in environment variables"
      },
      {
        "line": 313,
        "token": "service",
        "context": "2. Reinstall the service"
      },
      {
        "line": 314,
        "token": "stop",
        "context": "3. Or stop the conflicting service"
      },
      {
        "line": 318,
        "token": "service",
        "context": "- Ensure the service was installed successfully"
      },
      {
        "line": 319,
        "token": "correct",
        "context": "- Check the correct service name:"
      },
      {
        "line": 326,
        "token": "completely",
        "context": "To completely remove the service:"
      },
      {
        "line": 344,
        "token": "multiple",
        "context": "For multiple instances, you can modify the service name in the platform-specific installer scripts before installation."
      },
      {
        "line": 348,
        "token": "service",
        "context": "Edit the service configuration after installation:"
      },
      {
        "line": 349,
        "token": "service",
        "context": "1. Stop the service"
      },
      {
        "line": 351,
        "token": "command",
        "context": "3. Modify the `command` array"
      },
      {
        "line": 352,
        "token": "service",
        "context": "4. Restart the service"
      },
      {
        "line": 356,
        "token": "service",
        "context": "After service installation, update your Claude Desktop configuration:"
      },
      {
        "line": 371,
        "token": "key",
        "context": "Replace `YOUR_API_KEY_HERE` with the API key from the installation."
      },
      {
        "line": 375,
        "token": "key",
        "context": "- The API key is stored in plain text in the configuration file"
      },
      {
        "line": 376,
        "token": "proper",
        "context": "- Ensure proper file permissions on configuration files"
      },
      {
        "line": 377,
        "token": "system",
        "context": "- Use system services with caution on shared systems"
      },
      {
        "line": 378,
        "token": "firewall",
        "context": "- Consider firewall rules if exposing the service beyond localhost"
      },
      {
        "line": 382,
        "token": "you",
        "context": "If you encounter issues:"
      },
      {
        "line": 383,
        "token": "troubleshooting",
        "context": "1. Check the troubleshooting section above"
      },
      {
        "line": 384,
        "token": "documentation",
        "context": "2. Review platform-specific documentation in `docs/platforms/`"
      },
      {
        "line": 385,
        "token": "logs",
        "context": "3. Check logs for detailed error messages"
      },
      {
        "line": 386,
        "token": "issue",
        "context": "4. Open an issue on GitHub with:"
      },
      {
        "line": 387,
        "token": "operating",
        "context": "- Your operating system and version"
      },
      {
        "line": 388,
        "token": "version",
        "context": "- Python version"
      },
      {
        "line": 389,
        "token": "messages",
        "context": "- Error messages from logs"
      },
      {
        "line": 390,
        "token": "reproduce",
        "context": "- Steps to reproduce the issue"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/sessions/MCP_ENHANCEMENT_SESSION_MEMORY_v4.1.0.md",
    "chinese": "archive/docs-removed-2025-08-23/sessions/MCP_ENHANCEMENT_SESSION_MEMORY_v4.1.0_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "enhancement",
        "context": "This enhancement session successfully implemented **complete MCP (Model Context Protocol) specification compliance** for the MCP Memory Service, transforming it"
      },
      {
        "line": 17,
        "token": "access",
        "context": "- **Enhanced Resources System**: URI-based access to memory collections with 6 new resource endpoints"
      },
      {
        "line": 18,
        "token": "interactive",
        "context": "- **Guided Prompts Framework**: 5 interactive workflows for memory operations with proper schemas"
      },
      {
        "line": 19,
        "token": "notifications",
        "context": "- **Progress Tracking System**: Real-time notifications for long operations with MCP-compliant protocol"
      },
      {
        "line": 20,
        "token": "resource",
        "context": "- **Complete Protocol Coverage**: All MCP resource, prompt, and notification features implemented"
      },
      {
        "line": 23,
        "token": "memory",
        "context": "- **New Resource Endpoints**: 6 (`memory://stats`, `memory://tags`, `memory://recent/{n}`, `memory://tag/{tagname}`, `memory://search/{query}`)"
      },
      {
        "line": 25,
        "token": "enhanced",
        "context": "- **Progress Tracking**: 2 enhanced operations (`delete_by_tags`, `dashboard_optimize_db`) with real-time updates"
      },
      {
        "line": 26,
        "token": "new",
        "context": "- **Code Coverage**: ~500 new lines of implementation code across multiple modules"
      },
      {
        "line": 43,
        "token": "JSON",
        "context": "- **JSON Response Format**: All resources return structured JSON data"
      },
      {
        "line": 44,
        "token": "queries",
        "context": "- **Resource Templates**: Parameterized queries for dynamic content"
      },
      {
        "line": 45,
        "token": "resource",
        "context": "- **URI Schema Validation**: Proper MCP resource URI parsing and validation"
      },
      {
        "line": 46,
        "token": "error",
        "context": "- **Error Handling**: Comprehensive error responses for invalid requests"
      },
      {
        "line": 51,
        "token": "organize",
        "context": "1. **`memory_review`**: Review and organize memories from specific time periods"
      },
      {
        "line": 52,
        "token": "patterns",
        "context": "2. **`memory_analysis`**: Analyze patterns, themes, and tag distributions"
      },
      {
        "line": 53,
        "token": "memories",
        "context": "3. **`knowledge_export`**: Export memories in JSON, Markdown, or Text formats"
      },
      {
        "line": 54,
        "token": "remove",
        "context": "4. **`memory_cleanup`**: Identify and remove duplicate or outdated memories"
      },
      {
        "line": 55,
        "token": "structured",
        "context": "5. **`learning_session`**: Store structured learning notes with automatic categorization"
      },
      {
        "line": 58,
        "token": "prompt",
        "context": "- **Proper Argument Schemas**: Each prompt includes comprehensive parameter validation"
      },
      {
        "line": 59,
        "token": "guided",
        "context": "- **Interactive Workflows**: Step-by-step guided processes for complex operations"
      },
      {
        "line": 60,
        "token": "understand",
        "context": "- **Context-Aware Processing**: Prompts understand user intent and provide relevant guidance"
      },
      {
        "line": 61,
        "token": "outputs",
        "context": "- **Result Formatting**: Structured outputs appropriate for each workflow type"
      },
      {
        "line": 66,
        "token": "progress",
        "context": "- **Progress Notifications**: MCP-compliant progress updates with percentage completion"
      },
      {
        "line": 67,
        "token": "identifiers",
        "context": "- **Operation IDs**: Unique identifiers for tracking concurrent tasks"
      },
      {
        "line": 68,
        "token": "progress",
        "context": "- **Step-by-step Updates**: Detailed progress information for long-running operations"
      },
      {
        "line": 69,
        "token": "progress",
        "context": "- **Enhanced Operations**: `delete_by_tags` and `dashboard_optimize_db` with progress tracking"
      },
      {
        "line": 87,
        "token": "base",
        "context": "- **Extended `MemoryStorage` base class** with helper methods for resources"
      },
      {
        "line": 88,
        "token": "helper",
        "context": "- **New helper methods**: `get_stats()`, `get_all_tags()`, `get_recent_memories()`"
      },
      {
        "line": 89,
        "token": "compatibility",
        "context": "- **Backward compatibility**: All existing storage implementations continue to work"
      },
      {
        "line": 92,
        "token": "model",
        "context": "- **Enhanced `Memory` model** with `to_dict()` method for JSON serialization"
      },
      {
        "line": 93,
        "token": "model",
        "context": "- **Enhanced `MemoryQueryResult` model** with structured data conversion"
      },
      {
        "line": 94,
        "token": "safety",
        "context": "- **Type safety improvements** with comprehensive type hints"
      },
      {
        "line": 97,
        "token": "progress",
        "context": "- **Added progress tracking state management** to MemoryServer"
      },
      {
        "line": 98,
        "token": "method",
        "context": "- **New `send_progress_notification()` method** for real-time updates"
      },
      {
        "line": 99,
        "token": "initialization",
        "context": "- **Enhanced initialization** with progress tracking capabilities"
      },
      {
        "line": 100,
        "token": "operation",
        "context": "- **Thread-safe operation tracking** for concurrent operations"
      },
      {
        "line": 105,
        "token": "implementations",
        "context": "- **Clean Code Principles**: Modular, well-documented implementations"
      },
      {
        "line": 106,
        "token": "type",
        "context": "- **Type Safety**: Comprehensive type hints throughout new code"
      },
      {
        "line": 107,
        "token": "error",
        "context": "- **Error Handling**: Robust error handling with specific exception types"
      },
      {
        "line": 108,
        "token": "docstrings",
        "context": "- **Documentation**: Comprehensive docstrings and inline comments"
      },
      {
        "line": 111,
        "token": "existing",
        "context": "- **Backward Compatibility**: All existing tests continue to pass"
      },
      {
        "line": 112,
        "token": "ready",
        "context": "- **New Functionality**: Implementation ready for comprehensive test coverage"
      },
      {
        "line": 113,
        "token": "features",
        "context": "- **Integration Testing**: New features integrate seamlessly with existing system"
      },
      {
        "line": 114,
        "token": "significant",
        "context": "- **Performance**: No significant performance impact on core operations"
      },
      {
        "line": 119,
        "token": "minor",
        "context": "- **Version Bump**: 4.0.1 â†’ 4.1.0 (minor version for new features)"
      },
      {
        "line": 120,
        "token": "changelog",
        "context": "- **Changelog Documentation**: Comprehensive changelog entry with all new features"
      },
      {
        "line": 121,
        "token": "documentation",
        "context": "- **Release Notes**: Detailed documentation of MCP compliance achievements"
      },
      {
        "line": 124,
        "token": "new",
        "context": "- **Environment Variables**: No new environment variables required"
      },
      {
        "line": 125,
        "token": "configurations",
        "context": "- **Backward Compatibility**: Existing configurations continue to work unchanged"
      },
      {
        "line": 126,
        "token": "new",
        "context": "- **Optional Features**: All new features work with existing storage backends"
      },
      {
        "line": 131,
        "token": "access",
        "context": "- **Resources**: URI-based access with templates âœ…"
      },
      {
        "line": 132,
        "token": "workflows",
        "context": "- **Prompts**: Interactive workflows with argument schemas âœ…"
      },
      {
        "line": 133,
        "token": "operation",
        "context": "- **Progress Notifications**: Real-time operation tracking âœ…"
      },
      {
        "line": 134,
        "token": "memory",
        "context": "- **Tools**: Complete memory operation coverage âœ…"
      },
      {
        "line": 135,
        "token": "error",
        "context": "- **Error Handling**: Proper MCP error responses âœ…"
      },
      {
        "line": 136,
        "token": "protocol",
        "context": "- **JSON-RPC 2.0**: Full protocol compliance âœ…"
      },
      {
        "line": 139,
        "token": "resource",
        "context": "- **Resource Discovery**: Dynamic resource listing"
      },
      {
        "line": 140,
        "token": "workflow",
        "context": "- **Prompt Discovery**: Available workflow enumeration"
      },
      {
        "line": 141,
        "token": "tracking",
        "context": "- **Operation Monitoring**: Progress tracking for all applicable operations"
      },
      {
        "line": 142,
        "token": "format",
        "context": "- **Data Export**: Multiple format support (JSON, Markdown, Text)"
      },
      {
        "line": 143,
        "token": "pattern",
        "context": "- **Analytics**: Memory pattern analysis and insights"
      },
      {
        "line": 148,
        "token": "can",
        "context": "- **Discoverable Resources**: Clients can enumerate available memory resources"
      },
      {
        "line": 149,
        "token": "assistance",
        "context": "- **Guided Workflows**: Step-by-step assistance for complex operations"
      },
      {
        "line": 150,
        "token": "updates",
        "context": "- **Real-time Feedback**: Progress updates for long-running operations"
      },
      {
        "line": 151,
        "token": "JSON",
        "context": "- **Structured Data**: Consistent JSON responses across all endpoints"
      },
      {
        "line": 154,
        "token": "features",
        "context": "- **Complete API Coverage**: All MCP features fully implemented"
      },
      {
        "line": 155,
        "token": "guides",
        "context": "- **Comprehensive Documentation**: Updated guides and examples"
      },
      {
        "line": 156,
        "token": "breaking",
        "context": "- **Backward Compatibility**: No breaking changes to existing implementations"
      },
      {
        "line": 157,
        "token": "features",
        "context": "- **Extended Capabilities**: New features enhance rather than replace existing functionality"
      },
      {
        "line": 162,
        "token": "features",
        "context": "- **Minimal Impact**: New features use existing storage and processing infrastructure"
      },
      {
        "line": 163,
        "token": "endpoints",
        "context": "- **Efficient Implementations**: Resource endpoints leverage existing database queries"
      },
      {
        "line": 164,
        "token": "state",
        "context": "- **Progress Tracking**: Lightweight state management without significant overhead"
      },
      {
        "line": 167,
        "token": "responses",
        "context": "- **Resource Endpoints**: Fast responses leveraging optimized database queries"
      },
      {
        "line": 168,
        "token": "updates",
        "context": "- **Progress Notifications**: Asynchronous updates don't block main operations"
      },
      {
        "line": 169,
        "token": "workflows",
        "context": "- **Guided Prompts**: Interactive workflows maintain responsive user experience"
      },
      {
        "line": 174,
        "token": "supports",
        "context": "- **Plugin Architecture**: Framework supports easy addition of new resources and prompts"
      },
      {
        "line": 175,
        "token": "new",
        "context": "- **Storage Backend Agnostic**: All new features work with both ChromaDB and SQLite-vec"
      },
      {
        "line": 176,
        "token": "compliance",
        "context": "- **Client Compatibility**: Full MCP compliance ensures compatibility with all MCP clients"
      },
      {
        "line": 179,
        "token": "tracking",
        "context": "- **Concurrent Operations**: Progress tracking system supports multiple simultaneous operations"
      },
      {
        "line": 180,
        "token": "ready",
        "context": "- **Resource Caching**: Framework ready for caching optimizations"
      },
      {
        "line": 181,
        "token": "supports",
        "context": "- **Load Balancing**: Architecture supports horizontal scaling of MCP endpoints"
      },
      {
        "line": 186,
        "token": "changelog",
        "context": "- **CHANGELOG.md**: Comprehensive v4.1.0 changelog with all new features"
      },
      {
        "line": 187,
        "token": "new",
        "context": "- **API Documentation**: Updated with new resources, prompts, and capabilities"
      },
      {
        "line": 188,
        "token": "new",
        "context": "- **Architecture Diagrams**: Reflect new MCP compliance features"
      },
      {
        "line": 191,
        "token": "guides",
        "context": "- **MCP Client Configuration**: Updated guides for new capabilities"
      },
      {
        "line": 192,
        "token": "examples",
        "context": "- **Resource Usage Examples**: Practical examples for all new resource endpoints"
      },
      {
        "line": 193,
        "token": "guides",
        "context": "- **Workflow Documentation**: Step-by-step guides for guided prompts"
      },
      {
        "line": 198,
        "token": "new",
        "context": "- **MCP Protocol Testing**: All new features tested against MCP specification"
      },
      {
        "line": 199,
        "token": "compatibility",
        "context": "- **Client Compatibility**: Verified compatibility with Claude Desktop and other MCP clients"
      },
      {
        "line": 200,
        "token": "resource",
        "context": "- **Resource Validation**: All resource endpoints tested with various parameter combinations"
      },
      {
        "line": 203,
        "token": "existing",
        "context": "- **Existing Functionality**: All existing features continue to work unchanged"
      },
      {
        "line": 204,
        "token": "features",
        "context": "- **Storage Backend Compatibility**: New features work with both storage implementations"
      },
      {
        "line": 205,
        "token": "functionality",
        "context": "- **Cross-Platform Testing**: Verified functionality across different operating systems"
      },
      {
        "line": 210,
        "token": "planned",
        "context": "- **100% MCP Resource Coverage**: All planned resource endpoints implemented"
      },
      {
        "line": 211,
        "token": "planned",
        "context": "- **100% Guided Prompt Coverage**: All planned interactive workflows implemented"
      },
      {
        "line": 212,
        "token": "operations",
        "context": "- **100% Progress Tracking Coverage**: Enhanced operations with real-time updates"
      },
      {
        "line": 213,
        "token": "breaking",
        "context": "- **100% Backward Compatibility**: No breaking changes to existing functionality"
      },
      {
        "line": 216,
        "token": "implementations",
        "context": "- **Code Review**: All implementations reviewed for quality and compliance"
      },
      {
        "line": 217,
        "token": "documentation",
        "context": "- **Documentation Coverage**: Comprehensive documentation for all new features"
      },
      {
        "line": 218,
        "token": "error",
        "context": "- **Error Handling**: Robust error handling throughout new implementations"
      },
      {
        "line": 219,
        "token": "type",
        "context": "- **Type Safety**: Full type hints and validation for all new code"
      },
      {
        "line": 224,
        "token": "community",
        "context": "- **Beta Testing**: Deploy v4.1.0 for community testing of new MCP features"
      },
      {
        "line": 225,
        "token": "resource",
        "context": "- **Performance Monitoring**: Monitor resource endpoint performance under load"
      },
      {
        "line": 226,
        "token": "feedback",
        "context": "- **User Feedback**: Gather feedback on guided workflows and user experience"
      },
      {
        "line": 229,
        "token": "additional",
        "context": "- **Additional Resources**: Consider additional resource endpoints based on user feedback"
      },
      {
        "line": 230,
        "token": "memory",
        "context": "- **Enhanced Analytics**: Expand memory analysis capabilities in prompts"
      },
      {
        "line": 231,
        "token": "resource",
        "context": "- **Performance Optimization**: Optimize resource endpoints based on usage patterns"
      },
      {
        "line": 232,
        "token": "more",
        "context": "- **Advanced Workflows**: Add more complex guided workflows for specialized use cases"
      },
      {
        "line": 236,
        "token": "enhancement",
        "context": "The v4.1.0 enhancement session successfully achieved **complete MCP specification compliance** for the MCP Memory Service. This represents a significant milesto"
      },
      {
        "line": 239,
        "token": "specification",
        "context": "1. **Full MCP Compliance**: All MCP specification features implemented"
      },
      {
        "line": 240,
        "token": "workflows",
        "context": "2. **Enhanced User Experience**: Guided workflows and real-time progress tracking"
      },
      {
        "line": 241,
        "token": "extensible",
        "context": "3. **Architectural Excellence**: Clean, extensible implementation with backward compatibility"
      },
      {
        "line": 242,
        "token": "error",
        "context": "4. **Production Ready**: Robust error handling and comprehensive documentation"
      },
      {
        "line": 243,
        "token": "continued",
        "context": "5. **Future-Proof**: Foundation for continued enhancement and scaling"
      },
      {
        "line": 245,
        "token": "enhancement",
        "context": "This enhancement session establishes the MCP Memory Service as a **reference implementation** for MCP specification compliance while maintaining the flexibility"
      },
      {
        "line": 253,
        "token": "version",
        "context": "- version: 4.1.0"
      },
      {
        "line": 254,
        "token": "repository",
        "context": "- repository: mcp-memory-service"
      },
      {
        "line": 256,
        "token": "comprehensive",
        "context": "- implementation_scope: comprehensive"
      },
      {
        "line": 257,
        "token": "full",
        "context": "- backward_compatibility: full"
      },
      {
        "line": 259,
        "token": "complete",
        "context": "- documentation_status: complete"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/ubuntu.md",
    "chinese": "archive/docs-removed-2025-08-23/ubuntu_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide provides comprehensive instructions for setting up MCP Memory Service on Ubuntu systems, covering both desktop and server environments."
      },
      {
        "line": 10,
        "token": "later",
        "context": "- **Ubuntu 20.04 LTS or later** (22.04 LTS recommended)"
      },
      {
        "line": 11,
        "token": "recommended",
        "context": "- **Python 3.10+** (Python 3.11 recommended)"
      },
      {
        "line": 12,
        "token": "repository",
        "context": "- **Git** for repository cloning"
      },
      {
        "line": 13,
        "token": "essentials",
        "context": "- **Build essentials** for compiling dependencies"
      },
      {
        "line": 31,
        "token": "installer",
        "context": "The installer automatically:"
      },
      {
        "line": 32,
        "token": "version",
        "context": "- Detects Ubuntu version and architecture"
      },
      {
        "line": 33,
        "token": "system",
        "context": "- Installs system dependencies"
      },
      {
        "line": 34,
        "token": "optimal",
        "context": "- Configures optimal storage backend"
      },
      {
        "line": 35,
        "token": "support",
        "context": "- Sets up CUDA support (if available)"
      },
      {
        "line": 57,
        "token": "acceleration",
        "context": "For GPU acceleration on systems with NVIDIA GPUs:"
      },
      {
        "line": 168,
        "token": "systemd",
        "context": "Create a systemd service for automatic startup:"
      },
      {
        "line": 247,
        "token": "configuration",
        "context": "Claude Desktop configuration location: `~/.config/Claude/claude_desktop_config.json`"
      },
      {
        "line": 279,
        "token": "extension",
        "context": "1. Install the MCP extension in VS Code"
      },
      {
        "line": 280,
        "token": "settings",
        "context": "2. Configure in VS Code settings:"
      },
      {
        "line": 432,
        "token": "version",
        "context": "**Symptom**: Wrong Python version or missing python3.11"
      },
      {
        "line": 447,
        "token": "denied",
        "context": "**Symptom**: Permission denied errors"
      },
      {
        "line": 464,
        "token": "not",
        "context": "**Symptom**: CUDA not detected or driver conflicts"
      },
      {
        "line": 484,
        "token": "fails",
        "context": "**Symptom**: SQLite-vec fails to install or import"
      },
      {
        "line": 501,
        "token": "service",
        "context": "**Symptom**: Systemd service fails to start"
      },
      {
        "line": 610,
        "token": "installation/master-guide.md",
        "context": "- [Installation Guide](../installation/master-guide.md) - General installation instructions"
      },
      {
        "line": 611,
        "token": "integration/multi-client.md",
        "context": "- [Multi-Client Setup](../integration/multi-client.md) - Multi-client configuration"
      },
      {
        "line": 612,
        "token": "deployment/docker.md",
        "context": "- [Docker Deployment](../deployment/docker.md) - Docker setup details"
      },
      {
        "line": 613,
        "token": "troubleshooting/general.md",
        "context": "- [Troubleshooting](../troubleshooting/general.md) - Ubuntu-specific troubleshooting"
      },
      {
        "line": 614,
        "token": "implementation/performance.md",
        "context": "- [Performance Tuning](../implementation/performance.md) - Performance optimization"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/windows-setup.md",
    "chinese": "archive/docs-removed-2025-08-23/windows-setup_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide provides comprehensive instructions for setting up and running the MCP Memory Service on Windows systems, including handling common Windows-specific "
      },
      {
        "line": 11,
        "token": "newer",
        "context": "- Python 3.10 or newer"
      },
      {
        "line": 22,
        "token": "setup",
        "context": "2. Clone and setup:"
      },
      {
        "line": 34,
        "token": "you",
        "context": "If you encounter issues with UV, use our Windows-specific installation script:"
      },
      {
        "line": 40,
        "token": "script",
        "context": "This script handles:"
      },
      {
        "line": 41,
        "token": "availability",
        "context": "1. Detecting CUDA availability"
      },
      {
        "line": 42,
        "token": "correct",
        "context": "2. Installing the correct PyTorch version"
      },
      {
        "line": 43,
        "token": "dependencies",
        "context": "3. Setting up dependencies without conflicts"
      },
      {
        "line": 44,
        "token": "installation",
        "context": "4. Verifying the installation"
      },
      {
        "line": 50,
        "token": "edit",
        "context": "1. Create or edit your Claude Desktop configuration file:"
      },
      {
        "line": 53,
        "token": "following",
        "context": "2. Add the following configuration:"
      },
      {
        "line": 71,
        "token": "environment",
        "context": "Important Windows-specific environment variables:"
      },
      {
        "line": 81,
        "token": "you",
        "context": "If you see errors about PyTorch installation:"
      },
      {
        "line": 83,
        "token": "installation",
        "context": "1. Use the Windows-specific installation script:"
      },
      {
        "line": 88,
        "token": "manually",
        "context": "2. Or manually install PyTorch with the correct index URL:"
      },
      {
        "line": 93,
        "token": "JSON",
        "context": "### JSON Parsing Errors"
      },
      {
        "line": 95,
        "token": "you",
        "context": "If you see \"Unexpected token\" errors in Claude Desktop:"
      },
      {
        "line": 104,
        "token": "latest",
        "context": "- Update to the latest version which includes Windows-specific stream handling fixes"
      },
      {
        "line": 105,
        "token": "memory",
        "context": "- Use the memory wrapper script which properly handles stdout/stderr separation"
      },
      {
        "line": 109,
        "token": "you",
        "context": "If you encounter recursion errors:"
      },
      {
        "line": 111,
        "token": "sitecustomize",
        "context": "1. Run the sitecustomize fix script:"
      },
      {
        "line": 116,
        "token": "your",
        "context": "2. Restart your Python environment"
      },
      {
        "line": 120,
        "token": "debugging",
        "context": "Windows-specific debugging tools:"
      },
      {
        "line": 135,
        "token": "log",
        "context": "Important log locations on Windows:"
      },
      {
        "line": 136,
        "token": "logs",
        "context": "- Claude Desktop logs: `%APPDATA%\\Claude\\logs\\mcp-server-memory.log`"
      },
      {
        "line": 137,
        "token": "service",
        "context": "- Memory service logs: `%LOCALAPPDATA%\\mcp-memory\\logs\\memory_service.log`"
      },
      {
        "line": 143,
        "token": "recommended",
        "context": "1. CUDA (recommended if available):"
      },
      {
        "line": 144,
        "token": "drivers",
        "context": "- Ensure NVIDIA drivers are up to date"
      },
      {
        "line": 145,
        "token": "toolkit",
        "context": "- CUDA toolkit is not required (bundled with PyTorch)"
      },
      {
        "line": 147,
        "token": "alternative",
        "context": "2. DirectML (alternative):"
      },
      {
        "line": 149,
        "token": "when",
        "context": "- Useful for AMD GPUs or when CUDA is not available"
      },
      {
        "line": 153,
        "token": "experiencing",
        "context": "If experiencing memory issues:"
      },
      {
        "line": 154,
        "token": "batch",
        "context": "1. Reduce batch size:"
      },
      {
        "line": 159,
        "token": "smaller",
        "context": "2. Use a smaller model:"
      },
      {
        "line": 166,
        "token": "you",
        "context": "If you encounter Windows-specific issues:"
      },
      {
        "line": 167,
        "token": "logs",
        "context": "1. Check the logs in `%APPDATA%\\Claude\\logs\\`"
      },
      {
        "line": 168,
        "token": "verification",
        "context": "2. Run verification tools mentioned above"
      },
      {
        "line": 169,
        "token": "support",
        "context": "3. Contact support via Telegram: t.me/doobeedoo"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-removed-2025-08-23/windows.md",
    "chinese": "archive/docs-removed-2025-08-23/windows_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide provides comprehensive instructions for setting up and running the MCP Memory Service on Windows systems, including handling common Windows-specific "
      },
      {
        "line": 10,
        "token": "newer",
        "context": "- **Python 3.10 or newer** (Python 3.11 recommended)"
      },
      {
        "line": 11,
        "token": "download",
        "context": "- **Git for Windows** ([download here](https://git-scm.com/download/win))"
      },
      {
        "line": 12,
        "token": "compilation",
        "context": "- **Visual Studio Build Tools** (for PyTorch compilation)"
      },
      {
        "line": 13,
        "token": "recommended",
        "context": "- **PowerShell 5.1+** or **Windows Terminal** (recommended)"
      },
      {
        "line": 28,
        "token": "installer",
        "context": "The installer automatically:"
      },
      {
        "line": 29,
        "token": "availability",
        "context": "- Detects CUDA availability"
      },
      {
        "line": 30,
        "token": "correct",
        "context": "- Installs the correct PyTorch version"
      },
      {
        "line": 31,
        "token": "settings",
        "context": "- Configures Windows-specific settings"
      },
      {
        "line": 32,
        "token": "optimal",
        "context": "- Sets up optimal storage backend"
      },
      {
        "line": 79,
        "token": "you",
        "context": "If you encounter issues, use the Windows-specific installation script:"
      },
      {
        "line": 85,
        "token": "script",
        "context": "This script handles:"
      },
      {
        "line": 86,
        "token": "detection",
        "context": "1. CUDA detection and appropriate PyTorch installation"
      },
      {
        "line": 87,
        "token": "common",
        "context": "2. Resolving common Windows dependency conflicts"
      },
      {
        "line": 88,
        "token": "environment",
        "context": "3. Setting up Windows-specific environment variables"
      },
      {
        "line": 89,
        "token": "optimal",
        "context": "4. Configuring optimal storage backend based on hardware"
      },
      {
        "line": 123,
        "token": "repository",
        "context": "The repository includes Windows batch scripts for easy startup:"
      },
      {
        "line": 148,
        "token": "configuration",
        "context": "Claude Desktop configuration is typically located at:"
      },
      {
        "line": 207,
        "token": "installer",
        "context": "The installer automatically detects CUDA availability:"
      },
      {
        "line": 220,
        "token": "systems",
        "context": "For Windows systems without CUDA but with DirectX 12 compatible GPUs:"
      },
      {
        "line": 237,
        "token": "run",
        "context": "To run MCP Memory Service as a Windows service:"
      },
      {
        "line": 255,
        "token": "scheduled",
        "context": "Create a scheduled task to start MCP Memory Service on boot:"
      },
      {
        "line": 271,
        "token": "fails",
        "context": "**Symptom**: Installation fails with \"path too long\" errors"
      },
      {
        "line": 273,
        "token": "long",
        "context": "**Solution**: Enable long path support:"
      },
      {
        "line": 297,
        "token": "installation",
        "context": "**Symptom**: PyTorch CUDA installation issues"
      },
      {
        "line": 299,
        "token": "version",
        "context": "**Solution**: Match PyTorch CUDA version to your installed CUDA:"
      },
      {
        "line": 314,
        "token": "denied",
        "context": "**Symptom**: Access denied errors when installing or running"
      },
      {
        "line": 316,
        "token": "check",
        "context": "**Solution**: Run PowerShell as Administrator and check folder permissions:"
      },
      {
        "line": 328,
        "token": "files",
        "context": "**Symptom**: Installation files deleted or blocked"
      },
      {
        "line": 330,
        "token": "exclusions",
        "context": "**Solution**: Add exclusions to Windows Defender:"
      },
      {
        "line": 491,
        "token": "installation/master-guide.md",
        "context": "- [Installation Guide](../installation/master-guide.md) - General installation instructions"
      },
      {
        "line": 492,
        "token": "integration/multi-client.md",
        "context": "- [Multi-Client Setup](../integration/multi-client.md) - Multi-client configuration"
      },
      {
        "line": 493,
        "token": "troubleshooting/general.md",
        "context": "- [Troubleshooting](../troubleshooting/general.md) - Windows-specific troubleshooting"
      },
      {
        "line": 494,
        "token": "deployment/docker.md",
        "context": "- [Docker Deployment](../deployment/docker.md) - Docker setup on Windows"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/AWESOME_LIST_SUBMISSION.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/AWESOME_LIST_SUBMISSION_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "submission",
        "context": "> **Ready-to-use submission templates for awesome lists and community directories**"
      },
      {
        "line": 10,
        "token": "guide",
        "context": "This guide provides optimized submission content for promoting MCP Memory Service across various awesome lists and community platforms. Each template is tailore"
      },
      {
        "line": 13,
        "token": "https",
        "context": "**[MCP Memory Service](https://github.com/doobidoo/mcp-memory-service)** - Universal MCP memory service with semantic search, multi-client support, and autonomo"
      },
      {
        "line": 16,
        "token": "server",
        "context": "A production-ready Model Context Protocol server that provides intelligent semantic memory, persistent storage, and autonomous memory consolidation for AI assis"
      },
      {
        "line": 21,
        "token": "implementation",
        "context": "- âœ… **Full MCP Protocol Compliance** - Complete implementation with resources, prompts, and tools"
      },
      {
        "line": 22,
        "token": "database",
        "context": "- ğŸ§  **Semantic Memory Search** - Vector database with sentence transformers for intelligent retrieval"
      },
      {
        "line": 23,
        "token": "system",
        "context": "- ğŸ”„ **Autonomous Memory Consolidation** - Dream-inspired system for automatic memory organization"
      },
      {
        "line": 24,
        "token": "applications",
        "context": "- ğŸŒ **Multi-Client Support** - Works with 13+ AI applications simultaneously"
      },
      {
        "line": 25,
        "token": "default",
        "context": "- ğŸ—„ï¸ **Multiple Storage Backends** - SQLite-vec (default) and ChromaDB support"
      },
      {
        "line": 26,
        "token": "scale",
        "context": "- ğŸš€ **Production Ready** - Deployed at scale with Docker, HTTPS, and service installation"
      },
      {
        "line": 29,
        "token": "server",
        "context": "- ğŸ¯ **Native Claude Desktop Integration** - Seamless MCP server configuration"
      },
      {
        "line": 30,
        "token": "commands",
        "context": "- ğŸ’¬ **Conversational Memory Commands** - Optional Claude Code commands for direct memory operations"
      },
      {
        "line": 31,
        "token": "memories",
        "context": "- ğŸ”— **Multi-Client Coordination** - Use memories across Claude Desktop and other AI tools"
      },
      {
        "line": 32,
        "token": "resources",
        "context": "- ğŸ“Š **Advanced MCP Features** - URI-based resources, guided prompts, progress tracking"
      },
      {
        "line": 33,
        "token": "faster",
        "context": "- âš¡ **High Performance** - 10x faster startup with SQLite-vec backend"
      },
      {
        "line": 34,
        "token": "documentation",
        "context": "- ğŸ› ï¸ **Developer Friendly** - Comprehensive documentation and troubleshooting"
      },
      {
        "line": 37,
        "token": "other",
        "context": "- ğŸ› ï¸ **Universal AI Tool Integration** - Works with VS Code, Continue, Cursor, and other IDEs"
      },
      {
        "line": 38,
        "token": "project",
        "context": "- ğŸ“ **Persistent Development Context** - Remember project decisions, architectural choices, and solutions"
      },
      {
        "line": 39,
        "token": "language",
        "context": "- ğŸ” **Intelligent Search** - Natural language queries for finding past development insights"
      },
      {
        "line": 40,
        "token": "knowledge",
        "context": "- ğŸ—ï¸ **Cross-Project Memory** - Share knowledge across different codebases and teams"
      },
      {
        "line": 41,
        "token": "context",
        "context": "- ğŸ“ˆ **Productivity Enhancement** - Reduces context switching and information re-discovery"
      },
      {
        "line": 42,
        "token": "pip",
        "context": "- ğŸ³ **Easy Deployment** - Docker, pip, or service installation options"
      },
      {
        "line": 50,
        "token": "including",
        "context": "- **Platforms**: Windows, macOS, Linux (including Apple Silicon)"
      },
      {
        "line": 54,
        "token": "https",
        "context": "- **Repository**: https://github.com/doobidoo/mcp-memory-service"
      },
      {
        "line": 55,
        "token": "installation",
        "context": "- **Documentation**: Complete README with installation guides"
      },
      {
        "line": 56,
        "token": "deployment",
        "context": "- **Demo**: Production deployment on glama.ai"
      },
      {
        "line": 57,
        "token": "via",
        "context": "- **Package**: Available via pip, Docker Hub, and Smithery"
      },
      {
        "line": 84,
        "token": "order",
        "context": "1. **Submit to Awesome Lists** (in order of priority):"
      },
      {
        "line": 85,
        "token": "exists",
        "context": "- Awesome MCP (if exists)"
      },
      {
        "line": 93,
        "token": "already",
        "context": "- Submit to Smithery (already done)"
      },
      {
        "line": 94,
        "token": "already",
        "context": "- Submit to MseeP (already done)"
      },
      {
        "line": 95,
        "token": "submission",
        "context": "- Consider submission to Product Hunt"
      },
      {
        "line": 96,
        "token": "relevant",
        "context": "- Submit to relevant Reddit communities (r/MachineLearning, r/Python, r/programming)"
      },
      {
        "line": 99,
        "token": "video",
        "context": "- Create video walkthrough"
      },
      {
        "line": 100,
        "token": "blog",
        "context": "- Write blog post about MCP integration"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/CLOUDFLARE_IMPLEMENTATION.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/CLOUDFLARE_IMPLEMENTATION_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "native",
        "context": "Adding Cloudflare as a native backend option to MCP Memory Service while maintaining full compatibility with existing deployments."
      },
      {
        "line": 11,
        "token": "weeks",
        "context": "- **Target Completion:** 4 weeks"
      },
      {
        "line": 19,
        "token": "implementation",
        "context": "- âœ… Created implementation tracking infrastructure"
      },
      {
        "line": 20,
        "token": "current",
        "context": "- âœ… Analyzed current MCP Memory Service architecture"
      },
      {
        "line": 22,
        "token": "overall",
        "context": "- âœ… Designed overall architecture approach"
      },
      {
        "line": 23,
        "token": "feature",
        "context": "- âœ… Set up feature branch and task files"
      },
      {
        "line": 24,
        "token": "backend",
        "context": "- âœ… **COMPLETED:** Core CloudflareStorage backend implementation"
      },
      {
        "line": 27,
        "token": "feature",
        "context": "- âœ… Create feature branch: `feature/cloudflare-native-backend`"
      },
      {
        "line": 28,
        "token": "task",
        "context": "- âœ… Set up task tracking files in `tasks/` directory"
      },
      {
        "line": 29,
        "token": "initial",
        "context": "- âœ… Store initial plan in memory service"
      },
      {
        "line": 30,
        "token": "requirements",
        "context": "- âœ… Document Cloudflare API requirements and limits"
      },
      {
        "line": 33,
        "token": "base",
        "context": "- âœ… Implement base CloudflareStorage class extending MemoryStorage"
      },
      {
        "line": 34,
        "token": "vector",
        "context": "- âœ… Add Vectorize vector operations (store, query, delete)"
      },
      {
        "line": 35,
        "token": "metadata",
        "context": "- âœ… Implement D1 metadata operations (tags, timestamps, content hashes)"
      },
      {
        "line": 36,
        "token": "content",
        "context": "- âœ… Add R2 content storage for large objects (>1MB)"
      },
      {
        "line": 37,
        "token": "comprehensive",
        "context": "- âœ… Implement comprehensive error handling and retry logic"
      },
      {
        "line": 38,
        "token": "logging",
        "context": "- âœ… Add logging and performance metrics"
      },
      {
        "line": 39,
        "token": "backend",
        "context": "- âœ… Update config.py for Cloudflare backend support"
      },
      {
        "line": 40,
        "token": "backend",
        "context": "- âœ… Update server.py for Cloudflare backend initialization"
      },
      {
        "line": 41,
        "token": "comprehensive",
        "context": "- âœ… Create comprehensive unit tests"
      },
      {
        "line": 44,
        "token": "cloudflare",
        "context": "- âœ… Add `cloudflare` to SUPPORTED_BACKENDS"
      },
      {
        "line": 45,
        "token": "environment",
        "context": "- âœ… Implement Cloudflare-specific environment variables"
      },
      {
        "line": 46,
        "token": "embedding",
        "context": "- âœ… Add Workers AI embedding model configuration"
      },
      {
        "line": 47,
        "token": "validation",
        "context": "- âœ… Update validation logic for Cloudflare backend"
      },
      {
        "line": 48,
        "token": "server",
        "context": "- âœ… Add server initialization code"
      },
      {
        "line": 51,
        "token": "methods",
        "context": "- **Full Interface Compliance**: All MemoryStorage methods implemented"
      },
      {
        "line": 52,
        "token": "backoff",
        "context": "- **Robust Error Handling**: Exponential backoff, retry logic, circuit breaker patterns"
      },
      {
        "line": 53,
        "token": "caching",
        "context": "- **Performance Optimizations**: Embedding caching, connection pooling, async operations"
      },
      {
        "line": 54,
        "token": "content",
        "context": "- **Smart Content Strategy**: Small content in D1, large content in R2"
      },
      {
        "line": 55,
        "token": "unit",
        "context": "- **Comprehensive Testing**: 15 unit tests covering all major functionality"
      },
      {
        "line": 58,
        "token": "implementation",
        "context": "- âœ… `src/mcp_memory_service/storage/cloudflare.py` - Core implementation (740 lines)"
      },
      {
        "line": 59,
        "token": "updates",
        "context": "- âœ… `src/mcp_memory_service/config.py` - Configuration updates"
      },
      {
        "line": 60,
        "token": "initialization",
        "context": "- âœ… `src/mcp_memory_service/server.py` - Backend initialization"
      },
      {
        "line": 61,
        "token": "test",
        "context": "- âœ… `tests/unit/test_cloudflare_storage.py` - Comprehensive test suite"
      },
      {
        "line": 62,
        "token": "dependencies",
        "context": "- âœ… `requirements-cloudflare.txt` - Additional dependencies"
      },
      {
        "line": 63,
        "token": "tasks/cloudflare-api-requirements.md",
        "context": "- âœ… `tasks/cloudflare-api-requirements.md` - API documentation"
      },
      {
        "line": 68,
        "token": "semantic",
        "context": "- **Vectors:** Cloudflare Vectorize for semantic embeddings"
      },
      {
        "line": 69,
        "token": "tags",
        "context": "- **Metadata:** D1 SQLite for tags, timestamps, relationships, content hashes"
      },
      {
        "line": 70,
        "token": "small",
        "context": "- **Content:** Inline for small content (<1MB), R2 for larger content"
      },
      {
        "line": 71,
        "token": "local",
        "context": "- **Embeddings:** Workers AI `@cf/baai/bge-base-en-v1.5` with local fallback"
      },
      {
        "line": 74,
        "token": "variable",
        "context": "- Environment variable: `MCP_MEMORY_BACKEND=cloudflare`"
      },
      {
        "line": 77,
        "token": "large",
        "context": "- Optional: `CLOUDFLARE_R2_BUCKET` for large content storage"
      },
      {
        "line": 80,
        "token": "entry",
        "context": "- [ ] Worker entry point implementation"
      },
      {
        "line": 81,
        "token": "configuration",
        "context": "- [ ] Deployment configuration (wrangler.toml)"
      },
      {
        "line": 82,
        "token": "system",
        "context": "- [ ] Build system updates"
      },
      {
        "line": 83,
        "token": "pipeline",
        "context": "- [ ] CI/CD pipeline integration"
      },
      {
        "line": 86,
        "token": "migration",
        "context": "- [ ] Data migration tools"
      },
      {
        "line": 87,
        "token": "testing",
        "context": "- [ ] Comprehensive testing suite"
      },
      {
        "line": 88,
        "token": "benchmarking",
        "context": "- [ ] Performance benchmarking"
      },
      {
        "line": 89,
        "token": "completion",
        "context": "- [ ] Documentation completion"
      },
      {
        "line": 94,
        "token": "backend",
        "context": "- âœ… **Core Implementation**: CloudflareStorage backend (740 lines) with full interface compliance"
      },
      {
        "line": 95,
        "token": "environment",
        "context": "- âœ… **Configuration**: Complete environment variable setup and validation"
      },
      {
        "line": 96,
        "token": "backend",
        "context": "- âœ… **Server Integration**: Seamless backend initialization in server.py"
      },
      {
        "line": 97,
        "token": "test",
        "context": "- âœ… **Testing**: Comprehensive test suite with 15 unit tests covering all functionality"
      },
      {
        "line": 98,
        "token": "setup",
        "context": "- âœ… **Documentation**: Complete setup guide, API documentation, and troubleshooting"
      },
      {
        "line": 99,
        "token": "migration",
        "context": "- âœ… **Migration Tools**: Universal migration script supporting SQLite-vec and ChromaDB"
      },
      {
        "line": 100,
        "token": "main",
        "context": "- âœ… **README Updates**: Integration with main project documentation"
      },
      {
        "line": 103,
        "token": "local",
        "context": "- **Memory Efficiency**: Minimal local footprint with cloud-based storage"
      },
      {
        "line": 104,
        "token": "latency",
        "context": "- **Global Performance**: <100ms latency from most global locations"
      },
      {
        "line": 105,
        "token": "entry",
        "context": "- **Smart Caching**: 1000-entry embedding cache with LRU eviction"
      },
      {
        "line": 106,
        "token": "backoff",
        "context": "- **Error Resilience**: Exponential backoff, retry logic, circuit breaker patterns"
      },
      {
        "line": 107,
        "token": "implementation",
        "context": "- **Async Operations**: Full async/await implementation for optimal performance"
      },
      {
        "line": 110,
        "token": "search",
        "context": "- **Vectorize Integration**: Semantic search with Workers AI embeddings"
      },
      {
        "line": 111,
        "token": "metadata",
        "context": "- **D1 Database**: Relational metadata storage with ACID compliance"
      },
      {
        "line": 112,
        "token": "content",
        "context": "- **R2 Storage**: Smart content strategy for large objects (>1MB)"
      },
      {
        "line": 113,
        "token": "HTTP",
        "context": "- **Connection Pooling**: HTTP client optimization for API efficiency"
      },
      {
        "line": 114,
        "token": "operations",
        "context": "- **Batch Processing**: Bulk operations for improved throughput"
      },
      {
        "line": 117,
        "token": "complete",
        "context": "- None - Phase 1 complete and ready for production use"
      },
      {
        "line": 120,
        "token": "runtime",
        "context": "1. **Worker Entry Point**: Create cloudflare/worker.js for Workers runtime"
      },
      {
        "line": 121,
        "token": "setup",
        "context": "2. **Deployment Configuration**: Complete wrangler.toml setup"
      },
      {
        "line": 122,
        "token": "bundling",
        "context": "3. **Build System**: Workers-compatible bundling and optimization"
      },
      {
        "line": 123,
        "token": "deployment",
        "context": "4. **CI/CD Pipeline**: Automated deployment workflows"
      },
      {
        "line": 124,
        "token": "tests",
        "context": "5. **Testing**: Integration tests with real Cloudflare Workers environment"
      },
      {
        "line": 127,
        "token": "full",
        "context": "- Maintaining full backward compatibility with existing storage backends"
      },
      {
        "line": 128,
        "token": "breaking",
        "context": "- Zero breaking changes to current deployments"
      },
      {
        "line": 129,
        "token": "migration",
        "context": "- Gradual migration capability for existing users"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/DOCUMENTATION_ANALYSIS.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/DOCUMENTATION_ANALYSIS_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "markdown",
        "context": "**Total Files**: 87 markdown files (75 in `/docs/`, 12 in root)"
      },
      {
        "line": 8,
        "token": "documentation",
        "context": "**Total Size**: ~1MB of documentation"
      },
      {
        "line": 13,
        "token": "files",
        "context": "**6+ files covering nearly identical installation steps:**"
      },
      {
        "line": 15,
        "token": "docs/guides/service-installation.md",
        "context": "- **docs/guides/service-installation.md** (10KB) - Cross-platform service installation"
      },
      {
        "line": 16,
        "token": "docs/installation/complete-setup-guide.md",
        "context": "- **docs/installation/complete-setup-guide.md** (7.7KB) - Complete setup with consolidation features"
      },
      {
        "line": 17,
        "token": "docs/installation/master-guide.md",
        "context": "- **docs/installation/master-guide.md** (5KB) - Hardware-specific installation paths"
      },
      {
        "line": 18,
        "token": "docs/installation/distributed-sync.md",
        "context": "- **docs/installation/distributed-sync.md** (11KB) - Installation + sync setup"
      },
      {
        "line": 19,
        "token": "docs/guides/claude-desktop-setup.md",
        "context": "- **docs/guides/claude-desktop-setup.md** (3.4KB) - Claude Desktop specific setup"
      },
      {
        "line": 20,
        "token": "full",
        "context": "- **README.md** (56KB) - Contains full installation instructions + everything else"
      },
      {
        "line": 22,
        "token": "basic",
        "context": "**Redundancy**: Same basic steps (clone â†’ install â†’ configure) repeated 6 times with slight variations"
      },
      {
        "line": 25,
        "token": "files",
        "context": "**4+ files with overlapping platform instructions:**"
      },
      {
        "line": 27,
        "token": "docs/platforms/windows.md",
        "context": "- **docs/platforms/windows.md** (11KB) - Windows setup"
      },
      {
        "line": 28,
        "token": "docs/guides/windows-setup.md",
        "context": "- **docs/guides/windows-setup.md** (3.9KB) - Windows setup (shorter version)"
      },
      {
        "line": 29,
        "token": "docs/platforms/ubuntu.md",
        "context": "- **docs/platforms/ubuntu.md** (12.8KB) - Linux setup"
      },
      {
        "line": 30,
        "token": "setup",
        "context": "- **docs/guides/UBUNTU_SETUP.md** (5.9KB) - Linux setup (different approach)"
      },
      {
        "line": 31,
        "token": "docs/platforms/macos-intel.md",
        "context": "- **docs/platforms/macos-intel.md** (9.8KB) - macOS Intel setup"
      },
      {
        "line": 33,
        "token": "steps",
        "context": "**Redundancy**: Platform-specific steps repeated across different file structures"
      },
      {
        "line": 36,
        "token": "files",
        "context": "**4+ files covering Claude integration:**"
      },
      {
        "line": 38,
        "token": "docs/guides/claude-code-integration.md",
        "context": "- **docs/guides/claude-code-integration.md** (10.6KB) - Claude Code integration"
      },
      {
        "line": 39,
        "token": "docs/guides/claude-code-quickstart.md",
        "context": "- **docs/guides/claude-code-quickstart.md** (3.9KB) - Quick start version"
      },
      {
        "line": 40,
        "token": "docs/guides/claude-desktop-setup.md",
        "context": "- **docs/guides/claude-desktop-setup.md** (3.4KB) - Desktop setup"
      },
      {
        "line": 41,
        "token": "docs/guides/claude_integration.md",
        "context": "- **docs/guides/claude_integration.md** (2.5KB) - Basic integration"
      },
      {
        "line": 42,
        "token": "docs/guides/claude-code-compatibility.md",
        "context": "- **docs/guides/claude-code-compatibility.md** (3.8KB) - Compatibility guide"
      },
      {
        "line": 44,
        "token": "configuration",
        "context": "**Redundancy**: Same configuration steps and JSON examples repeated"
      },
      {
        "line": 47,
        "token": "development",
        "context": "**10+ development artifacts mixed with user docs:**"
      },
      {
        "line": 49,
        "token": "session",
        "context": "- **docs/sessions/MCP_ENHANCEMENT_SESSION_MEMORY_v4.1.0.md** (12KB) - Development session"
      },
      {
        "line": 50,
        "token": "multiple",
        "context": "- **docs/development/** (multiple CLEANUP_*, TIMESTAMP_*, etc. files)"
      },
      {
        "line": 51,
        "token": "session",
        "context": "- **SESSION_MEMORY_2025-08-11.md** (4.6KB) - Personal session notes"
      },
      {
        "line": 52,
        "token": "notes",
        "context": "- **CLAUDE_PERSONALIZED.md** (10.6KB) - Personal notes"
      },
      {
        "line": 54,
        "token": "artifacts",
        "context": "**Issue**: Development artifacts shouldn't be in user-facing documentation"
      },
      {
        "line": 58,
        "token": "files",
        "context": "### **KEEP in Repository (4 files max)**"
      },
      {
        "line": 59,
        "token": "overview",
        "context": "- **README.md** - Streamlined overview + wiki links"
      },
      {
        "line": 60,
        "token": "development",
        "context": "- **CLAUDE.md** - Claude Code development guidance"
      },
      {
        "line": 61,
        "token": "history",
        "context": "- **CHANGELOG.md** - Version history"
      },
      {
        "line": 62,
        "token": "guidelines",
        "context": "- **CONTRIBUTING.md** - Development guidelines (if exists)"
      },
      {
        "line": 64,
        "token": "consolidate",
        "context": "### **MOVE TO WIKI - Installation** (consolidate 6â†’1)"
      },
      {
        "line": 65,
        "token": "installation",
        "context": "- All installation guides â†’ Single comprehensive installation wiki page"
      },
      {
        "line": 66,
        "token": "details",
        "context": "- Platform-specific details â†’ Sub-sections in installation page"
      },
      {
        "line": 68,
        "token": "consolidate",
        "context": "### **MOVE TO WIKI - Integration** (consolidate 5â†’1)"
      },
      {
        "line": 69,
        "token": "integration",
        "context": "- All Claude integration guides â†’ Single integration wiki page"
      },
      {
        "line": 70,
        "token": "integrations",
        "context": "- Other IDE integrations â†’ Sub-sections"
      },
      {
        "line": 72,
        "token": "organize",
        "context": "### **MOVE TO WIKI - Technical** (organize existing)"
      },
      {
        "line": 73,
        "token": "documentation",
        "context": "- API documentation â†’ Technical reference section"
      },
      {
        "line": 74,
        "token": "docs",
        "context": "- Architecture docs â†’ System design section"
      },
      {
        "line": 75,
        "token": "troubleshooting",
        "context": "- Troubleshooting â†’ Dedicated troubleshooting section"
      },
      {
        "line": 77,
        "token": "files",
        "context": "### **ARCHIVE/DELETE** (20+ files)"
      },
      {
        "line": 78,
        "token": "development",
        "context": "- All development session files"
      },
      {
        "line": 79,
        "token": "summaries",
        "context": "- Cleanup summaries and development artifacts"
      },
      {
        "line": 80,
        "token": "guides",
        "context": "- Duplicate/outdated guides"
      },
      {
        "line": 81,
        "token": "session",
        "context": "- Personal session memories"
      },
      {
        "line": 86,
        "token": "redundant",
        "context": "**From**: 6 redundant installation files"
      },
      {
        "line": 87,
        "token": "comprehensive",
        "context": "**To**: 1 comprehensive wiki page with sections:"
      },
      {
        "line": 88,
        "token": "start",
        "context": "- Quick start (universal installer)"
      },
      {
        "line": 89,
        "token": "notes",
        "context": "- Platform-specific notes (Windows/macOS/Linux)"
      },
      {
        "line": 90,
        "token": "optimization",
        "context": "- Hardware optimization (legacy vs modern)"
      },
      {
        "line": 91,
        "token": "installation",
        "context": "- Service installation options"
      },
      {
        "line": 92,
        "token": "common",
        "context": "- Troubleshooting common issues"
      },
      {
        "line": 95,
        "token": "integration",
        "context": "**From**: 5 Claude integration files"
      },
      {
        "line": 96,
        "token": "comprehensive",
        "context": "**To**: 1 comprehensive integration page with:"
      },
      {
        "line": 97,
        "token": "setup",
        "context": "- Claude Desktop setup"
      },
      {
        "line": 98,
        "token": "integration",
        "context": "- Claude Code integration"
      },
      {
        "line": 99,
        "token": "extension",
        "context": "- VS Code extension setup"
      },
      {
        "line": 100,
        "token": "configurations",
        "context": "- Other IDE configurations"
      },
      {
        "line": 101,
        "token": "examples",
        "context": "- Configuration examples"
      },
      {
        "line": 104,
        "token": "docs",
        "context": "**From**: Scattered API/technical docs"
      },
      {
        "line": 105,
        "token": "technical",
        "context": "**To**: Organized technical section:"
      },
      {
        "line": 106,
        "token": "documentation",
        "context": "- API documentation"
      },
      {
        "line": 107,
        "token": "overview",
        "context": "- Architecture overview"
      },
      {
        "line": 108,
        "token": "backends",
        "context": "- Storage backends comparison"
      },
      {
        "line": 109,
        "token": "optimization",
        "context": "- Performance optimization"
      },
      {
        "line": 110,
        "token": "guidelines",
        "context": "- Development guidelines"
      },
      {
        "line": 114,
        "token": "markdown",
        "context": "**Before**: 87 markdown files, difficult to navigate, redundant content"
      },
      {
        "line": 115,
        "token": "essential",
        "context": "**After**: ~4 essential repo files + organized wiki with ~15 comprehensive pages"
      },
      {
        "line": 118,
        "token": "reduction",
        "context": "- **90% reduction** in documentation files in repository"
      },
      {
        "line": 119,
        "token": "redundancy",
        "context": "- **Eliminated redundancy** - single source of truth for each topic"
      },
      {
        "line": 120,
        "token": "discoverability",
        "context": "- **Improved discoverability** - logical wiki structure vs scattered files"
      },
      {
        "line": 121,
        "token": "maintenance",
        "context": "- **Easier maintenance** - update once vs updating 6 installation guides"
      },
      {
        "line": 122,
        "token": "repository",
        "context": "- **Cleaner repository** - focus on code, not documentation chaos"
      },
      {
        "line": 123,
        "token": "user",
        "context": "- **Better user experience** - clear paths vs overwhelming choice paralysis"
      },
      {
        "line": 127,
        "token": "wiki",
        "context": "1. **Create wiki structure** with consolidated pages"
      },
      {
        "line": 128,
        "token": "merge",
        "context": "2. **Migrate and merge content** from redundant files"
      },
      {
        "line": 129,
        "token": "point",
        "context": "3. **Update README.md** to point to wiki"
      },
      {
        "line": 130,
        "token": "redundant",
        "context": "4. **Remove redundant documentation** from repository"
      },
      {
        "line": 131,
        "token": "development",
        "context": "5. **Archive development artifacts** to separate location"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/DOCUMENTATION_CLEANUP_PLAN.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/DOCUMENTATION_CLEANUP_PLAN_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "redundant",
        "context": "**Goal**: Remove 75+ redundant files, keep essential docs, improve maintainability"
      },
      {
        "line": 13,
        "token": "markdown",
        "context": "- **87 markdown files** (1MB+ documentation)"
      },
      {
        "line": 14,
        "token": "redundancy",
        "context": "- **Massive redundancy** - 6 installation guides, 5 Claude integration files"
      },
      {
        "line": 15,
        "token": "user",
        "context": "- **Poor user experience** - overwhelming choice, unclear paths"
      },
      {
        "line": 16,
        "token": "maintenance",
        "context": "- **High maintenance burden** - updating requires changing 6+ files"
      },
      {
        "line": 19,
        "token": "essential",
        "context": "- **4 essential repository files** (README, CLAUDE, CHANGELOG, CONTRIBUTING)"
      },
      {
        "line": 20,
        "token": "wiki",
        "context": "- **Comprehensive wiki** with consolidated guides"
      },
      {
        "line": 21,
        "token": "source",
        "context": "- **Single source of truth** for each topic"
      },
      {
        "line": 22,
        "token": "reduction",
        "context": "- **90% reduction** in repository documentation"
      },
      {
        "line": 27,
        "token": "wiki",
        "context": "- `README.md` âœ… **DONE** - Streamlined with wiki links"
      },
      {
        "line": 28,
        "token": "development",
        "context": "- `CLAUDE.md` âœ… **KEEP** - Claude Code development guidance"
      },
      {
        "line": 29,
        "token": "history",
        "context": "- `CHANGELOG.md` âœ… **KEEP** - Version history"
      },
      {
        "line": 30,
        "token": "guidelines",
        "context": "- `CONTRIBUTING.md` âœ… **KEEP** - Development guidelines (if exists)"
      },
      {
        "line": 33,
        "token": "installation",
        "context": "- `Installation-Guide.md` âœ… **DONE** - Consolidated from 6+ installation files"
      },
      {
        "line": 34,
        "token": "guides",
        "context": "- `Platform-Setup-Guide.md` âœ… **DONE** - Merged platform-specific guides"
      },
      {
        "line": 35,
        "token": "all",
        "context": "- `Integration-Guide.md` âœ… **DONE** - Combined all Claude/IDE integration docs"
      },
      {
        "line": 36,
        "token": "links",
        "context": "- `Home.md` âœ… **UPDATED** - Added links to new consolidated guides"
      },
      {
        "line": 40,
        "token": "files",
        "context": "### ğŸ“¦ Installation Guide Redundancy (6 files â†’ 1 wiki page)"
      },
      {
        "line": 50,
        "token": "files",
        "context": "### ğŸ–¥ï¸ Platform Setup Redundancy (4 files â†’ 1 wiki page)"
      },
      {
        "line": 60,
        "token": "files",
        "context": "### ğŸ”— Integration Guide Redundancy (5 files â†’ 1 wiki page)"
      },
      {
        "line": 70,
        "token": "archived",
        "context": "### ğŸ—ï¸ Development Artifacts (Should be archived, not in user docs)"
      },
      {
        "line": 84,
        "token": "wiki",
        "context": "### ğŸ“š Root Documentation Redundancy (Move to wiki or delete)"
      },
      {
        "line": 95,
        "token": "remove",
        "context": "### ğŸ”§ Duplicate Technical Docs (Consolidate or remove)"
      },
      {
        "line": 201,
        "token": "count",
        "context": "- **File count**: 87 â†’ ~15 markdown files (83% reduction)"
      },
      {
        "line": 202,
        "token": "size",
        "context": "- **Repository size**: ~1MB docs â†’ ~100KB essential docs"
      },
      {
        "line": 203,
        "token": "burden",
        "context": "- **Maintenance burden**: 6 installation guides â†’ 1 wiki page"
      },
      {
        "line": 204,
        "token": "confusion",
        "context": "- **User confusion**: Multiple paths â†’ Clear single source"
      },
      {
        "line": 207,
        "token": "discoverability",
        "context": "- **Better discoverability**: Clear wiki structure vs scattered files"
      },
      {
        "line": 208,
        "token": "maintenance",
        "context": "- **Easier maintenance**: Update once vs updating 6+ files"
      },
      {
        "line": 209,
        "token": "path",
        "context": "- **Improved UX**: Single path vs choice paralysis"
      },
      {
        "line": 210,
        "token": "repository",
        "context": "- **Cleaner repository**: Focus on code vs documentation chaos"
      },
      {
        "line": 211,
        "token": "appearance",
        "context": "- **Professional appearance**: Organized vs overwhelming"
      },
      {
        "line": 216,
        "token": "removed",
        "context": "- âœ… All removed files moved to `archive/` directory (not deleted)"
      },
      {
        "line": 217,
        "token": "preserved",
        "context": "- âœ… Original README preserved as `README-ORIGINAL-BACKUP.md`"
      },
      {
        "line": 218,
        "token": "history",
        "context": "- âœ… Git history preserves all removed content"
      },
      {
        "line": 219,
        "token": "contains",
        "context": "- âœ… Wiki contains consolidated content from all removed files"
      },
      {
        "line": 222,
        "token": "any",
        "context": "If any issues arise:"
      },
      {
        "line": 223,
        "token": "files",
        "context": "1. **Individual files**: `mv archive/docs-removed-2025-08-23/filename.md docs/path/`"
      },
      {
        "line": 224,
        "token": "rollback",
        "context": "2. **Full rollback**: `mv README.md README-streamlined.md && mv README-ORIGINAL-BACKUP.md README.md`"
      },
      {
        "line": 225,
        "token": "rollback",
        "context": "3. **Git rollback**: `git checkout HEAD~1 -- docs/` (if committed)"
      },
      {
        "line": 228,
        "token": "verification",
        "context": "1. **Link verification**: All wiki links functional"
      },
      {
        "line": 229,
        "token": "verification",
        "context": "2. **Content verification**: No essential information lost"
      },
      {
        "line": 230,
        "token": "journey",
        "context": "3. **User journey testing**: Installation â†’ integration â†’ usage"
      },
      {
        "line": 231,
        "token": "feedback",
        "context": "4. **Community feedback**: Monitor for missing information requests"
      },
      {
        "line": 235,
        "token": "has",
        "context": "- [ ] Repository has 4 essential markdown files (README, CLAUDE, CHANGELOG, CONTRIBUTING)"
      },
      {
        "line": 236,
        "token": "contains",
        "context": "- [ ] Wiki contains 3 comprehensive consolidated guides"
      },
      {
        "line": 237,
        "token": "essential",
        "context": "- [ ] No essential information is lost or inaccessible"
      },
      {
        "line": 238,
        "token": "links",
        "context": "- [ ] All links function correctly"
      },
      {
        "line": 239,
        "token": "feedback",
        "context": "- [ ] User feedback is positive (reduced confusion)"
      },
      {
        "line": 240,
        "token": "burden",
        "context": "- [ ] Maintenance burden significantly reduced"
      },
      {
        "line": 244,
        "token": "plan",
        "context": "**This plan ensures safe, systematic cleanup while preserving all information and providing better user experience.**"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/DOCUMENTATION_CONSOLIDATION_COMPLETE.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/DOCUMENTATION_CONSOLIDATION_COMPLETE_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "completed",
        "context": "**Status**: Successfully completed documentation consolidation and wiki migration"
      },
      {
        "line": 12,
        "token": "markdown",
        "context": "- **87 markdown files** analyzed for redundancy"
      },
      {
        "line": 13,
        "token": "overlap",
        "context": "- **Massive overlap identified**: 6 installation guides, 5 Claude integration files, 4 platform guides"
      },
      {
        "line": 14,
        "token": "audit",
        "context": "- **Comprehensive audit completed** with detailed categorization"
      },
      {
        "line": 17,
        "token": "comprehensive",
        "context": "- **3 comprehensive consolidated guides** created in wiki:"
      },
      {
        "line": 18,
        "token": "https",
        "context": "- **[Installation Guide](https://github.com/doobidoo/mcp-memory-service/wiki/Installation-Guide)** - Single source for all installation methods"
      },
      {
        "line": 19,
        "token": "https",
        "context": "- **[Platform Setup Guide](https://github.com/doobidoo/mcp-memory-service/wiki/Platform-Setup-Guide)** - Windows, macOS, Linux optimizations"
      },
      {
        "line": 20,
        "token": "https",
        "context": "- **[Integration Guide](https://github.com/doobidoo/mcp-memory-service/wiki/Integration-Guide)** - Claude Desktop, Claude Code, VS Code, IDEs"
      },
      {
        "line": 21,
        "token": "page",
        "context": "- **Wiki Home page updated** with prominent links to new guides"
      },
      {
        "line": 24,
        "token": "redundant",
        "context": "- **All redundant content consolidated** into comprehensive wiki pages"
      },
      {
        "line": 25,
        "token": "information",
        "context": "- **No information lost** - everything preserved and better organized"
      },
      {
        "line": 26,
        "token": "added",
        "context": "- **Cross-references added** between related topics"
      },
      {
        "line": 27,
        "token": "source",
        "context": "- **Single source of truth** established for each topic"
      },
      {
        "line": 30,
        "token": "streamlined",
        "context": "- **README.md streamlined** - 56KB â†’ 8KB with wiki links"
      },
      {
        "line": 31,
        "token": "redundant",
        "context": "- **26 redundant files safely moved** to `archive/docs-removed-2025-08-23/`"
      },
      {
        "line": 32,
        "token": "directories",
        "context": "- **Empty directories removed**"
      },
      {
        "line": 33,
        "token": "preserved",
        "context": "- **Original README preserved** as `README-ORIGINAL-BACKUP.md`"
      },
      {
        "line": 38,
        "token": "markdown",
        "context": "- **87 markdown files** (1MB+ documentation)"
      },
      {
        "line": 39,
        "token": "different",
        "context": "- **6 different installation guides** with overlapping steps"
      },
      {
        "line": 40,
        "token": "integration",
        "context": "- **5 Claude integration files** with duplicate examples"
      },
      {
        "line": 41,
        "token": "platform",
        "context": "- **4 platform setup guides** covering same ground"
      },
      {
        "line": 42,
        "token": "user",
        "context": "- **Overwhelming user choice** - which guide to follow?"
      },
      {
        "line": 43,
        "token": "maintenance",
        "context": "- **High maintenance burden** - update 6+ files for installation changes"
      },
      {
        "line": 46,
        "token": "repository",
        "context": "- **Essential repository files**: README, CLAUDE, CHANGELOG (focused on code)"
      },
      {
        "line": 47,
        "token": "wiki",
        "context": "- **Comprehensive wiki**: 3 consolidated guides covering everything"
      },
      {
        "line": 48,
        "token": "source",
        "context": "- **Single source of truth** for each topic"
      },
      {
        "line": 49,
        "token": "user",
        "context": "- **Clear user path**: README â†’ Wiki â†’ Success"
      },
      {
        "line": 50,
        "token": "reduction",
        "context": "- **90% reduction** in repository documentation files"
      },
      {
        "line": 51,
        "token": "maintainability",
        "context": "- **Improved maintainability** - update once, not 6+ times"
      },
      {
        "line": 81,
        "token": "overview",
        "context": "- âœ… `README.md` - Streamlined overview (8KB)"
      },
      {
        "line": 82,
        "token": "development",
        "context": "- âœ… `CLAUDE.md` - Claude Code development guidance"
      },
      {
        "line": 83,
        "token": "history",
        "context": "- âœ… `CHANGELOG.md` - Version history"
      },
      {
        "line": 84,
        "token": "preserved",
        "context": "- âœ… `archive/` - Safely preserved removed documentation"
      },
      {
        "line": 87,
        "token": "about",
        "context": "- âœ… `Installation-Guide.md` - Everything about installation"
      },
      {
        "line": 88,
        "token": "optimizations",
        "context": "- âœ… `Platform-Setup-Guide.md` - Platform-specific optimizations"
      },
      {
        "line": 89,
        "token": "tool",
        "context": "- âœ… `Integration-Guide.md` - All IDE and tool integrations"
      },
      {
        "line": 90,
        "token": "clear",
        "context": "- âœ… `Home.md` - Updated with clear navigation"
      },
      {
        "line": 93,
        "token": "files",
        "context": "- âœ… **26 files moved** to `archive/docs-removed-2025-08-23/`"
      },
      {
        "line": 94,
        "token": "backup",
        "context": "- âœ… **Complete backup** - nothing permanently deleted"
      },
      {
        "line": 95,
        "token": "history",
        "context": "- âœ… **Git history preserved** - all content recoverable"
      },
      {
        "line": 96,
        "token": "backed",
        "context": "- âœ… **Original README** backed up as `README-ORIGINAL-BACKUP.md`"
      },
      {
        "line": 101,
        "token": "guides",
        "context": "- **Installation**: 6 guides â†’ 1 comprehensive wiki page"
      },
      {
        "line": 102,
        "token": "guides",
        "context": "- **Platform Setup**: 4 guides â†’ 1 optimized wiki page"
      },
      {
        "line": 103,
        "token": "guides",
        "context": "- **Integration**: 5 guides â†’ 1 complete wiki page"
      },
      {
        "line": 104,
        "token": "information",
        "context": "- **No information lost** - everything consolidated and enhanced"
      },
      {
        "line": 107,
        "token": "path",
        "context": "- **Clear path**: README â†’ Quick Start â†’ Wiki for details"
      },
      {
        "line": 108,
        "token": "choice",
        "context": "- **No choice paralysis**: Single authoritative source per topic"
      },
      {
        "line": 109,
        "token": "navigation",
        "context": "- **Better navigation**: Logical wiki structure vs scattered files"
      },
      {
        "line": 110,
        "token": "onboarding",
        "context": "- **Faster onboarding**: Quick start + comprehensive references"
      },
      {
        "line": 113,
        "token": "source",
        "context": "- **Single source updates**: Change once vs 6+ places"
      },
      {
        "line": 114,
        "token": "maintenance",
        "context": "- **Reduced maintenance burden**: One installation guide to maintain"
      },
      {
        "line": 115,
        "token": "repository",
        "context": "- **Cleaner repository**: Focus on code, not doc management"
      },
      {
        "line": 116,
        "token": "appearance",
        "context": "- **Professional appearance**: Organized vs overwhelming"
      },
      {
        "line": 119,
        "token": "data",
        "context": "- **Zero data loss**: All content migrated or archived"
      },
      {
        "line": 120,
        "token": "rollback",
        "context": "- **Safe rollback**: Everything recoverable if needed"
      },
      {
        "line": 121,
        "token": "history",
        "context": "- **Git history intact**: Full change history preserved"
      },
      {
        "line": 122,
        "token": "strategy",
        "context": "- **Backup strategy**: Multiple recovery options available"
      },
      {
        "line": 127,
        "token": "start",
        "context": "1. **README.md** â†’ Quick start + wiki links"
      },
      {
        "line": 128,
        "token": "guide",
        "context": "2. **Wiki Home** â†’ Organized guide navigation"
      },
      {
        "line": 129,
        "token": "about",
        "context": "3. **Installation Guide** â†’ Everything about setup"
      },
      {
        "line": 130,
        "token": "optimizations",
        "context": "4. **Platform Setup** â†’ OS-specific optimizations"
      },
      {
        "line": 131,
        "token": "instructions",
        "context": "5. **Integration Guide** â†’ Tool-specific instructions"
      },
      {
        "line": 144,
        "token": "files",
        "context": "- **Documentation files**: 87 â†’ ~60 (30% reduction in repo)"
      },
      {
        "line": 145,
        "token": "guides",
        "context": "- **Installation guides**: 6 â†’ 1 comprehensive wiki page"
      },
      {
        "line": 146,
        "token": "locations",
        "context": "- **Maintenance locations**: 6+ files â†’ 1 wiki page per topic"
      },
      {
        "line": 147,
        "token": "size",
        "context": "- **README size**: 56KB â†’ 8KB (86% reduction)"
      },
      {
        "line": 148,
        "token": "safety",
        "context": "- **Archive safety**: 26 files safely preserved"
      },
      {
        "line": 151,
        "token": "source",
        "context": "- âœ… **Clarity**: Single source of truth vs multiple conflicting guides"
      },
      {
        "line": 152,
        "token": "user",
        "context": "- âœ… **Usability**: Clear user journey vs overwhelming choices"
      },
      {
        "line": 153,
        "token": "once",
        "context": "- âœ… **Maintainability**: Update once vs updating 6+ files"
      },
      {
        "line": 154,
        "token": "wiki",
        "context": "- âœ… **Professionalism**: Organized wiki vs scattered documentation"
      },
      {
        "line": 155,
        "token": "structure",
        "context": "- âœ… **Discoverability**: Logical structure vs hidden information"
      },
      {
        "line": 159,
        "token": "consolidation",
        "context": "This consolidation transforms MCP Memory Service from a project with **overwhelming documentation chaos** into one with **clear, professional, maintainable docu"
      },
      {
        "line": 162,
        "token": "onboarding",
        "context": "- **Faster onboarding** - clear path from discovery to success"
      },
      {
        "line": 163,
        "token": "confusion",
        "context": "- **Less confusion** - single authoritative source per topic"
      },
      {
        "line": 164,
        "token": "experience",
        "context": "- **Better experience** - logical progression through setup"
      },
      {
        "line": 167,
        "token": "updates",
        "context": "- **Easier updates** - change wiki once vs 6+ repository files"
      },
      {
        "line": 168,
        "token": "complexity",
        "context": "- **Reduced complexity** - fewer files to manage and sync"
      },
      {
        "line": 169,
        "token": "image",
        "context": "- **Professional image** - organized documentation reflects code quality"
      },
      {
        "line": 172,
        "token": "adoption",
        "context": "- **Better adoption** - users can actually figure out how to install"
      },
      {
        "line": 173,
        "token": "support",
        "context": "- **Reduced support burden** - comprehensive guides answer questions"
      },
      {
        "line": 174,
        "token": "growth",
        "context": "- **Community growth** - professional appearance attracts contributors"
      },
      {
        "line": 178,
        "token": "documentation",
        "context": "The documentation consolidation is **100% complete and successful**. We've transformed an overwhelming collection of 87 scattered markdown files into a **clean,"
      },
      {
        "line": 180,
        "token": "repository",
        "context": "- âœ… **Streamlined repository** focused on code"
      },
      {
        "line": 181,
        "token": "wiki",
        "context": "- âœ… **Comprehensive wiki** with consolidated guides"
      },
      {
        "line": 182,
        "token": "user",
        "context": "- âœ… **Better user experience** with clear paths"
      },
      {
        "line": 183,
        "token": "maintenance",
        "context": "- âœ… **Reduced maintenance burden** for updates"
      },
      {
        "line": 184,
        "token": "preservation",
        "context": "- âœ… **Safe preservation** of all original content"
      },
      {
        "line": 186,
        "token": "now",
        "context": "**The MCP Memory Service now has documentation that matches the quality of its code.** ğŸš€"
      },
      {
        "line": 190,
        "token": "consolidation",
        "context": "*Documentation consolidation completed successfully on 2025-08-23. All files safely preserved, user experience dramatically improved, maintainability greatly en"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/LITESTREAM_SETUP_GUIDE.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/LITESTREAM_SETUP_GUIDE_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "guide",
        "context": "This guide will help you set up real-time database synchronization between your local macOS machine and your remote server at `your-remote-server:8443`."
      },
      {
        "line": 10,
        "token": "serves",
        "context": "- **Master**: `your-remote-server` (serves replica data via HTTP on port 8080)"
      },
      {
        "line": 11,
        "token": "machine",
        "context": "- **Replica**: Local macOS machine (syncs from master every 10 seconds)"
      },
      {
        "line": 12,
        "token": "HTTP",
        "context": "- **HTTP Server**: Python built-in server (lightweight, no additional dependencies)"
      },
      {
        "line": 16,
        "token": "following",
        "context": "The following configuration files have been generated:"
      },
      {
        "line": 19,
        "token": "master",
        "context": "- `litestream_master_config.yml` - Litestream master configuration for remote server"
      },
      {
        "line": 20,
        "token": "replica",
        "context": "- `litestream_replica_config.yml` - Litestream replica configuration for local machine"
      },
      {
        "line": 23,
        "token": "service",
        "context": "- `litestream.service` - Systemd service for Litestream master"
      },
      {
        "line": 24,
        "token": "service",
        "context": "- `litestream-http.service` - Systemd service for HTTP server"
      },
      {
        "line": 25,
        "token": "replica",
        "context": "- `io.litestream.replication.plist` - macOS LaunchDaemon for replica"
      },
      {
        "line": 28,
        "token": "setup",
        "context": "- `setup_remote_litestream.sh` - Automated setup for remote server"
      },
      {
        "line": 29,
        "token": "setup",
        "context": "- `setup_local_litestream.sh` - Automated setup for local machine"
      },
      {
        "line": 105,
        "token": "needed",
        "context": "### Perform Initial Restore (if needed)"
      },
      {
        "line": 158,
        "token": "monitoring",
        "context": "Create a monitoring script to check sync status:"
      },
      {
        "line": 176,
        "token": "lag",
        "context": "**Sync lag issues:**"
      },
      {
        "line": 189,
        "token": "errors",
        "context": "**Permission errors:**"
      },
      {
        "line": 195,
        "token": "issues",
        "context": "**Service issues:**"
      },
      {
        "line": 204,
        "token": "sure",
        "context": "1. **Database Path**: Make sure the database path in the master config matches your actual SQLite-vec database location on the remote server."
      },
      {
        "line": 206,
        "token": "local",
        "context": "2. **Network**: The local machine needs to reach `your-remote-server:8080`. Ensure firewall rules allow this."
      },
      {
        "line": 208,
        "token": "HTTP",
        "context": "3. **SSL/TLS**: The HTTP server runs on plain HTTP (port 8080) for simplicity. For production, consider HTTPS."
      },
      {
        "line": 210,
        "token": "master",
        "context": "4. **Backup**: The master config includes local backups to `/backup/litestream/mcp-memory`."
      },
      {
        "line": 212,
        "token": "interval",
        "context": "5. **Performance**: Sync interval is set to 10 seconds. Adjust if needed in the configuration files."
      },
      {
        "line": 216,
        "token": "successful",
        "context": "After successful setup:"
      },
      {
        "line": 217,
        "token": "sync",
        "context": "1. Monitor sync performance and adjust intervals if needed"
      },
      {
        "line": 218,
        "token": "automated",
        "context": "2. Set up automated health checks"
      },
      {
        "line": 219,
        "token": "backup",
        "context": "3. Configure backup retention policies"
      },
      {
        "line": 220,
        "token": "setting",
        "context": "4. Consider setting up alerts for sync failures"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/PYTORCH_DOWNLOAD_FIX.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/PYTORCH_DOWNLOAD_FIX_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "was",
        "context": "Claude Desktop was downloading PyTorch models (230MB+) on every startup, even with offline environment variables set in the config."
      },
      {
        "line": 10,
        "token": "issue",
        "context": "The issue was that **UV package manager isolation** prevented environment variables from being properly inherited, and model downloads happened before our offli"
      },
      {
        "line": 16,
        "token": "offline",
        "context": "- Sets offline environment variables **before any imports**"
      },
      {
        "line": 17,
        "token": "cache",
        "context": "- Configures cache paths for Windows"
      },
      {
        "line": 18,
        "token": "isolation",
        "context": "- Bypasses UV isolation by running Python directly"
      },
      {
        "line": 21,
        "token": "config",
        "context": "**Your config now uses**:"
      },
      {
        "line": 39,
        "token": "function",
        "context": "- Added `setup_offline_mode()` function"
      },
      {
        "line": 40,
        "token": "immediately",
        "context": "- Runs immediately when module is imported"
      },
      {
        "line": 41,
        "token": "fallback",
        "context": "- Provides fallback offline configuration"
      },
      {
        "line": 64,
        "token": "direct",
        "context": "- Changed from UV to direct Python execution"
      },
      {
        "line": 65,
        "token": "new",
        "context": "- Uses new offline launcher script"
      },
      {
        "line": 68,
        "token": "offline",
        "context": "- Forces offline mode before any ML library imports"
      },
      {
        "line": 69,
        "token": "cache",
        "context": "- Configures Windows cache paths automatically"
      },
      {
        "line": 72,
        "token": "offline",
        "context": "- Added offline mode setup as backup"
      },
      {
        "line": 73,
        "token": "module",
        "context": "- Runs on module import"
      },
      {
        "line": 76,
        "token": "other",
        "context": "- Updated for other users"
      },
      {
        "line": 77,
        "token": "new",
        "context": "- Uses new launcher approach"
      },
      {
        "line": 81,
        "token": "more",
        "context": "âœ… **No more 230MB PyTorch downloads on startup**"
      },
      {
        "line": 82,
        "token": "initialization",
        "context": "âœ… **Faster Claude Desktop initialization**"
      },
      {
        "line": 83,
        "token": "existing",
        "context": "âœ… **Uses existing cached models (434 memories preserved)**"
      },
      {
        "line": 84,
        "token": "backend",
        "context": "âœ… **SQLite-vec backend still working**"
      },
      {
        "line": 88,
        "token": "updated",
        "context": "Use the updated `examples/claude_desktop_config_windows.json` template and:"
      },
      {
        "line": 89,
        "token": "your",
        "context": "1. Replace `C:/REPOSITORIES/mcp-memory-service` with your path"
      },
      {
        "line": 90,
        "token": "your",
        "context": "2. Replace `YOUR_USERNAME` with your Windows username"
      },
      {
        "line": 91,
        "token": "python",
        "context": "3. Use `python` command with `scripts/memory_offline.py`"
      },
      {
        "line": 93,
        "token": "stubborn",
        "context": "The stubborn PyTorch download issue is now **completely resolved**! ğŸ‰"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/README-ORIGINAL-BACKUP.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/README-ORIGINAL-BACKUP_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 28,
        "token": "universal",
        "context": "A **universal MCP memory service** providing **semantic memory search**, persistent storage, and **autonomous memory consolidation** for **AI assistants** and d"
      },
      {
        "line": 30,
        "token": "img",
        "context": "<img width=\"240\" alt=\"grafik\" src=\"https://github.com/user-attachments/assets/eab1f341-ca54-445c-905e-273cd9e89555\" />"
      },
      {
        "line": 31,
        "token": "href",
        "context": "<a href=\"https://glama.ai/mcp/servers/bzvl3lz34o\"><img width=\"380\" height=\"200\" src=\"https://glama.ai/mcp/servers/bzvl3lz34o/badge\" alt=\"Memory Service MCP serv"
      },
      {
        "line": 34,
        "token": "https",
        "context": "- Talk to the Repo with [TalkToGitHub](https://talktogithub.com/doobidoo/mcp-memory-service)!"
      },
      {
        "line": 35,
        "token": "digg",
        "context": "- Use Gitprobe to digg deeper: [GitProbe](https://gitprobe.com/doobidoo/mcp-memory-service)!"
      },
      {
        "line": 52,
        "token": "features",
        "context": "- [âœ¨ Features Overview](#features)"
      },
      {
        "line": 66,
        "token": "testing",
        "context": "- [ğŸ§ª Testing](#testing)"
      },
      {
        "line": 67,
        "token": "faq",
        "context": "- [â“ FAQ](#faq)"
      },
      {
        "line": 68,
        "token": "troubleshooting",
        "context": "- [ğŸ› ï¸ Troubleshooting](#troubleshooting)"
      },
      {
        "line": 74,
        "token": "integrations",
        "context": "- [ğŸ¤ Integrations](#integrations)"
      },
      {
        "line": 81,
        "token": "your",
        "context": "Choose your preferred installation method to get started in under 5 minutes:"
      },
      {
        "line": 83,
        "token": "minutes",
        "context": "### Option 1: Docker (Fastest - 2 minutes)"
      },
      {
        "line": 89,
        "token": "production",
        "context": "âœ… **Perfect for**: Testing, production deployment, isolation"
      },
      {
        "line": 92,
        "token": "minute",
        "context": "### Option 2: Smithery (Simplest - 1 minute)"
      },
      {
        "line": 97,
        "token": "users",
        "context": "âœ… **Perfect for**: Claude Desktop users, zero configuration"
      },
      {
        "line": 100,
        "token": "minutes",
        "context": "### Option 3: Python Installer (Most Flexible - 5 minutes)"
      },
      {
        "line": 106,
        "token": "customization",
        "context": "âœ… **Perfect for**: Developers, customization, multi-client setup"
      },
      {
        "line": 113,
        "token": "automatic",
        "context": "**Revolutionary automatic memory injection for Claude Code sessions!**"
      },
      {
        "line": 115,
        "token": "your",
        "context": "Transform your development experience with intelligent, automatic memory context that appears seamlessly in every Claude Code session. Never lose track of decis"
      },
      {
        "line": 137,
        "token": "context",
        "context": "ğŸ¤– **Zero Cognitive Load**: Memory context appears automatically without user intervention"
      },
      {
        "line": 138,
        "token": "scoring",
        "context": "ğŸ§  **Intelligent Selection**: Advanced scoring algorithm chooses only relevant memories"
      },
      {
        "line": 139,
        "token": "injection",
        "context": "âš¡ **Lightning Fast**: Memory injection adds <2 seconds to session startup"
      },
      {
        "line": 140,
        "token": "projects",
        "context": "ğŸ“Š **Multi-Language Support**: Detects JavaScript, Python, Rust, Go, Java, C++ projects"
      },
      {
        "line": 141,
        "token": "your",
        "context": "ğŸ—ï¸ **Context-Aware**: Understands your project structure, git repo, and technology stack"
      },
      {
        "line": 142,
        "token": "memory",
        "context": "ğŸ“ **Beautiful Formatting**: Categorized, markdown-rich memory presentation"
      },
      {
        "line": 143,
        "token": "stores",
        "context": "ğŸ”„ **Session Learning**: Automatically stores session outcomes for future reference"
      },
      {
        "line": 144,
        "token": "testing",
        "context": "âœ… **100% Test Coverage**: Comprehensive testing with complete integration validation"
      },
      {
        "line": 160,
        "token": "detects",
        "context": "1. **Session Start**: Hook detects project context (language, framework, git info)"
      },
      {
        "line": 161,
        "token": "memory",
        "context": "2. **Memory Query**: Searches memory service for relevant memories using multi-factor scoring"
      },
      {
        "line": 162,
        "token": "injects",
        "context": "3. **Context Injection**: Formats and injects top 8 relevant memories as session context"
      },
      {
        "line": 163,
        "token": "conversation",
        "context": "4. **Session End**: Analyzes conversation and stores outcomes with intelligent tagging"
      },
      {
        "line": 177,
        "token": "docs/enhancement-roadmap-issue-14.md",
        "context": "â¡ï¸ [**Technical Architecture**](docs/enhancement-roadmap-issue-14.md) | [**Installation Guide**](claude-hooks/README.md) | [**Test Results**](claude-hooks/tests"
      },
      {
        "line": 183,
        "token": "started",
        "context": "**Get started in 2 minutes with direct memory commands!**"
      },
      {
        "line": 196,
        "token": "conversational",
        "context": "âœ¨ **5 conversational commands** following CCPlugins pattern"
      },
      {
        "line": 197,
        "token": "server",
        "context": "ğŸš€ **Zero MCP server configuration** required"
      },
      {
        "line": 198,
        "token": "operations",
        "context": "ğŸ§  **Context-aware operations** with automatic project detection"
      },
      {
        "line": 199,
        "token": "interface",
        "context": "ğŸ¨ **Professional interface** with comprehensive guidance"
      },
      {
        "line": 201,
        "token": "docs/guides/claude-code-quickstart.md",
        "context": "â¡ï¸ [**Quick Start Guide**](docs/guides/claude-code-quickstart.md) | [**Full Integration Guide**](docs/guides/claude-code-integration.md)"
      },
      {
        "line": 205,
        "token": "remote",
        "context": "**Production-ready remote memory service with native MCP-over-HTTP protocol!**"
      },
      {
        "line": 209,
        "token": "memory",
        "context": "Deploy the memory service on any server for cross-device access:"
      },
      {
        "line": 220,
        "token": "http",
        "context": "- **MCP Protocol**: `http://your-server:8000/mcp` (for MCP clients)"
      },
      {
        "line": 221,
        "token": "http",
        "context": "- **Dashboard**: `http://your-server:8000/` (web interface)"
      },
      {
        "line": 222,
        "token": "http",
        "context": "- **API Docs**: `http://your-server:8000/api/docs` (interactive API)"
      },
      {
        "line": 226,
        "token": "any",
        "context": "Connect any MCP client or tool to your remote memory service:"
      },
      {
        "line": 256,
        "token": "any",
        "context": "- âœ… **Cross-Device Access**: Connect from any device running Claude Code"
      },
      {
        "line": 257,
        "token": "implementation",
        "context": "- âœ… **Native MCP Protocol**: Standard JSON-RPC 2.0 implementation"
      },
      {
        "line": 258,
        "token": "HTTP/HTTPS",
        "context": "- âœ… **No Bridge Required**: Direct HTTP/HTTPS connection"
      },
      {
        "line": 259,
        "token": "deployment",
        "context": "- âœ… **Production Ready**: Proven deployment at scale"
      },
      {
        "line": 265,
        "token": "workflow",
        "context": "**Git-like workflow for distributed memory systems with automatic conflict resolution!**"
      },
      {
        "line": 267,
        "token": "your",
        "context": "Transform your memory service into a distributed system with seamless synchronization between local development and remote production servers. Features intellig"
      },
      {
        "line": 271,
        "token": "communication",
        "context": "ğŸŒ **Remote-First Architecture**: Direct API communication with local staging fallback"
      },
      {
        "line": 272,
        "token": "integration",
        "context": "âš¡ **Real-Time Replication**: Litestream integration for live SQLite synchronization"
      },
      {
        "line": 273,
        "token": "automatic",
        "context": "ğŸ”„ **Git-like Workflow**: Stage â†’ Pull â†’ Apply â†’ Push with automatic conflict resolution"
      },
      {
        "line": 274,
        "token": "staging",
        "context": "ğŸ  **Offline Capability**: Local staging database for offline development"
      },
      {
        "line": 275,
        "token": "deduplication",
        "context": "ğŸ” **Content Hash Detection**: Intelligent deduplication and conflict prevention"
      },
      {
        "line": 276,
        "token": "servers",
        "context": "ğŸ“¡ **Cross-Platform Service**: Works on Linux, macOS, and Windows servers"
      },
      {
        "line": 277,
        "token": "service",
        "context": "ğŸ¯ **Zero Configuration**: Automatic service discovery via mDNS/hostname resolution"
      },
      {
        "line": 328,
        "token": "orchestrator",
        "context": "- **`memory_sync.sh`**: Main orchestrator with colored status output"
      },
      {
        "line": 329,
        "token": "storage",
        "context": "- **`enhanced_memory_store.sh`**: Remote-first storage with intelligent fallback"
      },
      {
        "line": 330,
        "token": "remote",
        "context": "- **`pull_remote_changes.sh`**: Conflict-aware remote synchronization"
      },
      {
        "line": 331,
        "token": "sync",
        "context": "- **`manual_sync.sh`**: HTTP-based sync with content hash validation"
      },
      {
        "line": 334,
        "token": "staging",
        "context": "- **`staging_db_init.sql`**: Complete SQLite staging schema with triggers"
      },
      {
        "line": 335,
        "token": "configuration",
        "context": "- **`litestream.yml`**: Master/replica configuration for real-time sync"
      },
      {
        "line": 336,
        "token": "files",
        "context": "- **Service files**: Cross-platform systemd/LaunchDaemon integration"
      },
      {
        "line": 339,
        "token": "deduplication",
        "context": "- **Content hash-based deduplication**: Prevents duplicate memories across sync"
      },
      {
        "line": 340,
        "token": "database",
        "context": "- **Staging database system**: Full offline capability with background sync"
      },
      {
        "line": 341,
        "token": "HTTP",
        "context": "- **HTTP replica serving**: Lightweight Python server for cross-network access"
      },
      {
        "line": 342,
        "token": "management",
        "context": "- **Service management**: Native integration with system service managers"
      },
      {
        "line": 361,
        "token": "sync",
        "context": "The sync system provides comprehensive status reporting:"
      },
      {
        "line": 367,
        "token": "includes",
        "context": "**Output includes:**"
      },
      {
        "line": 368,
        "token": "connectivity",
        "context": "- ğŸŸ¢ **Remote connectivity** status with response time"
      },
      {
        "line": 369,
        "token": "counts",
        "context": "- ğŸ“Š **Memory counts** (local vs remote) with sync diff"
      },
      {
        "line": 370,
        "token": "sync",
        "context": "- â° **Last sync** timestamp and success rate"
      },
      {
        "line": 371,
        "token": "status",
        "context": "- ğŸ”„ **Replication status** via Litestream integration"
      },
      {
        "line": 372,
        "token": "detection",
        "context": "- ğŸ¯ **Conflict detection** and resolution recommendations"
      },
      {
        "line": 376,
        "token": "system",
        "context": "Install as system service for automatic sync:"
      },
      {
        "line": 388,
        "token": "startup",
        "context": "- âœ… **Automatic startup** on boot/login"
      },
      {
        "line": 389,
        "token": "synchronization",
        "context": "- âœ… **Background synchronization** every 15 minutes"
      },
      {
        "line": 390,
        "token": "health",
        "context": "- âœ… **Service health monitoring** with restart on failure"
      },
      {
        "line": 391,
        "token": "compatibility",
        "context": "- âœ… **Cross-platform compatibility** (systemd, LaunchAgent, Windows Service)"
      },
      {
        "line": 393,
        "token": "docs/guides/distributed-sync.md",
        "context": "â¡ï¸ **[Complete Sync Documentation](docs/guides/distributed-sync.md)** | **[Installation Guide](docs/installation/distributed-sync.md)** | **[Troubleshooting](do"
      },
      {
        "line": 401,
        "token": "applications",
        "context": "**Works with 13+ AI applications and development environments** via the standard Model Context Protocol (MCP):"
      },
      {
        "line": 405,
        "token": "support",
        "context": "| **Claude Desktop** | âœ… Full | `claude_desktop_config.json` | Official MCP support |"
      },
      {
        "line": 406,
        "token": "use",
        "context": "| **Claude Code** | âœ… Full | `.claude.json` | Optionally use Claude Commands instead ([guide](CLAUDE_CODE_COMPATIBILITY.md)) |"
      },
      {
        "line": 407,
        "token": "support",
        "context": "| **Cursor** | âœ… Full | `.cursor/mcp.json` | AI-powered IDE with MCP support |"
      },
      {
        "line": 408,
        "token": "config",
        "context": "| **WindSurf** | âœ… Full | MCP config file | Codeium's AI IDE with built-in server management |"
      },
      {
        "line": 409,
        "token": "configuration",
        "context": "| **LM Studio** | âœ… Full | MCP configuration | Enhanced compatibility with debug output |"
      },
      {
        "line": 410,
        "token": "config",
        "context": "| **Cline** | âœ… Full | VS Code MCP config | VS Code extension, formerly Claude Dev |"
      },
      {
        "line": 411,
        "token": "config",
        "context": "| **RooCode** | âœ… Full | IDE config | Full MCP client implementation |"
      },
      {
        "line": 412,
        "token": "config",
        "context": "| **Zed** | âœ… Full | Built-in config | Native MCP support |"
      },
      {
        "line": 413,
        "token": "extension",
        "context": "| **VS Code** | âœ… Full | `.vscode/mcp.json` | Via MCP extension |"
      },
      {
        "line": 414,
        "token": "configuration",
        "context": "| **Continue IDE** | âœ… Full | Continue configuration | Extension with MCP support |"
      },
      {
        "line": 415,
        "token": "mcp",
        "context": "| **Standard MCP Libraries** | âœ… Full | Various | Python `mcp`, JavaScript SDK |"
      },
      {
        "line": 416,
        "token": "protocol",
        "context": "| **Custom MCP Clients** | âœ… Full | Implementation-specific | Full protocol compliance |"
      },
      {
        "line": 417,
        "token": "HTTP",
        "context": "| **HTTP API** | âœ… Full | REST endpoints | Direct API access on port 8000 |"
      },
      {
        "line": 420,
        "token": "memories",
        "context": "- ğŸ”„ **Cross-Client Memory Sharing**: Use memories across all your AI tools"
      },
      {
        "line": 421,
        "token": "installation",
        "context": "- ğŸš€ **Universal Setup**: Single installation works everywhere"
      },
      {
        "line": 422,
        "token": "compliance",
        "context": "- ğŸ”Œ **Standard Protocol**: Full MCP compliance ensures compatibility"
      },
      {
        "line": 423,
        "token": "HTTP/HTTPS",
        "context": "- ğŸŒ **Remote Access**: HTTP/HTTPS support for distributed teams"
      },
      {
        "line": 425,
        "token": "docs/integration/multi-client.md",
        "context": "â¡ï¸ [**Multi-Client Setup Guide**](docs/integration/multi-client.md) | [**IDE Compatibility Details**](docs/ide-compatability.md)"
      },
      {
        "line": 430,
        "token": "processing",
        "context": "- **Dream-inspired processing** with multi-layered time horizons (daily â†’ yearly)"
      },
      {
        "line": 431,
        "token": "association",
        "context": "- **Creative association discovery** finding non-obvious connections between memories"
      },
      {
        "line": 432,
        "token": "clustering",
        "context": "- **Semantic clustering** automatically organizing related memories"
      },
      {
        "line": 433,
        "token": "compression",
        "context": "- **Intelligent compression** preserving key information while reducing storage"
      },
      {
        "line": 434,
        "token": "forgetting",
        "context": "- **Controlled forgetting** with safe archival and recovery systems"
      },
      {
        "line": 435,
        "token": "optimized",
        "context": "- **Performance optimized** for processing 10k+ memories efficiently"
      },
      {
        "line": 438,
        "token": "operation",
        "context": "- **PyTorch-free operation** using ONNX Runtime for embeddings"
      },
      {
        "line": 439,
        "token": "dependencies",
        "context": "- **Reduced dependencies** (~500MB less disk space without PyTorch)"
      },
      {
        "line": 440,
        "token": "startup",
        "context": "- **Faster startup** with pre-optimized ONNX models"
      },
      {
        "line": 441,
        "token": "fallback",
        "context": "- **Automatic fallback** to SentenceTransformers when needed"
      },
      {
        "line": 442,
        "token": "models",
        "context": "- **Compatible models** with the same all-MiniLM-L6-v2 embeddings"
      },
      {
        "line": 443,
        "token": "export",
        "context": "- Enable with: `export MCP_MEMORY_USE_ONNX=true`"
      },
      {
        "line": 446,
        "token": "search",
        "context": "- **Semantic search** using sentence transformers or ONNX embeddings"
      },
      {
        "line": 447,
        "token": "language",
        "context": "- **Natural language time-based recall** (e.g., \"last week\", \"yesterday morning\")"
      },
      {
        "line": 448,
        "token": "tag",
        "context": "- **Enhanced tag deletion system** with flexible multi-tag support"
      },
      {
        "line": 449,
        "token": "memory",
        "context": "- **Tag-based memory retrieval** system with OR/AND logic"
      },
      {
        "line": 450,
        "token": "match",
        "context": "- **Exact match retrieval** and duplicate detection"
      },
      {
        "line": 451,
        "token": "mode",
        "context": "- **Debug mode** for similarity analysis and troubleshooting"
      },
      {
        "line": 454,
        "token": "memory",
        "context": "- **ğŸ“š URI-based Resources**: `memory://stats`, `memory://tags`, `memory://recent/{n}`, `memory://search/{query}`"
      },
      {
        "line": 455,
        "token": "workflows",
        "context": "- **ğŸ“‹ Guided Prompts**: Interactive workflows (memory_review, memory_analysis, knowledge_export)"
      },
      {
        "line": 456,
        "token": "notifications",
        "context": "- **ğŸ“Š Progress Tracking**: Real-time notifications for long operations"
      },
      {
        "line": 457,
        "token": "sync",
        "context": "- **ğŸ”„ Database Synchronization**: Multi-node sync with Litestream integration"
      },
      {
        "line": 458,
        "token": "optimization",
        "context": "- **ğŸ›ï¸ Client Optimization**: Auto-detection and optimization for Claude Desktop vs LM Studio"
      },
      {
        "line": 463,
        "token": "default",
        "context": "- **ğŸª¶ SQLite-vec (default)**: 10x faster startup, 75% less memory, zero network dependencies"
      },
      {
        "line": 464,
        "token": "legacy",
        "context": "- **ğŸ“¦ ChromaDB (legacy)**: Available for backward compatibility, deprecated in v6.0.0"
      },
      {
        "line": 467,
        "token": "server",
        "context": "- **Production FastAPI server** with auto-generated SSL certificates"
      },
      {
        "line": 468,
        "token": "networking",
        "context": "- **mDNS Service Discovery** for zero-configuration networking"
      },
      {
        "line": 469,
        "token": "updates",
        "context": "- **Server-Sent Events (SSE)** with real-time updates"
      },
      {
        "line": 470,
        "token": "key",
        "context": "- **API key authentication** for secure deployments"
      },
      {
        "line": 471,
        "token": "service",
        "context": "- **Cross-platform service installation** (systemd, LaunchAgent, Windows Service)"
      },
      {
        "line": 474,
        "token": "compatibility",
        "context": "- **Cross-platform compatibility**: Apple Silicon, Intel, Windows, Linux"
      },
      {
        "line": 475,
        "token": "optimizations",
        "context": "- **Hardware-aware optimizations**: CUDA, MPS, DirectML, ROCm support"
      },
      {
        "line": 476,
        "token": "fallbacks",
        "context": "- **Graceful fallbacks** for limited hardware resources"
      },
      {
        "line": 477,
        "token": "support",
        "context": "- **Container support** with Docker images and Docker Compose configurations"
      },
      {
        "line": 482,
        "token": "workflow",
        "context": "- **v6.3.0**: ğŸ”„ **Distributed Memory Synchronization** - Git-like workflow, real-time Litestream replication, offline capability"
      },
      {
        "line": 483,
        "token": "edge",
        "context": "- **v6.2.0**: ğŸŒ **Native Cloudflare Backend Integration** - Global edge distribution, serverless scaling, Vectorize + D1 + R2 storage"
      },
      {
        "line": 484,
        "token": "conversation",
        "context": "- **v6.1.0**: ğŸ§  **Intelligent Context Updates (Phase 2)** - Real-time conversation analysis with dynamic memory loading"
      },
      {
        "line": 485,
        "token": "memory",
        "context": "- **v6.0.0**: ğŸ§  **Claude Code Memory Awareness (Phase 1)** - Automatic memory injection for coding sessions"
      },
      {
        "line": 486,
        "token": "support",
        "context": "- **v5.0.2**: ONNX Runtime support for PyTorch-free embeddings and SQLite-vec consolidation fixes"
      },
      {
        "line": 487,
        "token": "now",
        "context": "- **v5.0.0**: SQLite-vec is now the default backend - 10x faster startup, 75% less memory"
      },
      {
        "line": 489,
        "token": "complete",
        "context": "â¡ï¸ **[View Full Changelog](CHANGELOG.md)** for complete version history and detailed release notes"
      },
      {
        "line": 493,
        "token": "quick",
        "context": "*For quick setup, see the [âš¡ Quick Start](#-quick-start) section above.*"
      },
      {
        "line": 502,
        "token": "new",
        "context": "The new unified installer automatically detects your hardware and selects the optimal configuration:"
      },
      {
        "line": 524,
        "token": "detailed",
        "context": "For detailed setup instructions specific to Intel Macs, see our [Intel Mac Setup Guide](docs/platforms/macos-intel.md)."
      },
      {
        "line": 536,
        "token": "HTTP/SSE",
        "context": "**For HTTP/SSE API Development:**"
      },
      {
        "line": 566,
        "token": "memory",
        "context": "1. **Hardware Detection**: CPU, GPU, memory, and platform analysis"
      },
      {
        "line": 567,
        "token": "default",
        "context": "2. **Intelligent Backend Selection**: SQLite-vec by default, with ChromaDB as legacy option"
      },
      {
        "line": 568,
        "token": "fixes",
        "context": "3. **Platform Optimization**: macOS Intel fixes, Windows CUDA setup, Linux variations"
      },
      {
        "line": 569,
        "token": "library",
        "context": "4. **Dependency Management**: Compatible PyTorch and ML library versions"
      },
      {
        "line": 570,
        "token": "config",
        "context": "5. **Auto-Configuration**: Claude Desktop config and environment variables"
      },
      {
        "line": 571,
        "token": "migration",
        "context": "6. **Migration Support**: Seamless ChromaDB to SQLite-vec migration"
      },
      {
        "line": 575,
        "token": "default",
        "context": "**SQLite-vec (default)**: 10x faster startup, zero dependencies, recommended for all users"
      },
      {
        "line": 576,
        "token": "deprecated",
        "context": "**ChromaDB (deprecated)**: Legacy support only, will be removed in v6.0.0"
      },
      {
        "line": 580,
        "token": "explicitly",
        "context": "To explicitly select a backend during installation:"
      },
      {
        "line": 591,
        "token": "easiest",
        "context": "The easiest way to run the Memory Service is using our pre-built Docker images. We provide **two variants** optimized for different use cases:"
      },
      {
        "line": 605,
        "token": "deployments",
        "context": "##### Slim Image (90% Smaller - Recommended for CPU-only deployments)"
      },
      {
        "line": 618,
        "token": "libraries",
        "context": "- **Standard**: ~3.4GB (PyTorch + CUDA libraries) - Best for GPU acceleration"
      },
      {
        "line": 619,
        "token": "only",
        "context": "- **Slim**: ~300MB (ONNX + sqlite-vec only) - Best for CPU-only deployments, faster pulls"
      },
      {
        "line": 633,
        "token": "provide",
        "context": "We provide multiple Docker Compose configurations for different scenarios:"
      },
      {
        "line": 634,
        "token": "configuration",
        "context": "- `docker-compose.yml` - Standard configuration for MCP clients"
      },
      {
        "line": 635,
        "token": "mode",
        "context": "- `docker-compose.standalone.yml` - **Standalone mode** for testing/development (prevents boot loops)"
      },
      {
        "line": 636,
        "token": "configuration",
        "context": "- `docker-compose.uv.yml` - Alternative configuration using UV package manager"
      },
      {
        "line": 637,
        "token": "explicit",
        "context": "- `docker-compose.pythonpath.yml` - Configuration with explicit PYTHONPATH settings"
      },
      {
        "line": 649,
        "token": "you",
        "context": "If you need to build the Docker image yourself:"
      },
      {
        "line": 662,
        "token": "uvx",
        "context": "### uvx Installation"
      },
      {
        "line": 664,
        "token": "can",
        "context": "You can install and run the Memory Service using uvx for isolated execution:"
      },
      {
        "line": 681,
        "token": "users",
        "context": "Windows users may encounter PyTorch installation issues due to platform-specific wheel availability. Use our Windows-specific installation script:"
      },
      {
        "line": 688,
        "token": "script",
        "context": "This script handles:"
      },
      {
        "line": 689,
        "token": "availability",
        "context": "1. Detecting CUDA availability and version"
      },
      {
        "line": 690,
        "token": "appropriate",
        "context": "2. Installing the appropriate PyTorch version from the correct index URL"
      },
      {
        "line": 691,
        "token": "other",
        "context": "3. Installing other dependencies without conflicting with PyTorch"
      },
      {
        "line": 692,
        "token": "installation",
        "context": "4. Verifying the installation"
      },
      {
        "line": 694,
        "token": "via",
        "context": "### Installing via Smithery"
      },
      {
        "line": 696,
        "token": "install",
        "context": "To install Memory Service for Claude Desktop automatically via [Smithery](https://smithery.ai/server/@doobidoo/mcp-memory-service):"
      },
      {
        "line": 704,
        "token": "comprehensive",
        "context": "For comprehensive installation instructions and troubleshooting, see the [Installation Guide](docs/installation/master-guide.md)."
      },
      {
        "line": 711,
        "token": "your",
        "context": "Add to your `claude_desktop_config.json` file:"
      },
      {
        "line": 728,
        "token": "use",
        "context": "For Windows, use the wrapper script for PyTorch compatibility:"
      },
      {
        "line": 744,
        "token": "other",
        "context": "â¡ï¸ **[Multi-Client Setup Guide](#-multi-client-deployment)** for Claude Desktop + VS Code + other MCP clients"
      },
      {
        "line": 763,
        "token": "HTTP",
        "context": "#### HTTP API & Remote Access"
      },
      {
        "line": 779,
        "token": "production",
        "context": "For production deployments with HTTPS:"
      },
      {
        "line": 791,
        "token": "mkcert",
        "context": "**Local Development with mkcert:**"
      },
      {
        "line": 817,
        "token": "multiple",
        "context": "**NEW**: Deploy MCP Memory Service for multiple clients sharing the same memory database!"
      },
      {
        "line": 821,
        "token": "distributed",
        "context": "Perfect for distributed teams, multiple devices, or cloud deployment:"
      },
      {
        "line": 832,
        "token": "sync",
        "context": "- ğŸ”„ **Real-time sync** across all clients via Server-Sent Events (SSE)"
      },
      {
        "line": 833,
        "token": "works",
        "context": "- ğŸŒ **Cross-platform** - works from any device with HTTP access"
      },
      {
        "line": 834,
        "token": "optional",
        "context": "- ğŸ”’ **Secure** with optional API key authentication"
      },
      {
        "line": 835,
        "token": "handles",
        "context": "- ğŸ“ˆ **Scalable** - handles many concurrent clients"
      },
      {
        "line": 836,
        "token": "deploy",
        "context": "- â˜ï¸ **Cloud-ready** - deploy on AWS, DigitalOcean, Docker, etc."
      },
      {
        "line": 838,
        "token": "via",
        "context": "**Access via:**"
      },
      {
        "line": 839,
        "token": "http",
        "context": "- **API Docs**: `http://your-server:8000/api/docs`"
      },
      {
        "line": 840,
        "token": "http",
        "context": "- **Web Dashboard**: `http://your-server:8000/`"
      },
      {
        "line": 841,
        "token": "operations",
        "context": "- **REST API**: All MCP operations available via HTTP"
      },
      {
        "line": 845,
        "token": "cloud",
        "context": "**Direct SQLite on cloud storage DOES NOT WORK** for multi-client access:"
      },
      {
        "line": 847,
        "token": "locking",
        "context": "âŒ **File locking conflicts** - Cloud sync breaks SQLite's locking mechanism"
      },
      {
        "line": 848,
        "token": "corruption",
        "context": "âŒ **Data corruption** - Incomplete syncs can corrupt the database"
      },
      {
        "line": 849,
        "token": "conflicts",
        "context": "âŒ **Sync conflicts** - Multiple clients create \"conflicted copy\" files"
      },
      {
        "line": 850,
        "token": "issues",
        "context": "âŒ **Performance issues** - Full database re-upload on every change"
      },
      {
        "line": 852,
        "token": "centralized",
        "context": "**âœ… Solution**: Use centralized HTTP server deployment instead!"
      },
      {
        "line": 856,
        "token": "local",
        "context": "**For local development with multiple MCP clients** (Claude Desktop + VS Code + Continue, etc.):"
      },
      {
        "line": 858,
        "token": "features",
        "context": "The MCP Memory Service features **universal multi-client coordination** for seamless concurrent access:"
      },
      {
        "line": 866,
        "token": "detection",
        "context": "- âœ… **Automatic Coordination**: Intelligent detection of optimal access mode"
      },
      {
        "line": 867,
        "token": "any",
        "context": "- âœ… **Universal Setup**: Works with any MCP-compatible application"
      },
      {
        "line": 868,
        "token": "clients",
        "context": "- âœ… **Shared Memory**: All clients access the same memory database"
      },
      {
        "line": 869,
        "token": "mode",
        "context": "- âœ… **No Lock Conflicts**: WAL mode prevents database locking issues"
      },
      {
        "line": 870,
        "token": "between",
        "context": "- âœ… **IDE-Agnostic**: Switch between development tools while maintaining context"
      },
      {
        "line": 872,
        "token": "more",
        "context": "**Supported Clients:** Claude Desktop, Claude Code, VS Code, Continue IDE, Cursor, Cline, Zed, and more"
      },
      {
        "line": 876,
        "token": "detailed",
        "context": "For detailed deployment guides, configuration options, and troubleshooting:"
      },
      {
        "line": 878,
        "token": "docs/integration/multi-client.md",
        "context": "ğŸ“š **[Multi-Client Deployment Guide](docs/integration/multi-client.md)**"
      },
      {
        "line": 881,
        "token": "HTTP/SSE",
        "context": "- **Centralized HTTP/SSE Server** setup and configuration"
      },
      {
        "line": 882,
        "token": "local",
        "context": "- **Shared File Access** for local networks (limited scenarios)"
      },
      {
        "line": 884,
        "token": "setup",
        "context": "- **Security & Authentication** setup"
      },
      {
        "line": 885,
        "token": "environments",
        "context": "- **Performance Tuning** for high-load environments"
      },
      {
        "line": 886,
        "token": "common",
        "context": "- **Troubleshooting** common multi-client issues"
      },
      {
        "line": 890,
        "token": "detailed",
        "context": "For detailed instructions on how to interact with the memory service in Claude Desktop:"
      },
      {
        "line": 892,
        "token": "docs/guides/invocation_guide.md",
        "context": "- [Invocation Guide](docs/guides/invocation_guide.md) - Learn the specific keywords and phrases that trigger memory operations in Claude"
      },
      {
        "line": 893,
        "token": "docs/installation/master-guide.md",
        "context": "- [Installation Guide](docs/installation/master-guide.md) - Detailed setup instructions"
      },
      {
        "line": 894,
        "token": "docs/tutorials/demo-session-walkthrough.md",
        "context": "- **[Demo Session Walkthrough](docs/tutorials/demo-session-walkthrough.md)** - Real-world development session showcasing advanced features"
      },
      {
        "line": 896,
        "token": "memory",
        "context": "The memory service is invoked through natural language commands in your conversations with Claude. For example:"
      },
      {
        "line": 897,
        "token": "store",
        "context": "- To store: \"Please remember that my project deadline is May 15th.\""
      },
      {
        "line": 898,
        "token": "retrieve",
        "context": "- To retrieve: \"Do you remember what I told you about my project deadline?\""
      },
      {
        "line": 901,
        "token": "optional",
        "context": "With the optional Claude Code commands installed, you can also use direct command syntax:"
      },
      {
        "line": 918,
        "token": "delete",
        "context": "- To delete: \"Please forget what I told you about my address.\""
      },
      {
        "line": 920,
        "token": "docs/guides/invocation_guide.md",
        "context": "See the [Invocation Guide](docs/guides/invocation_guide.md) for a complete list of commands and detailed usage examples."
      },
      {
        "line": 924,
        "token": "supports",
        "context": "The MCP Memory Service supports multiple storage backends to suit different use cases:"
      },
      {
        "line": 927,
        "token": "development",
        "context": "- **Best for**: Local development, personal use, single-user deployments"
      },
      {
        "line": 928,
        "token": "database",
        "context": "- **Features**: Single-file database, 75% lower memory usage, zero network dependencies"
      },
      {
        "line": 929,
        "token": "usage",
        "context": "- **Memory usage**: Minimal (~50MB for 1K memories)"
      },
      {
        "line": 930,
        "token": "configured",
        "context": "- **Setup**: Automatically configured, works offline immediately"
      },
      {
        "line": 933,
        "token": "deployments",
        "context": "- **Best for**: Production deployments, global scale, multi-user applications"
      },
      {
        "line": 934,
        "token": "edge",
        "context": "- **Features**: Global edge network, serverless scaling, zero infrastructure management"
      },
      {
        "line": 935,
        "token": "embeddings",
        "context": "- **Storage**: Vectorize + D1 + R2, Workers AI embeddings"
      },
      {
        "line": 936,
        "token": "usage",
        "context": "- **Memory usage**: Minimal local footprint, cloud-based storage"
      },
      {
        "line": 937,
        "token": "docs/cloudflare-setup.md",
        "context": "- **Setup**: [Cloudflare Setup Guide](docs/cloudflare-setup.md)"
      },
      {
        "line": 940,
        "token": "removed",
        "context": "âš ï¸ **DEPRECATED**: Will be removed in v7.0.0. Please migrate to SQLite-vec or Cloudflare."
      },
      {
        "line": 941,
        "token": "use",
        "context": "- **Previous use cases**: Large memory collections, advanced vector metrics"
      },
      {
        "line": 942,
        "token": "dependencies",
        "context": "- **Issues**: Network dependencies, Hugging Face download failures, high resource usage"
      },
      {
        "line": 943,
        "token": "usage",
        "context": "- **Memory usage**: Higher (~200MB for 1K memories)"
      },
      {
        "line": 944,
        "token": "python",
        "context": "- **Migration**: Run `python scripts/migrate_to_sqlite_vec.py` or `python scripts/migrate_to_cloudflare.py`"
      },
      {
        "line": 964,
        "token": "backend",
        "context": "The SQLite-vec backend now works with or without PyTorch installed:"
      },
      {
        "line": 966,
        "token": "functionality",
        "context": "- **With PyTorch**: Full functionality including embedding generation"
      },
      {
        "line": 967,
        "token": "functionality",
        "context": "- **Without PyTorch**: Basic functionality using pre-computed embeddings and ONNX runtime"
      },
      {
        "line": 968,
        "token": "installation",
        "context": "- **With Homebrew PyTorch**: Integration with macOS Homebrew PyTorch installation"
      },
      {
        "line": 970,
        "token": "install",
        "context": "To install optional machine learning dependencies:"
      },
      {
        "line": 1001,
        "token": "docs/cloudflare-setup.md",
        "context": "ğŸ“– **[Complete Cloudflare Setup Guide](docs/cloudflare-setup.md)**"
      },
      {
        "line": 1005,
        "token": "users",
        "context": "For macOS users who prefer to use Homebrew's PyTorch installation:"
      },
      {
        "line": 1015,
        "token": "integration",
        "context": "This integration offers several benefits:"
      },
      {
        "line": 1016,
        "token": "isolated",
        "context": "- Uses Homebrew's isolated Python environment for PyTorch"
      },
      {
        "line": 1017,
        "token": "dependency",
        "context": "- Avoids dependency conflicts with Claude Desktop"
      },
      {
        "line": 1018,
        "token": "memory",
        "context": "- Reduces memory usage in the main process"
      },
      {
        "line": 1019,
        "token": "better",
        "context": "- Provides better stability in resource-constrained environments"
      },
      {
        "line": 1021,
        "token": "detailed",
        "context": "For detailed documentation on the Homebrew PyTorch integration:"
      },
      {
        "line": 1022,
        "token": "docs/integration/homebrew.md",
        "context": "- [Homebrew Integration Guide](docs/integration/homebrew.md) - Technical journey and solution architecture"
      },
      {
        "line": 1036,
        "token": "detailed",
        "context": "For detailed SQLite-vec setup, migration, and troubleshooting, see the [SQLite-vec Backend Guide](docs/sqlite-vec-backend.md)."
      },
      {
        "line": 1041,
        "token": "memory",
        "context": "The memory service provides the following operations through the MCP server:"
      },
      {
        "line": 1045,
        "token": "new",
        "context": "1. `store_memory` - Store new information with optional tags"
      },
      {
        "line": 1046,
        "token": "semantic",
        "context": "2. `retrieve_memory` - Perform semantic search for relevant memories"
      },
      {
        "line": 1047,
        "token": "memories",
        "context": "3. `recall_memory` - Retrieve memories using natural language time expressions"
      },
      {
        "line": 1048,
        "token": "memories",
        "context": "4. `search_by_tag` - Find memories using specific tags"
      },
      {
        "line": 1049,
        "token": "memories",
        "context": "5. `exact_match_retrieve` - Find memories with exact content match"
      },
      {
        "line": 1050,
        "token": "memories",
        "context": "6. `debug_retrieve` - Retrieve memories with similarity scores"
      },
      {
        "line": 1054,
        "token": "database",
        "context": "7. `create_backup` - Create database backup"
      },
      {
        "line": 1055,
        "token": "memory",
        "context": "8. `get_stats` - Get memory statistics"
      },
      {
        "line": 1056,
        "token": "database",
        "context": "9. `optimize_db` - Optimize database performance"
      },
      {
        "line": 1057,
        "token": "database",
        "context": "10. `check_database_health` - Get database health metrics"
      },
      {
        "line": 1058,
        "token": "model",
        "context": "11. `check_embedding_model` - Verify model status"
      },
      {
        "line": 1062,
        "token": "specific",
        "context": "12. `delete_memory` - Delete specific memory by hash"
      },
      {
        "line": 1063,
        "token": "memories",
        "context": "13. `delete_by_tag` - **Enhanced**: Delete memories with specific tag(s) - supports both single tags and multiple tags"
      },
      {
        "line": 1064,
        "token": "delete",
        "context": "14. `delete_by_tags` - **New**: Explicitly delete memories containing any of the specified tags (OR logic)"
      },
      {
        "line": 1065,
        "token": "memories",
        "context": "15. `delete_by_all_tags` - **New**: Delete memories containing all specified tags (AND logic)"
      },
      {
        "line": 1066,
        "token": "duplicate",
        "context": "16. `cleanup_duplicates` - Remove duplicate entries"
      },
      {
        "line": 1070,
        "token": "tag",
        "context": "**Issue 5 Resolution**: Enhanced tag deletion functionality for consistent API design."
      },
      {
        "line": 1072,
        "token": "accepted",
        "context": "- **Before**: `search_by_tag` accepted arrays, `delete_by_tag` only accepted single strings"
      },
      {
        "line": 1073,
        "token": "operations",
        "context": "- **After**: Both operations now support flexible tag handling"
      },
      {
        "line": 1107,
        "token": "memory",
        "context": "The memory consolidation system operates autonomously in the background, inspired by how human memory works during sleep cycles. It automatically organizes, com"
      },
      {
        "line": 1110,
        "token": "consolidation",
        "context": "Enable consolidation with a single environment variable:"
      },
      {
        "line": 1116,
        "token": "consolidation",
        "context": "- **Daily consolidation** (light processing): Updates memory relevance and basic organization"
      },
      {
        "line": 1117,
        "token": "consolidation",
        "context": "- **Weekly consolidation**: Discovers creative associations between memories"
      },
      {
        "line": 1118,
        "token": "consolidation",
        "context": "- **Monthly consolidation**: Performs semantic clustering and intelligent compression"
      },
      {
        "line": 1119,
        "token": "consolidation",
        "context": "- **Quarterly/Yearly consolidation**: Deep archival and long-term memory management"
      },
      {
        "line": 1122,
        "token": "enabled",
        "context": "Once enabled, you get access to powerful new consolidation tools:"
      },
      {
        "line": 1123,
        "token": "trigger",
        "context": "- `consolidate_memories` - Manually trigger consolidation for any time horizon"
      },
      {
        "line": 1124,
        "token": "system",
        "context": "- `get_consolidation_health` - Monitor system health and performance"
      },
      {
        "line": 1125,
        "token": "processing",
        "context": "- `get_consolidation_stats` - View processing statistics and insights"
      },
      {
        "line": 1126,
        "token": "autonomous",
        "context": "- `schedule_consolidation` - Configure autonomous scheduling"
      },
      {
        "line": 1127,
        "token": "discovered",
        "context": "- `get_memory_associations` - Explore discovered memory connections"
      },
      {
        "line": 1128,
        "token": "semantic",
        "context": "- `get_memory_clusters` - Browse semantic memory clusters"
      },
      {
        "line": 1129,
        "token": "memory",
        "context": "- `get_consolidation_recommendations` - Get AI-powered memory management advice"
      },
      {
        "line": 1132,
        "token": "consolidation",
        "context": "Fine-tune the consolidation system through environment variables:"
      },
      {
        "line": 1154,
        "token": "process",
        "context": "- Designed to process 10k+ memories efficiently"
      },
      {
        "line": 1155,
        "token": "hardware",
        "context": "- Automatic hardware optimization (CPU/GPU/MPS)"
      },
      {
        "line": 1156,
        "token": "archival",
        "context": "- Safe archival system - no data is ever permanently deleted"
      },
      {
        "line": 1157,
        "token": "recovery",
        "context": "- Full recovery capabilities for all archived memories"
      },
      {
        "line": 1162,
        "token": "native",
        "context": "Install MCP Memory Service as a native system service for automatic startup:"
      },
      {
        "line": 1183,
        "token": "installer",
        "context": "The installer provides:"
      },
      {
        "line": 1184,
        "token": "detection",
        "context": "- âœ… **Automatic OS detection** (Windows, macOS, Linux)"
      },
      {
        "line": 1185,
        "token": "service",
        "context": "- âœ… **Native service integration** (systemd, LaunchAgent, Windows Service)"
      },
      {
        "line": 1186,
        "token": "startup",
        "context": "- âœ… **Automatic startup** on boot/login"
      },
      {
        "line": 1187,
        "token": "management",
        "context": "- âœ… **Service management commands**"
      },
      {
        "line": 1188,
        "token": "key",
        "context": "- âœ… **Secure API key generation**"
      },
      {
        "line": 1189,
        "token": "optimizations",
        "context": "- âœ… **Platform-specific optimizations**"
      },
      {
        "line": 1191,
        "token": "detailed",
        "context": "For detailed instructions, see the [Service Installation Guide](docs/guides/service-installation.md)."
      },
      {
        "line": 1197,
        "token": "supported",
        "context": "| macOS | Apple Silicon (M1/M2/M3) | MPS | âœ… Fully supported | Best performance |"
      },
      {
        "line": 1198,
        "token": "under",
        "context": "| macOS | Apple Silicon under Rosetta 2 | CPU | âœ… Supported with fallbacks | Good performance |"
      },
      {
        "line": 1199,
        "token": "supported",
        "context": "| macOS | Intel | CPU | âœ… Fully supported | Good with optimized settings |"
      },
      {
        "line": 1200,
        "token": "supported",
        "context": "| Windows | x86_64 | CUDA | âœ… Fully supported | Best performance |"
      },
      {
        "line": 1201,
        "token": "performance",
        "context": "| Windows | x86_64 | DirectML | âœ… Supported | Good performance |"
      },
      {
        "line": 1202,
        "token": "fallbacks",
        "context": "| Windows | x86_64 | CPU | âœ… Supported with fallbacks | Slower but works |"
      },
      {
        "line": 1203,
        "token": "supported",
        "context": "| Linux | x86_64 | CUDA | âœ… Fully supported | Best performance |"
      },
      {
        "line": 1204,
        "token": "performance",
        "context": "| Linux | x86_64 | ROCm | âœ… Supported | Good performance |"
      },
      {
        "line": 1205,
        "token": "fallbacks",
        "context": "| Linux | x86_64 | CPU | âœ… Supported with fallbacks | Slower but works |"
      },
      {
        "line": 1206,
        "token": "fallbacks",
        "context": "| Linux | ARM64 | CPU | âœ… Supported with fallbacks | Slower but works |"
      },
      {
        "line": 1207,
        "token": "functionality",
        "context": "| Any | Any | No PyTorch | âœ… Supported with SQLite-vec | Limited functionality, very lightweight |"
      },
      {
        "line": 1235,
        "token": "use",
        "context": "### Can I use MCP Memory Service with multiple AI clients simultaneously?"
      },
      {
        "line": 1237,
        "token": "service",
        "context": "**Yes!** The service features universal multi-client coordination for seamless concurrent access across Claude Desktop, VS Code, Continue, Cursor, and other MCP"
      },
      {
        "line": 1239,
        "token": "difference",
        "context": "### What's the difference between SQLite-vec and ChromaDB backends?"
      },
      {
        "line": 1241,
        "token": "recommended",
        "context": "**SQLite-vec (recommended)**: 10x faster startup, zero network dependencies, 75% less memory usage, single-file database"
      },
      {
        "line": 1242,
        "token": "deprecated",
        "context": "**ChromaDB (deprecated)**: Legacy support only, requires network access for models, will be removed in v6.0.0"
      },
      {
        "line": 1246,
        "token": "migrate",
        "context": "### How do I migrate from ChromaDB to SQLite-vec?"
      },
      {
        "line": 1248,
        "token": "migration",
        "context": "Run the migration script to safely transfer your existing memories:"
      },
      {
        "line": 1252,
        "token": "process",
        "context": "The process preserves all memories, tags, and metadata while improving performance."
      },
      {
        "line": 1254,
        "token": "deploy",
        "context": "### Can I deploy MCP Memory Service on a remote server?"
      },
      {
        "line": 1256,
        "token": "service",
        "context": "**Yes!** The service supports production deployment with HTTP/HTTPS server, API authentication, SSL certificates, and Docker containers. Perfect for teams and c"
      },
      {
        "line": 1260,
        "token": "does",
        "context": "### Why does my installation fail on Apple Silicon Macs?"
      },
      {
        "line": 1262,
        "token": "intelligent",
        "context": "Use the intelligent installer which handles Apple Silicon optimizations automatically:"
      },
      {
        "line": 1266,
        "token": "detects",
        "context": "It detects MPS support, configures fallbacks, and selects compatible PyTorch versions."
      },
      {
        "line": 1268,
        "token": "much",
        "context": "### How much memory and storage does the service use?"
      },
      {
        "line": 1270,
        "token": "memories",
        "context": "**SQLite-vec**: ~50MB RAM for 1K memories, single database file"
      },
      {
        "line": 1271,
        "token": "memories",
        "context": "**ChromaDB**: ~200MB RAM for 1K memories, multiple files"
      },
      {
        "line": 1273,
        "token": "scales",
        "context": "Storage scales linearly: ~1MB per 1000 memories with SQLite-vec."
      },
      {
        "line": 1275,
        "token": "data",
        "context": "### Is my data secure and private?"
      },
      {
        "line": 1277,
        "token": "data",
        "context": "**Yes!** All data is stored locally by default. For remote deployments, the service supports API key authentication, HTTPS encryption, and runs in user-space (n"
      },
      {
        "line": 1281,
        "token": "docs/installation/master-guide.md",
        "context": "See the [Installation Guide](docs/installation/master-guide.md) and [Troubleshooting Guide](docs/troubleshooting/general.md) for detailed troubleshooting steps."
      },
      {
        "line": 1285,
        "token": "errors",
        "context": "- **Windows PyTorch errors**: Use `python scripts/install_windows.py`"
      },
      {
        "line": 1286,
        "token": "dependency",
        "context": "- **macOS Intel dependency conflicts**: Use `python install.py --force-compatible-deps`"
      },
      {
        "line": 1287,
        "token": "errors",
        "context": "- **Recursion errors**: Run `python scripts/fix_sitecustomize.py`"
      },
      {
        "line": 1288,
        "token": "verification",
        "context": "- **Environment verification**: Run `python scripts/verify_environment_enhanced.py`"
      },
      {
        "line": 1289,
        "token": "issues",
        "context": "- **Memory issues**: Set `MCP_MEMORY_BATCH_SIZE=4` and try a smaller model"
      },
      {
        "line": 1290,
        "token": "built",
        "context": "- **Apple Silicon**: Ensure Python 3.10+ built for ARM64, set `PYTORCH_ENABLE_MPS_FALLBACK=1`"
      },
      {
        "line": 1291,
        "token": "testing",
        "context": "- **Installation testing**: Run `python scripts/test_installation.py`"
      },
      {
        "line": 1296,
        "token": "docs/installation/master-guide.md",
        "context": "- **[Master Installation Guide](docs/installation/master-guide.md)** - Complete installation guide with hardware-specific paths"
      },
      {
        "line": 1297,
        "token": "options",
        "context": "- **[Storage Backend Guide](docs/guides/STORAGE_BACKENDS.md)** â­ **NEW** - Comprehensive CLI options including multi-client setup"
      },
      {
        "line": 1298,
        "token": "docs/integration/multi-client.md",
        "context": "- **[Multi-Client Setup](docs/integration/multi-client.md)** â­ **NEW** - Integrated setup for any MCP application"
      },
      {
        "line": 1299,
        "token": "comparison",
        "context": "- **[Storage Backend Comparison](docs/guides/STORAGE_BACKENDS.md)** - Detailed comparison and selection guide"
      },
      {
        "line": 1300,
        "token": "docs/guides/migration.md",
        "context": "- **[Migration Guide](docs/guides/migration.md)** - ChromaDB to SQLite-vec migration instructions"
      },
      {
        "line": 1303,
        "token": "docs/platforms/macos-intel.md",
        "context": "- **[Intel Mac Setup Guide](docs/platforms/macos-intel.md)** - Comprehensive guide for Intel Mac users"
      },
      {
        "line": 1304,
        "token": "docs/platforms/macos-intel.md",
        "context": "- **[Legacy Mac Guide](docs/platforms/macos-intel.md)** - Optimized for 2015 MacBook Pro and older Intel Macs"
      },
      {
        "line": 1305,
        "token": "docs/guides/windows-setup.md",
        "context": "- **[Windows Setup](docs/guides/windows-setup.md)** - Windows-specific installation and troubleshooting"
      },
      {
        "line": 1306,
        "token": "server",
        "context": "- **[Ubuntu Setup](docs/guides/UBUNTU_SETUP.md)** - Linux server installation guide"
      },
      {
        "line": 1309,
        "token": "HTTP/SSE",
        "context": "- **[HTTP/SSE API](docs/IMPLEMENTATION_PLAN_HTTP_SSE.md)** - New web interface documentation"
      },
      {
        "line": 1310,
        "token": "docs/guides/claude_integration.md",
        "context": "- **[Claude Desktop Integration](docs/guides/claude_integration.md)** - Configuration examples"
      },
      {
        "line": 1311,
        "token": "docs/integrations.md",
        "context": "- **[Integrations](docs/integrations.md)** - Third-party tools and extensions"
      },
      {
        "line": 1314,
        "token": "docs/development/multi-client-architecture.md",
        "context": "- **[Multi-Client Architecture](docs/development/multi-client-architecture.md)** â­ **NEW** - Technical implementation details"
      },
      {
        "line": 1315,
        "token": "docs/integration/homebrew.md",
        "context": "- **[Homebrew PyTorch Integration](docs/integration/homebrew.md)** - Using system PyTorch"
      },
      {
        "line": 1316,
        "token": "docs/deployment/docker.md",
        "context": "- **[Docker Deployment](docs/deployment/docker.md)** - Container-based deployment"
      },
      {
        "line": 1317,
        "token": "docs/implementation/performance.md",
        "context": "- **[Performance Optimization](docs/implementation/performance.md)** - Tuning for different hardware"
      },
      {
        "line": 1320,
        "token": "docs/troubleshooting/general.md",
        "context": "- **[General Troubleshooting](docs/troubleshooting/general.md)** - Common issues and solutions"
      },
      {
        "line": 1321,
        "token": "matrix",
        "context": "- **[Hardware Compatibility](docs/DOCUMENTATION_AUDIT.md)** - Compatibility matrix and known issues"
      },
      {
        "line": 1354,
        "token": "type",
        "context": "- Python 3.10+ with type hints"
      },
      {
        "line": 1355,
        "token": "dataclasses",
        "context": "- Use dataclasses for models"
      },
      {
        "line": 1356,
        "token": "docstrings",
        "context": "- Triple-quoted docstrings for modules and functions"
      },
      {
        "line": 1357,
        "token": "pattern",
        "context": "- Async/await pattern for all I/O operations"
      },
      {
        "line": 1358,
        "token": "style",
        "context": "- Follow PEP 8 style guidelines"
      },
      {
        "line": 1359,
        "token": "tests",
        "context": "- Include tests for new features"
      },
      {
        "line": 1363,
        "token": "cloning",
        "context": "After cloning the repository, run the setup script to configure automated `uv.lock` conflict resolution:"
      },
      {
        "line": 1369,
        "token": "enables",
        "context": "This enables automatic resolution of `uv.lock` merge conflicts by:"
      },
      {
        "line": 1370,
        "token": "incoming",
        "context": "1. Using the incoming version to resolve conflicts"
      },
      {
        "line": 1371,
        "token": "running",
        "context": "2. Automatically running `uv sync` to regenerate the lock file"
      },
      {
        "line": 1372,
        "token": "consistent",
        "context": "3. Ensuring consistent dependency resolution across all environments"
      },
      {
        "line": 1374,
        "token": "setup",
        "context": "The setup is required only once per clone and benefits all contributors by eliminating manual conflict resolution."
      },
      {
        "line": 1378,
        "token": "file",
        "context": "MIT License - See LICENSE file for details"
      },
      {
        "line": 1382,
        "token": "team",
        "context": "- ChromaDB team for the vector database"
      },
      {
        "line": 1383,
        "token": "project",
        "context": "- Sentence Transformers project for embedding models"
      },
      {
        "line": 1384,
        "token": "project",
        "context": "- MCP project for the protocol specification"
      },
      {
        "line": 1390,
        "token": "enterprise",
        "context": "- Managing 300+ enterprise memories"
      },
      {
        "line": 1391,
        "token": "queries",
        "context": "- Processing queries in <1 second"
      },
      {
        "line": 1394,
        "token": "memories",
        "context": "- **319+ memories** actively managed"
      },
      {
        "line": 1395,
        "token": "average",
        "context": "- **828ms** average query response time"
      },
      {
        "line": 1396,
        "token": "cache",
        "context": "- **100%** cache hit ratio performance"
      },
      {
        "line": 1397,
        "token": "efficient",
        "context": "- **20MB** efficient vector storage"
      },
      {
        "line": 1400,
        "token": "protocol",
        "context": "- Complete MCP protocol implementation"
      },
      {
        "line": 1401,
        "token": "compatibility",
        "context": "- Cross-platform compatibility"
      },
      {
        "line": 1402,
        "token": "dashboard",
        "context": "- React dashboard with real-time statistics"
      },
      {
        "line": 1403,
        "token": "documentation",
        "context": "- Comprehensive documentation"
      },
      {
        "line": 1406,
        "token": "search",
        "context": "- Semantic search with sentence-transformers"
      },
      {
        "line": 1407,
        "token": "categorization",
        "context": "- Tag-based categorization system"
      },
      {
        "line": 1408,
        "token": "backup",
        "context": "- Automatic backup and optimization"
      },
      {
        "line": 1409,
        "token": "monitoring",
        "context": "- Health monitoring dashboard"
      },
      {
        "line": 1417,
        "token": "can",
        "context": "The MCP Memory Service can be extended with various tools and utilities. See [Integrations](docs/integrations.md) for a list of available options, including:"
      },
      {
        "line": 1419,
        "token": "https",
        "context": "- [MCP Memory Dashboard](https://github.com/doobidoo/mcp-memory-dashboard) - Web UI for browsing and managing memories"
      },
      {
        "line": 1420,
        "token": "https",
        "context": "- [Claude Memory Context](https://github.com/doobidoo/claude-memory-context) - Inject memory context into Claude project instructions"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/docs-root-cleanup-2025-08-23/lm_studio_system_prompt.md",
    "chinese": "archive/docs-root-cleanup-2025-08-23/lm_studio_system_prompt_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "assistant",
        "context": "You are an AI assistant with access to various tools through the Model Context Protocol (MCP). You have access to memory storage, database operations, and other"
      },
      {
        "line": 10,
        "token": "servers",
        "context": "**Normally, MCP servers provide tool schemas through the `tools/list` endpoint** - the client shouldn't need explicit instructions. However, this system prompt "
      },
      {
        "line": 12,
        "token": "clients",
        "context": "1. **LM Studio Implementation Gap**: Some MCP clients struggle with complex JSON schema interpretation"
      },
      {
        "line": 13,
        "token": "model",
        "context": "2. **Model Training Limitation**: The openai/gpt-oss-20b model was failing to generate proper tool calls despite receiving correct schemas"
      },
      {
        "line": 14,
        "token": "connects",
        "context": "3. **Legacy Server Compatibility**: This connects to the legacy MCP Memory Service server with specific parameter expectations"
      },
      {
        "line": 16,
        "token": "prompt",
        "context": "**This prompt supplements, not replaces, the official MCP tool schemas.** It provides concrete examples when schema interpretation fails."
      },
      {
        "line": 21,
        "token": "database",
        "context": "- `check_database_health` - Check database status and performance"
      },
      {
        "line": 22,
        "token": "information",
        "context": "- `store_memory` - Store information with tags and metadata"
      },
      {
        "line": 23,
        "token": "retrieve",
        "context": "- `retrieve_memory` - Search and retrieve stored memories"
      },
      {
        "line": 24,
        "token": "memory",
        "context": "- `recall_memory` - Time-based memory retrieval with natural language"
      },
      {
        "line": 25,
        "token": "memories",
        "context": "- `search_by_tag` - Find memories by specific tags"
      },
      {
        "line": 26,
        "token": "specific",
        "context": "- `delete_memory` - Remove specific memories"
      },
      {
        "line": 27,
        "token": "delete",
        "context": "- `delete_by_tag` - Bulk delete memories by tags"
      },
      {
        "line": 28,
        "token": "database",
        "context": "- `optimize_db` - Optimize database performance"
      },
      {
        "line": 31,
        "token": "operations",
        "context": "- File operations, web search, code analysis, etc. (varies by MCP setup)"
      },
      {
        "line": 36,
        "token": "use",
        "context": "- **Always use tools** when the user explicitly mentions operations like:"
      },
      {
        "line": 37,
        "token": "check",
        "context": "- \"check database health\", \"db health\", \"database status\""
      },
      {
        "line": 38,
        "token": "store",
        "context": "- \"store this information\", \"remember this\", \"save to memory\""
      },
      {
        "line": 39,
        "token": "search",
        "context": "- \"search for\", \"find\", \"recall\", \"retrieve\""
      },
      {
        "line": 40,
        "token": "delete",
        "context": "- \"delete\", \"remove\", \"clear\""
      },
      {
        "line": 41,
        "token": "tools",
        "context": "- **Use tools** for data operations, file access, external queries"
      },
      {
        "line": 42,
        "token": "directly",
        "context": "- **Respond directly** for general questions, explanations, or conversations"
      },
      {
        "line": 45,
        "token": "calling",
        "context": "When calling a tool, use this EXACT JSON structure:"
      },
      {
        "line": 47,
        "token": "most",
        "context": "**For store_memory (most common):**"
      },
      {
        "line": 53,
        "token": "content",
        "context": "- `content` (REQUIRED): String containing the information to store"
      },
      {
        "line": 54,
        "token": "metadata",
        "context": "- `metadata` (OPTIONAL): Object containing:"
      },
      {
        "line": 55,
        "token": "tags",
        "context": "- `tags` (OPTIONAL): Array of strings - e.g., [\"database\", \"health\", \"check\"]"
      },
      {
        "line": 56,
        "token": "type",
        "context": "- `type` (OPTIONAL): String - \"note\", \"fact\", \"reminder\", \"decision\", etc."
      },
      {
        "line": 58,
        "token": "server",
        "context": "**NOTE: The MCP server expects tags INSIDE the metadata object, not as a separate parameter!**"
      },
      {
        "line": 60,
        "token": "common",
        "context": "**Other common tool calls:**"
      },
      {
        "line": 61,
        "token": "health",
        "context": "- Database health: `{\"name\": \"check_database_health\", \"arguments\": {}}`"
      },
      {
        "line": 62,
        "token": "name",
        "context": "- Retrieve: `{\"name\": \"retrieve_memory\", \"arguments\": {\"query\": \"search terms\"}}`"
      },
      {
        "line": 63,
        "token": "name",
        "context": "- Recall: `{\"name\": \"recall_memory\", \"arguments\": {\"query\": \"last week\"}}`"
      },
      {
        "line": 64,
        "token": "name",
        "context": "- Delete: `{\"name\": \"delete_memory\", \"arguments\": {\"memory_id\": \"12345\"}}`"
      },
      {
        "line": 66,
        "token": "JSON",
        "context": "**CRITICAL: JSON Formatting Rules:**"
      },
      {
        "line": 67,
        "token": "tags",
        "context": "1. `tags` must be an ARRAY: `[\"tag1\", \"tag2\"]` NOT a string `\"tag1,tag2\"`"
      },
      {
        "line": 68,
        "token": "strings",
        "context": "2. All strings must be properly escaped (use `\\\"` for quotes inside strings)"
      },
      {
        "line": 69,
        "token": "content",
        "context": "3. `content` parameter is ALWAYS required for store_memory"
      },
      {
        "line": 70,
        "token": "trailing",
        "context": "4. No trailing commas in JSON objects"
      },
      {
        "line": 73,
        "token": "check",
        "context": "- \"check db health\" â†’ use `check_database_health`"
      },
      {
        "line": 74,
        "token": "remember",
        "context": "- \"remember that X happened\" â†’ use `store_memory` with content=\"X happened\""
      },
      {
        "line": 75,
        "token": "what",
        "context": "- \"what do you know about Y\" â†’ use `retrieve_memory` with query=\"Y\""
      },
      {
        "line": 76,
        "token": "find",
        "context": "- \"find memories from last week\" â†’ use `recall_memory` with query=\"last week\""
      },
      {
        "line": 77,
        "token": "delete",
        "context": "- \"delete memories about Z\" â†’ use `search_by_tag` first, then `delete_memory`"
      },
      {
        "line": 81,
        "token": "database",
        "context": "**\"Memorize the database health results\":**"
      },
      {
        "line": 86,
        "token": "got",
        "context": "**\"Remember that we got Memory MCP running in LMStudio\":**"
      },
      {
        "line": 91,
        "token": "configuration",
        "context": "**\"Store this configuration\":**"
      },
      {
        "line": 97,
        "token": "calling",
        "context": "After calling a tool:"
      },
      {
        "line": 98,
        "token": "summarize",
        "context": "1. **Briefly summarize** what you did"
      },
      {
        "line": 99,
        "token": "results",
        "context": "2. **Present the results** in a clear, user-friendly format"
      },
      {
        "line": 100,
        "token": "actions",
        "context": "3. **Offer follow-up actions** if relevant"
      },
      {
        "line": 102,
        "token": "response",
        "context": "Example response flow:"
      },
      {
        "line": 114,
        "token": "storage",
        "context": "- For storage: Always include relevant tags like [\"date\", \"project\", \"category\"]"
      },
      {
        "line": 115,
        "token": "retrieval",
        "context": "- For retrieval: Start with broad searches, then narrow down"
      },
      {
        "line": 116,
        "token": "health",
        "context": "- For health checks: Run without arguments first, then investigate specific issues"
      },
      {
        "line": 117,
        "token": "deletion",
        "context": "- For deletion: Always search first to confirm what will be deleted"
      },
      {
        "line": 120,
        "token": "tool",
        "context": "- If a tool call fails, explain what went wrong and suggest alternatives"
      },
      {
        "line": 121,
        "token": "missing",
        "context": "- For missing information, ask the user for clarification"
      },
      {
        "line": 122,
        "token": "unsure",
        "context": "- If unsure which tool to use, describe your options and ask the user"
      },
      {
        "line": 124,
        "token": "JSON",
        "context": "### 7. Common JSON Parsing Errors - AVOID THESE:"
      },
      {
        "line": 126,
        "token": "instead",
        "context": "**âŒ WRONG: String instead of array for tags**"
      },
      {
        "line": 131,
        "token": "tags",
        "context": "**âœ… CORRECT: Array for tags (inside metadata)**"
      },
      {
        "line": 136,
        "token": "content",
        "context": "**âŒ WRONG: Missing content parameter**"
      },
      {
        "line": 141,
        "token": "parameter",
        "context": "**âœ… CORRECT: Content parameter included**"
      },
      {
        "line": 146,
        "token": "separate",
        "context": "**âŒ WRONG: Tags as separate parameter (wrong for legacy server)**"
      },
      {
        "line": 151,
        "token": "inside",
        "context": "**âœ… CORRECT: Tags inside metadata object (legacy server format)**"
      },
      {
        "line": 157,
        "token": "tool",
        "context": "If a tool call fails with \"params requires property 'content'\":"
      },
      {
        "line": 158,
        "token": "content",
        "context": "1. Ensure `content` is present and is a string"
      },
      {
        "line": 159,
        "token": "tags",
        "context": "2. Check that `tags` is an array of strings, not a string"
      },
      {
        "line": 160,
        "token": "JSON",
        "context": "3. Verify JSON syntax (no trailing commas, proper escaping)"
      },
      {
        "line": 161,
        "token": "exact",
        "context": "4. Use the exact examples above as templates"
      },
      {
        "line": 164,
        "token": "request",
        "context": "For the request \"Memorize the result and the fact that we got the Memory MCP running in LMStudio\":"
      },
      {
        "line": 166,
        "token": "needed",
        "context": "**Step 1:** Call check_database_health (if needed)"
      },
      {
        "line": 171,
        "token": "memory",
        "context": "**Step 2:** Store the memory with CORRECT syntax:"
      },
      {
        "line": 176,
        "token": "format",
        "context": "**âœ… This format will work because:**"
      },
      {
        "line": 177,
        "token": "content",
        "context": "- `content` is present and contains the actual information"
      },
      {
        "line": 178,
        "token": "array",
        "context": "- `metadata.tags` is an array of strings (not a separate parameter)"
      },
      {
        "line": 179,
        "token": "string",
        "context": "- `metadata.type` is a string inside the metadata object"
      },
      {
        "line": 180,
        "token": "JSON",
        "context": "- All JSON syntax is correct"
      },
      {
        "line": 181,
        "token": "legacy",
        "context": "- Matches the legacy MCP server schema that LM Studio connects to"
      },
      {
        "line": 183,
        "token": "proactive",
        "context": "Remember: **Be proactive with tool use**. When users mention operations that tools can handle, use them immediately rather than just describing what you could d"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/investigations/MACOS_HOOKS_INVESTIGATION.md",
    "chinese": "archive/investigations/MACOS_HOOKS_INVESTIGATION_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "awareness",
        "context": "Memory awareness hooks may work differently on macOS vs Linux when using MCP protocol."
      },
      {
        "line": 10,
        "token": "try",
        "context": "- **Problem**: Hooks try to spawn duplicate MCP server via `MCPClient(serverCommand)`"
      },
      {
        "line": 11,
        "token": "timeout",
        "context": "- **Symptom**: Connection timeout when hooks execute"
      },
      {
        "line": 12,
        "token": "already",
        "context": "- **Root Cause**: Claude Code already has MCP server on stdio, can't have two servers on same streams"
      },
      {
        "line": 13,
        "token": "HTTP",
        "context": "- **Current Workaround**: HTTP fallback (requires separate HTTP server on port 8443)"
      },
      {
        "line": 16,
        "token": "reports",
        "context": "User reports hooks work on macOS without HTTP fallback. Possible reasons:"
      },
      {
        "line": 17,
        "token": "may",
        "context": "1. macOS Claude Code may provide hooks access to existing MCP connection"
      },
      {
        "line": 18,
        "token": "handling",
        "context": "2. Different process/stdio handling on macOS vs Linux"
      },
      {
        "line": 19,
        "token": "true",
        "context": "3. `useExistingServer: true` config may actually work on macOS"
      },
      {
        "line": 37,
        "token": "hypothesis",
        "context": "**Expected on macOS (if hypothesis correct):**"
      },
      {
        "line": 38,
        "token": "connect",
        "context": "- âœ… Hooks connect successfully"
      },
      {
        "line": 39,
        "token": "duplicate",
        "context": "- âœ… No duplicate server spawned"
      },
      {
        "line": 40,
        "token": "context",
        "context": "- âœ… Memory context injected on session start"
      },
      {
        "line": 42,
        "token": "current",
        "context": "**Expected on Linux (current behavior):**"
      },
      {
        "line": 43,
        "token": "timeout",
        "context": "- âŒ Connection timeout"
      },
      {
        "line": 44,
        "token": "server",
        "context": "- âŒ Multiple server processes spawn"
      },
      {
        "line": 45,
        "token": "HTTP",
        "context": "- âŒ Fallback to HTTP needed"
      },
      {
        "line": 48,
        "token": "hook",
        "context": "1. Run hook manually: `node ~/.claude/hooks/core/session-start.js`"
      },
      {
        "line": 49,
        "token": "process",
        "context": "2. Check process list: Does it spawn new `memory server` process?"
      },
      {
        "line": 50,
        "token": "connection",
        "context": "3. Monitor connection: Does it timeout or succeed?"
      },
      {
        "line": 64,
        "token": "connection",
        "context": "- `claude-hooks/utilities/memory-client.js` - MCP connection logic"
      },
      {
        "line": 65,
        "token": "spawning",
        "context": "- `claude-hooks/utilities/mcp-client.js` - Server spawning code"
      },
      {
        "line": 66,
        "token": "generation",
        "context": "- `claude-hooks/install_hooks.py` - Config generation (line 268-273: useExistingServer)"
      },
      {
        "line": 69,
        "token": "config",
        "context": "1. Test on MacBook with MCP-only config"
      },
      {
        "line": 70,
        "token": "works",
        "context": "2. If works on macOS: investigate platform-specific differences"
      },
      {
        "line": 71,
        "token": "proper",
        "context": "3. Document proper cross-platform solution"
      },
      {
        "line": 72,
        "token": "hooks",
        "context": "4. Update hooks to work consistently on both platforms"
      },
      {
        "line": 75,
        "token": "HTTP",
        "context": "- **Linux**: Requires HTTP fallback (confirmed working)"
      },
      {
        "line": 76,
        "token": "needs",
        "context": "- **macOS**: TBD - needs verification"
      },
      {
        "line": 77,
        "token": "why",
        "context": "- **Goal**: Understand why different, achieve consistent behavior"
      },
      {
        "line": 82,
        "token": "connection",
        "context": "Issue: Hooks/MCP connection conflict"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/release-notes/release-notes-v7.1.4.md",
    "chinese": "archive/release-notes/release-notes-v7.1.4_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "release",
        "context": "This release introduces a **unified cross-platform Python installer** that consolidates 4+ separate installer scripts into a single, robust solution with enhanc"
      },
      {
        "line": 13,
        "token": "installer",
        "context": "- **Single installer**: `install_hooks.py` replaces all platform-specific scripts"
      },
      {
        "line": 14,
        "token": "compatibility",
        "context": "- **Cross-platform compatibility**: Works seamlessly on Windows, macOS, and Linux"
      },
      {
        "line": 15,
        "token": "configuration",
        "context": "- **Intelligent configuration merging**: Preserves existing Claude Code hook configurations"
      },
      {
        "line": 16,
        "token": "path",
        "context": "- **Dynamic path resolution**: Eliminates hardcoded paths and works in any location"
      },
      {
        "line": 19,
        "token": "installations",
        "context": "- **Atomic installations**: Automatic rollback on failure"
      },
      {
        "line": 20,
        "token": "backups",
        "context": "- **Comprehensive backups**: Timestamped restore points before changes"
      },
      {
        "line": 21,
        "token": "JSON",
        "context": "- **Smart JSON merging**: Prevents settings.json overwrite and configuration loss"
      },
      {
        "line": 22,
        "token": "directory",
        "context": "- **Empty directory cleanup**: Proper uninstall process with orphaned folder removal"
      },
      {
        "line": 25,
        "token": "trigger",
        "context": "- **Advanced trigger detection**: 85%+ accuracy for intelligent memory injection"
      },
      {
        "line": 26,
        "token": "performance",
        "context": "- **Multi-tier performance**: Optimized response times (50ms/150ms/500ms)"
      },
      {
        "line": 27,
        "token": "hooks",
        "context": "- **Mid-conversation hooks**: Real-time memory awareness during conversations"
      },
      {
        "line": 28,
        "token": "management",
        "context": "- **CLI management tools**: Live configuration and performance tuning"
      },
      {
        "line": 29,
        "token": "context",
        "context": "- **Git-aware context**: Repository integration for enhanced context"
      },
      {
        "line": 60,
        "token": "existing",
        "context": "1. **Backup existing installation** (automatic during upgrade)"
      },
      {
        "line": 61,
        "token": "unified",
        "context": "2. **Run unified installer**: `python install_hooks.py --natural-triggers`"
      },
      {
        "line": 62,
        "token": "functionality",
        "context": "3. **Verify functionality**: Hooks preserve existing configurations"
      },
      {
        "line": 65,
        "token": "python",
        "context": "- âŒ `install.sh` â†’ âœ… `python install_hooks.py --basic`"
      },
      {
        "line": 66,
        "token": "python",
        "context": "- âŒ `install-natural-triggers.sh` â†’ âœ… `python install_hooks.py --natural-triggers`"
      },
      {
        "line": 67,
        "token": "python",
        "context": "- âŒ `install_claude_hooks_windows.bat` â†’ âœ… `python install_hooks.py --all`"
      },
      {
        "line": 69,
        "token": "migration",
        "context": "**Complete migration guide**: See `claude-hooks/MIGRATION.md`"
      },
      {
        "line": 74,
        "token": "path",
        "context": "- **Proper path quoting**: Handles spaces in Windows installation paths"
      },
      {
        "line": 75,
        "token": "hooks",
        "context": "- **Platform-specific hooks directory detection**: Works across different OS configurations"
      },
      {
        "line": 76,
        "token": "interface",
        "context": "- **Consistent CLI interface**: Same commands work on all platforms"
      },
      {
        "line": 79,
        "token": "hints",
        "context": "- **Type hints throughout**: Better maintainability and IDE support"
      },
      {
        "line": 80,
        "token": "error",
        "context": "- **Comprehensive error handling**: Graceful degradation and detailed feedback"
      },
      {
        "line": 81,
        "token": "architecture",
        "context": "- **Modular architecture**: Clear separation of concerns and extensibility"
      },
      {
        "line": 82,
        "token": "output",
        "context": "- **Professional UX**: Enhanced output formatting and user guidance"
      },
      {
        "line": 86,
        "token": "shell",
        "context": "- **Legacy shell scripts removed**: `install.sh`, `install-natural-triggers.sh`, `install_claude_hooks_windows.bat`"
      },
      {
        "line": 87,
        "token": "commands",
        "context": "- **Installation commands updated**: Must use unified Python installer"
      },
      {
        "line": 88,
        "token": "structure",
        "context": "- **Configuration structure**: Enhanced v7.1.3 dual protocol support"
      },
      {
        "line": 93,
        "token": "tests",
        "context": "- **Natural Memory Triggers**: 18/18 tests passing (100% success rate)"
      },
      {
        "line": 94,
        "token": "compatibility",
        "context": "- **Cross-platform compatibility**: Validated on Linux, macOS simulation, Windows paths"
      },
      {
        "line": 95,
        "token": "integrity",
        "context": "- **Installation integrity**: All components verified with syntax validation"
      },
      {
        "line": 96,
        "token": "merging",
        "context": "- **Configuration merging**: Tested with various existing setups"
      },
      {
        "line": 99,
        "token": "time",
        "context": "- **Installation time**: ~30 seconds for complete Natural Memory Triggers setup"
      },
      {
        "line": 100,
        "token": "test",
        "context": "- **Average test execution**: 3.3ms per test"
      },
      {
        "line": 101,
        "token": "footprint",
        "context": "- **Memory footprint**: Minimal impact with intelligent caching"
      },
      {
        "line": 105,
        "token": "unified",
        "context": "This unified installer provides:"
      },
      {
        "line": 106,
        "token": "reliability",
        "context": "- âœ… **Better reliability** across all platforms"
      },
      {
        "line": 107,
        "token": "installations",
        "context": "- âœ… **Safer installations** with intelligent configuration merging"
      },
      {
        "line": 108,
        "token": "experience",
        "context": "- âœ… **Consistent experience** regardless of operating system"
      },
      {
        "line": 109,
        "token": "features",
        "context": "- âœ… **Advanced features** like Natural Memory Triggers v7.1.3"
      },
      {
        "line": 110,
        "token": "tooling",
        "context": "- âœ… **Professional tooling** with comprehensive testing and validation"
      },
      {
        "line": 111,
        "token": "architecture",
        "context": "- âœ… **Future-proof architecture** with extensible Python design"
      },
      {
        "line": 116,
        "token": "flag",
        "context": "- **Troubleshooting**: Run with `--dry-run` flag to diagnose issues"
      },
      {
        "line": 117,
        "token": "python",
        "context": "- **CLI Help**: `python install_hooks.py --help`"
      },
      {
        "line": 118,
        "token": "https",
        "context": "- **Issues**: [GitHub Issues](https://github.com/doobidoo/mcp-memory-service/issues)"
      },
      {
        "line": 122,
        "token": "thanks",
        "context": "Special thanks to **Gemini Code Assist** for comprehensive code review feedback that drove the safety and reliability improvements in this release."
      },
      {
        "line": 126,
        "token": "release",
        "context": "This release represents a significant milestone in the evolution of Claude Code Memory Awareness Hooks, providing a unified, cross-platform installation experie"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/setup-development/README.md",
    "chinese": "archive/setup-development/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "directory",
        "context": "This directory contains files used during the development and setup process:"
      },
      {
        "line": 10,
        "token": "manual",
        "context": "- **`setup_consolidation_mdns.sh`** - Original manual startup script (superseded by systemd service)"
      },
      {
        "line": 11,
        "token": "script",
        "context": "- **`test_service.sh`** - Debug script for troubleshooting service startup issues"
      },
      {
        "line": 12,
        "token": "startup",
        "context": "- **`STARTUP_SETUP_GUIDE.md`** - Original startup guide (superseded by COMPLETE_SETUP_GUIDE.md)"
      },
      {
        "line": 16,
        "token": "files",
        "context": "These files were used during development but are now superseded by:"
      },
      {
        "line": 24,
        "token": "files",
        "context": "These files are kept for:"
      },
      {
        "line": 25,
        "token": "reference",
        "context": "- Historical reference"
      },
      {
        "line": 26,
        "token": "needed",
        "context": "- Debugging if needed"
      },
      {
        "line": 27,
        "token": "development",
        "context": "- Understanding the development process"
      },
      {
        "line": 28,
        "token": "future",
        "context": "- Potential future troubleshooting"
      },
      {
        "line": 30,
        "token": "production",
        "context": "**Note**: Use the production files in the root directory for normal operation."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "archive/setup-development/STARTUP_SETUP_GUIDE.md",
    "chinese": "archive/setup-development/STARTUP_SETUP_GUIDE_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "service",
        "context": "- `mcp-memory.service` - Systemd service configuration"
      },
      {
        "line": 8,
        "token": "script",
        "context": "- `install_service.sh` - Installation script"
      },
      {
        "line": 9,
        "token": "management",
        "context": "- `service_control.sh` - Service management script"
      },
      {
        "line": 10,
        "token": "guide",
        "context": "- `STARTUP_SETUP_GUIDE.md` - This guide"
      },
      {
        "line": 14,
        "token": "systemd",
        "context": "### 1. Install the systemd service:"
      },
      {
        "line": 20,
        "token": "service",
        "context": "### 2. Start the service immediately:"
      },
      {
        "line": 25,
        "token": "service",
        "context": "### 3. Check service status:"
      },
      {
        "line": 30,
        "token": "service",
        "context": "### 4. View service logs:"
      },
      {
        "line": 37,
        "token": "control",
        "context": "### Using the control script:"
      },
      {
        "line": 49,
        "token": "systemctl",
        "context": "### Using systemctl directly:"
      },
      {
        "line": 69,
        "token": "hkr",
        "context": "- **User**: hkr"
      },
      {
        "line": 71,
        "token": "failure",
        "context": "- **Auto-restart**: Yes (on failure)"
      },
      {
        "line": 72,
        "token": "starts",
        "context": "- **Startup**: Enabled (starts on boot)"
      },
      {
        "line": 75,
        "token": "true",
        "context": "- `MCP_CONSOLIDATION_ENABLED=true`"
      },
      {
        "line": 76,
        "token": "true",
        "context": "- `MCP_MDNS_ENABLED=true`"
      },
      {
        "line": 77,
        "token": "true",
        "context": "- `MCP_HTTPS_ENABLED=true`"
      },
      {
        "line": 85,
        "token": "running",
        "context": "Once running, the service will be available at:"
      },
      {
        "line": 86,
        "token": "https",
        "context": "- **Dashboard**: https://localhost:8000"
      },
      {
        "line": 87,
        "token": "https",
        "context": "- **API Documentation**: https://localhost:8000/api/docs"
      },
      {
        "line": 88,
        "token": "https",
        "context": "- **Health Check**: https://localhost:8000/api/health"
      },
      {
        "line": 89,
        "token": "https",
        "context": "- **SSE Events**: https://localhost:8000/api/events"
      },
      {
        "line": 94,
        "token": "service",
        "context": "### If service fails to start:"
      },
      {
        "line": 108,
        "token": "port",
        "context": "### If port 8000 is in use:"
      },
      {
        "line": 122,
        "token": "remove",
        "context": "To remove the service:"
      },
      {
        "line": 127,
        "token": "manually",
        "context": "Or manually:"
      },
      {
        "line": 137,
        "token": "installation",
        "context": "After installation, verify everything works:"
      },
      {
        "line": 152,
        "token": "service",
        "context": "The service will now start automatically on every system boot! ğŸ‰"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "claude-hooks/CONFIGURATION.md",
    "chinese": "claude-hooks/CONFIGURATION_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "output",
        "context": "6. **output**ï¼šæ—¥å¿—ã€å±•ç¤ºä¸è°ƒè¯•ç›¸å…³é€‰é¡¹ã€‚"
      },
      {
        "line": 38,
        "token": "HTTP",
        "context": "### HTTP è®¾ç½®"
      },
      {
        "line": 39,
        "token": "endpoint",
        "context": "- **endpoint**ï¼šHTTP æœåŠ¡åœ°å€ã€‚"
      },
      {
        "line": 40,
        "token": "http",
        "context": "- `http://` ä»…é€‚åˆæœ¬åœ°å¼€å‘ï¼ˆæ˜æ–‡ï¼‰ï¼›"
      },
      {
        "line": 41,
        "token": "https",
        "context": "- `https://` ç”¨äºè¿œç«¯æˆ–éœ€ TLS åœºæ™¯ï¼ˆè‡ªç­¾è¯ä¹¦éœ€æå‰ä¿¡ä»» CAï¼‰ã€‚"
      },
      {
        "line": 46,
        "token": "hybrid",
        "context": "- **serverCommand**ï¼šå¯åŠ¨æœ¬åœ° MCP æœåŠ¡å™¨çš„å‘½ä»¤ï¼Œå¯æ ¹æ®åç«¯æ”¹ `-s hybrid|cloudflare|sqlite_vec|chromadb`ï¼›"
      },
      {
        "line": 74,
        "token": "score",
        "context": "- **timeDecayRate**ï¼šæŒ‡æ•°è¡°å‡é€Ÿç‡ï¼Œ`score = e^(-rate * days)`ï¼Œ0.05 æ—¶ 30 å¤©åå¾—åˆ†â‰ˆ0.22ã€‚"
      },
      {
        "line": 77,
        "token": "implementation",
        "context": "- **typeBonus**ï¼šå¯¹ `implementation`/`decision` ç­‰ç±»å‹è¿½åŠ åˆ†å€¼ï¼›"
      },
      {
        "line": 78,
        "token": "recent",
        "context": "- **recencyBonus**ï¼šåœ¨å…³é”®æ“ä½œã€recent tags å‘½ä¸­æ—¶é¢å¤–åŠ åˆ†ï¼›"
      },
      {
        "line": 84,
        "token": "mode",
        "context": "- **mode**ï¼š`auto`ï¼ˆé»˜è®¤ï¼Œæ ¹æ® git/ç›®å½•æ¨æ–­ï¼‰æˆ– `manual`ï¼›"
      },
      {
        "line": 86,
        "token": "URL/",
        "context": "- **detectFromGitRemote**ï¼šæ˜¯å¦ä½¿ç”¨è¿œç«¯ URL/åˆ†æ”¯åï¼›"
      },
      {
        "line": 102,
        "token": "enabled",
        "context": "- **enabled**ï¼šæ˜¯å¦è¯»å– Git çŠ¶æ€ï¼›"
      },
      {
        "line": 103,
        "token": "commit",
        "context": "- **historyDepth**ï¼šè¯»å–æœ€è¿‘ commit æ•°ï¼ˆå½±å“ â€œæœ€è¿‘æ´»åŠ¨â€ æŠ¥å‘Šï¼‰ï¼›"
      },
      {
        "line": 104,
        "token": "diff",
        "context": "- **diffContext**ï¼šä¸€æ¬¡å±•ç¤ºçš„ diff è¡Œæ•°ï¼›"
      },
      {
        "line": 108,
        "token": "tag",
        "context": "Git åˆ†æä¼šå½±å“é¡¹ç›®åˆ¤å®šã€è®°å¿†è¯„åˆ†çš„ tag matchingï¼Œä»¥åŠè¾“å‡ºæ–‡æ¡ˆï¼ˆå¦‚ â€œæœ€è¿‘ä¿®æ”¹æ–‡ä»¶â€ï¼‰ã€‚"
      },
      {
        "line": 120,
        "token": "output",
        "context": "## 6. è¾“å‡º `output`"
      },
      {
        "line": 121,
        "token": "info",
        "context": "- **logLevel**ï¼š`info`/`debug`/`warn` ç­‰ï¼›"
      },
      {
        "line": 129,
        "token": "HTTP",
        "context": "1. **HTTP 401**ï¼šç¡®è®¤ `apiKey` ä¸æœåŠ¡ç«¯é…ç½®ä¸€è‡´ï¼›"
      },
      {
        "line": 133,
        "token": "mode",
        "context": "5. **æ‰¾ä¸åˆ°é¡¹ç›®**ï¼šåˆ‡æ¢ `mode=manual` å¹¶æ‰‹åŠ¨é…ç½® `projectName`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        45,
        14
      ],
      "codeblock": [
        40,
        6
      ],
      "tables": [
        7,
        1
      ]
    }
  },
  {
    "english": "claude-hooks/MIGRATION.md",
    "chinese": "claude-hooks/MIGRATION_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "have",
        "context": "The Claude Code Memory Awareness Hooks have been **consolidated into a single, unified Python installer** that replaces all previous platform-specific installer"
      },
      {
        "line": 17,
        "token": "shell",
        "context": "- `install.sh` - Legacy shell installer"
      },
      {
        "line": 18,
        "token": "triggers",
        "context": "- `install-natural-triggers.sh` - Natural triggers shell installer"
      },
      {
        "line": 19,
        "token": "batch",
        "context": "- `install_claude_hooks_windows.bat` - Windows batch installer"
      },
      {
        "line": 22,
        "token": "installer",
        "context": "- `install_hooks.py` - **Single cross-platform Python installer**"
      },
      {
        "line": 53,
        "token": "JSON",
        "context": "- **Intelligent JSON merging** - Preserves existing Claude Code hook configurations"
      },
      {
        "line": 54,
        "token": "compatibility",
        "context": "- **Cross-platform compatibility** - Works on Windows, macOS, and Linux"
      },
      {
        "line": 55,
        "token": "path",
        "context": "- **Dynamic path resolution** - No hardcoded paths, works in any location"
      },
      {
        "line": 56,
        "token": "installations",
        "context": "- **Atomic installations** - Automatic rollback on failure"
      },
      {
        "line": 57,
        "token": "backups",
        "context": "- **Comprehensive backups** - Timestamped backups before changes"
      },
      {
        "line": 58,
        "token": "directory",
        "context": "- **Empty directory cleanup** - Proper uninstall process"
      },
      {
        "line": 61,
        "token": "installation",
        "context": "- **Single installation method** across all platforms"
      },
      {
        "line": 62,
        "token": "interface",
        "context": "- **Consistent CLI interface** with clear options"
      },
      {
        "line": 63,
        "token": "support",
        "context": "- **Dry-run support** for testing without changes"
      },
      {
        "line": 64,
        "token": "error",
        "context": "- **Enhanced error handling** with detailed feedback"
      },
      {
        "line": 65,
        "token": "management",
        "context": "- **CLI management tools** for real-time configuration"
      },
      {
        "line": 106,
        "token": "main",
        "context": "The main MCP Memory Service installer now uses the unified hook installer:"
      },
      {
        "line": 120,
        "token": "still",
        "context": "**Q: Can I still use the old shell scripts?**"
      },
      {
        "line": 121,
        "token": "they",
        "context": "A: No, they have been removed. The unified Python installer provides all functionality with improved reliability."
      },
      {
        "line": 123,
        "token": "existing",
        "context": "**Q: Will my existing hook configuration be preserved?**"
      },
      {
        "line": 124,
        "token": "unified",
        "context": "A: Yes, the unified installer intelligently merges configurations and preserves existing hooks."
      },
      {
        "line": 126,
        "token": "have",
        "context": "**Q: What if I have custom modifications to the old installers?**"
      },
      {
        "line": 127,
        "token": "unified",
        "context": "A: The unified installer is designed to be extensible. Please file an issue if you need specific functionality."
      },
      {
        "line": 129,
        "token": "work",
        "context": "**Q: Does this work on Windows?**"
      },
      {
        "line": 130,
        "token": "unified",
        "context": "A: Yes, the unified Python installer provides full Windows support with proper path handling."
      },
      {
        "line": 134,
        "token": "you",
        "context": "If you encounter issues:"
      },
      {
        "line": 136,
        "token": "prerequisites",
        "context": "1. **Check prerequisites**: Ensure Claude Code CLI, Node.js, and Python are installed"
      },
      {
        "line": 137,
        "token": "flag",
        "context": "2. **Test with dry-run**: Use `--dry-run` flag to identify issues"
      },
      {
        "line": 138,
        "token": "logs",
        "context": "3. **Check logs**: The installer provides detailed error messages"
      },
      {
        "line": 139,
        "token": "issue",
        "context": "4. **File an issue**: [GitHub Issues](https://github.com/doobidoo/mcp-memory-service/issues)"
      },
      {
        "line": 143,
        "token": "unified",
        "context": "The unified installer provides:"
      },
      {
        "line": 144,
        "token": "reliability",
        "context": "- âœ… **Better reliability** across all platforms"
      },
      {
        "line": 145,
        "token": "installations",
        "context": "- âœ… **Safer installations** with intelligent configuration merging"
      },
      {
        "line": 146,
        "token": "experience",
        "context": "- âœ… **Consistent experience** regardless of operating system"
      },
      {
        "line": 147,
        "token": "features",
        "context": "- âœ… **Advanced features** like Natural Memory Triggers v7.1.3"
      },
      {
        "line": 148,
        "token": "tooling",
        "context": "- âœ… **Professional tooling** with comprehensive testing and validation"
      },
      {
        "line": 150,
        "token": "migration",
        "context": "This migration represents a significant improvement in the installation experience while maintaining full backward compatibility for existing users."
      }
    ],
    "structure_diff": {
      "heading": [
        36,
        37
      ]
    }
  },
  {
    "english": "claude-hooks/README-NATURAL-TRIGGERS.md",
    "chinese": "claude-hooks/README-NATURAL-TRIGGERS_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "memory",
        "context": "ğŸ§  **Intelligent mid-conversation memory awareness with performance optimization**"
      },
      {
        "line": 14,
        "token": "system",
        "context": "The Natural Memory Triggers system provides seamless, intelligent memory awareness during conversations that feels like Claude naturally \"remembers\" rather than"
      },
      {
        "line": 16,
        "token": "automatically",
        "context": "> **ğŸ¯ v8.5.1 NEW**: **Dynamic Memory Weight Adjustment** - Intelligent auto-calibration automatically detects when memories are stale and adjusts scoring weight"
      },
      {
        "line": 21,
        "token": "did",
        "context": "- **Explicit Memory Requests**: \"What did we decide about...?\", \"Remind me how we...\""
      },
      {
        "line": 22,
        "token": "what",
        "context": "- **Past Work References**: \"Similar to what we did...\", \"Like we discussed before...\""
      },
      {
        "line": 23,
        "token": "security",
        "context": "- **Technical Discussions**: Architecture, security, database topics that benefit from context"
      },
      {
        "line": 24,
        "token": "patterns",
        "context": "- **Project Continuity**: \"Continue with...\", \"Next step...\", problem-solving patterns"
      },
      {
        "line": 29,
        "token": "reduces",
        "context": "- **Automatic Degradation**: Gracefully reduces complexity when performance budgets are exceeded"
      },
      {
        "line": 30,
        "token": "control",
        "context": "- **User-Configurable Trade-offs**: Full control over speed vs intelligence balance"
      },
      {
        "line": 33,
        "token": "user",
        "context": "- **User Preference Learning**: Adapts to user tolerance for latency vs memory awareness"
      },
      {
        "line": 34,
        "token": "which",
        "context": "- **Pattern Confidence Adjustment**: Learns which patterns are most valuable to the user"
      },
      {
        "line": 35,
        "token": "project",
        "context": "- **Context-Aware Triggering**: Considers project context, conversation history, and topic shifts"
      },
      {
        "line": 41,
        "token": "system",
        "context": "The system is integrated into the existing Claude Code hooks. No additional installation required."
      },
      {
        "line": 58,
        "token": "profile",
        "context": "Choose the profile that best matches your preferences:"
      },
      {
        "line": 78,
        "token": "system",
        "context": "The system uses a three-tiered approach to detect when memory context would be helpful:"
      },
      {
        "line": 81,
        "token": "pattern",
        "context": "- Regex-based pattern matching for explicit memory requests"
      },
      {
        "line": 82,
        "token": "lookups",
        "context": "- Cache lookups for previously analyzed messages"
      },
      {
        "line": 83,
        "token": "keyword",
        "context": "- Simple keyword extraction for technical terms"
      },
      {
        "line": 86,
        "token": "analysis",
        "context": "- Contextual analysis with project information"
      },
      {
        "line": 87,
        "token": "shift",
        "context": "- Topic shift detection from conversation history"
      },
      {
        "line": 88,
        "token": "pattern",
        "context": "- Enhanced pattern matching with semantic context"
      },
      {
        "line": 91,
        "token": "semantic",
        "context": "- Deep semantic understanding (when available)"
      },
      {
        "line": 92,
        "token": "conversation",
        "context": "- Full conversation context analysis"
      },
      {
        "line": 93,
        "token": "pattern",
        "context": "- Complex pattern relationships"
      },
      {
        "line": 139,
        "token": "performance",
        "context": "Customize performance profiles in the configuration:"
      },
      {
        "line": 197,
        "token": "comprehensive",
        "context": "Run the comprehensive test suite:"
      },
      {
        "line": 207,
        "token": "test",
        "context": "The test suite covers:"
      },
      {
        "line": 208,
        "token": "management",
        "context": "- Performance management and timing"
      },
      {
        "line": 209,
        "token": "detection",
        "context": "- Pattern detection accuracy"
      },
      {
        "line": 210,
        "token": "monitoring",
        "context": "- Conversation monitoring"
      },
      {
        "line": 211,
        "token": "testing",
        "context": "- Integration testing"
      },
      {
        "line": 212,
        "token": "profile",
        "context": "- Performance profile behavior"
      },
      {
        "line": 220,
        "token": "responsiveness",
        "context": "| Speed Focused | < 100ms | Priority on responsiveness |"
      },
      {
        "line": 221,
        "token": "balance",
        "context": "| Balanced | < 200ms | Good balance (recommended) |"
      },
      {
        "line": 222,
        "token": "memory",
        "context": "| Memory Aware | < 500ms | Maximum memory intelligence |"
      },
      {
        "line": 223,
        "token": "user",
        "context": "| Adaptive | Variable | Learns user preferences |"
      },
      {
        "line": 227,
        "token": "system",
        "context": "The system automatically tracks:"
      },
      {
        "line": 228,
        "token": "execution",
        "context": "- Hook execution latency"
      },
      {
        "line": 229,
        "token": "detection",
        "context": "- Pattern detection accuracy"
      },
      {
        "line": 230,
        "token": "acceptance",
        "context": "- User acceptance rates"
      },
      {
        "line": 231,
        "token": "query",
        "context": "- Memory query performance"
      },
      {
        "line": 235,
        "token": "default",
        "context": "1. **Start with Balanced Mode**: Good default for most users"
      },
      {
        "line": 236,
        "token": "status",
        "context": "2. **Monitor Performance**: Check status regularly to see average latencies"
      },
      {
        "line": 237,
        "token": "sensitivity",
        "context": "3. **Adjust Sensitivity**: Lower sensitivity = fewer false positives"
      },
      {
        "line": 238,
        "token": "excessive",
        "context": "4. **Use Cooldown Period**: Prevents excessive triggering"
      },
      {
        "line": 239,
        "token": "system",
        "context": "5. **Enable Learning**: Let the system adapt to your preferences"
      },
      {
        "line": 268,
        "token": "orchestrator",
        "context": "- **`MidConversationHook`**: Main orchestrator for trigger detection and execution"
      },
      {
        "line": 269,
        "token": "conversation",
        "context": "- **`TieredConversationMonitor`**: Multi-tier conversation analysis with performance awareness"
      },
      {
        "line": 270,
        "token": "language",
        "context": "- **`AdaptivePatternDetector`**: Natural language pattern detection with learning"
      },
      {
        "line": 271,
        "token": "monitoring",
        "context": "- **`PerformanceManager`**: Performance monitoring, budgeting, and profile management"
      },
      {
        "line": 272,
        "token": "interface",
        "context": "- **`MemoryClient`**: Unified interface for HTTP and MCP memory operations"
      },
      {
        "line": 278,
        "token": "aren",
        "context": "**Q: Triggers aren't firing when expected**"
      },
      {
        "line": 290,
        "token": "slower",
        "context": "**Q: Performance is slower than expected**"
      },
      {
        "line": 299,
        "token": "many",
        "context": "**Q: Too many false positive triggers**"
      },
      {
        "line": 312,
        "token": "detailed",
        "context": "Enable detailed logging:"
      },
      {
        "line": 326,
        "token": "hook",
        "context": "Monitor hook performance:"
      },
      {
        "line": 340,
        "token": "natural",
        "context": "The natural triggers work alongside the existing session start hooks:"
      },
      {
        "line": 342,
        "token": "initial",
        "context": "1. **Session Start**: Loads initial memory context (existing functionality)"
      },
      {
        "line": 343,
        "token": "refreshes",
        "context": "2. **Mid-Conversation**: Intelligently refreshes context when patterns suggest it's needed"
      },
      {
        "line": 344,
        "token": "user",
        "context": "3. **Adaptive Learning**: Learns from user interactions to improve trigger accuracy"
      },
      {
        "line": 348,
        "token": "existing",
        "context": "Uses the existing dual-protocol memory service:"
      },
      {
        "line": 349,
        "token": "HTTP",
        "context": "- **HTTP Protocol**: Web-based memory service (https://localhost:8443)"
      },
      {
        "line": 350,
        "token": "server",
        "context": "- **MCP Protocol**: Direct server process communication"
      },
      {
        "line": 351,
        "token": "switches",
        "context": "- **Smart Fallback**: Automatically switches protocols if one fails"
      },
      {
        "line": 357,
        "token": "more",
        "context": "1. **Advanced Semantic Analysis**: Integration with more sophisticated NLP models"
      },
      {
        "line": 358,
        "token": "user",
        "context": "2. **Cross-Session Learning**: Remember user preferences across Claude Code sessions"
      },
      {
        "line": 359,
        "token": "patterns",
        "context": "3. **Project-Specific Patterns**: Learn patterns specific to different projects"
      },
      {
        "line": 360,
        "token": "adjustment",
        "context": "4. **Real-time Performance Tuning**: Dynamic adjustment based on system resources"
      },
      {
        "line": 361,
        "token": "interface",
        "context": "5. **Visual Performance Dashboard**: Web-based interface for monitoring and configuration"
      },
      {
        "line": 365,
        "token": "natural",
        "context": "The natural triggers system is designed to be extensible:"
      },
      {
        "line": 367,
        "token": "new",
        "context": "1. **Custom Pattern Categories**: Add new pattern types in `AdaptivePatternDetector`"
      },
      {
        "line": 368,
        "token": "custom",
        "context": "2. **Performance Profiles**: Define custom profiles in the configuration"
      },
      {
        "line": 369,
        "token": "into",
        "context": "3. **Integration Points**: Hook into additional Claude Code events"
      },
      {
        "line": 370,
        "token": "adaptive",
        "context": "4. **Learning Algorithms**: Enhance the adaptive learning mechanisms"
      },
      {
        "line": 374,
        "token": "system",
        "context": "This system is part of the MCP Memory Service project and follows the same licensing terms."
      },
      {
        "line": 378,
        "token": "goal",
        "context": "ğŸ§  **The goal is to make memory awareness feel natural and seamless, like Claude simply \"remembers\" your conversations and project context.**"
      }
    ],
    "structure_diff": {
      "heading": [
        66,
        67
      ]
    }
  },
  {
    "english": "claude-hooks/README-phase2.md",
    "chinese": "claude-hooks/README-phase2_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "transforms",
        "context": "Phase 2 transforms Claude Code from a memory-aware system into a **conversation-intelligent** development assistant. While Phase 1 provided automatic memory inj"
      },
      {
        "line": 17,
        "token": "conversation",
        "context": "- **Real-time Topic Detection**: Analyzes conversation flow to detect topic shifts"
      },
      {
        "line": 18,
        "token": "relevant",
        "context": "- **Automatic Context Updates**: Injects relevant memories as conversation evolves"
      },
      {
        "line": 19,
        "token": "already",
        "context": "- **Deduplication**: Avoids re-injecting already loaded memories"
      },
      {
        "line": 20,
        "token": "context",
        "context": "- **Rate Limiting**: Prevents context overload with intelligent cooldown periods"
      },
      {
        "line": 23,
        "token": "topics",
        "context": "- **Natural Language Processing**: Extracts topics, entities, and intent from conversations"
      },
      {
        "line": 24,
        "token": "conversation",
        "context": "- **Semantic Analysis**: Matches conversation content with stored memories"
      },
      {
        "line": 25,
        "token": "code",
        "context": "- **Code Context Detection**: Understands code blocks, file paths, and technical discussions"
      },
      {
        "line": 26,
        "token": "debugging",
        "context": "- **Intent Classification**: Recognizes debugging, implementation, planning, and optimization activities"
      },
      {
        "line": 29,
        "token": "related",
        "context": "- **Session Tracking**: Links related conversations across different sessions"
      },
      {
        "line": 30,
        "token": "conversation",
        "context": "- **Conversation Threading**: Builds conversation threads over time"
      },
      {
        "line": 31,
        "token": "outcomes",
        "context": "- **Progress Continuity**: Connects outcomes from previous sessions to current work"
      },
      {
        "line": 32,
        "token": "recurring",
        "context": "- **Recurring Pattern Detection**: Identifies recurring topics and workflow patterns"
      },
      {
        "line": 35,
        "token": "time",
        "context": "- **Multi-Factor Algorithm**: Combines time decay, tag relevance, content matching, and conversation context"
      },
      {
        "line": 36,
        "token": "scoring",
        "context": "- **Dynamic Weight Adjustment**: Adjusts scoring weights based on conversation analysis"
      },
      {
        "line": 37,
        "token": "memories",
        "context": "- **Context Awareness**: Prioritizes memories matching current conversation topics"
      },
      {
        "line": 38,
        "token": "individual",
        "context": "- **User Behavior Learning**: Adapts to individual developer patterns over time"
      },
      {
        "line": 58,
        "token": "technical",
        "context": "- **Topic Detection**: 15+ technical topic categories (database, debugging, architecture, etc.)"
      },
      {
        "line": 59,
        "token": "frameworks",
        "context": "- **Entity Extraction**: Technologies, frameworks, languages, tools"
      },
      {
        "line": 60,
        "token": "development",
        "context": "- **Intent Recognition**: Learning, problem-solving, development, optimization, review, planning"
      },
      {
        "line": 61,
        "token": "code",
        "context": "- **Code Context**: Detects code blocks, file paths, error messages, commands"
      },
      {
        "line": 73,
        "token": "importance",
        "context": "- **Significance Scoring**: Calculates importance of topic changes"
      },
      {
        "line": 74,
        "token": "emerging",
        "context": "- **New Topic Detection**: Identifies emerging conversation topics"
      },
      {
        "line": 75,
        "token": "shifts",
        "context": "- **Intent Change Tracking**: Monitors shifts in conversation purpose"
      },
      {
        "line": 76,
        "token": "noise",
        "context": "- **Threshold Management**: Prevents noise from minor changes"
      },
      {
        "line": 93,
        "token": "memories",
        "context": "- **Time Decay (25%)**: Recent memories weighted higher"
      },
      {
        "line": 94,
        "token": "technology",
        "context": "- **Tag Relevance (35%)**: Project and technology tag matching"
      },
      {
        "line": 95,
        "token": "semantic",
        "context": "- **Content Relevance (15%)**: Keyword and semantic matching"
      },
      {
        "line": 96,
        "token": "topic",
        "context": "- **Conversation Relevance (25%)**: Current topic and intent alignment"
      },
      {
        "line": 110,
        "token": "related",
        "context": "- **Session Linking**: Connects related sessions across time"
      },
      {
        "line": 111,
        "token": "conversation",
        "context": "- **Conversation Threading**: Builds multi-session conversation threads"
      },
      {
        "line": 112,
        "token": "outcomes",
        "context": "- **Progress Tracking**: Monitors outcomes and task completion"
      },
      {
        "line": 113,
        "token": "recurring",
        "context": "- **Pattern Recognition**: Identifies recurring topics and workflows"
      },
      {
        "line": 132,
        "token": "when",
        "context": "- **Update Triggering**: Determines when to inject new context"
      },
      {
        "line": 133,
        "token": "relevant",
        "context": "- **Memory Querying**: Fetches relevant memories from service"
      },
      {
        "line": 134,
        "token": "beautiful",
        "context": "- **Context Formatting**: Creates beautiful markdown context updates"
      },
      {
        "line": 135,
        "token": "context",
        "context": "- **Rate Management**: Prevents context overload with smart limiting"
      },
      {
        "line": 260,
        "token": "performance",
        "context": "- **Topics Detected**: `performance`, `database`, `optimization`"
      },
      {
        "line": 262,
        "token": "high",
        "context": "- **Significance Score**: `0.7` (high)"
      },
      {
        "line": 282,
        "token": "conversation",
        "context": "- As conversation progresses through debugging â†’ solution â†’ testing"
      },
      {
        "line": 283,
        "token": "topic",
        "context": "- Each topic shift triggers relevant memory injection"
      },
      {
        "line": 284,
        "token": "context",
        "context": "- Previous context remains available, new context adds incrementally"
      },
      {
        "line": 295,
        "token": "detection",
        "context": "- Conversation Analysis (topic/entity/intent detection)"
      },
      {
        "line": 296,
        "token": "significance",
        "context": "- Topic Change Detection (significance scoring)"
      },
      {
        "line": 297,
        "token": "conversation",
        "context": "- Enhanced Memory Scoring (conversation context)"
      },
      {
        "line": 298,
        "token": "intelligence",
        "context": "- Session Tracking (cross-session intelligence)"
      },
      {
        "line": 299,
        "token": "rate",
        "context": "- Dynamic Context Updates (rate limiting, formatting)"
      },
      {
        "line": 300,
        "token": "conversation",
        "context": "- Full Integration (conversation flow simulation)"
      },
      {
        "line": 322,
        "token": "updates",
        "context": "- **Zero Cognitive Load**: Context updates happen automatically during conversations"
      },
      {
        "line": 323,
        "token": "appear",
        "context": "- **Perfect Timing**: Memories appear exactly when relevant to current discussion"
      },
      {
        "line": 324,
        "token": "understands",
        "context": "- **Conversation Intelligence**: AI understands context, intent, and technical discussions"
      },
      {
        "line": 325,
        "token": "conversation",
        "context": "- **Progressive Learning**: Each conversation builds upon previous knowledge"
      },
      {
        "line": 328,
        "token": "transparently",
        "context": "- **Seamless Integration**: Works transparently during normal coding sessions"
      },
      {
        "line": 329,
        "token": "lose",
        "context": "- **Cross-Session Continuity**: Never lose track of progress across different sessions"
      },
      {
        "line": 330,
        "token": "relevant",
        "context": "- **Intelligent Prioritization**: Most relevant memories surface first"
      },
      {
        "line": 331,
        "token": "issues",
        "context": "- **Pattern Recognition**: Recurring issues and solutions automatically identified"
      },
      {
        "line": 334,
        "token": "rate",
        "context": "- **Efficient Processing**: Smart rate limiting and debouncing prevent overload"
      },
      {
        "line": 335,
        "token": "response",
        "context": "- **Minimal Latency**: <500ms response time for topic detection and memory queries"
      },
      {
        "line": 336,
        "token": "active",
        "context": "- **Scalable Architecture**: Handles 100+ active memories per session"
      },
      {
        "line": 337,
        "token": "deduplication",
        "context": "- **Resource Optimization**: Intelligent deduplication and context management"
      },
      {
        "line": 343,
        "token": "start",
        "context": "| **Memory Injection** | Session start only | Real-time during conversation |"
      },
      {
        "line": 344,
        "token": "conversation",
        "context": "| **Context Awareness** | Project-based | Project + conversation topics |"
      },
      {
        "line": 345,
        "token": "scoring",
        "context": "| **Intelligence** | Static scoring | Dynamic conversation analysis |"
      },
      {
        "line": 346,
        "token": "intelligence",
        "context": "| **Session Linking** | None | Cross-session intelligence |"
      },
      {
        "line": 347,
        "token": "per",
        "context": "| **Update Frequency** | Once per session | Multiple times as topics evolve |"
      },
      {
        "line": 348,
        "token": "factor",
        "context": "| **Memory Scoring** | 4-factor algorithm | 5-factor with conversation context |"
      },
      {
        "line": 349,
        "token": "contextual",
        "context": "| **User Experience** | Good contextual start | Intelligent conversation partner |"
      },
      {
        "line": 353,
        "token": "completes",
        "context": "Phase 2 completes the **Intelligent Context Updates** milestone. The next phase will focus on:"
      },
      {
        "line": 355,
        "token": "memory",
        "context": "- **Advanced Memory Consolidation**: AI-powered memory organization and summarization"
      },
      {
        "line": 356,
        "token": "memory",
        "context": "- **Team Knowledge Sharing**: Multi-developer memory contexts and collaboration"
      },
      {
        "line": 357,
        "token": "needed",
        "context": "- **Predictive Context Loading**: Anticipate needed memories before topics emerge"
      },
      {
        "line": 358,
        "token": "memory",
        "context": "- **Custom Memory Types**: Specialized memory categories for different development activities"
      },
      {
        "line": 359,
        "token": "tool",
        "context": "- **Integration APIs**: Third-party tool integration and memory syndication"
      },
      {
        "line": 361,
        "token": "represents",
        "context": "**Phase 2 represents a major leap forward in AI-assisted development - from memory-aware to conversation-intelligent coding assistance.** ğŸ§ âœ¨"
      }
    ],
    "structure_diff": {
      "heading": [
        36,
        37
      ]
    }
  },
  {
    "english": "claude-hooks/README.md",
    "chinese": "claude-hooks/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "memory",
        "context": "Automatic memory awareness and intelligent context injection for Claude Code using the MCP Memory Service."
      },
      {
        "line": 24,
        "token": "unified",
        "context": "> **Note**: The unified Python installer replaces all previous installers and provides cross-platform compatibility with enhanced features. See [MIGRATION.md](M"
      },
      {
        "line": 26,
        "token": "installs",
        "context": "This installs hooks that automatically:"
      },
      {
        "line": 27,
        "token": "relevant",
        "context": "- Load relevant project memories when Claude Code starts"
      },
      {
        "line": 28,
        "token": "meaningful",
        "context": "- Inject meaningful contextual information (no more generic fluff!)"
      },
      {
        "line": 29,
        "token": "session",
        "context": "- Store session insights and decisions for future reference"
      },
      {
        "line": 30,
        "token": "memory",
        "context": "- Provide on-demand memory retrieval when you need it"
      },
      {
        "line": 34,
        "token": "memory",
        "context": "- **Core Hooks**: `session-start.js` (Hook v2.2), `session-end.js`, `memory-retrieval.js` - Smart memory management"
      },
      {
        "line": 35,
        "token": "detection",
        "context": "- **Utilities**: Project detection, quality-aware scoring, intelligent formatting, context shift detection"
      },
      {
        "line": 36,
        "token": "integration",
        "context": "- **Tests**: Comprehensive integration test suite (14 tests)"
      },
      {
        "line": 41,
        "token": "complementary",
        "context": "Three complementary ways to view session memory context:"
      },
      {
        "line": 43,
        "token": "bordered",
        "context": "1. **Visible Summary Output** - Clean bordered console display at session start"
      },
      {
        "line": 44,
        "token": "project",
        "context": "- Shows: project name, storage backend, memory count (with recent indicator), git context"
      },
      {
        "line": 45,
        "token": "configuration",
        "context": "- Respects `cleanMode` configuration for minimal output"
      },
      {
        "line": 48,
        "token": "each",
        "context": "- Auto-generated on each session start"
      },
      {
        "line": 49,
        "token": "project",
        "context": "- Contains: project details, storage backend, memory statistics, git analysis, top loaded memories"
      },
      {
        "line": 51,
        "token": "status",
        "context": "3. **Status Line Display** â­ - Always-visible status bar at bottom of terminal"
      },
      {
        "line": 52,
        "token": "recent",
        "context": "- Format: `ğŸ§  8 (8 recent) memories | ğŸ“Š 10 commits`"
      },
      {
        "line": 53,
        "token": "static",
        "context": "- Displays static session memory context (set once at session start)"
      },
      {
        "line": 54,
        "token": "JSON",
        "context": "- **Requires**: `jq` (JSON parser) and Claude Code statusLine configuration"
      },
      {
        "line": 55,
        "token": "hook",
        "context": "- **Platform**: Linux/macOS (Windows SessionStart hook broken - issue #160)"
      },
      {
        "line": 56,
        "token": "slash",
        "context": "- **Windows Workaround**: Use `/session-start` slash command for manual session initialization"
      },
      {
        "line": 59,
        "token": "verbosity",
        "context": "- **Clean Output Mode**: Configurable verbosity levels for minimal or detailed output"
      },
      {
        "line": 60,
        "token": "memory",
        "context": "- **Smart Filtering**: Hide memory scoring details while keeping essential information"
      },
      {
        "line": 61,
        "token": "noisy",
        "context": "- **Professional UX**: Removed noisy wrapper tags and improved ANSI formatting"
      },
      {
        "line": 62,
        "token": "what",
        "context": "- **Granular Control**: Fine-tune what information is displayed during hook execution"
      },
      {
        "line": 65,
        "token": "actual",
        "context": "- **Quality Content Extraction**: Extracts actual decisions/insights from session summaries instead of \"implementation...\" fluff"
      },
      {
        "line": 66,
        "token": "removes",
        "context": "- **Duplicate Filtering**: Automatically removes repetitive session summaries"
      },
      {
        "line": 67,
        "token": "injects",
        "context": "- **Smart Timing**: Only injects memories when contextually appropriate (no more mid-session disruptions)"
      },
      {
        "line": 68,
        "token": "memory",
        "context": "- **On-Demand Retrieval**: Manual memory refresh with `memory-retrieval.js` hook"
      },
      {
        "line": 71,
        "token": "relevant",
        "context": "- **Automatic Memory Injection**: Load relevant memories at session start with quality filtering"
      },
      {
        "line": 72,
        "token": "current",
        "context": "- **Project Awareness**: Detect current project context and frameworks"
      },
      {
        "line": 73,
        "token": "session",
        "context": "- **Memory Consolidation**: Store session outcomes and insights"
      },
      {
        "line": 74,
        "token": "scoring",
        "context": "- **Intelligent Selection**: Quality-aware scoring that prioritizes meaningful content over just recency"
      },
      {
        "line": 90,
        "token": "hooks",
        "context": "- Node.js (for hooks execution)"
      },
      {
        "line": 91,
        "token": "required",
        "context": "- **`jq`** (required for statusLine feature - displays memory context in Claude Code status bar)"
      },
      {
        "line": 92,
        "token": "brew",
        "context": "- macOS: `brew install jq`"
      },
      {
        "line": 93,
        "token": "sudo",
        "context": "- Linux: `sudo apt install jq` (Ubuntu/Debian) or equivalent"
      },
      {
        "line": 94,
        "token": "choco",
        "context": "- Windows: `choco install jq` or download from https://jqlang.github.io/jq/"
      },
      {
        "line": 105,
        "token": "installation",
        "context": "After installation:"
      },
      {
        "line": 147,
        "token": "verbose",
        "context": "- **Normal** (`verbose: true`, others `false`): Shows essential information only"
      },
      {
        "line": 148,
        "token": "true",
        "context": "- **Detailed** (`showMemoryDetails: true`): Include memory scoring details"
      },
      {
        "line": 149,
        "token": "true",
        "context": "- **Clean** (`cleanMode: true`): Minimal output, only success/error messages"
      },
      {
        "line": 150,
        "token": "verbose",
        "context": "- **Silent** (`verbose: false`): Hook works silently in background"
      },
      {
        "line": 153,
        "token": "whether",
        "context": "- `injectAfterCompacting`: Controls whether to inject memories after compacting events (default: `false`)"
      },
      {
        "line": 154,
        "token": "scoring",
        "context": "- `contentQuality`: New scoring weight for content quality assessment (filters generic summaries)"
      },
      {
        "line": 155,
        "token": "memory",
        "context": "- Enhanced memory filtering automatically removes \"implementation...\" fluff"
      },
      {
        "line": 159,
        "token": "installed",
        "context": "Once installed, hooks work automatically:"
      },
      {
        "line": 160,
        "token": "start",
        "context": "- **Session start**: Load relevant project memories"
      },
      {
        "line": 161,
        "token": "end",
        "context": "- **Session end**: Store insights and decisions"
      },
      {
        "line": 162,
        "token": "manual",
        "context": "- No manual intervention required"
      },
      {
        "line": 167,
        "token": "not",
        "context": "- **Hooks not detected**: `ls ~/.claude/settings.json` â†’ Reinstall if missing"
      },
      {
        "line": 168,
        "token": "JSON",
        "context": "- **JSON parse errors**: Update to latest version (includes Python dict conversion)"
      },
      {
        "line": 169,
        "token": "failed",
        "context": "- **Connection failed**: Check `curl -k https://your-endpoint:8443/api/health`"
      },
      {
        "line": 170,
        "token": "directory",
        "context": "- **Wrong directory**: Move `~/.claude-code/hooks/*` to `~/.claude/hooks/`"
      },
      {
        "line": 181,
        "token": "should",
        "context": "- **Directory Structure**: Hooks should be installed to `%USERPROFILE%\\.claude\\hooks\\`"
      },
      {
        "line": 182,
        "token": "JSON",
        "context": "- **JSON Path Format**: Use forward slashes in settings.json: `\"command\": \"node C:/Users/username/.claude/hooks/core/session-start.js\"`"
      },
      {
        "line": 183,
        "token": "backslashes",
        "context": "- **Avoid Backslashes**: Windows backslashes in JSON need escaping: `\"C:\\\\\\\\Users\\\\\\\\...\"` (prefer forward slashes instead)"
      },
      {
        "line": 198,
        "token": "you",
        "context": "- **Wrong Path Format**: If you see `session-start-wrapper.bat` errors, update your settings.json to use the Node.js script directly"
      },
      {
        "line": 199,
        "token": "using",
        "context": "- **Legacy Directory**: If using old `.claude-code` directory, move contents to `.claude` directory"
      },
      {
        "line": 200,
        "token": "installation",
        "context": "- **Permission Issues**: Run installation scripts as Administrator if needed"
      },
      {
        "line": 205,
        "token": "configurable",
        "context": "**ğŸ¯ Focus**: Professional UX and configurable verbosity"
      },
      {
        "line": 208,
        "token": "configuration",
        "context": "- **Output Verbosity Control**: Granular configuration for hook output levels"
      },
      {
        "line": 209,
        "token": "output",
        "context": "- **Clean Mode**: Ultra-minimal output option for distraction-free usage"
      },
      {
        "line": 210,
        "token": "memory",
        "context": "- **Smart Filtering**: Hide memory scoring details while preserving essential information"
      },
      {
        "line": 213,
        "token": "wrapper",
        "context": "- **Removed Noise**: Eliminated `<session-start-hook>` wrapper tags and verbose logging"
      },
      {
        "line": 214,
        "token": "color",
        "context": "- **Enhanced ANSI**: Improved color consistency and formatting throughout"
      },
      {
        "line": 215,
        "token": "verbose",
        "context": "- **Better Defaults**: Less verbose output by default while maintaining functionality"
      },
      {
        "line": 218,
        "token": "output",
        "context": "- Added `output` section with `verbose`, `showMemoryDetails`, `showProjectDetails`, `cleanMode` options"
      },
      {
        "line": 219,
        "token": "compatible",
        "context": "- Backwards compatible - existing configurations work without changes"
      },
      {
        "line": 220,
        "token": "configuration",
        "context": "- Self-documenting configuration with clear field names"
      },
      {
        "line": 223,
        "token": "memory",
        "context": "- Advanced memory scoring and quality assessment"
      },
      {
        "line": 224,
        "token": "context",
        "context": "- Enhanced context injection with deduplication"
      },
      {
        "line": 225,
        "token": "project",
        "context": "- Improved project detection and context awareness"
      },
      {
        "line": 228,
        "token": "content",
        "context": "- Quality content extraction and duplicate filtering"
      },
      {
        "line": 229,
        "token": "timing",
        "context": "- Smart timing and context shift detection"
      },
      {
        "line": 230,
        "token": "memory",
        "context": "- On-demand memory retrieval capabilities"
      },
      {
        "line": 234,
        "token": "comprehensive",
        "context": "For comprehensive documentation including detailed troubleshooting, advanced configuration, and development guides, see:"
      },
      {
        "line": 236,
        "token": "https",
        "context": "**[ğŸ“– Memory Awareness Hooks - Detailed Guide](https://github.com/doobidoo/mcp-memory-service/wiki/Memory-Awareness-Hooks-Detailed-Guide)**"
      },
      {
        "line": 238,
        "token": "guide",
        "context": "This guide covers:"
      },
      {
        "line": 239,
        "token": "installation",
        "context": "- Advanced installation methods and configuration options"
      },
      {
        "line": 240,
        "token": "troubleshooting",
        "context": "- Comprehensive troubleshooting with solutions"
      },
      {
        "line": 241,
        "token": "hook",
        "context": "- Custom hook development and architecture diagrams"
      },
      {
        "line": 242,
        "token": "service",
        "context": "- Memory service integration and testing frameworks"
      }
    ],
    "structure_diff": {
      "heading": [
        32,
        33
      ]
    }
  },
  {
    "english": "claude-hooks/WINDOWS-SESSIONSTART-BUG.md",
    "chinese": "claude-hooks/WINDOWS-SESSIONSTART-BUG_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "hooks",
        "context": "**Issue**: SessionStart hooks cause Claude Code to become completely unresponsive on Windows, requiring terminal closure to recover."
      },
      {
        "line": 14,
        "token": "subprocess",
        "context": "**Root Cause**: Windows-specific subprocess lifecycle management bug in Claude Code's initialization phase. The parent process doesn't properly detect subproces"
      },
      {
        "line": 16,
        "token": "hook",
        "context": "**Status**: **UNFIXABLE** at hook level - requires Claude Code core fix"
      },
      {
        "line": 18,
        "token": "https",
        "context": "**GitHub Issue**: [#160](https://github.com/doobidoo/mcp-memory-service/issues/160)"
      },
      {
        "line": 20,
        "token": "hooks",
        "context": "**Workaround**: Disable SessionStart hooks on Windows; use UserPromptSubmit hook instead"
      },
      {
        "line": 62,
        "token": "hooks",
        "context": "**UserPromptSubmit** and **SessionEnd** hooks execute AFTER Claude Code has completed initialization and entered its event loop. At that point:"
      },
      {
        "line": 63,
        "token": "process",
        "context": "- Parent process is actively polling subprocess status"
      },
      {
        "line": 64,
        "token": "signals",
        "context": "- Exit signals are properly detected and processed"
      },
      {
        "line": 65,
        "token": "completion",
        "context": "- Subprocess completion unblocks parent immediately"
      },
      {
        "line": 71,
        "token": "signals",
        "context": "| macOS    | Async signals via kqueue | âœ… YES |"
      },
      {
        "line": 72,
        "token": "signals",
        "context": "| Linux    | Async signals via epoll  | âœ… YES |"
      },
      {
        "line": 73,
        "token": "polling",
        "context": "| Windows  | Synchronous polling required | âŒ NO |"
      },
      {
        "line": 76,
        "token": "doesn",
        "context": "- Windows doesn't have Unix-style async subprocess signals"
      },
      {
        "line": 77,
        "token": "active",
        "context": "- Requires active polling of subprocess handles"
      },
      {
        "line": 78,
        "token": "sync",
        "context": "- Claude Code's sync initialization doesn't poll"
      },
      {
        "line": 79,
        "token": "signals",
        "context": "- Exit signals queue up but aren't processed"
      },
      {
        "line": 86,
        "token": "fallback",
        "context": "**Code**: Added `process.exit(0)` with `setTimeout` fallback"
      },
      {
        "line": 92,
        "token": "exits",
        "context": "**Result**: Hook exits successfully, but parent still hangs"
      },
      {
        "line": 93,
        "token": "signal",
        "context": "**Reason**: Exit signal not being detected by blocked parent"
      },
      {
        "line": 98,
        "token": "handler",
        "context": "**Code**: Wrapped handler function with forced exit"
      },
      {
        "line": 108,
        "token": "hang",
        "context": "**Result**: Same hang - process exits but parent doesn't detect it"
      },
      {
        "line": 109,
        "token": "subprocess",
        "context": "**Reason**: Still a subprocess that parent must wait for"
      },
      {
        "line": 114,
        "token": "bat",
        "context": "**Code**: Created `.bat` wrapper"
      },
      {
        "line": 120,
        "token": "exits",
        "context": "**Result**: Batch exits, but Node subprocess still causes hang"
      },
      {
        "line": 121,
        "token": "waits",
        "context": "**Reason**: Parent waits for batch AND its children on Windows"
      },
      {
        "line": 126,
        "token": "calls",
        "context": "**Code**: Hook that ONLY calls `process.exit(0)` without doing ANY work"
      },
      {
        "line": 133,
        "token": "despite",
        "context": "**Result**: **STILL HANGS** despite doing nothing"
      },
      {
        "line": 134,
        "token": "issue",
        "context": "**Critical Discovery**: Proves issue is NOT the hook logic, but the subprocess invocation itself"
      },
      {
        "line": 139,
        "token": "detachment",
        "context": "**Code**: PowerShell's `Start-Process` with detachment"
      },
      {
        "line": 148,
        "token": "exits",
        "context": "**Result**: PowerShell exits immediately, but Node process still blocks parent"
      },
      {
        "line": 149,
        "token": "job",
        "context": "**Reason**: Windows job objects - spawned processes inherit parent's job, creating implicit wait"
      },
      {
        "line": 156,
        "token": "spawns",
        "context": "1. Claude Code spawns hook subprocess during synchronous initialization"
      },
      {
        "line": 157,
        "token": "subprocess",
        "context": "2. On Windows, subprocess completion requires active polling"
      },
      {
        "line": 158,
        "token": "code",
        "context": "3. Synchronous code path doesn't poll - it blocks waiting"
      },
      {
        "line": 159,
        "token": "amount",
        "context": "4. No amount of hook-side manipulation can make parent poll"
      },
      {
        "line": 160,
        "token": "hooks",
        "context": "5. Even zero-duration hooks cause infinite wait"
      },
      {
        "line": 162,
        "token": "requires",
        "context": "**This requires a fix in Claude Code itself:**"
      },
      {
        "line": 163,
        "token": "async",
        "context": "- Move SessionStart to async initialization phase"
      },
      {
        "line": 164,
        "token": "add",
        "context": "- OR add timeout + polling during sync init"
      },
      {
        "line": 165,
        "token": "skip",
        "context": "- OR skip SessionStart on Windows platform"
      },
      {
        "line": 173,
        "token": "enhance",
        "context": "Instead of SessionStart, enhance the UserPromptSubmit hook to inject context on first prompt:"
      },
      {
        "line": 201,
        "token": "changes",
        "context": "- âœ… Zero Claude Code changes required"
      },
      {
        "line": 202,
        "token": "all",
        "context": "- âœ… Works on all platforms"
      },
      {
        "line": 203,
        "token": "context",
        "context": "- âœ… Memory context injected on first user interaction"
      },
      {
        "line": 204,
        "token": "delay",
        "context": "- âœ… Only ~100ms delay (user types prompt anyway)"
      },
      {
        "line": 205,
        "token": "back",
        "context": "- âœ… Falls back to natural triggers for rest of session"
      },
      {
        "line": 208,
        "token": "automatic",
        "context": "- âš ï¸ No automatic context before user types first prompt"
      },
      {
        "line": 209,
        "token": "must",
        "context": "- âš ï¸ User must initiate interaction (but they would anyway)"
      },
      {
        "line": 215,
        "token": "https",
        "context": "**GitHub Issue**: [#160](https://github.com/doobidoo/mcp-memory-service/issues/160)"
      },
      {
        "line": 240,
        "token": "becomes",
        "context": "**Expected**: Claude Code becomes responsive after hook exits"
      },
      {
        "line": 241,
        "token": "hangs",
        "context": "**Actual**: Claude Code hangs indefinitely, requires terminal closure"
      },
      {
        "line": 243,
        "token": "any",
        "context": "**Platform**: Windows 10/11, any Node.js version"
      },
      {
        "line": 249,
        "token": "lines",
        "context": "- **Main Documentation**: `CLAUDE.md` lines 587-650"
      },
      {
        "line": 250,
        "token": "https",
        "context": "- **GitHub Issue**: [#160](https://github.com/doobidoo/mcp-memory-service/issues/160)"
      },
      {
        "line": 254,
        "token": "workaround",
        "context": "**Status**: Documented, workaround implemented, awaiting Claude Code fix"
      }
    ],
    "structure_diff": {
      "heading": [
        17,
        18
      ]
    }
  },
  {
    "english": "claude_commands/README.md",
    "chinese": "claude_commands/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 31,
        "token": "original",
        "context": "# Claude Code Commands for MCP Memory Service (English original)"
      },
      {
        "line": 33,
        "token": "directory",
        "context": "This directory contains conversational Claude Code commands that integrate memory functionality into your Claude Code workflow. These commands follow the CCPlug"
      },
      {
        "line": 38,
        "token": "session",
        "context": "Display session memory context manually by running the session-start hook. **Windows Workaround**: Required for Windows users due to SessionStart hook bug (#160"
      },
      {
        "line": 45,
        "token": "exists",
        "context": "**Why this exists:**"
      },
      {
        "line": 46,
        "token": "users",
        "context": "- Windows users cannot use automatic SessionStart hooks (causes Claude Code to hang)"
      },
      {
        "line": 47,
        "token": "same",
        "context": "- Provides same functionality as automatic session-start hook"
      },
      {
        "line": 48,
        "token": "manual",
        "context": "- Safe manual alternative that works on all platforms (Windows, macOS, Linux)"
      },
      {
        "line": 50,
        "token": "does",
        "context": "**What it does:**"
      },
      {
        "line": 51,
        "token": "relevant",
        "context": "- Loads relevant project memories at session start"
      },
      {
        "line": 52,
        "token": "git",
        "context": "- Analyzes git history and recent changes"
      },
      {
        "line": 53,
        "token": "categorized",
        "context": "- Displays categorized memory context (recent work, current problems, additional context)"
      },
      {
        "line": 56,
        "token": "information",
        "context": "Store information in your MCP Memory Service with proper context and tagging. Automatically detects project context, applies relevant tags, and includes machine"
      },
      {
        "line": 65,
        "token": "memories",
        "context": "Retrieve memories using natural language time expressions. Perfect for finding past conversations and decisions."
      }
    ],
    "structure_diff": {
      "heading": [
        34,
        9
      ],
      "codeblock": [
        18,
        8
      ]
    }
  },
  {
    "english": "claude_commands/memory-context.md",
    "chinese": "claude_commands/memory-context_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "memory-context.md",
        "context": "# memory-context.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 10,
        "token": "help",
        "context": "I'll help you capture the current conversation and project context as a memory that can be recalled later. This command is perfect for preserving important sess"
      },
      {
        "line": 14,
        "token": "analyze",
        "context": "1. **Session Analysis**: I'll analyze our current conversation to extract key insights, decisions, and progress made."
      },
      {
        "line": 16,
        "token": "capture",
        "context": "2. **Project Context**: I'll capture the current project state including:"
      },
      {
        "line": 17,
        "token": "directory",
        "context": "- Working directory and git repository status"
      },
      {
        "line": 18,
        "token": "file",
        "context": "- Recent file changes and commits"
      },
      {
        "line": 19,
        "token": "branch",
        "context": "- Current branch and development context"
      },
      {
        "line": 21,
        "token": "create",
        "context": "3. **Conversation Summary**: I'll create a concise summary of our session including:"
      },
      {
        "line": 22,
        "token": "topics",
        "context": "- Main topics discussed"
      },
      {
        "line": 23,
        "token": "made",
        "context": "- Decisions made or problems solved"
      },
      {
        "line": 24,
        "token": "items",
        "context": "- Action items or next steps identified"
      },
      {
        "line": 25,
        "token": "changes",
        "context": "- Code changes or configurations applied"
      },
      {
        "line": 27,
        "token": "automatically",
        "context": "4. **Smart Tagging**: I'll automatically generate relevant tags based on the session content and project context, including the machine hostname as a source ide"
      },
      {
        "line": 29,
        "token": "store",
        "context": "5. **Memory Storage**: I'll store the session summary with appropriate metadata for easy future retrieval."
      },
      {
        "line": 42,
        "token": "automatically",
        "context": "I'll automatically analyze our current session and project state, then store it to your MCP Memory Service at `https://memory.local:8443/`:"
      },
      {
        "line": 44,
        "token": "key",
        "context": "1. **Conversation Analysis**: Extract key topics, decisions, and insights from our current chat"
      },
      {
        "line": 46,
        "token": "working",
        "context": "- Current working directory and git status"
      },
      {
        "line": 47,
        "token": "commits",
        "context": "- Recent commits and file changes"
      },
      {
        "line": 48,
        "token": "information",
        "context": "- Branch information and repository state"
      },
      {
        "line": 49,
        "token": "conversation",
        "context": "3. **Context Synthesis**: Combine conversation and project context into a coherent summary"
      },
      {
        "line": 50,
        "token": "context",
        "context": "4. **Memory Creation**: Store the context with automatic tags including machine hostname"
      },
      {
        "line": 51,
        "token": "stored",
        "context": "5. **Auto-Save**: Memory is stored immediately without confirmation prompts"
      },
      {
        "line": 53,
        "token": "service",
        "context": "The service uses HTTPS with curl `-k` flag for secure communication and automatically detects client hostname using the `X-Client-Hostname` header."
      },
      {
        "line": 55,
        "token": "stored",
        "context": "The stored memory will include:"
      },
      {
        "line": 56,
        "token": "tag",
        "context": "- **Source Machine**: Hostname tag for tracking memory origin (e.g., \"source:your-machine-name\")"
      },
      {
        "line": 57,
        "token": "overview",
        "context": "- **Session Summary**: Concise overview of our conversation"
      },
      {
        "line": 58,
        "token": "choices",
        "context": "- **Key Decisions**: Important choices or conclusions reached"
      },
      {
        "line": 59,
        "token": "changes",
        "context": "- **Technical Details**: Code changes, configurations, or technical insights"
      },
      {
        "line": 60,
        "token": "state",
        "context": "- **Project Context**: Repository state, files modified, current focus"
      },
      {
        "line": 61,
        "token": "steps",
        "context": "- **Action Items**: Next steps or follow-up tasks identified"
      },
      {
        "line": 62,
        "token": "session",
        "context": "- **Timestamp**: When the session context was captured"
      },
      {
        "line": 67,
        "token": "subjects",
        "context": "- **Topics Discussed**: Main subjects and themes from our chat"
      },
      {
        "line": 68,
        "token": "resolved",
        "context": "- **Problems Solved**: Issues resolved or questions answered"
      },
      {
        "line": 69,
        "token": "made",
        "context": "- **Decisions Made**: Choices made or approaches agreed upon"
      },
      {
        "line": 70,
        "token": "understanding",
        "context": "- **Insights Gained**: New understanding or knowledge acquired"
      },
      {
        "line": 73,
        "token": "repository",
        "context": "- **Repository Info**: Git repository, branch, and recent commits"
      },
      {
        "line": 74,
        "token": "added",
        "context": "- **File Changes**: Modified, added, or deleted files"
      },
      {
        "line": 75,
        "token": "working",
        "context": "- **Directory Structure**: Current working directory and project layout"
      },
      {
        "line": 76,
        "token": "development",
        "context": "- **Development State**: Current development phase or focus area"
      },
      {
        "line": 79,
        "token": "classes",
        "context": "- **Code Changes**: Functions, classes, or modules modified"
      },
      {
        "line": 80,
        "token": "dependencies",
        "context": "- **Configuration Updates**: Settings, dependencies, or environment changes"
      },
      {
        "line": 81,
        "token": "choices",
        "context": "- **Architecture Decisions**: Design choices or structural changes"
      },
      {
        "line": 82,
        "token": "efficiency",
        "context": "- **Performance Considerations**: Optimization or efficiency insights"
      },
      {
        "line": 86,
        "token": "custom",
        "context": "- `$ARGUMENTS` - Optional custom summary or context description"
      },
      {
        "line": 87,
        "token": "summary",
        "context": "- `--summary \"text\"` - Custom session summary override"
      },
      {
        "line": 88,
        "token": "tags",
        "context": "- `--tags \"tag1,tag2\"` - Additional tags to apply"
      },
      {
        "line": 89,
        "token": "type",
        "context": "- `--type \"session|meeting|planning|development\"` - Context type"
      },
      {
        "line": 90,
        "token": "detailed",
        "context": "- `--include-files` - Include detailed file change information"
      },
      {
        "line": 91,
        "token": "recent",
        "context": "- `--include-commits` - Include recent commit messages and changes"
      },
      {
        "line": 92,
        "token": "snippets",
        "context": "- `--include-code` - Include snippets of important code changes"
      },
      {
        "line": 93,
        "token": "private",
        "context": "- `--private` - Mark as private/sensitive session content"
      },
      {
        "line": 94,
        "token": "project",
        "context": "- `--project \"name\"` - Override project name detection"
      },
      {
        "line": 98,
        "token": "most",
        "context": "- **Smart Summarization**: Extract the most important points from our conversation"
      },
      {
        "line": 99,
        "token": "storing",
        "context": "- **Duplicate Detection**: Avoid storing redundant session information"
      },
      {
        "line": 100,
        "token": "related",
        "context": "- **Context Linking**: Connect to related memories and previous sessions"
      },
      {
        "line": 101,
        "token": "progress",
        "context": "- **Progress Tracking**: Identify progress made since last context capture"
      },
      {
        "line": 102,
        "token": "out",
        "context": "- **Knowledge Extraction**: Pull out reusable insights and patterns"
      },
      {
        "line": 104,
        "token": "command",
        "context": "This command is especially useful at the end of productive development sessions, after important architectural discussions, or when you want to preserve the cur"
      }
    ],
    "structure_diff": {
      "heading": [
        10,
        11
      ]
    }
  },
  {
    "english": "claude_commands/memory-health.md",
    "chinese": "claude_commands/memory-health_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "memory-health.md",
        "context": "# memory-health.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 10,
        "token": "help",
        "context": "I'll help you check the health and status of your MCP Memory Service, providing detailed diagnostics and statistics about your memory storage and service connec"
      },
      {
        "line": 14,
        "token": "locate",
        "context": "1. **Service Discovery**: I'll locate your MCP Memory Service using mDNS auto-discovery or configured endpoints."
      },
      {
        "line": 16,
        "token": "verify",
        "context": "2. **Connectivity Test**: I'll verify that the service is running and accessible from Claude Code."
      },
      {
        "line": 18,
        "token": "check",
        "context": "3. **Health Assessment**: I'll check the database health, memory statistics, and service performance."
      },
      {
        "line": 20,
        "token": "provide",
        "context": "4. **Storage Analysis**: I'll provide insights about your stored memories, database size, and usage patterns."
      },
      {
        "line": 22,
        "token": "issues",
        "context": "5. **Troubleshooting**: If issues are found, I'll provide specific recommendations for resolution."
      },
      {
        "line": 35,
        "token": "perform",
        "context": "I'll perform comprehensive health checks using your MCP Memory Service at `https://memory.local:8443/`:"
      },
      {
        "line": 38,
        "token": "configured",
        "context": "- Connect to configured HTTPS endpoint"
      },
      {
        "line": 39,
        "token": "health",
        "context": "- Check health endpoint at `/api/health/detailed`"
      },
      {
        "line": 40,
        "token": "HTTPS",
        "context": "- Verify HTTPS connectivity with `-k` flag for self-signed certificates"
      },
      {
        "line": 43,
        "token": "responsiveness",
        "context": "- Service responsiveness via `/api/health` endpoint"
      },
      {
        "line": 44,
        "token": "diagnostics",
        "context": "- Detailed diagnostics via `/api/health/detailed`"
      },
      {
        "line": 45,
        "token": "connection",
        "context": "- Database connection status and embedding model availability"
      },
      {
        "line": 48,
        "token": "count",
        "context": "- Memory count and database statistics from API response"
      },
      {
        "line": 49,
        "token": "backend",
        "context": "- Storage backend type (SQLite-vec, ChromaDB, etc.)"
      },
      {
        "line": 50,
        "token": "metrics",
        "context": "- Performance metrics, uptime, and response times"
      },
      {
        "line": 51,
        "token": "usage",
        "context": "- Disk usage warnings and system resource status"
      },
      {
        "line": 53,
        "token": "requested",
        "context": "4. **Operational Testing** (if requested):"
      },
      {
        "line": 54,
        "token": "memory",
        "context": "- Test memory storage and retrieval"
      },
      {
        "line": 55,
        "token": "search",
        "context": "- Verify search functionality"
      },
      {
        "line": 56,
        "token": "tag",
        "context": "- Check tag operations"
      },
      {
        "line": 61,
        "token": "active",
        "context": "- **Running**: Whether the MCP Memory Service is active"
      },
      {
        "line": 62,
        "token": "port",
        "context": "- **Endpoint**: Service URL and port information"
      },
      {
        "line": 63,
        "token": "response",
        "context": "- **Response Time**: Average API response latency"
      },
      {
        "line": 64,
        "token": "version",
        "context": "- **Version**: Service version and backend type"
      },
      {
        "line": 65,
        "token": "long",
        "context": "- **Uptime**: How long the service has been running"
      },
      {
        "line": 68,
        "token": "other",
        "context": "- **Backend Type**: ChromaDB, SQLite-vec, or other storage backend"
      },
      {
        "line": 69,
        "token": "connectivity",
        "context": "- **Connection Status**: Database connectivity and integrity"
      },
      {
        "line": 70,
        "token": "stored",
        "context": "- **Total Memories**: Number of stored memory entries"
      },
      {
        "line": 71,
        "token": "space",
        "context": "- **Database Size**: Storage space used by the database"
      },
      {
        "line": 72,
        "token": "backups",
        "context": "- **Last Backup**: When backups were last created (if applicable)"
      },
      {
        "line": 75,
        "token": "search",
        "context": "- **Query Performance**: Average search and retrieval times"
      },
      {
        "line": 76,
        "token": "type",
        "context": "- **Embedding Model**: Model type and loading status"
      },
      {
        "line": 77,
        "token": "memory",
        "context": "- **Memory Usage**: Service memory consumption"
      },
      {
        "line": 78,
        "token": "model",
        "context": "- **Cache Status**: Embedding and model cache statistics"
      },
      {
        "line": 81,
        "token": "frequently",
        "context": "- **Popular Tags**: Most frequently used tags"
      },
      {
        "line": 82,
        "token": "memory",
        "context": "- **Memory Types**: Distribution of memory types (note, decision, etc.)"
      },
      {
        "line": 83,
        "token": "storage",
        "context": "- **Recent Activity**: Recent storage and retrieval operations"
      },
      {
        "line": 84,
        "token": "growth",
        "context": "- **Growth Trends**: Database growth over time"
      },
      {
        "line": 89,
        "token": "start",
        "context": "- **Service Not Running**: Instructions to start the MCP Memory Service"
      },
      {
        "line": 90,
        "token": "port",
        "context": "- **Port Conflicts**: Detection of port usage conflicts"
      },
      {
        "line": 91,
        "token": "integrity",
        "context": "- **Database Corruption**: Database integrity verification"
      },
      {
        "line": 92,
        "token": "system",
        "context": "- **Permission Issues**: File system access and write permissions"
      },
      {
        "line": 93,
        "token": "model",
        "context": "- **Model Loading**: Embedding model download and loading status"
      },
      {
        "line": 96,
        "token": "restart",
        "context": "- **Restart Service**: Attempt to restart a hung service"
      },
      {
        "line": 97,
        "token": "corrupted",
        "context": "- **Clear Cache**: Clean corrupted cache files"
      },
      {
        "line": 98,
        "token": "database",
        "context": "- **Repair Database**: Basic database repair operations"
      },
      {
        "line": 99,
        "token": "common",
        "context": "- **Update Configuration**: Fix common configuration issues"
      },
      {
        "line": 103,
        "token": "specific",
        "context": "- `$ARGUMENTS` - Optional specific health check focus"
      },
      {
        "line": 104,
        "token": "detailed",
        "context": "- `--detailed` - Show comprehensive diagnostics and statistics"
      },
      {
        "line": 105,
        "token": "functional",
        "context": "- `--test-operations` - Perform functional tests of store/retrieve operations"
      },
      {
        "line": 106,
        "token": "backup",
        "context": "- `--check-backups` - Verify backup system health and recent backups"
      },
      {
        "line": 107,
        "token": "performance",
        "context": "- `--performance-test` - Run performance benchmarks"
      },
      {
        "line": 108,
        "token": "health",
        "context": "- `--export-report` - Save health report to file for sharing"
      },
      {
        "line": 109,
        "token": "automatic",
        "context": "- `--fix-issues` - Attempt automatic fixes for detected problems"
      },
      {
        "line": 110,
        "token": "quiet",
        "context": "- `--quiet` - Show only critical issues (minimal output)"
      },
      {
        "line": 114,
        "token": "discovery",
        "context": "- **Network Connectivity**: Test mDNS discovery and HTTP endpoints"
      },
      {
        "line": 115,
        "token": "database",
        "context": "- **Database Integrity**: Verify database consistency and repair if needed"
      },
      {
        "line": 116,
        "token": "embedding",
        "context": "- **Model Health**: Check embedding model files and performance"
      },
      {
        "line": 117,
        "token": "environment",
        "context": "- **Configuration Validation**: Verify environment variables and settings"
      },
      {
        "line": 118,
        "token": "memory",
        "context": "- **Resource Usage**: Monitor CPU, memory, and disk usage"
      },
      {
        "line": 120,
        "token": "critical",
        "context": "If critical issues are detected, I'll provide step-by-step resolution instructions and can attempt automatic fixes with your permission. For complex issues, I'l"
      },
      {
        "line": 122,
        "token": "health",
        "context": "The health check helps ensure your memory service is running optimally and can identify potential issues before they impact your workflow."
      }
    ],
    "structure_diff": {
      "heading": [
        14,
        15
      ]
    }
  },
  {
    "english": "claude_commands/memory-ingest-dir.md",
    "chinese": "claude_commands/memory-ingest-dir_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "memory-ingest-dir.md",
        "context": "# memory-ingest-dir.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 10,
        "token": "ingest",
        "context": "Batch ingest all supported documents from a directory into the MCP Memory Service database."
      },
      {
        "line": 20,
        "token": "directory",
        "context": "- `directory_path`: Path to the directory containing documents to ingest (required)"
      },
      {
        "line": 21,
        "token": "tags",
        "context": "- `--tags`: Comma-separated list of tags to apply to all memories created"
      },
      {
        "line": 22,
        "token": "recursive",
        "context": "- `--recursive`: Process subdirectories recursively (default: true)"
      },
      {
        "line": 23,
        "token": "list",
        "context": "- `--file-extensions`: Comma-separated list of file extensions to process (default: pdf,txt,md,json)"
      },
      {
        "line": 24,
        "token": "size",
        "context": "- `--chunk-size`: Target size for text chunks in characters (default: 1000)"
      },
      {
        "line": 25,
        "token": "overlap",
        "context": "- `--chunk-overlap`: Characters to overlap between chunks (default: 200)"
      },
      {
        "line": 26,
        "token": "number",
        "context": "- `--max-files`: Maximum number of files to process (default: 100)"
      },
      {
        "line": 30,
        "token": "PDF",
        "context": "- PDF files (.pdf)"
      },
      {
        "line": 31,
        "token": "files",
        "context": "- Text files (.txt, .md, .markdown, .rst)"
      },
      {
        "line": 32,
        "token": "JSON",
        "context": "- JSON files (.json)"
      },
      {
        "line": 36,
        "token": "need",
        "context": "I need to upload multiple documents from a directory to the MCP Memory Service HTTP API endpoint."
      },
      {
        "line": 38,
        "token": "let",
        "context": "First, let me check if the service is running and find all supported files in the directory:"
      },
      {
        "line": 48,
        "token": "upload",
        "context": "Then I'll upload the files in batch:"
      },
      {
        "line": 92,
        "token": "you",
        "context": "When you run this command, I will:"
      },
      {
        "line": 94,
        "token": "directory",
        "context": "1. **Scan the directory** for supported file types (PDF, TXT, MD, JSON)"
      },
      {
        "line": 95,
        "token": "filtering",
        "context": "2. **Apply filtering** based on file extensions and max files limit"
      },
      {
        "line": 96,
        "token": "service",
        "context": "3. **Validate the service** is running and accessible"
      },
      {
        "line": 97,
        "token": "files",
        "context": "4. **Upload files in batch** using the documents API endpoint"
      },
      {
        "line": 98,
        "token": "progress",
        "context": "5. **Monitor progress** for each file and show real-time updates"
      },
      {
        "line": 99,
        "token": "results",
        "context": "6. **Report results** including total chunks created and any errors"
      },
      {
        "line": 101,
        "token": "documents",
        "context": "All documents will be processed with consistent tagging and chunking parameters."
      },
      {
        "line": 105,
        "token": "processed",
        "context": "- Files are processed in parallel for efficiency"
      },
      {
        "line": 106,
        "token": "displayed",
        "context": "- Progress is displayed with file counts and chunk statistics"
      },
      {
        "line": 107,
        "token": "document",
        "context": "- Each document gets processed independently - failures in one don't stop others"
      },
      {
        "line": 108,
        "token": "tagging",
        "context": "- Automatic tagging includes source directory and file type information"
      },
      {
        "line": 109,
        "token": "directories",
        "context": "- Large directories may take time - consider using --max-files for testing"
      }
    ],
    "structure_diff": {
      "heading": [
        15,
        16
      ]
    }
  },
  {
    "english": "claude_commands/memory-ingest.md",
    "chinese": "claude_commands/memory-ingest_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "memory-ingest.md",
        "context": "# memory-ingest.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 10,
        "token": "document",
        "context": "Ingest a document file into the MCP Memory Service database."
      },
      {
        "line": 20,
        "token": "document",
        "context": "- `file_path`: Path to the document file to ingest (required)"
      },
      {
        "line": 21,
        "token": "tags",
        "context": "- `--tags`: Comma-separated list of tags to apply to all memories created from this document"
      },
      {
        "line": 22,
        "token": "size",
        "context": "- `--chunk-size`: Target size for text chunks in characters (default: 1000)"
      },
      {
        "line": 23,
        "token": "overlap",
        "context": "- `--chunk-overlap`: Characters to overlap between chunks (default: 200)"
      },
      {
        "line": 24,
        "token": "label",
        "context": "- `--memory-type`: Type label for created memories (default: \"document\")"
      },
      {
        "line": 28,
        "token": "PDF",
        "context": "- PDF files (.pdf)"
      },
      {
        "line": 29,
        "token": "files",
        "context": "- Text files (.txt, .md, .markdown, .rst)"
      },
      {
        "line": 30,
        "token": "JSON",
        "context": "- JSON files (.json)"
      },
      {
        "line": 34,
        "token": "need",
        "context": "I need to upload the document to the MCP Memory Service HTTP API endpoint and monitor the progress."
      },
      {
        "line": 36,
        "token": "let",
        "context": "First, let me check if the service is running and get the correct endpoint:"
      },
      {
        "line": 46,
        "token": "service",
        "context": "Assuming the service is running (adjust the URL as needed), I'll upload the document:"
      },
      {
        "line": 59,
        "token": "monitor",
        "context": "Then I'll monitor the upload progress:"
      },
      {
        "line": 81,
        "token": "you",
        "context": "When you run this command, I will:"
      },
      {
        "line": 83,
        "token": "file",
        "context": "1. **Validate the file exists** and check if it's a supported format"
      },
      {
        "line": 84,
        "token": "service",
        "context": "2. **Determine the service endpoint** (try localhost:8080, then 8443)"
      },
      {
        "line": 85,
        "token": "file",
        "context": "3. **Upload the file** using the documents API endpoint with your specified parameters"
      },
      {
        "line": 86,
        "token": "progress",
        "context": "4. **Monitor progress** and show real-time updates"
      },
      {
        "line": 87,
        "token": "results",
        "context": "5. **Report results** including chunks created and any errors"
      },
      {
        "line": 89,
        "token": "document",
        "context": "The document will be automatically parsed, chunked, and stored as searchable memories in your MCP Memory Service database."
      },
      {
        "line": 93,
        "token": "document",
        "context": "- The document will be automatically parsed and chunked for optimal retrieval"
      },
      {
        "line": 94,
        "token": "chunk",
        "context": "- Each chunk becomes a separate memory entry with semantic embeddings"
      },
      {
        "line": 95,
        "token": "will",
        "context": "- Progress will be displayed during ingestion"
      },
      {
        "line": 96,
        "token": "chunks",
        "context": "- Failed chunks will be reported but won't stop the overall process"
      }
    ],
    "structure_diff": {
      "heading": [
        15,
        16
      ]
    }
  },
  {
    "english": "claude_commands/memory-recall.md",
    "chinese": "claude_commands/memory-recall_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "memory-recall.md",
        "context": "# memory-recall.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 10,
        "token": "help",
        "context": "I'll help you retrieve memories from your MCP Memory Service using natural language time expressions and contextual queries. This command excels at finding past"
      },
      {
        "line": 14,
        "token": "interpret",
        "context": "1. **Parse Time Expressions**: I'll interpret natural language time queries like:"
      },
      {
        "line": 15,
        "token": "yesterday",
        "context": "- \"yesterday\", \"last week\", \"two months ago\""
      },
      {
        "line": 16,
        "token": "last",
        "context": "- \"last Tuesday\", \"this morning\", \"last summer\""
      },
      {
        "line": 17,
        "token": "before",
        "context": "- \"before the database migration\", \"since we started using SQLite\""
      },
      {
        "line": 19,
        "token": "consider",
        "context": "2. **Context-Aware Search**: I'll consider the current project context to find relevant memories related to your current work."
      },
      {
        "line": 21,
        "token": "automatically",
        "context": "3. **Smart Filtering**: I'll automatically filter results to show the most relevant memories first, considering:"
      },
      {
        "line": 22,
        "token": "relevance",
        "context": "- Temporal relevance to your query"
      },
      {
        "line": 23,
        "token": "directory",
        "context": "- Project and directory context matching"
      },
      {
        "line": 24,
        "token": "similarity",
        "context": "- Semantic similarity to current work"
      },
      {
        "line": 26,
        "token": "format",
        "context": "4. **Present Results**: I'll format the retrieved memories with clear context about when they were created and why they're relevant."
      },
      {
        "line": 39,
        "token": "connect",
        "context": "I'll connect to your MCP Memory Service at `https://memory.local:8443/` and use its API endpoints. The recall process involves:"
      },
      {
        "line": 41,
        "token": "natural",
        "context": "1. **Query Processing**: Parse the natural language time expression and extract context clues"
      },
      {
        "line": 42,
        "token": "appropriate",
        "context": "2. **Memory Retrieval**: Use the appropriate API endpoints:"
      },
      {
        "line": 43,
        "token": "language",
        "context": "- `POST /api/search/by-time` - Natural language time-based queries"
      },
      {
        "line": 44,
        "token": "search",
        "context": "- `POST /api/search` - Semantic search for context-based recall"
      },
      {
        "line": 45,
        "token": "memories",
        "context": "- `GET /api/memories` - List memories with pagination and filtering"
      },
      {
        "line": 46,
        "token": "hash",
        "context": "- `GET /api/memories/{hash}` - Retrieve specific memory by hash"
      },
      {
        "line": 47,
        "token": "results",
        "context": "3. **Context Matching**: Filter results based on current project and directory context"
      },
      {
        "line": 48,
        "token": "similarity",
        "context": "4. **Relevance Scoring**: Use similarity scores from the API responses"
      },
      {
        "line": 49,
        "token": "memories",
        "context": "5. **Result Presentation**: Format memories with timestamps, tags, and relevance context"
      },
      {
        "line": 51,
        "token": "requests",
        "context": "All requests use curl with `-k` flag for HTTPS and proper JSON formatting."
      },
      {
        "line": 53,
        "token": "each",
        "context": "For each recalled memory, I'll show:"
      },
      {
        "line": 54,
        "token": "actual",
        "context": "- **Content**: The actual memory content"
      },
      {
        "line": 55,
        "token": "memory",
        "context": "- **Created**: When the memory was stored"
      },
      {
        "line": 56,
        "token": "tags",
        "context": "- **Tags**: Associated tags and categories"
      },
      {
        "line": 57,
        "token": "session",
        "context": "- **Context**: Project and session context when stored"
      },
      {
        "line": 58,
        "token": "memory",
        "context": "- **Relevance**: Why this memory matches your query"
      },
      {
        "line": 62,
        "token": "yesterday",
        "context": "- **Relative**: \"yesterday\", \"last week\", \"two days ago\", \"this month\""
      },
      {
        "line": 63,
        "token": "last",
        "context": "- **Seasonal**: \"last summer\", \"this winter\", \"spring 2024\""
      },
      {
        "line": 65,
        "token": "expressions",
        "context": "**Note**: Some expressions like \"last hour\" may not be supported by the time parser. Standard expressions like \"today\", \"yesterday\", \"last week\" work reliably."
      },
      {
        "line": 66,
        "token": "before",
        "context": "- **Event-based**: \"before the refactor\", \"since we switched to SQLite\", \"during the testing phase\""
      },
      {
        "line": 67,
        "token": "last",
        "context": "- **Specific**: \"January 15th\", \"last Tuesday morning\", \"end of last month\""
      },
      {
        "line": 71,
        "token": "query",
        "context": "- `$ARGUMENTS` - The time-based query, with optional flags:"
      },
      {
        "line": 72,
        "token": "limit",
        "context": "- `--limit N` - Maximum number of memories to retrieve (default: 10)"
      },
      {
        "line": 73,
        "token": "project",
        "context": "- `--project \"name\"` - Filter by specific project"
      },
      {
        "line": 74,
        "token": "tags",
        "context": "- `--tags \"tag1,tag2\"` - Additional tag filtering"
      },
      {
        "line": 75,
        "token": "type",
        "context": "- `--type \"note|decision|task\"` - Filter by memory type"
      },
      {
        "line": 76,
        "token": "full",
        "context": "- `--include-context` - Show full session context for each memory"
      },
      {
        "line": 78,
        "token": "memories",
        "context": "If no memories are found for the specified time period, I'll suggest broadening the search or checking if the MCP Memory Service contains data for that timefram"
      }
    ],
    "structure_diff": {
      "heading": [
        6,
        7
      ]
    }
  },
  {
    "english": "claude_commands/memory-search.md",
    "chinese": "claude_commands/memory-search_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "memory-search.md",
        "context": "# memory-search.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 10,
        "token": "help",
        "context": "I'll help you search through your stored memories using tags, content keywords, and semantic similarity. This command is perfect for finding specific informatio"
      },
      {
        "line": 14,
        "token": "search",
        "context": "1. **Tag-Based Search**: I'll search for memories associated with specific tags, supporting both exact and partial tag matching."
      },
      {
        "line": 16,
        "token": "perform",
        "context": "2. **Content Search**: I'll perform semantic search across memory content using the same embedding model used for storage."
      },
      {
        "line": 18,
        "token": "support",
        "context": "3. **Combined Queries**: I'll support complex searches combining tags, content, and metadata filters."
      },
      {
        "line": 20,
        "token": "rank",
        "context": "4. **Smart Ranking**: I'll rank results by relevance, considering both semantic similarity and tag match strength."
      },
      {
        "line": 22,
        "token": "highlight",
        "context": "5. **Context Integration**: I'll highlight how found memories relate to your current project and session."
      },
      {
        "line": 35,
        "token": "connect",
        "context": "I'll connect to your MCP Memory Service at `https://memory.local:8443/` and use its search API endpoints:"
      },
      {
        "line": 37,
        "token": "your",
        "context": "1. **Query Processing**: Parse your search criteria (tags, content, filters)"
      },
      {
        "line": 38,
        "token": "appropriate",
        "context": "2. **Search Execution**: Use appropriate API endpoints:"
      },
      {
        "line": 39,
        "token": "similarity",
        "context": "- `POST /api/search` - Semantic similarity search"
      },
      {
        "line": 40,
        "token": "search",
        "context": "- `POST /api/search/by-tag` - Tag-based search (AND/OR matching)"
      },
      {
        "line": 41,
        "token": "natural",
        "context": "- `POST /api/search/by-time` - Time-based natural language queries"
      },
      {
        "line": 42,
        "token": "hash",
        "context": "- `GET /api/search/similar/{hash}` - Find similar memories"
      },
      {
        "line": 43,
        "token": "search",
        "context": "3. **Result Aggregation**: Process search responses with similarity scores"
      },
      {
        "line": 44,
        "token": "returned",
        "context": "4. **Relevance Scoring**: Use returned similarity scores and match reasons"
      },
      {
        "line": 45,
        "token": "why",
        "context": "5. **Context Highlighting**: Show why each result matches your query"
      },
      {
        "line": 47,
        "token": "requests",
        "context": "All requests use curl with `-k` flag for HTTPS and proper JSON formatting."
      },
      {
        "line": 49,
        "token": "each",
        "context": "For each search result, I'll display:"
      },
      {
        "line": 50,
        "token": "memory",
        "context": "- **Content**: The memory content with search terms highlighted"
      },
      {
        "line": 51,
        "token": "associated",
        "context": "- **Tags**: All associated tags (with matching tags emphasized)"
      },
      {
        "line": 52,
        "token": "closely",
        "context": "- **Relevance Score**: How closely the memory matches your query"
      },
      {
        "line": 53,
        "token": "memory",
        "context": "- **Created Date**: When the memory was stored"
      },
      {
        "line": 54,
        "token": "project",
        "context": "- **Project Context**: Associated project and file context"
      },
      {
        "line": 55,
        "token": "note",
        "context": "- **Memory Type**: Classification (note, decision, task, etc.)"
      },
      {
        "line": 60,
        "token": "tags",
        "context": "- **Exact**: `--tags \"architecture\"` - memories with exact tag match"
      },
      {
        "line": 61,
        "token": "tags",
        "context": "- **Multiple**: `--tags \"database,performance\"` - memories with any of these tags"
      },
      {
        "line": 62,
        "token": "tags",
        "context": "- **Machine Source**: `--tags \"source:machine-name\"` - memories from specific machine"
      },
      {
        "line": 63,
        "token": "tags",
        "context": "- **Partial**: `--tags \"*arch*\"` - memories with tags containing \"arch\""
      },
      {
        "line": 66,
        "token": "similarity",
        "context": "- **Semantic**: Content-based similarity using embeddings"
      },
      {
        "line": 67,
        "token": "text",
        "context": "- **Keyword**: Simple text matching within memory content"
      },
      {
        "line": 68,
        "token": "semantic",
        "context": "- **Combined**: Both semantic and keyword matching"
      },
      {
        "line": 71,
        "token": "project",
        "context": "- **Project**: `--project \"name\"` - memories from specific project"
      },
      {
        "line": 72,
        "token": "type",
        "context": "- **Type**: `--type \"decision\"` - memories of specific type"
      },
      {
        "line": 73,
        "token": "since",
        "context": "- **Date Range**: `--since \"last week\"` - memories within time range"
      },
      {
        "line": 74,
        "token": "author",
        "context": "- **Author**: `--author \"session\"` - memories from specific session"
      },
      {
        "line": 78,
        "token": "search",
        "context": "- `$ARGUMENTS` - The search query (content or primary search terms)"
      },
      {
        "line": 79,
        "token": "tags",
        "context": "- `--tags \"tag1,tag2\"` - Search by specific tags"
      },
      {
        "line": 80,
        "token": "content",
        "context": "- `--content \"text\"` - Explicit content search terms"
      },
      {
        "line": 81,
        "token": "project",
        "context": "- `--project \"name\"` - Filter by project name"
      },
      {
        "line": 82,
        "token": "type",
        "context": "- `--type \"note|decision|task|reference\"` - Filter by memory type"
      },
      {
        "line": 83,
        "token": "limit",
        "context": "- `--limit N` - Maximum results to return (default: 20)"
      },
      {
        "line": 84,
        "token": "relevance",
        "context": "- `--min-score 0.X` - Minimum relevance score threshold"
      },
      {
        "line": 85,
        "token": "full",
        "context": "- `--include-metadata` - Show full metadata for each result"
      },
      {
        "line": 86,
        "token": "export",
        "context": "- `--export` - Export results to a file for review"
      },
      {
        "line": 90,
        "token": "memories",
        "context": "- **Machine Source Tracking**: Search for memories by originating machine"
      },
      {
        "line": 91,
        "token": "typos",
        "context": "- **Fuzzy Matching**: Handle typos and variations in search terms"
      },
      {
        "line": 92,
        "token": "related",
        "context": "- **Context Expansion**: Find related memories based on current project context"
      },
      {
        "line": 93,
        "token": "recent",
        "context": "- **Search History**: Remember recent searches for quick re-execution"
      },
      {
        "line": 94,
        "token": "results",
        "context": "- **Result Grouping**: Group results by tags, projects, or time periods"
      },
      {
        "line": 96,
        "token": "results",
        "context": "If no results are found, I'll suggest alternative search terms, check for typos, or recommend broadening the search criteria. I'll also provide statistics about"
      }
    ],
    "structure_diff": {
      "heading": [
        10,
        11
      ]
    }
  },
  {
    "english": "claude_commands/memory-store.md",
    "chinese": "claude_commands/memory-store_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "memory-store.md",
        "context": "# memory-store.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 10,
        "token": "help",
        "context": "I'll help you store information in your MCP Memory Service with proper context and tagging. This command captures the current session context and stores it as a"
      },
      {
        "line": 14,
        "token": "analyze",
        "context": "1. **Detect Current Context**: I'll analyze the current working directory, recent files, and conversation context to understand what we're working on."
      },
      {
        "line": 16,
        "token": "take",
        "context": "2. **Capture Memory Content**: I'll take the provided information or current session summary and prepare it for storage."
      },
      {
        "line": 18,
        "token": "automatically",
        "context": "3. **Add Smart Tags**: I'll automatically generate relevant tags based on:"
      },
      {
        "line": 19,
        "token": "hostname",
        "context": "- Machine hostname (source identifier)"
      },
      {
        "line": 20,
        "token": "project",
        "context": "- Current project directory name"
      },
      {
        "line": 21,
        "token": "languages",
        "context": "- Programming languages detected"
      },
      {
        "line": 22,
        "token": "types",
        "context": "- File types and patterns"
      },
      {
        "line": 23,
        "token": "explicit",
        "context": "- Any explicit tags you provide"
      },
      {
        "line": 25,
        "token": "include",
        "context": "4. **Store with Metadata**: I'll include useful metadata like:"
      },
      {
        "line": 26,
        "token": "hostname",
        "context": "- Machine hostname for source tracking"
      },
      {
        "line": 27,
        "token": "session",
        "context": "- Timestamp and session context"
      },
      {
        "line": 28,
        "token": "path",
        "context": "- Project path and git repository info"
      },
      {
        "line": 29,
        "token": "associations",
        "context": "- File associations and dependencies"
      },
      {
        "line": 41,
        "token": "use",
        "context": "I'll use a **hybrid remote-first approach** with local fallback for reliability:"
      },
      {
        "line": 44,
        "token": "remote",
        "context": "- **Try remote first**: `https://narrowbox.local:8443/api/memories`"
      },
      {
        "line": 45,
        "token": "sync",
        "context": "- **Real-time sync**: Changes immediately available across all clients"
      },
      {
        "line": 46,
        "token": "source",
        "context": "- **Single source of truth**: Consolidated database on remote server"
      },
      {
        "line": 49,
        "token": "remote",
        "context": "- **If remote fails**: Store locally in staging database for later sync"
      },
      {
        "line": 50,
        "token": "capability",
        "context": "- **Offline capability**: Continue working when remote is unreachable"
      },
      {
        "line": 51,
        "token": "pushed",
        "context": "- **Auto-sync**: Changes pushed to remote when connectivity returns"
      },
      {
        "line": 61,
        "token": "content",
        "context": "The content will be stored with automatic context detection:"
      },
      {
        "line": 62,
        "token": "automatically",
        "context": "- **Machine Context**: Hostname automatically added as tag (e.g., \"source:your-machine-name\")"
      },
      {
        "line": 63,
        "token": "directory",
        "context": "- **Project Context**: Current directory, git repository, recent commits"
      },
      {
        "line": 64,
        "token": "conversation",
        "context": "- **Session Context**: Current conversation topics and decisions"
      },
      {
        "line": 65,
        "token": "language",
        "context": "- **Technical Context**: Programming language, frameworks, and tools in use"
      },
      {
        "line": 66,
        "token": "time",
        "context": "- **Temporal Context**: Date, time, and relationship to recent activities"
      },
      {
        "line": 69,
        "token": "https",
        "context": "- **Primary API**: `https://narrowbox.local:8443/api/memories`"
      },
      {
        "line": 70,
        "token": "status",
        "context": "- **Sync Status**: Use `./sync/memory_sync.sh status` to check pending changes"
      },
      {
        "line": 71,
        "token": "sync",
        "context": "- **Manual Sync**: Use `./sync/memory_sync.sh sync` for full synchronization"
      },
      {
        "line": 73,
        "token": "use",
        "context": "I'll use the correct curl syntax with `-k` flag for HTTPS, proper JSON payload formatting, and automatic client hostname detection using the `X-Client-Hostname`"
      },
      {
        "line": 77,
        "token": "content",
        "context": "- `$ARGUMENTS` - The content to store as memory, or additional flags:"
      },
      {
        "line": 78,
        "token": "tags",
        "context": "- `--tags \"tag1,tag2\"` - Explicit tags to add"
      },
      {
        "line": 79,
        "token": "type",
        "context": "- `--type \"note|decision|task|reference\"` - Memory type classification"
      },
      {
        "line": 80,
        "token": "project",
        "context": "- `--project \"name\"` - Override project name detection"
      },
      {
        "line": 81,
        "token": "private",
        "context": "- `--private` - Mark as private/sensitive content"
      },
      {
        "line": 83,
        "token": "store",
        "context": "I'll store the memory automatically without asking for confirmation. The memory will be saved immediately using proper JSON formatting with the curl command. Yo"
      }
    ],
    "structure_diff": {
      "heading": [
        9,
        10
      ]
    }
  },
  {
    "english": "claude_commands/session-start.md",
    "chinese": "claude_commands/session-start_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "session-start.md",
        "context": "# session-start.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 3,
        "token": "workaround",
        "context": "è¯´æ˜ /session-start å‘½ä»¤ï¼šæ‰‹åŠ¨åˆå§‹åŒ–ä¼šè¯ï¼ŒåŠ è½½è®°å¿†ä¸Šä¸‹æ–‡ï¼ˆå« Windows workaroundï¼‰ã€‚"
      },
      {
        "line": 10,
        "token": "memory",
        "context": "Run the session-start memory awareness hook manually to display relevant memories, project context, and git analysis."
      },
      {
        "line": 12,
        "token": "does",
        "context": "## What this does:"
      },
      {
        "line": 14,
        "token": "hook",
        "context": "Executes the session-start.js hook to:"
      },
      {
        "line": 15,
        "token": "current",
        "context": "1. **Load Project Context**: Detect current project and framework"
      },
      {
        "line": 16,
        "token": "recent",
        "context": "2. **Analyze Git History**: Review recent commits and changes"
      },
      {
        "line": 17,
        "token": "memories",
        "context": "3. **Retrieve Relevant Memories**: Find memories related to current project"
      },
      {
        "line": 18,
        "token": "categorized",
        "context": "4. **Display Memory Context**: Show categorized memories:"
      },
      {
        "line": 31,
        "token": "command",
        "context": "This command is specifically designed as a **Windows workaround** for the SessionStart hook bug (#160)."
      },
      {
        "line": 33,
        "token": "hooks",
        "context": "On Windows, SessionStart hooks cause Claude Code to hang indefinitely. This slash command provides the same functionality but can be triggered manually when you"
      },
      {
        "line": 35,
        "token": "all",
        "context": "**Works on all platforms**: Windows, macOS, Linux"
      },
      {
        "line": 37,
        "token": "use",
        "context": "## When to use:"
      },
      {
        "line": 39,
        "token": "start",
        "context": "- At the start of each coding session"
      },
      {
        "line": 40,
        "token": "switching",
        "context": "- When switching projects or contexts"
      },
      {
        "line": 41,
        "token": "compacting",
        "context": "- After compacting conversations to refresh memory context"
      },
      {
        "line": 42,
        "token": "you",
        "context": "- When you need to see what memories are available"
      },
      {
        "line": 44,
        "token": "you",
        "context": "## What you'll see:"
      },
      {
        "line": 69,
        "token": "hook",
        "context": "Your UserPromptSubmit hook already runs automatically and retrieves memories when appropriate patterns are detected. This command is for when you want to **expl"
      },
      {
        "line": 73,
        "token": "node",
        "context": "- Runs: `node ~/.claude/hooks/core/session-start.js`"
      },
      {
        "line": 74,
        "token": "HTTP",
        "context": "- HTTP endpoint: http://127.0.0.1:8000"
      },
      {
        "line": 75,
        "token": "HTTP",
        "context": "- Protocol: HTTP (MCP fallback if HTTP unavailable)"
      },
      {
        "line": 76,
        "token": "seconds",
        "context": "- Performance: <2 seconds typical execution time"
      },
      {
        "line": 80,
        "token": "not",
        "context": "### Command not found"
      },
      {
        "line": 81,
        "token": "hooks",
        "context": "- Ensure hooks are installed: `ls ~/.claude/hooks/core/session-start.js`"
      },
      {
        "line": 82,
        "token": "python",
        "context": "- Reinstall: `cd claude-hooks && python install_hooks.py --basic`"
      },
      {
        "line": 84,
        "token": "memories",
        "context": "### No memories displayed"
      },
      {
        "line": 85,
        "token": "HTTP",
        "context": "- Check HTTP server is running: `curl http://127.0.0.1:8000/api/health`"
      },
      {
        "line": 86,
        "token": "hooks",
        "context": "- Verify hooks config: `cat ~/.claude/hooks/config.json`"
      },
      {
        "line": 87,
        "token": "endpoint",
        "context": "- Check endpoint matches: Should be `http://127.0.0.1:8000`"
      },
      {
        "line": 89,
        "token": "find",
        "context": "### Error: Cannot find module"
      },
      {
        "line": 90,
        "token": "path",
        "context": "- **Windows**: Ensure path is quoted properly in hooks config"
      },
      {
        "line": 91,
        "token": "installed",
        "context": "- Check Node.js installed: `node --version`"
      },
      {
        "line": 92,
        "token": "hook",
        "context": "- Verify hook file exists at expected location"
      },
      {
        "line": 96,
        "token": "hook",
        "context": "- **GitHub Issue**: [#160 - Windows SessionStart hook bug](https://github.com/doobidoo/mcp-memory-service/issues/160)"
      },
      {
        "line": 102,
        "token": "recommended",
        "context": "**For Windows Users**: This is the **recommended workaround** for session initialization until the SessionStart hook bug is fixed in Claude Code core."
      }
    ],
    "structure_diff": {
      "heading": [
        13,
        14
      ]
    }
  },
  {
    "english": "docs/CLAUDE_CODE_QUICK_REFERENCE.md",
    "chinese": "docs/CLAUDE_CODE_QUICK_REFERENCE_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 80,
        "token": "hybrid",
        "context": "| Hybrid â­ | 5ms | ç”Ÿäº§é¦–é€‰ | `MCP_MEMORY_STORAGE_BACKEND=hybrid`"
      },
      {
        "line": 82,
        "token": "cloudflare",
        "context": "| Cloudflare | è§†ç½‘ç»œè€Œå®š | çº¯äº‘é—ç•™ | `=cloudflare`"
      },
      {
        "line": 97,
        "token": "env",
        "context": "## ğŸ”§ ç¯å¢ƒå˜é‡ï¼ˆ`.env`ï¼‰"
      },
      {
        "line": 116,
        "token": "HTTP",
        "context": "### HTTP Server"
      },
      {
        "line": 117,
        "token": "python",
        "context": "- `python scripts/server/check_http_server.py -v`"
      },
      {
        "line": 118,
        "token": "http_server.log",
        "context": "- æŸ¥çœ‹ `@http_server.log`"
      },
      {
        "line": 120,
        "token": "netstat",
        "context": "- `netstat -ano | findstr :8001`"
      },
      {
        "line": 123,
        "token": "python",
        "context": "- `python scripts/validation/diagnose_backend_config.py`"
      },
      {
        "line": 124,
        "token": "env",
        "context": "- æ£€æŸ¥ `.env`"
      },
      {
        "line": 129,
        "token": "python",
        "context": "- `python scripts/sync/sync_memory_backends.py --status`"
      },
      {
        "line": 137,
        "token": "http_server.log",
        "context": "- æŸ¥çœ‹ `http_server.log` ä¸­çš„åŒæ­¥ã€‚"
      },
      {
        "line": 174,
        "token": "https",
        "context": "- Wikiï¼šhttps://github.com/doobidoo/mcp-memory-service/wiki"
      }
    ],
    "structure_diff": {
      "heading": [
        66,
        25
      ],
      "codeblock": [
        22,
        20
      ],
      "tables": [
        24,
        22
      ]
    }
  },
  {
    "english": "docs/DOCUMENTATION_AUDIT.md",
    "chinese": "docs/DOCUMENTATION_AUDIT_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "docs/guides/installation.md",
        "context": "- `docs/guides/installation.md` â€”â€” è¯¦ç»†å®‰è£…æŒ‡å—ï¼ˆ12KBï¼‰ã€‚"
      },
      {
        "line": 11,
        "token": "docs/guides/windows-setup.md",
        "context": "- `docs/guides/windows-setup.md` â€”â€” Windows ä¸“ç”¨æ­¥éª¤ï¼ˆ4KBï¼‰ã€‚"
      },
      {
        "line": 13,
        "token": "docs/sqlite-vec-backend.md",
        "context": "- `docs/sqlite-vec-backend.md` â€”â€” SQLite-vec åç«¯æŒ‡å—ã€‚"
      },
      {
        "line": 23,
        "token": "docs/guides/windows-setup.md",
        "context": "- `docs/guides/windows-setup.md` â€”â€” Windows æŒ‡å—ã€‚"
      },
      {
        "line": 27,
        "token": "HTTP/SSE",
        "context": "- `docs/IMPLEMENTATION_PLAN_HTTP_SSE.md` â€”â€” HTTP/SSE å®æ–½è®¡åˆ’ã€‚"
      },
      {
        "line": 28,
        "token": "docs/guides/claude_integration.md",
        "context": "- `docs/guides/claude_integration.md` â€”â€” Claude Desktop é›†æˆã€‚"
      },
      {
        "line": 29,
        "token": "docs/guides/invocation_guide.md",
        "context": "- `docs/guides/invocation_guide.md` â€”â€” ä½¿ç”¨æ–¹å¼ã€‚"
      },
      {
        "line": 34,
        "token": "docs/guides/migration.md",
        "context": "- `docs/guides/migration.md`ã€‚"
      },
      {
        "line": 35,
        "token": "docs/guides/troubleshooting.md",
        "context": "- `docs/guides/troubleshooting.md`ã€‚"
      },
      {
        "line": 43,
        "token": "HTTP/SSE",
        "context": "4. **HTTP/SSE API æ–‡æ¡£ä¸å®Œæ•´**ï¼šä»…æœ‰å®æ–½è®¡åˆ’ï¼Œç¼ºä¹é¢å‘ç”¨æˆ·çš„ API è¯´æ˜ä¸ç¤ºä¾‹ã€‚"
      },
      {
        "line": 54,
        "token": "docs/platforms/macos-intel-legacy.md",
        "context": "1. `docs/platforms/macos-intel-legacy.md` â€”â€” 2015 MacBook Pro åœºæ™¯ã€‚"
      },
      {
        "line": 55,
        "token": "docs/platforms/macos-modern.md",
        "context": "2. `docs/platforms/macos-modern.md` â€”â€” æ–°æ¬¾ Macã€‚"
      },
      {
        "line": 56,
        "token": "docs/platforms/windows.md",
        "context": "3. `docs/platforms/windows.md` â€”â€” Windows åˆå¹¶æŒ‡å—ã€‚"
      },
      {
        "line": 57,
        "token": "docs/platforms/linux.md",
        "context": "4. `docs/platforms/linux.md` â€”â€” Linux åˆå¹¶æŒ‡å—ã€‚"
      },
      {
        "line": 74,
        "token": "docs/sqlite-vec-backend.md",
        "context": "**ä¼˜ç§€ï¼ˆä¿ç•™/å¢å¼ºï¼‰**ï¼š`MIGRATION_GUIDE.md`ã€`docs/sqlite-vec-backend.md`ã€Homebrew ä¸»æ–‡æ¡£ã€‚"
      },
      {
        "line": 75,
        "token": "docs/guides/installation.md",
        "context": "**éœ€æ”¹è¿›**ï¼š`README.md`ï¼ˆåç«¯é€‰æ‹©ä¸çªå‡ºï¼‰ã€`docs/guides/installation.md`ï¼ˆç¼ºä¹ç¡¬ä»¶ç»´åº¦ï¼‰ã€å¤šä¸ªæ’éšœæ–‡æ¡£é‡å¤ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        21,
        14
      ]
    }
  },
  {
    "english": "docs/HOOK_IMPROVEMENTS.md",
    "chinese": "docs/HOOK_IMPROVEMENTS_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "architecture/decisions",
        "context": "- é˜¶æ®µ 2ï¼šå¸¦å…³é”®æ ‡ç­¾ï¼ˆarchitecture/decisionsï¼‰ã€‚"
      },
      {
        "line": 71,
        "token": "node",
        "context": "è¿è¡Œ `node test-hook.js`ï¼Œå¯éªŒè¯ï¼š"
      }
    ],
    "structure_diff": {
      "heading": [
        16,
        8
      ]
    }
  },
  {
    "english": "docs/IMAGE_RETENTION_POLICY.md",
    "chinese": "docs/IMAGE_RETENTION_POLICY_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "latest",
        "context": "**æ°¸ä¹…ä¿ç•™**ï¼š`latest`ã€`slim`ã€`main`ã€`stable`ã€‚"
      },
      {
        "line": 15,
        "token": "SHA/",
        "context": "**ä¸´æ—¶æ ‡ç­¾**ï¼š`buildcache-*`ï¼ˆ7 å¤©ï¼‰ã€`test-*`/`dev-*`ï¼ˆ30 å¤©ï¼‰ã€SHA/æ— æ ‡ç­¾ï¼ˆ30 å¤©/ç«‹å³åˆ é™¤ï¼‰ã€‚"
      },
      {
        "line": 23,
        "token": "DOCKER_USERNAME/PASSWORD",
        "context": "- **Docker Hub**ï¼šAPI v2 + Python è„šæœ¬ï¼Œéœ€ `DOCKER_USERNAME/PASSWORD`ï¼Œé™é€Ÿ 100 req/6hã€‚"
      },
      {
        "line": 28,
        "token": "CVE",
        "context": "- è‡ªåŠ¨ç§»é™¤æ—§ CVE é•œåƒï¼Œç¼©å°æ”»å‡»é¢ã€‚"
      },
      {
        "line": 32,
        "token": "registry",
        "context": "- æ¯æ¬¡è¿è¡Œè¾“å‡ºï¼šåˆ é™¤/ä¿ç•™æ•°é‡ã€å„ registry çŠ¶æ€ã€ç­–ç•¥æ‘˜è¦ã€‚"
      },
      {
        "line": 45,
        "token": "registry",
        "context": "- 30 å¤©å†…å¯è”ç³» registry æ”¯æŒæ¢å¤ç¼“å­˜ã€‚"
      },
      {
        "line": 46,
        "token": "git",
        "context": "- å¦åˆ™ç”¨å¯¹åº” git tag é‡æ–°æ„å»ºï¼Œæˆ–ä»å¤‡ä»½æ¢å¤ã€‚"
      },
      {
        "line": 47,
        "token": "workflow",
        "context": "- å¦‚éœ€åœç”¨ï¼Œå°† workflow é‡å‘½åæˆ–æ”¹ cron ä¸ºæ— æ•ˆå€¼ã€‚"
      },
      {
        "line": 58,
        "token": "dry",
        "context": "- **ä¿æŠ¤æ ‡ç­¾è¢«åˆ **ï¼šç¡®è®¤å‘½ååŒ¹é…è§„åˆ™ï¼Œå¹¶æŸ¥çœ‹ dry run è¾“å‡ºã€‚"
      },
      {
        "line": 70,
        "token": "inputs",
        "context": "å·¥ä½œæµ inputsï¼š`dry_run`ï¼ˆé»˜è®¤ trueï¼‰ã€`keep_versions`ï¼ˆé»˜è®¤ 5ï¼‰ã€`delete_untagged`ï¼ˆé»˜è®¤ trueï¼‰ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        42,
        14
      ],
      "codeblock": [
        10,
        4
      ],
      "tables": [
        5,
        0
      ]
    }
  },
  {
    "english": "docs/IMPLEMENTATION_PLAN_HTTP_SSE.md",
    "chinese": "docs/IMPLEMENTATION_PLAN_HTTP_SSE_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "HTTP/SSE",
        "context": "# HTTP/SSE + SQLite-vec å®æ–½è®¡åˆ’"
      },
      {
        "line": 5,
        "token": "HTTP/SSE",
        "context": "**èƒŒæ™¯**ï¼šIssue #57 - ä¸º MCP Memory Service å¢åŠ  HTTP/SSE æ¥å£"
      },
      {
        "line": 9,
        "token": "HTTP",
        "context": "åœ¨ä¿ç•™å…¨éƒ¨ MCP èƒ½åŠ›çš„å‰æä¸‹ï¼Œå¼•å…¥ HTTP REST API ä¸ Server-Sent Eventsï¼ˆSSEï¼‰æ¥å£ï¼Œå¹¶ä½¿ç”¨ç°æœ‰çš„ sqlite-vec åç«¯å–ä»£ ChromaDBï¼Œæ‰“é€ è½»é‡ã€æ˜“éƒ¨ç½²ã€é€‚åˆè¾¹ç¼˜ç¯å¢ƒçš„æ–¹æ¡ˆã€‚"
      },
      {
        "line": 13,
        "token": "HTTP/SSE",
        "context": "é€‰æ‹© **HTTP/SSE + sqlite-vec** çš„ç»„åˆï¼ˆè€Œé ChromaDBï¼‰ï¼ŒåŸå› ï¼š"
      },
      {
        "line": 30,
        "token": "HTTP",
        "context": "### é˜¶æ®µ 2ï¼šHTTPï¼ˆç¬¬ 2 å‘¨ï¼‰"
      },
      {
        "line": 40,
        "token": "events",
        "context": "- [ ] `/events` ç«¯ç‚¹ã€‚"
      },
      {
        "line": 72,
        "token": "stdio",
        "context": "1. MCP æ¨¡å¼ï¼šåŸç”Ÿ stdioï¼ˆä¿æŒä¸å˜ï¼‰ã€‚"
      },
      {
        "line": 73,
        "token": "HTTP",
        "context": "2. HTTP æ¨¡å¼ï¼šFastAPI + SSEã€‚"
      },
      {
        "line": 92,
        "token": "events",
        "context": "- `GET /events`"
      },
      {
        "line": 120,
        "token": "HTTP",
        "context": "- HTTP ç«¯ç‚¹å•æµ‹ã€‚"
      },
      {
        "line": 136,
        "token": "HTTP",
        "context": "- æ–°ç”¨æˆ·ï¼šHTTP æ¨¡å¼é»˜è®¤ sqlite-vecã€‚"
      },
      {
        "line": 143,
        "token": "HTTP/SSE/REST",
        "context": "- ç°ä»£ï¼šHTTP/SSE/RESTã€‚"
      },
      {
        "line": 154,
        "token": "HTTP/SSE",
        "context": "- HTTP/SSE æ»¡è¶³æ€§èƒ½ç›®æ ‡ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        23,
        21
      ]
    }
  },
  {
    "english": "docs/LM_STUDIO_COMPATIBILITY.md",
    "chinese": "docs/LM_STUDIO_COMPATIBILITY_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 43,
        "token": "patch",
        "context": "- Monkey patch `ClientNotification.model_validate`ã€‚"
      },
      {
        "line": 47,
        "token": "session",
        "context": "- å¦‚æœ‰å¿…è¦ï¼Œå¯é€€è€Œä¿®æ”¹ session æ¥æ”¶å¾ªç¯ã€‚"
      },
      {
        "line": 67,
        "token": "issue",
        "context": "3. é™„å®Œæ•´æ—¥å¿—å¼€ issue åé¦ˆã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        13,
        9
      ],
      "codeblock": [
        8,
        6
      ]
    }
  },
  {
    "english": "docs/README.md",
    "chinese": "docs/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "installation/master-guide.md",
        "context": "- **æ–°ç”¨æˆ·**ï¼šé˜…è¯» [å®‰è£…æ€»è§ˆ](installation/master-guide.md)"
      },
      {
        "line": 8,
        "token": "integration/multi-client.md",
        "context": "- **å¤šå®¢æˆ·ç«¯åœºæ™¯**ï¼šå‚è§ [å¤šå®¢æˆ·ç«¯é›†æˆ](integration/multi-client.md)"
      },
      {
        "line": 9,
        "token": "deployment/docker.md",
        "context": "- **Docker ç”¨æˆ·**ï¼šæŸ¥çœ‹ [Docker éƒ¨ç½²](deployment/docker.md)"
      },
      {
        "line": 10,
        "token": "troubleshooting/general.md",
        "context": "- **ç–‘éš¾æ’æŸ¥**ï¼šè®¿é—® [å¸¸è§„æ•…éšœæ’é™¤](troubleshooting/general.md)"
      },
      {
        "line": 16,
        "token": "installation/master-guide.md",
        "context": "- **[å®‰è£…æ€»è§ˆ](installation/master-guide.md)**ï¼šè¦†ç›–æ‰€æœ‰å¹³å°çš„å®‰è£…æ­¥éª¤ã€‚"
      },
      {
        "line": 18,
        "token": "platforms/macos-intel.md",
        "context": "- [macOS Intel](platforms/macos-intel.md)ï¼šå« 2013-2017 æ—§æœºå‹æ³¨æ„äº‹é¡¹ã€‚"
      },
      {
        "line": 19,
        "token": "platforms/windows.md",
        "context": "- [Windows](platforms/windows.md)ï¼šæ”¯æŒ CUDA / DirectMLã€‚"
      },
      {
        "line": 20,
        "token": "platforms/ubuntu.md",
        "context": "- [Ubuntu](platforms/ubuntu.md)ï¼šæ¡Œé¢ä¸æœåŠ¡å™¨è®¾ç½®ã€‚"
      },
      {
        "line": 24,
        "token": "integration/multi-client.md",
        "context": "- **[å¤šå®¢æˆ·ç«¯å…±äº«](integration/multi-client.md)**ï¼šå¤šåº”ç”¨å…±äº«è®°å¿†ã€‚"
      },
      {
        "line": 25,
        "token": "integration/homebrew.md",
        "context": "- **[Homebrew é›†æˆ](integration/homebrew.md)**ï¼šä½¿ç”¨ç³»ç»Ÿçº§ PyTorchã€‚"
      },
      {
        "line": 26,
        "token": "guides/claude_integration.md",
        "context": "- **[Claude Desktop æŒ‡å—](guides/claude_integration.md)**ã€‚"
      },
      {
        "line": 27,
        "token": "ide-compatability.md",
        "context": "- **[IDE å…¼å®¹æ€§](ide-compatability.md)**ï¼šVS Codeã€Continue ç­‰ã€‚"
      },
      {
        "line": 31,
        "token": "deployment/docker.md",
        "context": "- **[Docker éƒ¨ç½²](deployment/docker.md)**ï¼šå¤šç§å®¹å™¨æ–¹æ¡ˆã€‚"
      },
      {
        "line": 32,
        "token": "deployment/multi-client-server.md",
        "context": "- **[æœåŠ¡å™¨éƒ¨ç½²](deployment/multi-client-server.md)**ï¼šç”Ÿäº§çº§æ¶æ„ã€‚"
      },
      {
        "line": 33,
        "token": "glama-deployment.md",
        "context": "- **[äº‘å¹³å°éƒ¨ç½²](glama-deployment.md)**ã€‚"
      },
      {
        "line": 37,
        "token": "guides/mcp-enhancements.md",
        "context": "- **[MCP åè®®å¢å¼º](guides/mcp-enhancements.md)**ï¼šèµ„æºã€æç¤ºã€è¿›åº¦è·Ÿè¸ªã€‚"
      },
      {
        "line": 39,
        "token": "guides/migration.md",
        "context": "- **[è¿ç§»æŒ‡å—](guides/migration.md)**ã€‚"
      },
      {
        "line": 40,
        "token": "guides/scripts.md",
        "context": "- **[è„šæœ¬å‚è€ƒ](guides/scripts.md)**ï¼šè¾…åŠ©å·¥å…·ã€‚"
      },
      {
        "line": 41,
        "token": "guides/invocation_guide.md",
        "context": "- **[è°ƒç”¨æ–¹å¼](guides/invocation_guide.md)**ã€‚"
      },
      {
        "line": 45,
        "token": "tutorials/data-analysis.md",
        "context": "- **[æ•°æ®åˆ†æç¤ºä¾‹](tutorials/data-analysis.md)**ã€‚"
      },
      {
        "line": 46,
        "token": "tutorials/advanced-techniques.md",
        "context": "- **[é«˜çº§æŠ€å·§](tutorials/advanced-techniques.md)**ã€‚"
      },
      {
        "line": 47,
        "token": "tutorials/demo-session-walkthrough.md",
        "context": "- **[æ¼”ç¤ºä¼šè¯](tutorials/demo-session-walkthrough.md)**ã€‚"
      },
      {
        "line": 51,
        "token": "maintenance/memory-maintenance.md",
        "context": "- **[è®°å¿†ç»´æŠ¤](maintenance/memory-maintenance.md)**ï¼šæ¸…ç†ã€ä¼˜åŒ–ã€å¤‡ä»½ã€‚"
      },
      {
        "line": 52,
        "token": "implementation/health_checks.md",
        "context": "- **[å¥åº·æ£€æŸ¥](implementation/health_checks.md)**ã€‚"
      },
      {
        "line": 53,
        "token": "implementation/performance.md",
        "context": "- **[æ€§èƒ½è°ƒä¼˜](implementation/performance.md)**ã€‚"
      },
      {
        "line": 57,
        "token": "api/memory-metadata-api.md",
        "context": "- **[Memory Metadata API](api/memory-metadata-api.md)**ã€‚"
      },
      {
        "line": 58,
        "token": "api/tag-standardization.md",
        "context": "- **[æ ‡ç­¾æ ‡å‡†åŒ–](api/tag-standardization.md)**ã€‚"
      },
      {
        "line": 59,
        "token": "HTTP",
        "context": "- **[HTTP / SSE API](IMPLEMENTATION_PLAN_HTTP_SSE.md)**ã€‚"
      },
      {
        "line": 63,
        "token": "technical/development.md",
        "context": "- **[å¼€å‘æŒ‡å—](technical/development.md)**ï¼šè´¡çŒ®æµç¨‹ã€‚"
      },
      {
        "line": 64,
        "token": "development/multi-client-architecture.md",
        "context": "- **[æ¶æ„æ¦‚è§ˆ](development/multi-client-architecture.md)**ã€‚"
      },
      {
        "line": 66,
        "token": "technical/memory-migration.md",
        "context": "- [è®°å¿†è¿ç§»](technical/memory-migration.md)"
      },
      {
        "line": 67,
        "token": "technical/tag-storage.md",
        "context": "- [æ ‡ç­¾å­˜å‚¨](technical/tag-storage.md)"
      },
      {
        "line": 71,
        "token": "troubleshooting/general.md",
        "context": "- **[é€šç”¨é—®é¢˜](troubleshooting/general.md)**ã€‚"
      },
      {
        "line": 72,
        "token": "deployment/docker.md",
        "context": "- **[Docker æ’éšœ](deployment/docker.md#troubleshooting)**ã€‚"
      },
      {
        "line": 93,
        "token": "HTTP/SSE",
        "context": "- âœ… å®Œæ•´éƒ¨ç½²æ–¹æ¡ˆï¼ˆHTTP/SSEã€è®¤è¯ã€ç›‘æ§ï¼‰ã€‚"
      },
      {
        "line": 101,
        "token": "HTTP/SSE",
        "context": "- **HTTP/SSE API**ï¼šå®æ—¶å¤šå®¢æˆ·ç«¯é€šä¿¡ã€‚"
      },
      {
        "line": 105,
        "token": "installation/master-guide.md",
        "context": "- å®‰è£…é—®é¢˜ï¼šå‚è§ [å®‰è£…æŒ‡å—](installation/master-guide.md)ã€‚"
      },
      {
        "line": 106,
        "token": "troubleshooting/general.md",
        "context": "- é…ç½®ç–‘é—®ï¼šæŸ¥çœ‹ [æ•…éšœæ’é™¤](troubleshooting/general.md)ã€‚"
      },
      {
        "line": 107,
        "token": "integration/multi-client.md",
        "context": "- å¤šå®¢æˆ·ç«¯ï¼šé˜…è¯» [å¤šå®¢æˆ·ç«¯æŒ‡å—](integration/multi-client.md)ã€‚"
      },
      {
        "line": 108,
        "token": "implementation/performance.md",
        "context": "- æ€§èƒ½ç“¶é¢ˆï¼šå‚è€ƒ [æ€§èƒ½è°ƒä¼˜](implementation/performance.md)ã€‚"
      },
      {
        "line": 112,
        "token": "bug",
        "context": "- **GitHub Issues**ï¼šæäº¤ bug / featureã€‚"
      },
      {
        "line": 118,
        "token": "technical/development.md",
        "context": "è¯¦è§ [å¼€å‘æŒ‡å—](technical/development.md)ï¼šå¼€å‘ç¯å¢ƒã€æµ‹è¯•ã€PR æµç¨‹ã€ç¼–ç è§„èŒƒã€‚"
      },
      {
        "line": 124,
        "token": "HTTP/SSE",
        "context": "- **v0.2.1**ï¼šDocker ä¿®å¤ã€HTTP/SSE å¢å¼ºã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        22,
        21
      ]
    }
  },
  {
    "english": "docs/ROADMAP.md",
    "chinese": "docs/ROADMAP_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 24,
        "token": "safe_cloudflare_update.sh",
        "context": "- Hybridï¼šé™ä½åŒå†™å†²çªä¸å»¶è¿Ÿï¼›æä¾› `safe_cloudflare_update.sh` é˜²æ¼‚ç§»è„šæœ¬ã€‚"
      },
      {
        "line": 33,
        "token": "pyscn",
        "context": "- `pyscn` é™æ€åˆ†æç®¡é“ï¼ˆæŒ‰éœ€ï¼‰ã€‚"
      },
      {
        "line": 34,
        "token": "lint",
        "context": "- PR è´¨é‡é—¨ï¼šlint + å•æµ‹ + å…³é”®è·¯å¾„é›†æˆæµ‹è¯•ã€‚"
      },
      {
        "line": 38,
        "token": "https",
        "context": "- ææ¡ˆ/é—®é¢˜ï¼šhttps://github.com/doobidoo/mcp-memory-service/issues"
      },
      {
        "line": 39,
        "token": "priority/critical",
        "context": "- ç´§æ€¥ä¿®å¤ï¼šæ ‡è®° `priority/critical` å¹¶ @maintainersã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        3,
        7
      ]
    }
  },
  {
    "english": "docs/amp-cli-bridge.md",
    "chinese": "docs/amp-cli-bridge_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "amp",
        "context": "**ç›®æ ‡**ï¼šé€šè¿‡æ–‡ä»¶é˜Ÿåˆ—ï¼Œè®© Claude Code è°ƒç”¨ Amp CLIï¼ˆç ”ç©¶/ä»£ç åˆ†æ/æœç´¢ï¼‰è€Œä¸æ¶ˆè€— Claude Code é¢åº¦ï¼Œä»…éœ€æ‰‹åŠ¨æ‰§è¡Œ `amp @prompt` å‘½ä»¤ã€‚"
      },
      {
        "line": 69,
        "token": "backend",
        "context": "- æ¶æ„åˆ†æï¼šStorage backend è®¾è®¡ã€‚"
      },
      {
        "line": 81,
        "token": "amp",
        "context": "- **Amp é¢åº¦/é‰´æƒ**ï¼šç›´æ¥è¿è¡Œ `amp`ï¼Œæˆ–æ£€æŸ¥å®˜ç½‘é¢åº¦ã€‚"
      },
      {
        "line": 91,
        "token": "amp",
        "context": "- éœ€æ‰‹åŠ¨è¿è¡Œ `amp @...`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        19,
        11
      ],
      "codeblock": [
        22,
        16
      ]
    }
  },
  {
    "english": "docs/api/PHASE1_IMPLEMENTATION_SUMMARY.md",
    "chinese": "docs/api/PHASE1_IMPLEMENTATION_SUMMARY_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 19,
        "token": "search",
        "context": "| searchï¼ˆ5 æ¡ï¼‰ | 2,625 tokens | 385 tokens | **85.3%** | âœ… éªŒè¯é€šè¿‡ |"
      },
      {
        "line": 20,
        "token": "store",
        "context": "| store | 150 tokens | 15 tokens | **90.0%** | âœ… éªŒè¯é€šè¿‡ |"
      },
      {
        "line": 21,
        "token": "health",
        "context": "| health | 125 tokens | 20 tokens | **84.0%** | âœ… éªŒè¯é€šè¿‡ |"
      },
      {
        "line": 22,
        "token": "tokens",
        "context": "| **æ€»ä½“** | **2,900 tokens** | **420 tokens** | **85.5%** | âœ… **è¾¾æˆç›®æ ‡** |"
      },
      {
        "line": 25,
        "token": "tokens",
        "context": "- 10 ç”¨æˆ· Ã— 5 ä¼šè¯/å¤© Ã— 365 å¤© Ã— 6,000 tokens â‰ˆ **1.095 äº¿ tokens/å¹´**"
      },
      {
        "line": 26,
        "token": "tokens",
        "context": "- æŒ‰ $0.15 / ç™¾ä¸‡ tokens è®¡ç®—ï¼š**$16.43 / 10 ç”¨æˆ· / å¹´**"
      },
      {
        "line": 27,
        "token": "tokens/",
        "context": "- 100 ç”¨æˆ·è§„æ¨¡ï¼š**21.9 äº¿ tokens/å¹´** â‰ˆ **$328.50 / å¹´**"
      },
      {
        "line": 59,
        "token": "tokens",
        "context": "- **CompactSearchResult**ï¼šåŒ…å«ç»“æœåˆ—è¡¨ã€æ€»æ•°ä¸åŸæŸ¥è¯¢ï¼Œ5 æ¡ç»“æœçº¦ 385 tokensï¼›"
      },
      {
        "line": 60,
        "token": "tokens",
        "context": "- **CompactHealthInfo**ï¼šä»…æš´éœ²çŠ¶æ€ / æ•°é‡ / åç«¯ä¸‰è¦ç´ ï¼Œâ‰ˆ20 tokensã€‚"
      },
      {
        "line": 64,
        "token": "search",
        "context": "- `search(query, limit, tags)`ï¼šè¯­ä¹‰æ£€ç´¢ï¼Œæ”¯æŒæ ‡ç­¾è¿‡æ»¤ï¼Œ`@sync_wrapper` è‡ªåŠ¨å¤ç”¨è¿æ¥ï¼›"
      },
      {
        "line": 65,
        "token": "store",
        "context": "- `store(content, tags, memory_type)`ï¼šæœ€å°å‚æ•°å†™å…¥è®°å¿†ï¼Œè‡ªåŠ¨ç”Ÿæˆ 8 ä½å†…å®¹å“ˆå¸Œå¹¶æ ‡å‡†åŒ–æ ‡ç­¾ï¼›"
      },
      {
        "line": 66,
        "token": "health",
        "context": "- `health()`ï¼šè¿”å›çŠ¶æ€ã€è®°å¿†æ€»æ•°ä¸åç«¯ç±»å‹ï¼Œå®¹é”™å‹å¥½ã€‚"
      },
      {
        "line": 93,
        "token": "search",
        "context": "| searchï¼ˆæš–ï¼‰ | <10ms | 5-10ms | âœ… |"
      },
      {
        "line": 94,
        "token": "store",
        "context": "| storeï¼ˆæš–ï¼‰ | <20ms | 10-20ms | âœ… |"
      },
      {
        "line": 95,
        "token": "health",
        "context": "| healthï¼ˆæš–ï¼‰ | <5ms | â‰ˆ5ms | âœ… |"
      },
      {
        "line": 132,
        "token": "tokens",
        "context": "| CompactMemory Token | â‰ˆ73 tokens | â‰ˆ73 | âœ… |"
      },
      {
        "line": 133,
        "token": "search",
        "context": "| search é™å¹… | â‰¥85% | 85.3% | âœ… |"
      },
      {
        "line": 134,
        "token": "store",
        "context": "| store é™å¹… | â‰¥90% | 90.0% | âœ… |"
      },
      {
        "line": 135,
        "token": "sync",
        "context": "| sync wrapper å¼€é”€ | <10ms | ~5ms | âœ… |"
      },
      {
        "line": 145,
        "token": "tokens",
        "context": "1. **Session Hook è¿ç§»ï¼ˆä¼˜å…ˆï¼‰**ï¼šå°† `session-start.js` æ”¹ä¸ºè°ƒç”¨ä»£ç æ‰§è¡Œæ¥å£ï¼Œå¹¶ä¿ç•™ MCP å›é€€ï¼Œç›®æ ‡å°†å¯åŠ¨ Token ä» 3,600 é™è‡³ 900ï¼ˆå¹´èŠ‚çœ 5,475 ä¸‡ tokensï¼‰ã€‚"
      },
      {
        "line": 146,
        "token": "recall",
        "context": "2. **æ‰©å±•æœç´¢èƒ½åŠ›**ï¼šå®ç° `search_by_tag()`ã€`recall()`ã€`search_iter()`ã€‚"
      },
      {
        "line": 147,
        "token": "delete",
        "context": "3. **è®°å¿†ç®¡ç†æ“ä½œ**ï¼šæä¾› `delete()`ã€`update()`ã€`get_by_hash()` ç­‰æ¥å£ã€‚"
      },
      {
        "line": 179,
        "token": "docs/api/code-execution-interface.md",
        "context": "8. `docs/api/code-execution-interface.md`"
      },
      {
        "line": 194,
        "token": "tokens/",
        "context": "ä¸‹ä¸€æ­¥å³è¿›å…¥ Phase 2ï¼ˆSession Hook è¿ç§»ï¼‰ï¼Œè¿›ä¸€æ­¥é‡Šæ”¾ 1.095 äº¿ tokens/å¹´çš„èŠ‚çœæ½œåŠ›ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        52,
        21
      ],
      "codeblock": [
        4,
        2
      ],
      "tables": [
        14,
        21
      ]
    }
  },
  {
    "english": "docs/api/PHASE2_IMPLEMENTATION_SUMMARY.md",
    "chinese": "docs/api/PHASE2_IMPLEMENTATION_SUMMARY_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "https",
        "context": "- **Issue**ï¼š[ #206 - å®ç° Code Execution æ¥å£ä»¥æå‡ Token æ•ˆç‡](https://github.com/doobidoo/mcp-memory-service/issues/206)"
      },
      {
        "line": 13,
        "token": "tokens",
        "context": "- âœ… **Token å†é™ 75%**ï¼ˆæ¯æ¬¡ä¼šè¯ 3,600 â†’ 900 tokensï¼‰ï¼›"
      },
      {
        "line": 18,
        "token": "tokens/",
        "context": "> **å¹´åº¦å½±å“**ï¼šä¿å®ˆä¼°ç®— 10 ç”¨æˆ·éƒ¨ç½²å¯èŠ‚çœ 4,927.5 ä¸‡ tokens/å¹´ï¼ˆâ‰ˆ $7.39 / å¹´ï¼‰ã€‚"
      },
      {
        "line": 33,
        "token": "tokens",
        "context": "- æ¯æ—¥èŠ‚çœï¼š135,000 tokens"
      },
      {
        "line": 34,
        "token": "tokens",
        "context": "- å¹´åº¦èŠ‚çœï¼š49,275,000 tokens"
      },
      {
        "line": 35,
        "token": "tokens",
        "context": "- æˆæœ¬èŠ‚çœï¼šâ‰ˆ $7.39 / å¹´ï¼ˆæŒ‰ $0.15 / ç™¾ä¸‡ tokensï¼‰"
      },
      {
        "line": 44,
        "token": "import",
        "context": "- æ–°å¢ `queryMemoryServiceViaCode()`ï¼šé€šè¿‡ `python3 -c \"from mcp_memory_service.api import search\"` æŸ¥è¯¢ï¼›"
      },
      {
        "line": 45,
        "token": "fallback",
        "context": "- `queryMemoryService()` ç»Ÿä¸€è°ƒåº¦ Code â†’ MCP fallbackï¼›"
      },
      {
        "line": 98,
        "token": "path",
        "context": "> Warm path (<100ms) å°†åœ¨ Phase 3ï¼ˆå¸¸é©» Python è¿›ç¨‹ï¼‰å®ç°ã€‚"
      },
      {
        "line": 105,
        "token": "null",
        "context": "| æ¨¡å—å¯¼å…¥å¤±è´¥ | Python å¼‚å¸¸ | è¿”å› null | MCP |"
      },
      {
        "line": 106,
        "token": "timeout",
        "context": "| æ‰§è¡Œè¶…æ—¶ | `execSync` timeout | è¿”å› null | MCP |"
      },
      {
        "line": 107,
        "token": "JSON",
        "context": "| JSON è§£æå¤±è´¥ | `JSON.parse` å¼‚å¸¸ | è¿”å› null | MCP |"
      },
      {
        "line": 149,
        "token": "docs/hooks/phase2-code-execution-migration.md",
        "context": "- `docs/hooks/phase2-code-execution-migration.md`ï¼šè¿ç§»æŒ‡å— + æŒ‡æ ‡ï¼›"
      },
      {
        "line": 182,
        "token": "warm",
        "context": "1. **å¸¸é©» Python å®ˆæŠ¤è¿›ç¨‹**ï¼šç›®æ ‡ warm <100msï¼›"
      },
      {
        "line": 183,
        "token": "recall",
        "context": "2. **æ‰©å±• API**ï¼š`search_by_tag`ã€`recall`ã€`update/delete`ï¼›"
      },
      {
        "line": 197,
        "token": "main",
        "context": "> **çŠ¶æ€**ï¼šå·²å‡†å¤‡å¥½åˆå¹¶è¿› `main`ï¼Œä¸‹ä¸€é˜¶æ®µèšç„¦ warm æ€§èƒ½ä¸é«˜çº§ APIã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        39,
        18
      ],
      "codeblock": [
        14,
        4
      ],
      "tables": [
        35,
        27
      ]
    }
  },
  {
    "english": "docs/api/PHASE2_REPORT.md",
    "chinese": "docs/api/PHASE2_REPORT_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "https",
        "context": "- **Issue**ï¼š[ #206 - Code Execution æ¥å£ Token æ•ˆç‡ä¼˜åŒ–](https://github.com/doobidoo/mcp-memory-service/issues/206)"
      },
      {
        "line": 19,
        "token": "main",
        "context": "**çŠ¶æ€**ï¼šâœ… å·²å‡†å¤‡å¥½å‘èµ· PR å¹¶åˆå…¥ `main`ã€‚"
      },
      {
        "line": 32,
        "token": "warm",
        "context": "| æ€§èƒ½ï¼ˆwarmï¼‰ | <500ms | 3.4sï¼ˆcoldï¼‰* | âš ï¸ å¯æ¥å— |"
      },
      {
        "line": 49,
        "token": "tokens",
        "context": "- æ—¥èŠ‚çœ 135,000 tokensï¼›"
      },
      {
        "line": 50,
        "token": "tokens",
        "context": "- å¹´èŠ‚çœ 49,275,000 tokensï¼›"
      },
      {
        "line": 60,
        "token": "fallback",
        "context": "- `queryMemoryService()` æ”¯æŒ Code â†’ MCP fallbackï¼›"
      },
      {
        "line": 71,
        "token": "docs/hooks/phase2-code-execution-migration.md",
        "context": "- `docs/hooks/phase2-code-execution-migration.md`"
      },
      {
        "line": 110,
        "token": "enabled",
        "context": "| é»˜è®¤ï¼ˆæ–°ï¼‰ | enabled=true, fallback=true | Codeâ†’MCP | âœ… |"
      },
      {
        "line": 111,
        "token": "enabled",
        "context": "| æ—§é…ç½® | enabled=false | MCP only | âœ… |"
      },
      {
        "line": 112,
        "token": "enabled",
        "context": "| Code-only | enabled=true, fallback=false | å¤±è´¥å³æŠ¥é”™ | âœ… |"
      },
      {
        "line": 126,
        "token": "cold",
        "context": "| **æ€»è®¡ï¼ˆcoldï¼‰** | <5s | 3.4s | âœ… è¾¾æ ‡ |"
      },
      {
        "line": 127,
        "token": "warm",
        "context": "| **æ€»è®¡ï¼ˆwarmï¼‰** | <500ms | N/A | éœ€ Phase 3 æŒä¹…åŒ–è¿›ç¨‹ |"
      },
      {
        "line": 138,
        "token": "JSON",
        "context": "- **é”™è¯¯çŸ©é˜µ**ï¼ˆPython ä¸å­˜åœ¨ / å¯¼å…¥å¤±è´¥ / è¶…æ—¶ / JSON é”™è¯¯ / å­˜å‚¨æœªåˆå§‹åŒ–ï¼‰å‡å·²éªŒè¯å¹¶å›é€€ MCPã€‚"
      },
      {
        "line": 176,
        "token": "warm",
        "context": "- **é«˜ä¼˜å…ˆçº§**ï¼šå¸¸é©» Python è¿›ç¨‹ï¼ˆwarm <100msï¼‰ã€æ‰©å±•æŸ¥è¯¢/æ›´æ–° APIã€æ‰¹é‡æ“ä½œï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        41,
        18
      ],
      "codeblock": [
        22,
        6
      ],
      "tables": [
        49,
        38
      ]
    }
  },
  {
    "english": "docs/api/code-execution-interface.md",
    "chinese": "docs/api/code-execution-interface_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "https",
        "context": "- **å…³è” Issue**ï¼š[ #206 ](https://github.com/doobidoo/mcp-memory-service/issues/206)"
      },
      {
        "line": 15,
        "token": "search",
        "context": "| searchï¼ˆ5 æ¡ç»“æœï¼‰ | â‰ˆ 2,625 tokens | â‰ˆ 385 tokens | **85%** |"
      },
      {
        "line": 16,
        "token": "store",
        "context": "| store | â‰ˆ 150 tokens | â‰ˆ 15 tokens | **90%** |"
      },
      {
        "line": 17,
        "token": "health",
        "context": "| health | â‰ˆ 125 tokens | â‰ˆ 20 tokens | **84%** |"
      },
      {
        "line": 20,
        "token": "tokens",
        "context": "- 10 åç”¨æˆ· Ã— 5 æ¬¡ä¼šè¯/å¤© Ã— 365 å¤© Ã— 6,000 tokens â‰ˆ 1.095 äº¿ tokens/å¹´"
      },
      {
        "line": 21,
        "token": "tokens",
        "context": "- ä»¥ $0.15 / ç™¾ä¸‡ tokens è®¡ï¼Œçº¦ **$16.43 / 10 ç”¨æˆ· / å¹´**"
      },
      {
        "line": 56,
        "token": "search",
        "context": "#### `search()`"
      },
      {
        "line": 94,
        "token": "store",
        "context": "#### `store()`"
      },
      {
        "line": 127,
        "token": "health",
        "context": "#### `health()`"
      },
      {
        "line": 155,
        "token": "tokens",
        "context": "**Token Costï¼š**â‰ˆ73 tokensï¼ˆå®Œæ•´å¯¹è±¡çº¦ 820 tokensï¼‰"
      },
      {
        "line": 212,
        "token": "limit",
        "context": "- **æ§åˆ¶ limit**ï¼š`limit=3` çº¦ 240 tokensï¼Œ`limit=20` çº¦ 1,470 tokensï¼Œå¯æŒ‰åœºæ™¯å–èˆã€‚"
      },
      {
        "line": 225,
        "token": "search",
        "context": "**Afterï¼š**Python ç›´æ¥è°ƒç”¨ `search('architecture', limit=5)`ï¼ŒToken ä» 2,625 é™è‡³ 385ã€‚"
      },
      {
        "line": 260,
        "token": "recall",
        "context": "- `recall()`"
      },
      {
        "line": 261,
        "token": "delete",
        "context": "- `delete()`"
      },
      {
        "line": 262,
        "token": "update",
        "context": "- `update()`"
      },
      {
        "line": 271,
        "token": "docs/research/code-execution-interface-implementation.md",
        "context": "- `docs/research/code-execution-interface-implementation.md`"
      },
      {
        "line": 272,
        "token": "docs/research/code-execution-interface-summary.md",
        "context": "- `docs/research/code-execution-interface-summary.md`"
      },
      {
        "line": 276,
        "token": "https",
        "context": "- GitHub Issuesï¼šhttps://github.com/doobidoo/mcp-memory-service/issues"
      },
      {
        "line": 277,
        "token": "https",
        "context": "- æ–‡æ¡£ Wikiï¼šhttps://github.com/doobidoo/mcp-memory-service/wiki"
      }
    ],
    "structure_diff": {
      "heading": [
        62,
        36
      ],
      "codeblock": [
        38,
        30
      ]
    }
  },
  {
    "english": "docs/api/memory-metadata-api.md",
    "chinese": "docs/api/memory-metadata-api_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 24,
        "token": "updates",
        "context": "- `updates`ï¼ˆå¿…å¡«ï¼‰ï¼šåŒ…å«è¦ä¿®æ”¹å­—æ®µçš„å­—å…¸ï¼›"
      },
      {
        "line": 28,
        "token": "success",
        "context": "- `success`ï¼šå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºæ˜¯å¦æˆåŠŸï¼›"
      },
      {
        "line": 29,
        "token": "message",
        "context": "- `message`ï¼šæ›´æ–°æ‘˜è¦æˆ–é”™è¯¯ä¿¡æ¯ã€‚"
      },
      {
        "line": 35,
        "token": "tags",
        "context": "1. **tags**ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰"
      },
      {
        "line": 37,
        "token": "tags",
        "context": "- ç¤ºä¾‹ï¼š`\"tags\": [\"important\", \"reference\", \"new-tag\"]`ã€‚"
      },
      {
        "line": 40,
        "token": "reminder",
        "context": "- æ›´æ–°è®°å¿†ç±»å‹ï¼Œç¤ºä¾‹ï¼š`\"memory_type\": \"reminder\"`ã€‚"
      },
      {
        "line": 42,
        "token": "metadata",
        "context": "3. **metadata**ï¼ˆå¯¹è±¡ï¼‰"
      },
      {
        "line": 44,
        "token": "metadata",
        "context": "- ç¤ºä¾‹ï¼š`\"metadata\": {\"priority\": \"high\", \"due_date\": \"2024-01-15\"}`ã€‚"
      },
      {
        "line": 49,
        "token": "priority",
        "context": "- `\"priority\": \"urgent\"`"
      },
      {
        "line": 50,
        "token": "status",
        "context": "- `\"status\": \"active\"`"
      },
      {
        "line": 51,
        "token": "category",
        "context": "- `\"category\": \"work\"`"
      },
      {
        "line": 57,
        "token": "content",
        "context": "- `content`"
      },
      {
        "line": 59,
        "token": "embedding",
        "context": "- `embedding`"
      },
      {
        "line": 60,
        "token": "false",
        "context": "- `created_at` / `created_at_iso`ï¼ˆé™¤é `preserve_timestamps=false`ï¼‰"
      },
      {
        "line": 61,
        "token": "timestamp",
        "context": "- å†…éƒ¨æ—¶é—´æˆ³ï¼ˆ`timestamp`ã€`timestamp_float`ã€`timestamp_str`ï¼‰"
      },
      {
        "line": 116,
        "token": "true",
        "context": "### é»˜è®¤ï¼ˆ`preserve_timestamps=true`ï¼‰"
      },
      {
        "line": 121,
        "token": "false",
        "context": "### é‡ç½®ï¼ˆ`preserve_timestamps=false`ï¼‰"
      },
      {
        "line": 129,
        "token": "upsert",
        "context": "2. **ChromaDB**ï¼ˆ`storage/chroma.py`ï¼‰ï¼šé€šè¿‡é«˜æ•ˆ upsert ä¿ç•™åµŒå…¥ï¼Œå¹¶æ ¡éªŒ/åˆå¹¶å…ƒæ•°æ®ï¼›"
      },
      {
        "line": 154,
        "token": "hash",
        "context": "1. **è®°å¿†ä¸å­˜åœ¨**ï¼š`Memory with hash ... not found`ï¼›"
      },
      {
        "line": 155,
        "token": "updates",
        "context": "2. **updates ä¸æ˜¯å­—å…¸**ï¼›"
      }
    ],
    "structure_diff": {
      "codeblock": [
        18,
        10
      ]
    }
  },
  {
    "english": "docs/api/tag-standardization.md",
    "chinese": "docs/api/tag-standardization_zh-cn.md",
    "status": "ok",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [],
    "structure_diff": {
      "heading": [
        32,
        29
      ]
    }
  },
  {
    "english": "docs/architecture/search-enhancement-spec.md",
    "chinese": "docs/architecture/search-enhancement-spec_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 19,
        "token": "overview",
        "context": "- æ–° RESTï¼š`/api/search/advanced`ã€`/api/search/consolidate`ã€`/api/projects/{id}/overview` ç­‰ï¼›"
      },
      {
        "line": 26,
        "token": "API/MCP",
        "context": "- æš´éœ²é«˜çº§æœç´¢ API/MCPã€‚"
      },
      {
        "line": 47,
        "token": "P95",
        "context": "- 90%+ ç”¨æˆ·æ»¡æ„åº¦ã€95% å“åº” P95<200msã€85% å½’å¹¶å‡†ç¡®ç‡ï¼›"
      },
      {
        "line": 51,
        "token": "fallback",
        "context": "- Alpha â†’ Beta â†’ åˆ†æ‰¹æ”¾é‡ï¼Œé… Feature Flag + fallbackï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        42,
        13
      ],
      "codeblock": [
        12,
        0
      ]
    }
  },
  {
    "english": "docs/architecture/search-examples.md",
    "chinese": "docs/architecture/search-examples_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "hybrid",
        "context": "- **é¡¹ç›®æ’éšœ**ï¼šPOST `/api/search/advanced`ï¼Œ`search_mode:\"hybrid\"`ï¼Œé™„ tags/time/metadata filtersï¼Œå¯è¿”å›ä¸»è®°å¿† + è§£å†³æ–¹æ¡ˆ/ä¸Šä¸‹æ–‡/æ—¶é—´çº¿ï¼›"
      },
      {
        "line": 5,
        "token": "query",
        "context": "- **çŸ¥è¯†æ•´åˆ**ï¼š`query:\"user authentication security decisions\"`ï¼Œ`consolidate_related:true`ï¼Œè·å– 6 ä¸ªæœˆå†…çš„å†³ç­–/ç¬”è®°æ¦‚è§ˆã€‚"
      },
      {
        "line": 8,
        "token": "filters",
        "context": "- `advanced_memory_search`ï¼šæ”¯æŒ `search_mode`ã€`consolidate_related`ã€`filters`ã€å¤šä¿¡å·æ’åºï¼›"
      },
      {
        "line": 12,
        "token": "claude",
        "context": "- Slash å‘½ä»¤ï¼š`claude /memory-search-advanced"
      }
    ],
    "structure_diff": {
      "heading": [
        16,
        4
      ],
      "codeblock": [
        24,
        0
      ]
    }
  },
  {
    "english": "docs/architecture.md",
    "chinese": "docs/architecture_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 77,
        "token": "mermaid",
        "context": "> ç”±äºç°æœ‰ mermaid å›¾å¼•ç”¨äº†å®¢æˆ·ç«¯/æœåŠ¡åç§°ï¼Œæš‚ä¿ç•™è‹±æ–‡ä»¥åŒ¹é…å®é™…å®ç°åç§°ã€‚"
      },
      {
        "line": 89,
        "token": "JSON",
        "context": "- **æ—¥å¿—ç³»ç»Ÿ**ï¼šæ”¯æŒ JSON ç»“æ„åŒ–æ—¥å¿—ï¼Œå…¼å®¹ Claude Desktop æ§åˆ¶å°è¦æ±‚ã€‚"
      },
      {
        "line": 147,
        "token": "HTTP",
        "context": "#### HTTP Client Backendï¼ˆ`storage/http_client.py`ï¼‰"
      },
      {
        "line": 148,
        "token": "HTTP",
        "context": "- é€šè¿‡ HTTP API ä½¿ç”¨è¿œç¨‹å­˜å‚¨ã€‚"
      },
      {
        "line": 227,
        "token": "content",
        "context": "| `store_memory` | å†™å…¥è®°å¿† | content, tags, metadata |"
      },
      {
        "line": 228,
        "token": "query",
        "context": "| `retrieve_memory` | è¯­ä¹‰æ£€ç´¢ | query, n_results |"
      },
      {
        "line": 230,
        "token": "tags",
        "context": "| `search_by_tag` | æ ‡ç­¾æ£€ç´¢ | tags[] |"
      },
      {
        "line": 232,
        "token": "tags",
        "context": "| `delete_by_tags` | æ‰¹é‡åˆ é™¤ | tags[] |"
      },
      {
        "line": 240,
        "token": "JSON",
        "context": "| `export_memories` | å¯¼å‡º JSON |"
      },
      {
        "line": 241,
        "token": "JSON",
        "context": "| `import_memories` | å¯¼å…¥ JSON |"
      },
      {
        "line": 282,
        "token": "lazy",
        "context": "- **æ¨¡å‹ç¼“å­˜**ï¼šå¥å‘é‡æ¨¡å‹å…¨å±€ç¼“å­˜ï¼Œé¦–æ¬¡ä½¿ç”¨ lazy loadã€‚"
      },
      {
        "line": 283,
        "token": "embedding",
        "context": "- **åµŒå…¥ç¼“å­˜**ï¼šå¸¸ç”¨ embedding ä½¿ç”¨ LRU ç¼“å­˜ï¼Œå¯é…ç½®å¤§å°ã€‚"
      },
      {
        "line": 289,
        "token": "HTTP",
        "context": "- **è®¤è¯**ï¼šHTTP ç«¯ç‚¹æ”¯æŒ API Keyã€Bearer Tokenï¼Œå¤šå®¢æˆ·ç«¯éš”ç¦»è®¤è¯ã€‚"
      },
      {
        "line": 291,
        "token": "HTTPS",
        "context": "- **ç½‘ç»œå®‰å…¨**ï¼šHTTPSã€CORSã€ç«¯ç‚¹é™æµã€‚"
      },
      {
        "line": 299,
        "token": "hybrid",
        "context": "- `install.py --storage-backend hybrid` æˆ– `MCP_MEMORY_STORAGE_BACKEND=hybrid`ã€‚"
      },
      {
        "line": 312,
        "token": "HTTP",
        "context": "### å¤šå®¢æˆ·ç«¯å…±äº«ï¼ˆHTTP Serverï¼‰"
      },
      {
        "line": 313,
        "token": "HTTP",
        "context": "- ä¸­å¿ƒåŒ– HTTP æœåŠ¡ï¼Œå¤šä¸ªå®¢æˆ·ç«¯å…±äº«è®°å¿†ã€‚"
      },
      {
        "line": 314,
        "token": "HTTP",
        "context": "- éœ€å¯ç”¨ HTTP æ¨¡å¼å¹¶é…ç½® API Keyã€‚"
      },
      {
        "line": 360,
        "token": "https",
        "context": "- [MCP Protocol Specification](https://modelcontextprotocol.io/docs)"
      },
      {
        "line": 361,
        "token": "https",
        "context": "- [ChromaDB Documentation](https://docs.trychroma.com/)"
      },
      {
        "line": 362,
        "token": "https",
        "context": "- [SQLite Vec Extension](https://github.com/asg017/sqlite-vec)"
      },
      {
        "line": 363,
        "token": "https",
        "context": "- [Sentence Transformers](https://www.sbert.net/)"
      }
    ],
    "structure_diff": {
      "heading": [
        52,
        42
      ]
    }
  },
  {
    "english": "docs/archive/obsolete-workflows/README.md",
    "chinese": "docs/archive/obsolete-workflows/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "load_memory_context.md",
        "context": "### `load_memory_context.md`ï¼ˆ2025-08ï¼‰"
      },
      {
        "line": 8,
        "token": "curl",
        "context": "- **åŸç”¨é€”**ï¼šåœ¨ Claude Code ä¼šè¯å¯åŠ¨é˜¶æ®µæ‰‹åŠ¨ä½¿ç”¨ curl åŠ è½½è®°å¿†ä¸Šä¸‹æ–‡ï¼›"
      },
      {
        "line": 33,
        "token": "HTTP",
        "context": "- Claude Code HTTP ä¼ è¾“ï¼›"
      },
      {
        "line": 45,
        "token": "curl",
        "context": "- å°†ç—›ç‚¹ï¼ˆæ‰‹åŠ¨ curlï¼‰è½¬åŒ–ä¸ºäº§å“æ”¹è¿›ï¼›"
      },
      {
        "line": 56,
        "token": "https",
        "context": "è¯¦è§ [Natural Memory Triggers æŒ‡å—](https://github.com/doobidoo/mcp-memory-service/wiki/Natural-Memory-Triggers-v7.1.0)ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        12,
        10
      ],
      "codeblock": [
        8,
        6
      ]
    }
  },
  {
    "english": "docs/archive/obsolete-workflows/load_memory_context.md",
    "chinese": "docs/archive/obsolete-workflows/load_memory_context_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 16,
        "token": "curl",
        "context": "curl -k -s -X POST https://your-server-ip:8443/mcp \\"
      },
      {
        "line": 19,
        "token": "jsonrpc",
        "context": "-d '{\"jsonrpc\": \"2.0\", \"id\": 1, \"method\": \"tools/call\", \"params\": {\"name\": \"retrieve_memory\", \"arguments\": {\"query\": \"claude-code-reference distributable-refere"
      },
      {
        "line": 20,
        "token": "text",
        "context": "| jq -r '.result.content[0].text'"
      },
      {
        "line": 47,
        "token": "curl",
        "context": "3. é€šè¿‡ `curl -k -s https://your-server-ip:8443/api/health` è‡ªæµ‹è¿é€šï¼›"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/assets/images/README.md",
    "chinese": "docs/assets/images/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 18,
        "token": "http",
        "context": "- Dashboard: http://localhost:8001"
      },
      {
        "line": 19,
        "token": "http",
        "context": "- mDNS: http://mcp-memory-service.local:8001"
      },
      {
        "line": 20,
        "token": "http",
        "context": "- API Docs: http://localhost:8001/api/docs"
      },
      {
        "line": 21,
        "token": "http",
        "context": "- ReDoc: http://localhost:8001/api/redoc"
      },
      {
        "line": 24,
        "token": "HTTP",
        "context": "1. å¯åŠ¨ HTTP Serverï¼š`python scripts/run_http_server.py`"
      },
      {
        "line": 26,
        "token": "x1080",
        "context": "3. ä»¥ 1920x1080 å…¨å±æˆªå›¾ï¼›"
      },
      {
        "line": 27,
        "token": "version",
        "context": "4. æŒ‰ `dashboard-v{version}.png` å‘½åä¿å­˜è‡³æœ¬ç›®å½•ï¼›"
      },
      {
        "line": 31,
        "token": "version",
        "context": "- `dashboard-v{version}.png`ï¼šä¸»ç•Œé¢ï¼›"
      },
      {
        "line": 32,
        "token": "version",
        "context": "- `api-docs-v{version}.png`ï¼šAPI æ–‡æ¡£é¡µï¼›"
      },
      {
        "line": 33,
        "token": "version",
        "context": "- `mobile-v{version}.png`ï¼šç§»åŠ¨ç«¯å¸ƒå±€ï¼›"
      },
      {
        "line": 34,
        "token": "name",
        "context": "- `feature-{name}-v{version}.png`ï¼šç‰¹æ€§/æ¨¡å—æˆªå›¾ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        6,
        5
      ]
    }
  },
  {
    "english": "docs/cloudflare-setup.md",
    "chinese": "docs/cloudflare-setup_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 66,
        "token": "env",
        "context": "`.env` ç¤ºä¾‹åŒä¸Šã€‚"
      },
      {
        "line": 81,
        "token": "python",
        "context": "- `python scripts/test_cloudflare_backend.py`"
      },
      {
        "line": 82,
        "token": "curl",
        "context": "- æˆ–ä½¿ç”¨ `curl` è®¿é—® `/api/memories`ã€`/api/stats`ã€‚"
      },
      {
        "line": 83,
        "token": "python",
        "context": "- ä¹Ÿå¯è¿è¡Œ `python scripts/setup_cloudflare_resources.py` è‡ªåŠ¨åŒ–æ£€æŸ¥ã€‚"
      },
      {
        "line": 103,
        "token": "env",
        "context": "| 401/ç¼ºå˜é‡ | æ£€æŸ¥ envï¼Œç¡®è®¤ Token æƒé™ã€‚|"
      },
      {
        "line": 109,
        "token": "python",
        "context": "è°ƒè¯•ï¼š`LOG_LEVEL=DEBUG python -m src.mcp_memory_service.server --debug`ã€‚"
      },
      {
        "line": 127,
        "token": "env",
        "context": "- æ­¥éª¤ï¼šå¯¼å‡ºæ—§æ•°æ®â†’å¯¼å…¥ Cloudflareâ†’æ¯å°æœºå™¨é…ç½®ç›¸åŒ envï¼ˆå« `MCP_MEMORY_SQLITE_PATH`ï¼‰ã€‚"
      },
      {
        "line": 133,
        "token": "ms/",
        "context": "- æ‰¹é‡ï¼š100 æ¡çº¦ 50ms/æ¡ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        102,
        19
      ],
      "codeblock": [
        56,
        14
      ],
      "tables": [
        0,
        7
      ]
    }
  },
  {
    "english": "docs/deployment/docker.md",
    "chinese": "docs/deployment/docker_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "boot",
        "context": "æ”¯æŒå¤šç§æ¨¡å¼ï¼šæ ‡å‡†ï¼ˆä¾› MCP å®¢æˆ·ç«¯ï¼‰ã€Standaloneï¼ˆæµ‹è¯•/é˜²æ­¢ boot loopï¼‰ã€HTTP/SSEã€å¤šå‰¯æœ¬ç”Ÿäº§ç­‰ã€‚"
      },
      {
        "line": 18,
        "token": "HTTP",
        "context": "- `docker-compose.standalone.yml`ï¼š`MCP_STANDALONE_MODE=1`ï¼Œæ˜ å°„ `8001`ï¼Œé€‚åˆæµ‹è¯•/HTTPï¼›"
      },
      {
        "line": 22,
        "token": "metrics",
        "context": "- `docker-compose.monitoring.yml`ï¼šæš´éœ² metricsã€æ¥å…¥ Prometheusã€‚"
      },
      {
        "line": 42,
        "token": "chromadb/sqlite_vec",
        "context": "- `MCP_MEMORY_STORAGE_BACKEND`ï¼ˆchromadb/sqlite_vecï¼‰ï¼›"
      },
      {
        "line": 43,
        "token": "MCP_HTTP_HOST/PORT",
        "context": "- `MCP_HTTP_HOST/PORT`ã€`MCP_STANDALONE_MODE`ï¼›"
      },
      {
        "line": 48,
        "token": "restart",
        "context": "- Docker Compose + `restart: unless-stopped` æˆ– Swarm/K8sï¼›"
      },
      {
        "line": 50,
        "token": "PVC",
        "context": "- å»ºè®®ä½¿ç”¨å‘½åå·æˆ– PVC æŒä¹…åŒ–æ•°æ®ï¼›"
      },
      {
        "line": 51,
        "token": "docker",
        "context": "- æ—¶å¸¸å¤‡ä»½ï¼š`docker run --rm -v volume:/data ... tar czf backup.tar.gz /data`ã€‚"
      },
      {
        "line": 54,
        "token": "healthcheck",
        "context": "- `healthcheck`ï¼š`curl -f http://localhost:8001/health`ï¼›"
      },
      {
        "line": 55,
        "token": "logs",
        "context": "- æ—¥å¿—ï¼š`docker-compose logs -f` æˆ–é…ç½® json-file æ»šåŠ¨ï¼›"
      },
      {
        "line": 56,
        "token": "metrics",
        "context": "- Prometheusï¼šé€šè¿‡ç¯å¢ƒå˜é‡å¼€å¯ metrics å¹¶æš´éœ²ç«¯å£ã€‚"
      },
      {
        "line": 59,
        "token": "true",
        "context": "1. **å®¹å™¨ç§’é€€**ï¼šæœªå¼€å¯ Standaloneï¼ç¼ºå°‘ TTY â†’ `stdin_open: true`ã€`tty: true`ï¼›"
      },
      {
        "line": 60,
        "token": "chown",
        "context": "2. **æƒé™**ï¼š`chown -R 1000:1000 ./data` æˆ–ä½¿ç”¨ `--user`ï¼›"
      },
      {
        "line": 62,
        "token": "curl",
        "context": "4. **ç½‘ç»œä¸å¯è¾¾**ï¼šç¡®è®¤ç«¯å£æ˜ å°„ã€`curl http://localhost:8001/health`ï¼›"
      },
      {
        "line": 75,
        "token": "openssl",
        "context": "- è®¾ç½® `MCP_API_KEY=$(openssl rand -hex 32)`ï¼›"
      },
      {
        "line": 76,
        "token": "HTTPS",
        "context": "- HTTPSï¼šæŒ‚è½½è¯ä¹¦å¹¶è®¾ç½® `MCP_HTTPS_ENABLED=true`ã€`MCP_SSL_CERT_FILE/KEY_FILE`ï¼›"
      },
      {
        "line": 77,
        "token": "true",
        "context": "- å®¹å™¨é™åˆ¶ï¼š`--security-opt no-new-privileges:true --cap-drop ALL --read-only --tmpfs /tmp`ã€‚"
      },
      {
        "line": 83,
        "token": "docker",
        "context": "- æ„å»ºå¤šæ¶æ„é•œåƒï¼š`docker buildx build --platform linux/amd64,linux/arm64 ...`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        111,
        15
      ],
      "codeblock": [
        74,
        6
      ],
      "tables": [
        12,
        0
      ]
    }
  },
  {
    "english": "docs/deployment/dual-service.md",
    "chinese": "docs/deployment/dual-service_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "HTTP",
        "context": "# åŒæœåŠ¡éƒ¨ç½²ï¼ˆFastMCP + HTTP Dashboardï¼‰"
      },
      {
        "line": 4,
        "token": "over",
        "context": "1. **FastMCP æœåŠ¡**ï¼ˆç«¯å£ 8001ï¼‰ï¼šé¢å‘ Claude ç­‰ MCP å®¢æˆ·ç«¯ï¼ŒJSON-RPC over SSEï¼›"
      },
      {
        "line": 5,
        "token": "HTTP",
        "context": "2. **HTTP Dashboard**ï¼ˆç«¯å£ 8080ï¼‰ï¼šWeb æ§åˆ¶å°ä¸ REST APIã€‚"
      },
      {
        "line": 11,
        "token": "systemd",
        "context": "æˆ–æ‰‹åŠ¨ï¼šå¤åˆ¶ systemd å•å…ƒ â†’ `systemctl enable/start mcp-memory mcp-http-dashboard`ã€‚"
      },
      {
        "line": 14,
        "token": "http",
        "context": "- MCPï¼š`http://SERVER_IP:8001/mcp`"
      },
      {
        "line": 15,
        "token": "http",
        "context": "- Dashboardï¼š`http://SERVER_IP:8080/`"
      },
      {
        "line": 33,
        "token": "mcp",
        "context": "`mcp`ã€`fastapi`ã€`uvicorn`ã€`zeroconf`ã€`aiohttp`ã€`sqlite-vec`ã€`sentence-transformers`ã€‚"
      },
      {
        "line": 37,
        "token": "true",
        "context": "- `MCP_MDNS_ENABLED=true`"
      },
      {
        "line": 38,
        "token": "true",
        "context": "- `MCP_HTTP_ENABLED=true`"
      },
      {
        "line": 44,
        "token": "IP/",
        "context": "- æ— æ³•è®¿é—®ï¼šæ£€æŸ¥æœåŠ¡çŠ¶æ€ã€ç«¯å£ç›‘å¬ã€IP/é˜²ç«å¢™ï¼›"
      },
      {
        "line": 45,
        "token": "zeroconf",
        "context": "- mDNS å¤±æ•ˆï¼šç¡®è®¤ `avahi-daemon` ä¸ `zeroconf` ä¾èµ–ï¼›"
      },
      {
        "line": 46,
        "token": "mcp",
        "context": "- FastMCP å¼‚å¸¸ï¼šç¡®ä¿è®¿é—® `/mcp`ï¼Œå®¢æˆ·ç«¯æ”¯æŒ SSE/JSON-RPCã€‚"
      },
      {
        "line": 49,
        "token": "http",
        "context": "- Claudeï¼šé…ç½® MCP URL ä¸º `http://SERVER_IP:8001/mcp`ï¼›"
      },
      {
        "line": 50,
        "token": "curl",
        "context": "- curl ç¤ºä¾‹ï¼š`curl http://SERVER_IP:8080/api/health`ã€POST `/api/memories`ã€`/api/search`ã€‚"
      },
      {
        "line": 52,
        "token": "HTTP",
        "context": "âœ… çº¯ Python å®ç°ï¼Œè§„é¿ Node SSLï¼›âœ… MCP + HTTP åŒåè®®ï¼›âœ… systemd/ mDNS ç”Ÿäº§å¯ç”¨ã€‚EOF"
      }
    ],
    "structure_diff": {
      "heading": [
        38,
        10
      ],
      "codeblock": [
        16,
        6
      ]
    }
  },
  {
    "english": "docs/deployment/production-guide.md",
    "chinese": "docs/deployment/production-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "HTTPS",
        "context": "é»˜è®¤å¯ç”¨è®°å¿†å½’å¹¶ã€mDNS è‡ªåŠ¨å‘ç°ã€HTTPS ä¸è‡ªå¯åŠ¨ã€‚"
      },
      {
        "line": 21,
        "token": "HTTPS",
        "context": "- HTTPS åœ°å€ï¼š`https://localhost:8001`"
      },
      {
        "line": 34,
        "token": "systemd",
        "context": "- systemd ä¸è„šæœ¬ï¼š`mcp-memory.service`ã€`archive/setup-development/`"
      }
    ],
    "structure_diff": {
      "heading": [
        13,
        5
      ],
      "tables": [
        0,
        1
      ]
    }
  },
  {
    "english": "docs/deployment/systemd-service.md",
    "chinese": "docs/deployment/systemd-service_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "systemd",
        "context": "# Linux systemd æœåŠ¡éƒ¨ç½²"
      },
      {
        "line": 4,
        "token": "systemd",
        "context": "systemd æœåŠ¡å¯å®ç°ï¼š"
      },
      {
        "line": 5,
        "token": "logout",
        "context": "- ç™»å½•è‡ªåŠ¨å¯åŠ¨ã€logout åä¿æŒè¿è¡Œï¼ˆå¯ç”¨ lingerï¼‰ï¼›"
      },
      {
        "line": 7,
        "token": "journald",
        "context": "- æ—¥å¿—æ±‡æ€»åˆ° journaldï¼›"
      },
      {
        "line": 8,
        "token": "systemctl",
        "context": "- `systemctl` ç»Ÿä¸€ç®¡ç†ã€‚"
      },
      {
        "line": 15,
        "token": "service",
        "context": "è„šæœ¬ä¼šæ£€æŸ¥ä¾èµ–ã€æç¤ºå®‰è£…æ–¹å¼ï¼ˆç”¨æˆ·/ç³»ç»Ÿï¼‰ã€å¤åˆ¶ service æ–‡ä»¶ã€é‡è½½ systemdï¼Œå¹¶ç»™å‡ºä¸‹ä¸€æ­¥ã€‚"
      },
      {
        "line": 18,
        "token": "sudo",
        "context": "**ç”¨æˆ·çº§ï¼ˆæ¨èï¼Œæ— éœ€ sudoï¼‰**"
      },
      {
        "line": 28,
        "token": "sudo",
        "context": "**ç³»ç»Ÿçº§ï¼ˆéœ€ sudoï¼‰**"
      },
      {
        "line": 47,
        "token": "PATH/",
        "context": "- `WorkingDirectory`ã€`Environment=PATH/ PYTHONPATH`ã€`EnvironmentFile=.env`ï¼›"
      },
      {
        "line": 49,
        "token": "always",
        "context": "- `Restart=always`ã€`RestartSec=10`ï¼›"
      },
      {
        "line": 52,
        "token": "env",
        "context": "`.env` ä¿®æ”¹åéœ€ `systemctl --user restart ...`ã€‚"
      },
      {
        "line": 55,
        "token": "status",
        "context": "1. **status=216/GROUP**ï¼šåˆ é™¤ç”¨æˆ·æœåŠ¡é‡Œçš„ `User=`/`Group=`ï¼›"
      },
      {
        "line": 56,
        "token": "denied",
        "context": "2. **Permission denied**ï¼šç¡®ä¿ `.env`ã€venvã€è„šæœ¬å¯¹å½“å‰ç”¨æˆ·å¯è¯»ï¼›ç³»ç»ŸæœåŠ¡éœ€è®¾ç½®æƒé™ï¼›"
      },
      {
        "line": 57,
        "token": "systemctl",
        "context": "3. **æœåŠ¡æœªå¯åŠ¨**ï¼š`systemctl --user status` æŸ¥çœ‹é”™è¯¯ã€`journalctl` è·å–ç»†èŠ‚ï¼›"
      },
      {
        "line": 58,
        "token": "linger",
        "context": "4. **é€€å‡ºååœæ­¢**ï¼šæœªå¼€å¯ linger â†’ `loginctl enable-linger $USER`ã€‚"
      },
      {
        "line": 60,
        "token": "systemd",
        "context": "å®Œæˆåå³å¯é€šè¿‡ systemd æ–¹å¼è¿è¡Œ HTTP Serverï¼Œæå‡å¯é æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        63,
        7
      ],
      "codeblock": [
        28,
        8
      ],
      "tables": [
        4,
        1
      ]
    }
  },
  {
    "english": "docs/development/ai-agent-instructions.md",
    "chinese": "docs/development/ai-agent-instructions_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "HTTP",
        "context": "- MCP æ¥å£ + HTTP API + Dashboardï¼›"
      },
      {
        "line": 30,
        "token": "pip",
        "context": "> è‹¥ç‰ˆæœ¬è¾“å‡ºä¸ä»£ç ä¸ç¬¦ï¼ˆå¦‚æœåŠ¡ä»æ˜¯ v8.5.3ï¼‰ï¼Œæ‰§è¡Œ `pip install -e . --force-reinstall`ã€‚"
      },
      {
        "line": 45,
        "token": "isort",
        "context": "- Blackï¼ˆ88 åˆ—ï¼‰+ isortï¼›"
      },
      {
        "line": 63,
        "token": "HTTP/",
        "context": "- `web/app.py`ï¼šHTTP/ä»ªè¡¨ç›˜ï¼›"
      },
      {
        "line": 69,
        "token": "docs/api/tools.md",
        "context": "- **ä¿®æ”¹ MCP å·¥å…·**ï¼šç¼–è¾‘ `mcp_server.py`ï¼Œç”¨ MCP Inspector éªŒè¯ï¼Œæ›´æ–° `docs/api/tools.md`ï¼›"
      },
      {
        "line": 71,
        "token": "scripts/migration/",
        "context": "- **è¿ç§»è„šæœ¬**ï¼šä½¿ç”¨ `scripts/migration/*.py` è¿è¡ŒéªŒè¯ã€‚"
      },
      {
        "line": 83,
        "token": "HTTP",
        "context": "- HTTP API éœ€ API Key / OAuthï¼›"
      },
      {
        "line": 99,
        "token": "pytest",
        "context": "3. `pytest tests/`ï¼›"
      },
      {
        "line": 100,
        "token": "git",
        "context": "4. `git tag -a vX.Y.Z` å¹¶ `git push origin vX.Y.Z`ï¼›"
      },
      {
        "line": 104,
        "token": "pyenv",
        "context": "- macOS SQLite æ‰©å±•å¤±è´¥ â†’ ä½¿ç”¨ Homebrew Python æˆ– pyenv `--enable-loadable-sqlite-extensions`ï¼›"
      },
      {
        "line": 106,
        "token": "python",
        "context": "- ImportError â†’ è¿è¡Œ `python install.py`ï¼›"
      },
      {
        "line": 114,
        "token": "commit",
        "context": "- è¯­ä¹‰åŒ– commitï¼›"
      },
      {
        "line": 117,
        "token": "agents.md",
        "context": "> æœ¬æ–‡ä»¶éµå¾ª [agents.md](https://agents.md/) çš„ AI Agent æŒ‡ä»¤è§„èŒƒã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        40,
        20
      ],
      "codeblock": [
        10,
        8
      ]
    }
  },
  {
    "english": "docs/development/code-quality/phase-2a-completion.md",
    "chinese": "docs/development/code-quality/phase-2a-completion_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "v8.48.x",
        "context": "- ç›®æ ‡ï¼šåœ¨ v8.48.x å‰éªŒè¯æœ¬åœ° ONNX çš„å¯ç”¨æ€§ï¼Œå¹¶å®šä¹‰æ”¹è¿›è·¯å¾„ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        37,
        8
      ],
      "codeblock": [
        4,
        0
      ],
      "tables": [
        17,
        0
      ]
    }
  },
  {
    "english": "docs/development/code-quality/phase-2a-handle-get-prompt.md",
    "chinese": "docs/development/code-quality/phase-2a-handle-get-prompt_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "provider",
        "context": "2) **ç¼“å­˜**ï¼šåœ¨å†…å­˜ä¸­ç¼“å­˜æœ€è¿‘çš„è´¨é‡åˆ†ä¸ providerï¼ŒTTL å¯é…ç½®ï¼ˆé»˜è®¤ 5 åˆ†é’Ÿï¼‰ã€‚"
      },
      {
        "line": 14,
        "token": "debug_info",
        "context": "4) **è°ƒè¯•æ ‡è®°**ï¼š`debug_info` è¿”å›è´¨é‡æ¥æºä¸æ˜¯å¦é‡æ’ã€‚"
      },
      {
        "line": 17,
        "token": "score/provider/updated_at",
        "context": "- API å±‚ï¼š`getPrompt` å¢åŠ è´¨é‡å…ƒæ•°æ®å­—æ®µï¼ˆscore/provider/updated_atï¼‰ã€‚"
      },
      {
        "line": 28,
        "token": "fallback",
        "context": "- `getPrompt` åœ¨æ— åˆ†æ•°æ—¶è¿”å› fallbackï¼Œåç»­è¯„åˆ†å†™å›ã€‚"
      },
      {
        "line": 30,
        "token": "P95",
        "context": "- æ—¶å»¶å¯¹æ¯”ï¼šå¯ç”¨ç¼“å­˜å P95 < 80msã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        25,
        8
      ],
      "codeblock": [
        6,
        2
      ]
    }
  },
  {
    "english": "docs/development/code-quality/phase-2a-index.md",
    "chinese": "docs/development/code-quality/phase-2a-index_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 11,
        "token": "tags",
        "context": "- å¢åŠ  `tags(name)` ç´¢å¼•ä¸ `memory_tags` å¤åˆç´¢å¼•ã€‚"
      },
      {
        "line": 24,
        "token": "P95",
        "context": "- å¸¸è§æŸ¥è¯¢ï¼ˆæ ‡ç­¾ AND/OR + æ—¶é—´èŒƒå›´ï¼‰P95 < 120msï¼ˆæœ¬åœ°ï¼‰ / < 300msï¼ˆHybridï¼‰ã€‚"
      },
      {
        "line": 29,
        "token": "drift",
        "context": "- è·¨ç«¯ä¸ä¸€è‡´ï¼šå¼€å¯ drift æ£€æŸ¥è„šæœ¬ `scripts/sync/check_drift.py`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        15,
        6
      ],
      "codeblock": [
        0,
        2
      ],
      "tables": [
        8,
        0
      ]
    }
  },
  {
    "english": "docs/development/code-quality/phase-2a-install-package.md",
    "chinese": "docs/development/code-quality/phase-2a-install-package_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "GPU/CPU",
        "context": "- é™ä½åˆæ¬¡å®‰è£…å¤±è´¥ç‡ï¼Œç»Ÿä¸€ä¾èµ–ç‰ˆæœ¬ï¼Œæ”¯æŒ GPU/CPU åŒè·¯å¾„ã€‚"
      },
      {
        "line": 7,
        "token": "sync",
        "context": "- æ¨èï¼š`uv sync`ï¼ˆé”å®š `uv.lock`ï¼‰ã€‚"
      },
      {
        "line": 8,
        "token": "python",
        "context": "- å¤‡ç”¨ï¼š`python scripts/installation/install.py --storage-backend hybrid`ã€‚"
      },
      {
        "line": 12,
        "token": "pip",
        "context": "- CPU: `pip install onnxruntime`"
      },
      {
        "line": 13,
        "token": "pip",
        "context": "- GPU: `pip install onnxruntime-gpu` æˆ– `onnxruntime-directml` (Win)"
      },
      {
        "line": 14,
        "token": "faiss-cpu",
        "context": "- å‘é‡ï¼š`sqlite-vec`, `faiss-cpu` (å¯é€‰)"
      },
      {
        "line": 15,
        "token": "fastapi",
        "context": "- Webï¼š`fastapi`, `uvicorn`, `sse-starlette`"
      },
      {
        "line": 16,
        "token": "httpx",
        "context": "- Cloudflareï¼š`httpx`, `pydantic`, D1/Vectorize å®¢æˆ·ç«¯"
      },
      {
        "line": 19,
        "token": "export",
        "context": "- macOS(MPS)ï¼šå¼€å¯ `export MCP_QUALITY_LOCAL_DEVICE=mps`ã€‚"
      },
      {
        "line": 24,
        "token": "onnxruntime",
        "context": "- **onnxruntime ä¸‹è½½å¤±è´¥**ï¼šåˆ‡æ¢é•œåƒæˆ–æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹ç›®å½• `~/.cache/mcp_memory/onnx_models/`ã€‚"
      },
      {
        "line": 25,
        "token": "gcc",
        "context": "- **ç¼–è¯‘å¤±è´¥ (sqlite-vec)**ï¼šç¡®ä¿ `gcc`/`clang` å¯ç”¨ï¼›æˆ–æ”¹ç”¨é¢„ç¼–è¯‘ wheelã€‚"
      },
      {
        "line": 36,
        "token": "GPU/CPU",
        "context": "- æ›´æ–° `install.py` ä¸æ–‡æ¡£ï¼Œè¦†ç›– GPU/CPU åˆ†æ”¯ä¸ç¯å¢ƒå˜é‡ç¤ºä¾‹ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        21,
        8
      ],
      "codeblock": [
        4,
        2
      ]
    }
  },
  {
    "english": "docs/development/code-quality/phase-2b-session-summary.md",
    "chinese": "docs/development/code-quality/phase-2b-session-summary_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 13,
        "token": "MCP_SESSION_SUMMARY_MAX_TOKENS",
        "context": "3) **é•¿åº¦æ§åˆ¶**ï¼šé»˜è®¤ 150-300 è¯ï¼›æä¾› `MCP_SESSION_SUMMARY_MAX_TOKENS` é…ç½®ã€‚"
      },
      {
        "line": 17,
        "token": "hash",
        "context": "- SessionEnd Hookï¼šè§¦å‘ `/api/quality/memories/{hash}/evaluate` åå†æ±‡æ€»ï¼Œå…è®¸å¼‚æ­¥ã€‚"
      },
      {
        "line": 18,
        "token": "relevance",
        "context": "- é‡æ’å…¬å¼ç¤ºä¾‹ï¼š`0.6 * relevance + 0.4 * quality_score`ã€‚"
      },
      {
        "line": 28,
        "token": "P95",
        "context": "- P95 ç”Ÿæˆæ—¶å»¶ < 1.5sï¼ˆæœ¬åœ° SLMï¼‰ã€‚"
      },
      {
        "line": 30,
        "token": "n-gram",
        "context": "- é‡å¤ç‡ä¸‹é™ï¼šä¸åŸæ–‡é‡å¤ n-gram < 15%ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        18,
        8
      ]
    }
  },
  {
    "english": "docs/development/code-quality-workflow.md",
    "chinese": "docs/development/code-quality-workflow_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "pyscn",
        "context": "> é¢å‘è´¡çŒ®è€…çš„ç»Ÿä¸€è´¨é‡ç®¡çº¿ï¼šé™æ€åˆ†æï¼ˆpyscnï¼‰ã€æµ‹è¯•ã€è´¨é‡é—¨ã€å›å½’æ£€æŸ¥ã€‚é€‚ç”¨äº v8.45.0+ã€‚"
      },
      {
        "line": 11,
        "token": "lint",
        "context": "1) æœ¬åœ°é¢„æ£€ï¼šæ ¼å¼ã€lintã€å•æµ‹ã€‚"
      },
      {
        "line": 12,
        "token": "pyscn",
        "context": "2) è´¨é‡åˆ†æï¼ˆå¯é€‰ï¼‰ï¼š`pyscn analyze .` + ONNX è´¨é‡è¯„ä¼°ï¼ˆå¦‚å¯ç”¨ï¼‰ã€‚"
      },
      {
        "line": 13,
        "token": "lint",
        "context": "3) PR è´¨é‡é—¨ï¼šGitHub Actions è¿è¡Œ lint + tests + å…³é”®é›†æˆæµ‹è¯•ã€‚"
      },
      {
        "line": 33,
        "token": "false/true",
        "context": "- **æ­»ä»£ç **ï¼šæœªå¼•ç”¨å‡½æ•°ã€æ’ false/true åˆ†æ”¯ã€‚"
      },
      {
        "line": 38,
        "token": "unit/integration",
        "context": "- [ ] å•æµ‹é€šè¿‡ï¼ˆè‡³å°‘å˜æ›´ç›¸å…³çš„ unit/integrationï¼‰ã€‚"
      },
      {
        "line": 43,
        "token": "pyscn",
        "context": "## pyscn ä½¿ç”¨"
      },
      {
        "line": 45,
        "token": "HTML",
        "context": "- è¾“å‡ºï¼šHTML æŠ¥å‘Šä½äº `.pyscn/reports/`ï¼ŒCI å¯ä½œä¸º Artifactã€‚"
      },
      {
        "line": 57,
        "token": "pyscn",
        "context": "4) ï¼ˆå¯é€‰ï¼‰pyscn æŠ¥å‘Š"
      },
      {
        "line": 62,
        "token": "web/api/",
        "context": "- å…³æ³¨é«˜é£é™©ç›®å½•ï¼š`storage/`, `web/api/`, `consolidation/`, `quality/`ã€‚"
      },
      {
        "line": 65,
        "token": "pytest",
        "context": "- **CI å¾ˆæ…¢**ï¼šä¼˜å…ˆè¿è¡Œå˜æ›´ç›¸å…³æµ‹è¯•ï¼›ä½¿ç”¨ `pytest -k <pattern>`ã€‚"
      },
      {
        "line": 67,
        "token": "pyscn",
        "context": "- **pyscn æŠ¥å‘Šä¸ºç©º**ï¼šæ£€æŸ¥ `.pyscn` ç›®å½•æƒé™æˆ–æ—¥å¿—è¾“å‡ºã€‚"
      },
      {
        "line": 72,
        "token": "scripts/quality/phase1_dead_code_analysis.md",
        "context": "- `scripts/quality/phase1_dead_code_analysis.md`"
      }
    ],
    "structure_diff": {
      "heading": [
        56,
        14
      ],
      "codeblock": [
        44,
        2
      ],
      "tables": [
        32,
        0
      ]
    }
  },
  {
    "english": "docs/development/dashboard-workflow.md",
    "chinese": "docs/development/dashboard-workflow_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 53,
        "token": "HTTP",
        "context": "- ä¿®æ”¹ CSS/JS/HTML è‡ªåŠ¨é‡å¯ HTTPï¼›"
      },
      {
        "line": 58,
        "token": "background",
        "context": "- ç¦æ­¢ç¡¬ç¼–ç  `background: white`ã€`color: #fff`ï¼›"
      },
      {
        "line": 68,
        "token": "nocache",
        "context": "- URL åŠ  `?nocache=timestamp`ï¼›"
      },
      {
        "line": 69,
        "token": "cache",
        "context": "- DevTools å¼€å¯ â€œDisable cacheâ€ã€‚"
      },
      {
        "line": 73,
        "token": "HTTP",
        "context": "- [ ] å·²é‡å¯ HTTP æœåŠ¡ï¼›"
      },
      {
        "line": 75,
        "token": "console",
        "context": "- [ ] æ£€æŸ¥ consoleï¼›"
      },
      {
        "line": 76,
        "token": "dark/light",
        "context": "- [ ] éªŒè¯ dark/light æ¨¡å¼ã€‚"
      },
      {
        "line": 101,
        "token": "console",
        "context": "4. å¿½è§† console æŠ¥é”™ï¼›"
      },
      {
        "line": 102,
        "token": "px/1024px",
        "context": "5. æœªæµ‹ 768px/1024px å“åº”å¼ã€‚"
      },
      {
        "line": 106,
        "token": "docs/implementation/performance.md",
        "context": "- `docs/implementation/performance.md`ï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        18,
        12
      ]
    }
  },
  {
    "english": "docs/development/issue-management.md",
    "chinese": "docs/development/issue-management_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 23,
        "token": "bug/feature/docs/performance/...",
        "context": "2. **æ ‡ç­¾ä½“ç³»**ï¼š`bug/feature/docs/performance/...`ã€`critical/high/...`ã€`storage/mcp/http-api/...`ã€`triage/needs-info/...`ï¼›"
      },
      {
        "line": 27,
        "token": "issue",
        "context": "**é‡å¤æ£€æµ‹**ï¼š`gh issue list --search \"keyword in:title,body\"`ï¼Œè‹¥é‡å¤ï¼šå…³é—­ + `duplicate` æ ‡ç­¾å¹¶é“¾æ¥åŸ Issueã€‚"
      },
      {
        "line": 33,
        "token": "progress",
        "context": "- PR æ‰“å¼€æ—¶åœ¨ Issue å›å¤â€œFix in progress via #PRâ€ï¼›åŠ  `in-progress` æ ‡ç­¾ï¼›"
      },
      {
        "line": 54,
        "token": "released",
        "context": "å…³é—­åï¼šæ·»åŠ  `released`ã€ç§»é™¤ `in-progress`ã€æ›´æ–° Milestoneã€é“¾æ¥ CHANGELOGã€ç¡®è®¤ open è®¡æ•°åˆ·æ–°ã€‚"
      },
      {
        "line": 59,
        "token": "issue",
        "context": "1. `gh issue list --label fixed-in-main --state open` æ‰¾åˆ°å·²ä¿®å¤å¾…å‘å¸ƒçš„ Issueï¼›"
      },
      {
        "line": 60,
        "token": "released",
        "context": "2. å‘å¸ƒåé€æ¡éªŒè¯ â†’ ä½¿ç”¨æ¨¡æ¿å…³é—­ â†’ åŠ  `released`ï¼›"
      },
      {
        "line": 61,
        "token": "FAQ/",
        "context": "3. è‹¥æ¶‰åŠæ–‡æ¡£/FAQ/å·²çŸ¥é—®é¢˜åˆ—è¡¨ï¼ŒåŠæ—¶æ›´æ–°ï¼›"
      },
      {
        "line": 68,
        "token": "bug/feature/enhancement/docs/performance/question",
        "context": "- **Type**ï¼š`bug/feature/enhancement/docs/performance/question`ï¼›"
      },
      {
        "line": 69,
        "token": "critical/high/medium/low",
        "context": "- **Priority**ï¼š`critical/high/medium/low`ï¼›"
      },
      {
        "line": 70,
        "token": "storage/mcp/http-api/dashboard/hooks/docs/testing",
        "context": "- **Component**ï¼š`storage/mcp/http-api/dashboard/hooks/docs/testing`ï¼›"
      },
      {
        "line": 71,
        "token": "triage/needs-info/in-progress/fixed-in-main/released/blocked/duplicate/wontfix",
        "context": "- **Status**ï¼š`triage/needs-info/in-progress/fixed-in-main/released/blocked/duplicate/wontfix`ï¼›"
      },
      {
        "line": 72,
        "token": "breaking-change/needs-release-notes/good-first-issue/help-wanted/regression",
        "context": "- **ç‰¹æ®Š**ï¼š`breaking-change/needs-release-notes/good-first-issue/help-wanted/regression`ã€‚"
      },
      {
        "line": 74,
        "token": "bug",
        "context": "ç¤ºä¾‹ï¼šCritical Bug â†’ `bug, critical, storage, triage`ï¼›ä½ä¼˜å…ˆçº§ Feature â†’ `feature, low, http-api, help-wanted`ï¼›æ€§èƒ½é—®é¢˜ â†’ `performance, high, storage, needs-info`ã€‚"
      },
      {
        "line": 106,
        "token": "released",
        "context": "- å‘å¸ƒåï¼šé›†ä¸­å…³é—­ï¼Œæ‰“ `released` æ ‡ç­¾ï¼Œå¹¶ç›‘æ§ 1 å‘¨å†…æ˜¯å¦æœ‰å›å½’ã€‚"
      },
      {
        "line": 118,
        "token": "triage",
        "context": "- **å¥åº·é˜ˆå€¼**ï¼š`triage` <10%ã€æ— æ ‡ç­¾ Issue <20ã€Bug å¹³å‡å…³é—­æ—¶é—´ <30 å¤©ã€é‡å¤ç‡ <5%ï¼›"
      },
      {
        "line": 124,
        "token": "pr-review-guide.md",
        "context": "**ç›¸å…³æ–‡æ¡£**ï¼š[PR Review Guide](pr-review-guide.md) Â· [Release Checklist](release-checklist.md) Â· [`CONTRIBUTING.md`](../../CONTRIBUTING.md)"
      }
    ],
    "structure_diff": {
      "heading": [
        61,
        15
      ],
      "codeblock": [
        56,
        4
      ],
      "tables": [
        5,
        6
      ]
    }
  },
  {
    "english": "docs/development/pr-review-guide.md",
    "chinese": "docs/development/pr-review-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "checklist",
        "context": "é¢å‘è¯„å®¡è€…çš„ç»“æ„åŒ– checklistï¼Œç¡®ä¿ PR è´¨é‡ä¸€è‡´ä¸”åœ¨åˆå¹¶å‰æ•è·é£é™©ã€‚"
      },
      {
        "line": 10,
        "token": "gemini",
        "context": "5. **Gemini Reviewï¼ˆå¯é€‰ï¼‰**ï¼š`/gemini review` åšé¢å¤–åˆ†æï¼›"
      },
      {
        "line": 18,
        "token": "change",
        "context": "- [ ] **Summary**ï¼šè¯´æ˜æ”¹äº†ä»€ä¹ˆã€ä¸ºä»€ä¹ˆï¼›å¼•ç”¨ Issueï¼ˆFixes/Closes #123ï¼‰ï¼›Breaking change æ˜ç¤ºï¼›"
      },
      {
        "line": 24,
        "token": "bug",
        "context": "- [ ] **æ ‡ç­¾**ï¼š`bug`/`feature`/`docs` ç­‰ï¼›æ¶‰åŠè¡Œä¸ºå˜æ›´åŠ  `breaking-change`ï¼›å¯è§æ€§å˜æ›´åŠ  `needs-release-notes`ï¼›"
      },
      {
        "line": 26,
        "token": "SME",
        "context": "- [ ] **è¯„å®¡äºº**ï¼šè‡³å°‘ä¸€ä½ç»´æŠ¤è€… + ç›¸å…³é¢†åŸŸ SMEã€‚"
      },
      {
        "line": 33,
        "token": "def",
        "context": "- [ ] **ç±»å‹æ ‡æ³¨é½å…¨**ï¼Œé¿å… `def foo(a, b):`ï¼›"
      },
      {
        "line": 35,
        "token": "async",
        "context": "- [ ] **å¼‚æ­¥è§„èŒƒ**ï¼šI/O ç”¨ `async def` + `await`ï¼Œé¿å…é˜»å¡è°ƒç”¨ã€‚"
      },
      {
        "line": 57,
        "token": "HTTP/API",
        "context": "- [ ] HTTP/API éœ€éªŒè¯ API Key / OAuthï¼›MCP åè®®å®‰å…¨çº¦æŸæœªç ´åã€‚"
      },
      {
        "line": 65,
        "token": "mock",
        "context": "- [ ] æµ‹è¯•å¯è¯»ã€å¯ç»´æŠ¤ï¼Œå¿…è¦æ—¶ mock å¤–éƒ¨ä¾èµ–ï¼›"
      },
      {
        "line": 69,
        "token": "pytest",
        "context": "- [ ] æœ¬åœ° `pytest` å…¨ç»¿ï¼›CI Workflow å…¨éƒ¨é€šè¿‡ï¼›"
      },
      {
        "line": 91,
        "token": "gemini",
        "context": "## 5. Gemini Reviewï¼ˆ`/gemini review`ï¼‰"
      },
      {
        "line": 93,
        "token": "gemini",
        "context": "- **æµç¨‹**ï¼šæäº¤ `/gemini review` â†’ ç­‰ 1 åˆ†é’Ÿ â†’ å°†ç»“æœä¸äººå·¥ç‚¹è¯„ä¸€å¹¶åé¦ˆï¼›"
      },
      {
        "line": 102,
        "token": "resolved",
        "context": "- [ ] è¯„å®¡æ„è§å‡å¤„ç†å®Œæ¯•ï¼Œè®¨è®º resolvedï¼›"
      },
      {
        "line": 107,
        "token": "rebase/merge",
        "context": "- [ ] åˆ†æ”¯å·² rebase/merge æœ€æ–° `main`ï¼Œæ— å†²çªï¼›"
      },
      {
        "line": 108,
        "token": "feat",
        "context": "- [ ] æäº¤ä¿¡æ¯éµå¾ªè¯­ä¹‰åŒ–ï¼ˆ`feat: ...`ï¼‰ã€‚"
      },
      {
        "line": 125,
        "token": "except",
        "context": "- é”™è¯¯å¤„ç†ï¼š`except:` å…¨åã€æ— æ—¥å¿—ã€ä¿¡æ¯å«ç³Šï¼›"
      },
      {
        "line": 146,
        "token": "checklist",
        "context": "å€ŸåŠ©ä¸Šè¿° checklistï¼Œå¯æ˜¾è‘—æå‡ PR å®¡æŸ¥æ•ˆç‡ï¼Œå¹¶ä¿æŒäº¤ä»˜è´¨é‡ä¸€è‡´ã€‚EOF"
      }
    ],
    "structure_diff": {
      "heading": [
        51,
        22
      ],
      "codeblock": [
        16,
        4
      ],
      "tables": [
        1,
        0
      ]
    }
  },
  {
    "english": "docs/development/refactoring-notes.md",
    "chinese": "docs/development/refactoring-notes_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "web/api/search.py",
        "context": "- **æœç´¢è¾…åŠ©é€»è¾‘æ¼‚ç§»**ï¼š`web/api/search.py` ä¸­çš„ helpers å·²ä¸ `MemoryService.retrieve_memory/search_by_tag` é‡å ï¼Œæ—§çš„ `parse_time_query` / `is_within_time_range`ï¼ˆè¡Œ 365+ï¼‰åº”ç›´æ¥å§”æ‰˜æˆ–åˆ é™¤"
      },
      {
        "line": 6,
        "token": "HTTP",
        "context": "- **MCP Tool vs HTTP Bridge**ï¼š`mcp_server.py` ä¸ `web/api/mcp.py` å¯¹ `store/retrieve/search/delete/health/...` å®ç°é‡å¤ï¼Œæ˜“å‡ºç°åˆ†é¡µ/è¿‡æ»¤å·®å¼‚ã€‚"
      },
      {
        "line": 47,
        "token": "MCP/HTTP/MCP",
        "context": "- âœ… MCP/HTTP/MCP API å…¨éƒ¨åˆ‡æ¢åˆ°æœåŠ¡å±‚ï¼›"
      },
      {
        "line": 48,
        "token": "helper",
        "context": "- å‰©ä½™ä»»åŠ¡ï¼šç¡®ä¿æ—§ helper å·²ç§»é™¤ã€è¡¥é½é›†æˆæµ‹è¯•ã€æ›´æ–°æ–‡æ¡£ï¼ˆå·²è·Ÿè¸ªï¼‰ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        34,
        8
      ],
      "tables": [
        10,
        9
      ]
    }
  },
  {
    "english": "docs/development/release-checklist.md",
    "chinese": "docs/development/release-checklist_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "HTTP-MCP",
        "context": "ç¡®ä¿ç±»ä¼¼ HTTP-MCP Bridge çš„ä¸¥é‡é—®é¢˜åœ¨å‘å¸ƒå‰è¢«æ•è·ã€‚"
      },
      {
        "line": 8,
        "token": "health",
        "context": "- [ ] **å¥åº·æ£€æŸ¥**ï¼š`/api/health` è¿”å› 200ï¼Œ`/health` æŒ‰é¢„æœŸ 404ï¼›MCP Bridge ä¸ Claude Desktop å‡å¯è°ƒç”¨ï¼›"
      },
      {
        "line": 9,
        "token": "success",
        "context": "- [ ] **è®°å¿†æ“ä½œ**ï¼šå†™å…¥æˆåŠŸã€é‡å¤å†™å…¥è¿”å› `success:false`ã€å¼‚å¸¸è¿”å›æ­£ç¡®çŠ¶æ€ç ï¼ŒBridge ç«¯æµç¨‹ä¸€è‡´ï¼›"
      },
      {
        "line": 10,
        "token": "base",
        "context": "- [ ] **API è·¯ç”±**ï¼šå…¨éƒ¨å¸¦ `/api/` å‰ç¼€ï¼ŒURL æ‹¼æ¥ä¸ç ´å base pathï¼ŒBridge é€ä¼ è·¯å¾„æ­£ç¡®ã€‚"
      },
      {
        "line": 12,
        "token": "HTTP-MCP",
        "context": "### âœ… HTTP-MCP Bridge ä¸“é¡¹"
      },
      {
        "line": 13,
        "token": "success",
        "context": "- [ ] çŠ¶æ€ç ï¼šæ¥å— 200/201ï¼Œä¾æ® `success` å­—æ®µåˆ¤æ–­ç»“æœï¼›"
      },
      {
        "line": 14,
        "token": "api",
        "context": "- [ ] URLï¼šä¿ç•™ `/api`ï¼Œ`new URL()` ä¸è¦†ç›–è·¯å¾„ï¼›"
      },
      {
        "line": 15,
        "token": "initialize",
        "context": "- [ ] MCP åè®®ï¼š`initialize` / `tools/list` / `tools/call` æ­£å¸¸ï¼Œé”™è¯¯å“åº”æ ¼å¼ç¬¦åˆè§„èŒƒã€‚"
      },
      {
        "line": 18,
        "token": "unhealthy",
        "context": "- [ ] **Claude Desktop**ï¼šå†™å…¥/æ£€ç´¢/å¥åº·æ£€æŸ¥é€šè¿‡ï¼Œæ— è¯¯æŠ¥â€œunhealthyâ€ï¼›"
      },
      {
        "line": 20,
        "token": "HTTP",
        "context": "- [ ] **API Consumer**ï¼šç›´æ¥è°ƒç”¨ HTTP APIï¼ŒéªŒè¯å“åº”æ ¼å¼ä¸é”™è¯¯åœºæ™¯ã€‚"
      },
      {
        "line": 26,
        "token": "mock",
        "context": "- å•æµ‹ï¼šBridge ç›¸å…³å•æµ‹å…¨ç»¿ï¼Œmock åœºæ™¯çœŸå®ï¼Œè¦†ç›–è¾¹ç•Œä¸é”™è¯¯ï¼›"
      },
      {
        "line": 43,
        "token": "project",
        "context": "- æ›´æ–° `pyproject.toml` ä¸­ `[project].version`ï¼›"
      },
      {
        "line": 44,
        "token": "lock",
        "context": "- è¿è¡Œ `uv lock`ï¼ŒåŒä¸€æäº¤åŒ…å«ä¸Šè¿°ä¸‰æ–‡ä»¶ï¼›"
      },
      {
        "line": 54,
        "token": "latest",
        "context": "- Dockerï¼š`latest` + `v8.x.x` å¤šæ¶æ„é•œåƒï¼ˆlinux/amd64, arm64ï¼‰ï¼›"
      },
      {
        "line": 55,
        "token": "https",
        "context": "- PyPIï¼šå¯åœ¨ https://pypi.org/project/mcp-memory-service/ ä¸‹è½½ï¼Œ`pip install mcp-memory-service==8.x.x` é€šè¿‡ã€‚"
      },
      {
        "line": 58,
        "token": "git",
        "context": "- æ‰“æ³¨é‡Šæ ‡ç­¾ï¼š`git tag -a v8.x.x -m \"Release v8.x.x\"` â†’ `git push origin v8.x.x`ï¼›"
      },
      {
        "line": 62,
        "token": "PR/CHANGELOG",
        "context": "- Issueï¼šæœç´¢ `fixed-in-main`ï¼ŒéªŒè¯ã€å¼•ç”¨ PR/CHANGELOGï¼Œè´´æ¨¡æ¿å…³é—­å¹¶åŠ  `released`ï¼›"
      },
      {
        "line": 64,
        "token": "notes",
        "context": "- æ²Ÿé€šï¼šRelease notes çªå‡ºå…³é”®ä¿®å¤ï¼Œæ˜ç¡® Breaking ä¸è¿ç§»ã€‚"
      },
      {
        "line": 67,
        "token": "unhealthy",
        "context": "- å¥åº·ï¼šç›‘æ§é”™è¯¯ç‡ã€unhealthy æŠ¥å‘Šã€Claude è¿æ¥ã€API ä½¿ç”¨ï¼›"
      },
      {
        "line": 72,
        "token": "HTTP-MCP",
        "context": "## HTTP-MCP Bridge äº‹æ•…æ•™è®­"
      },
      {
        "line": 75,
        "token": "new",
        "context": "- `new URL()` è¡Œä¸ºéœ€éªŒè¯ï¼›"
      },
      {
        "line": 82,
        "token": "hotfix",
        "context": "1. ç«‹å³å»º hotfix åˆ†æ”¯ + å¤±è´¥æµ‹è¯•ï¼›"
      },
      {
        "line": 91,
        "token": "critical/rollback-needed",
        "context": "1. è®°å½• Issueï¼Œæ‰“ `critical/rollback-needed` å¹¶å…¬å‘Šï¼›"
      },
      {
        "line": 92,
        "token": "latest",
        "context": "2. åˆ‡å›ä¸Šä¸ªç‰ˆæœ¬ï¼Œé‡å»º/æ¨é€ Docker `latest`ï¼Œæ–‡æ¡£æ ‡æ³¨ï¼›"
      },
      {
        "line": 93,
        "token": "twine",
        "context": "3. PyPI `twine yank mcp-memory-service==8.x.x`ï¼›"
      },
      {
        "line": 94,
        "token": "hotfix",
        "context": "4. Git Tag ä¿ç•™ï¼Œæ–°å¢ hotfix tagï¼ŒRelease æ ‡è®°â€œå­˜åœ¨é—®é¢˜â€ï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        31,
        17
      ],
      "codeblock": [
        10,
        0
      ]
    }
  },
  {
    "english": "docs/development/todo-tracker.md",
    "chinese": "docs/development/todo-tracker_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "src",
        "context": "- **æ‰«æç›®å½•**ï¼š`src`"
      },
      {
        "line": 24,
        "token": "lifespan",
        "context": "- `src/mcp_memory_service/web/api/documents.py:592` â€”â€” ä½¿ç”¨ FastAPI æ—§å¼äº‹ä»¶é’©å­ï¼Œåº”è¿ç§»è‡³ `lifespan`ã€‚"
      },
      {
        "line": 39,
        "token": "bash",
        "context": "è¿è¡Œ `bash scripts/maintenance/scan_todos.sh` é‡æ–°ç”Ÿæˆæœ¬åˆ—è¡¨ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        8,
        7
      ],
      "tables": [
        7,
        6
      ]
    }
  },
  {
    "english": "docs/docker-optimized-build.md",
    "chinese": "docs/docker-optimized-build_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 39,
        "token": "up/down/logs",
        "context": "æˆ– docker-compose up/down/logsã€‚"
      },
      {
        "line": 42,
        "token": "default",
        "context": "defaultï¼š`sqlite_vec`ã€‚å¦‚éœ€ ChromaDBï¼š"
      },
      {
        "line": 49,
        "token": "python",
        "context": "æœ¬åœ°è„šæœ¬ï¼š`python scripts/installation/install.py --with-ml/--with-chromadb`ï¼Œå†æ„å»ºã€‚"
      },
      {
        "line": 80,
        "token": "docker",
        "context": "1. `docker exec mcp-memory-chromadb python scripts/backup/backup_memories.py`"
      },
      {
        "line": 82,
        "token": "docker",
        "context": "3. `docker exec mcp-memory-sqlite python scripts/backup/restore_memories.py`"
      },
      {
        "line": 86,
        "token": "chromadb",
        "context": "- `ImportError: chromadb ...`ï¼šæç¤ºæŒ‰éœ€å®‰è£…æˆ–æ”¹ç”¨ sqlite_vecã€‚"
      },
      {
        "line": 92,
        "token": "layer",
        "context": "4. åˆ©ç”¨ Docker layer cacheã€‚"
      },
      {
        "line": 93,
        "token": "slim",
        "context": "5. ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ slim ç‰ˆå‡å°‘æ”»å‡»é¢ã€‚"
      },
      {
        "line": 108,
        "token": "true",
        "context": "`SKIP_MODEL_DOWNLOAD=true` å¯è¿›ä¸€æ­¥å‡å°‘æ„å»ºæ—¶é—´ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        45,
        13
      ],
      "codeblock": [
        32,
        16
      ],
      "tables": [
        9,
        7
      ]
    }
  },
  {
    "english": "docs/document-ingestion.md",
    "chinese": "docs/document-ingestion_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "semtools",
        "context": "é’ˆå¯¹å¤šç§æ–‡æ¡£æ ¼å¼æä¾›å¢å¼ºè§£æï¼Œå¹¶å¯é€‰æ¥å…¥ semtools ä»¥è·å¾—æ›´é«˜è´¨é‡çš„æŠ½å–æ•ˆæœã€‚"
      },
      {
        "line": 9,
        "token": "PDF",
        "context": "| PDF | PyPDF2 / pdfplumber | LlamaParse | å“è¶Šï¼ˆå« OCRã€è¡¨æ ¼ï¼‰ |"
      },
      {
        "line": 16,
        "token": "semtools",
        "context": "å®‰è£… [semtools](https://github.com/run-llama/semtools) ä»¥è·å¾—æ›´å¼ºçš„è§£æï¼š"
      },
      {
        "line": 62,
        "token": "semtools",
        "context": "- **ä¼˜é›…å›é€€**ï¼šåœ¨ semtools ä¸å¯ç”¨æ—¶é€€å›åŸç”Ÿè§£æã€‚"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/enhancement-roadmap-issue-14.md",
    "chinese": "docs/enhancement-roadmap-issue-14_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "hooks",
        "context": "æœ¬è·¯çº¿å›¾æè¿°å¦‚ä½•å°† GitHub Issue #14 ä»ä¸€ä¸ªåŸºç¡€å¤–éƒ¨å·¥å…·æ¼”è¿›ä¸ºå…·å¤‡è®°å¿†æ„ŸçŸ¥èƒ½åŠ›çš„ Claude Code ä½“éªŒï¼Œå……åˆ†åˆ©ç”¨ hooksã€é¡¹ç›®æ„ŸçŸ¥ä¸ MCP æ·±åº¦é›†æˆã€‚"
      },
      {
        "line": 55,
        "token": "hook",
        "context": "- ä¼šè¯åˆå§‹åŒ– hookã€‚"
      },
      {
        "line": 122,
        "token": "hook",
        "context": "1. **Memory Hook System**ï¼šç”Ÿå‘½å‘¨æœŸ hookã€é¡¹ç›®ä¸Šä¸‹æ–‡æ£€æµ‹ã€åŠ¨æ€è®°å¿†æ³¨å…¥ã€‚"
      },
      {
        "line": 125,
        "token": "hook",
        "context": "4. **Integration Layer**ï¼šClaude Code hook æ¥å£ã€MCP Memory è¿æ¥å™¨ã€é¡¹ç›®ç»“æ„åˆ†æå™¨ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        30,
        21
      ]
    }
  },
  {
    "english": "docs/examples/maintenance-session-example.md",
    "chinese": "docs/examples/maintenance-session-example_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 24,
        "token": "test",
        "context": "- æµ‹è¯•ç±»ï¼š`[\"test\", \"debugging\", \"issue-7\", ...]`"
      },
      {
        "line": 25,
        "token": "documentation",
        "context": "- æ–‡æ¡£ï¼š`[\"documentation\", \"january-2025\", \"infrastructure\", ...]`"
      },
      {
        "line": 26,
        "token": "concept",
        "context": "- æ¦‚å¿µï¼š`[\"concept\", \"memory-consolidation\", \"architecture\", ...]`"
      }
    ],
    "structure_diff": {
      "heading": [
        35,
        8
      ],
      "codeblock": [
        32,
        2
      ],
      "tables": [
        10,
        0
      ]
    }
  },
  {
    "english": "docs/examples/quality-system-configs.md",
    "chinese": "docs/examples/quality-system-configs_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "guides/memory-quality-guide.md",
        "context": "> **å‚è€ƒ**ï¼š[è®°å¿†è´¨é‡æŒ‡å—](../guides/memory-quality-guide.md)ï¼Œ[è¯„ä¼°æŠ¥å‘Š](https://github.com/doobidoo/mcp-memory-service/wiki/Memory-Quality-System-Evaluation)"
      },
      {
        "line": 230,
        "token": "https",
        "context": "**å»ºè®®**ï¼šé˜…è¯» [è¯„ä¼°æŠ¥å‘Š](https://github.com/doobidoo/mcp-memory-service/wiki/Memory-Quality-System-Evaluation)ã€‚"
      },
      {
        "line": 260,
        "token": "bug",
        "context": "- **å¤„ç†**ï¼šå±æ¨¡å‹é™åˆ¶ï¼Œé bugï¼›Phase 2/3 ä¼šæ”¹è¿›ï¼ˆIssue #268ï¼‰ã€‚"
      },
      {
        "line": 285,
        "token": "guides/memory-quality-guide.md",
        "context": "- [è®°å¿†è´¨é‡æŒ‡å—](../guides/memory-quality-guide.md)"
      },
      {
        "line": 286,
        "token": "https",
        "context": "- [è¯„ä¼°æŠ¥å‘Š](https://github.com/doobidoo/mcp-memory-service/wiki/Memory-Quality-System-Evaluation)"
      },
      {
        "line": 287,
        "token": "https",
        "context": "- [Issue #268](https://github.com/doobidoo/mcp-memory-service/issues/268) - è®¡åˆ’æ”¹è¿›"
      },
      {
        "line": 291,
        "token": "https",
        "context": "å¦‚æœ‰é—®é¢˜ï¼Œè¯·åœ¨ https://github.com/doobidoo/mcp-memory-service/issues æäº¤ Issueã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        92,
        73
      ],
      "codeblock": [
        32,
        28
      ]
    }
  },
  {
    "english": "docs/features/association-quality-boost.md",
    "chinese": "docs/features/association-quality-boost_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "consolidation",
        "context": "- æ•´åˆï¼ˆconsolidationï¼‰é˜¶æ®µç»Ÿè®¡æ¯æ¡è®°å¿†çš„å…³è”è¾¹æ•°ï¼ˆé»˜è®¤ â‰¥5ï¼‰ã€‚"
      },
      {
        "line": 7,
        "token": "boosted",
        "context": "- æ»¡è¶³é˜ˆå€¼åˆ™æŒ‰å€ç‡æå‡è´¨é‡åˆ†ï¼š`boosted = min(1.0, quality * FACTOR)`ã€‚"
      },
      {
        "line": 29,
        "token": "MIN",
        "context": "- ä¿å®ˆï¼š`MIN=10`, `FACTOR=1.1`"
      },
      {
        "line": 30,
        "token": "MIN",
        "context": "- é»˜è®¤ï¼š`MIN=5`, `FACTOR=1.2`"
      },
      {
        "line": 31,
        "token": "MIN",
        "context": "- æ¿€è¿›ï¼š`MIN=3`, `FACTOR=1.3`"
      },
      {
        "line": 34,
        "token": "quality",
        "context": "1) **ç›¸å…³æ€§è®¡ç®—**ï¼šè´¨é‡è¿›å…¥ `quality_multiplier = 1 + quality*0.5`ï¼Œæå‡åå¯è®©ç»¼åˆç›¸å…³æ€§å°å¹…ä¸Šå‡ï¼ˆç¤ºä¾‹ï¼š0.5â†’0.6 çº¦ +4%ï¼‰ã€‚"
      },
      {
        "line": 41,
        "token": "metadata",
        "context": "- æå‡åçš„è´¨é‡åˆ†å†™å…¥ metadataï¼ŒéšåŒæ­¥/å¤‡ä»½ä¿å­˜ã€‚"
      },
      {
        "line": 51,
        "token": "FACTOR",
        "context": "- è¿‡é«˜çš„ FACTOR æˆ–è¿‡ä½çš„é˜ˆå€¼ä¼šæ”¾å¤§å™ªå£°ï¼Œå»ºè®®ä»é»˜è®¤å€¼å¼€å§‹é€æ­¥è°ƒæ•´ã€‚"
      },
      {
        "line": 56,
        "token": "export",
        "context": "- **å¦‚ä½•å…³é—­ï¼Ÿ** `export MCP_CONSOLIDATION_QUALITY_BOOST_ENABLED=false`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        51,
        12
      ],
      "codeblock": [
        36,
        4
      ],
      "tables": [
        5,
        0
      ]
    }
  },
  {
    "english": "docs/first-time-setup.md",
    "chinese": "docs/first-time-setup_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 79,
        "token": "wheel",
        "context": "ä½¿ç”¨ Python 3.13 æ—¶ï¼Œ**sqlite-vec** å¯èƒ½å› ä¸ºç¼ºä¹é¢„ç¼–è¯‘ wheel è€Œå®‰è£…å¤±è´¥ã€‚å®‰è£…è„šæœ¬å·²å†…ç½®å¤šç§å›é€€ç­–ç•¥ï¼š"
      },
      {
        "line": 82,
        "token": "wheel",
        "context": "2. **æºç æ„å»º**ï¼šè‹¥æ—  wheelï¼Œåˆ™å°è¯•ä»æºç ç¼–è¯‘ï¼›"
      },
      {
        "line": 120,
        "token": "object",
        "context": "### å¸¸è§æŠ¥é”™ï¼š`AttributeError: 'sqlite3.Connection' object has no attribute 'enable_load_extension'`"
      },
      {
        "line": 139,
        "token": "pyenv",
        "context": "**æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ pyenv å¹¶å¼€å¯æ‰©å±•**"
      },
      {
        "line": 186,
        "token": "module",
        "context": "### é—®é¢˜ï¼šæç¤º `No module named 'sentence_transformers'`"
      },
      {
        "line": 201,
        "token": "run",
        "context": "1. æŸ¥çœ‹è°ƒè¯•æ—¥å¿—ï¼š`uv run memory server --debug`"
      },
      {
        "line": 202,
        "token": "python",
        "context": "2. è¿è¡Œç¯å¢ƒæ£€æŸ¥ï¼š`python scripts/verify_environment.py`"
      },
      {
        "line": 233,
        "token": "claude-desktop-",
        "context": "- [é…ç½® Claude Desktop](../README.md#claude-desktop-é›†æˆ)"
      },
      {
        "line": 235,
        "token": "https",
        "context": "- [æ¢ç´¢ API ä¸æ›´æ·±å…¥çš„æ–‡æ¡£](https://github.com/doobidoo/mcp-memory-service/wiki)"
      },
      {
        "line": 243,
        "token": "troubleshooting/general.md",
        "context": "- è‹¥å‡ºç°å…¶ä»–é”™è¯¯ï¼ˆéè­¦å‘Šï¼‰ï¼Œè¯·æŸ¥é˜… [Troubleshooting Guide](troubleshooting/general.md)ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        44,
        32
      ]
    }
  },
  {
    "english": "docs/glama-deployment.md",
    "chinese": "docs/glama-deployment_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "https",
        "context": "MCP Memory Service å·²å‘å¸ƒåœ¨ Glamaï¼š https://glama.ai/mcp/servers/bzvl3lz34o"
      },
      {
        "line": 49,
        "token": "none",
        "context": "| `CHROMA_TELEMETRY_IMPL` | `none` | å…³é—­ ChromaDB é¥æµ‹ |"
      },
      {
        "line": 101,
        "token": "tag",
        "context": "1. GitHub ä»“åº“æ‰“å‡ºæ–°çš„ tagã€‚"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/guides/STORAGE_BACKENDS.md",
    "chinese": "docs/guides/STORAGE_BACKENDS_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 28,
        "token": "HTTP/SSE",
        "context": "- **HTTP/SSE API**ï¼šæ–°ç‰ˆ Web æ§åˆ¶å°ä»…æ”¯æŒ SQLite-vecã€‚"
      },
      {
        "line": 180,
        "token": "HTTP/SSE",
        "context": "- âœ… æ”¯æŒ HTTP/SSE APIï¼›"
      },
      {
        "line": 333,
        "token": "chromadb",
        "context": "- ChromaDB ç›¸å…³ï¼š`chromadb`"
      },
      {
        "line": 334,
        "token": "migration",
        "context": "- è¿ç§»ç›¸å…³ï¼š`migration`"
      },
      {
        "line": 342,
        "token": "sqlite-vec-backend.md",
        "context": "- [SQLite-vec åç«¯æŒ‡å—](../sqlite-vec-backend.md)"
      },
      {
        "line": 343,
        "token": "migration.md",
        "context": "- [è¿ç§»æŒ‡å—](migration.md)"
      },
      {
        "line": 344,
        "token": "platforms/macos-intel.md",
        "context": "- [è€æ—§ç¡¬ä»¶æŒ‡å—](../platforms/macos-intel.md)"
      },
      {
        "line": 345,
        "token": "installation/master-guide.md",
        "context": "- [å®‰è£…æ€»è§ˆ](../installation/master-guide.md)"
      }
    ],
    "structure_diff": {
      "heading": [
        64,
        47
      ],
      "codeblock": [
        40,
        44
      ]
    }
  },
  {
    "english": "docs/guides/advanced-command-examples.md",
    "chinese": "docs/guides/advanced-command-examples_zh-cn.md",
    "status": "ok",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [],
    "structure_diff": {
      "heading": [
        140,
        82
      ],
      "codeblock": [
        30,
        34
      ],
      "tables": [
        3,
        0
      ]
    }
  },
  {
    "english": "docs/guides/chromadb-migration.md",
    "chinese": "docs/guides/chromadb-migration_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 88,
        "token": "legacy",
        "context": "è¿ç§»è„šæœ¬ä¿å­˜åœ¨ legacy åˆ†æ”¯ï¼š"
      },
      {
        "line": 171,
        "token": "not",
        "context": "### é—®é¢˜ï¼šæç¤º â€œChromaDB not installedâ€"
      },
      {
        "line": 173,
        "token": "legacy",
        "context": "**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨ legacy åˆ†æ”¯å®‰è£… chromadb ä¾èµ–ã€‚"
      },
      {
        "line": 219,
        "token": "https",
        "context": "- **è¿ç§»é—®é¢˜**ï¼šå‚è§ [Issue #148](https://github.com/doobidoo/mcp-memory-service/issues/148)"
      },
      {
        "line": 220,
        "token": "https",
        "context": "- **Legacy åˆ†æ”¯**ï¼š [chromadb-legacy](https://github.com/doobidoo/mcp-memory-service/tree/chromadb-legacy)"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/guides/commands-vs-mcp-server.md",
    "chinese": "docs/guides/commands-vs-mcp-server_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "claude",
        "context": "âœ… **ä½¿ç”¨ç®€å•**ï¼ˆ`claude /memory-store \"content\"`ï¼‰"
      },
      {
        "line": 30,
        "token": "python",
        "context": "| **å®‰è£…æ–¹å¼** | `python install.py --install-claude-commands` | `claude mcp add memory-service spawn -- ...` |"
      },
      {
        "line": 37,
        "token": "claude",
        "context": "| **äº¤äº’æ¨¡å¼** | `claude /memory-store \"content\"` | åœ¨ä¼šè¯ä¸­è‡ªç„¶è¯­è¨€è°ƒç”¨å·¥å…· |"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/guides/mcp-enhancements.md",
    "chinese": "docs/guides/mcp-enhancements_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 58,
        "token": "memory",
        "context": "ç¤ºä¾‹ï¼š`memory://recent/10` è¿”å›æœ€è¿‘ 10 æ¡è®°å¿†ã€‚"
      },
      {
        "line": 67,
        "token": "memory",
        "context": "ç¤ºä¾‹ï¼š`memory://tag/learning` è¿”å›æ‰€æœ‰å¸¦æœ‰ â€œlearningâ€ æ ‡ç­¾çš„è®°å¿†ã€‚"
      },
      {
        "line": 76,
        "token": "memory",
        "context": "ç¤ºä¾‹ï¼š`memory://search/python%20programming` æœç´¢ä¸ Python ç¼–ç¨‹ç›¸å…³çš„è®°å¿†ã€‚"
      },
      {
        "line": 112,
        "token": "last",
        "context": "- `time_period`ï¼ˆå¿…å¡«ï¼‰ï¼šæ—¶é—´èŒƒå›´ï¼Œå¦‚ â€œlast weekâ€â€œyesterdayâ€ã€‚"
      },
      {
        "line": 113,
        "token": "work",
        "context": "- `focus_area`ï¼ˆé€‰å¡«ï¼‰ï¼šå…³æ³¨é¢†åŸŸï¼Œå¦‚ â€œworkâ€â€œpersonalâ€ã€‚"
      },
      {
        "line": 130,
        "token": "tags",
        "context": "- `tags`ï¼ˆé€‰å¡«ï¼‰ï¼šé€—å·åˆ†éš”çš„æ ‡ç­¾åˆ—è¡¨ã€‚"
      },
      {
        "line": 131,
        "token": "last",
        "context": "- `time_range`ï¼ˆé€‰å¡«ï¼‰ï¼šåˆ†æçš„æ—¶é—´èŒƒå›´ï¼Œå¦‚ â€œlast monthâ€ã€‚"
      },
      {
        "line": 148,
        "token": "format",
        "context": "- `format`ï¼ˆå¿…å¡«ï¼‰ï¼šå¯¼å‡ºæ ¼å¼ï¼ˆ`json`ã€`markdown`ã€`text`ï¼‰ã€‚"
      },
      {
        "line": 149,
        "token": "filter",
        "context": "- `filter`ï¼ˆé€‰å¡«ï¼‰ï¼šè¿‡æ»¤æ¡ä»¶ï¼ˆæ ‡ç­¾æˆ–æœç´¢è¯­å¥ï¼‰ã€‚"
      },
      {
        "line": 184,
        "token": "topic",
        "context": "- `topic`ï¼ˆå¿…å¡«ï¼‰ï¼šå­¦ä¹ ä¸»é¢˜ã€‚"
      },
      {
        "line": 186,
        "token": "questions",
        "context": "- `questions`ï¼ˆé€‰å¡«ï¼‰ï¼šåç»­è¦ç ”ç©¶çš„é—®é¢˜ã€‚"
      },
      {
        "line": 290,
        "token": "https",
        "context": "- [MCP Specification](https://modelcontextprotocol.info/specification/2024-11-05/)"
      },
      {
        "line": 292,
        "token": "claude-code-integration.md",
        "context": "- [Claude Code Integration Guide](./claude-code-integration.md)"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/guides/mdns-service-discovery.md",
    "chinese": "docs/guides/mdns-service-discovery_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 11,
        "token": "HTTPS",
        "context": "- **ä¼˜å…ˆä½¿ç”¨å®‰å…¨è¿æ¥**ï¼ˆHTTPS ä¼˜å…ˆäº HTTPï¼‰ï¼›"
      },
      {
        "line": 59,
        "token": "true",
        "context": "| `MCP_MDNS_ENABLED` | `true` | æ˜¯å¦å¯ç”¨ mDNS å¹¿æ’­ |"
      },
      {
        "line": 68,
        "token": "false",
        "context": "| `MCP_MEMORY_AUTO_DISCOVER` | `false` | æ˜¯å¦å¯ç”¨è‡ªåŠ¨å‘ç° |"
      },
      {
        "line": 69,
        "token": "true",
        "context": "| `MCP_MEMORY_PREFER_HTTPS` | `true` | æ˜¯å¦ä¼˜å…ˆé€‰æ‹© HTTPS |"
      },
      {
        "line": 73,
        "token": "HTTPS",
        "context": "## HTTPS é›†æˆ"
      },
      {
        "line": 111,
        "token": "HTTPS",
        "context": "- æ˜¯å¦æ”¯æŒ HTTPSï¼ˆè‹¥ `MCP_MEMORY_PREFER_HTTPS=true`ï¼‰"
      },
      {
        "line": 125,
        "token": "https",
        "context": "- `https`ï¼šæ˜¯å¦å¯ç”¨ HTTPSï¼›"
      },
      {
        "line": 127,
        "token": "api",
        "context": "- `api_path`ï¼šAPI åŸºè·¯å¾„ï¼ˆ`/api`ï¼‰ï¼›"
      },
      {
        "line": 154,
        "token": "relay",
        "context": "- âŒ è·¨å­ç½‘ï¼ˆé™¤éé…ç½® mDNS relayï¼‰"
      },
      {
        "line": 201,
        "token": "HTTP",
        "context": "**ç°è±¡ï¼š** å®¢æˆ·ç«¯ä¼˜å…ˆè¿æ¥ HTTP è€Œé HTTPSã€‚"
      },
      {
        "line": 204,
        "token": "HTTPS",
        "context": "1. å¼ºåˆ¶ HTTPS ä¼˜å…ˆï¼ˆå®¢æˆ·ç«¯æ¡¥ï¼‰ï¼š"
      },
      {
        "line": 302,
        "token": "VLAN",
        "context": "2. **ç½‘ç»œéš”ç¦»**ï¼šéœ€è¦æ—¶å¯é€šè¿‡ VLAN æ§åˆ¶å‘ç°èŒƒå›´ï¼›"
      },
      {
        "line": 319,
        "token": "HTTPS",
        "context": "å¯ç”¨ HTTPS ä»¥ç¡®ä¿é€šä¿¡å®‰å…¨ï¼š"
      },
      {
        "line": 404,
        "token": "HTTPS",
        "context": "mDNS æœåŠ¡å‘ç°å¤§å¹…ç®€åŒ–äº† MCP Memory Service çš„éƒ¨ç½²æµç¨‹ï¼Œæ‘†è„±æ‰‹åŠ¨é…ç½®ç«¯ç‚¹çš„ç¹çï¼›é…åˆè‡ªåŠ¨åŒ– HTTPSï¼Œå¯åœ¨æœ¬åœ°ç½‘ç»œä¸­æä¾›å®‰å…¨ã€é›¶é…ç½®çš„æ¥å…¥ä½“éªŒã€‚"
      },
      {
        "line": 408,
        "token": "deployment/multi-client-server.md",
        "context": "- [å¤šå®¢æˆ·ç«¯æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—](../deployment/multi-client-server.md)"
      },
      {
        "line": 409,
        "token": "troubleshooting/general.md",
        "context": "- [é€šç”¨æ•…éšœæ’æŸ¥](../troubleshooting/general.md)"
      }
    ],
    "structure_diff": {
      "heading": [
        55,
        54
      ]
    }
  },
  {
    "english": "docs/guides/memory-consolidation-guide.md",
    "chinese": "docs/guides/memory-consolidation-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "curl",
        "context": "- æŸ¥çœ‹è°ƒåº¦å™¨çŠ¶æ€ï¼š`curl http://127.0.0.1:8000/api/consolidation/status`"
      },
      {
        "line": 7,
        "token": "HTTP",
        "context": "- æ£€æŸ¥ HTTP æœåŠ¡ï¼š`systemctl --user status mcp-memory-http.service`"
      },
      {
        "line": 8,
        "token": "HTTP",
        "context": "- æ‰‹åŠ¨è§¦å‘ï¼ˆHTTPï¼‰ï¼š"
      },
      {
        "line": 17,
        "token": "min",
        "context": "| Cloudflare | 2-4min | å—ç½‘ç»œå½±å“ |"
      },
      {
        "line": 18,
        "token": "min",
        "context": "| Hybrid | 4-6min | æœ¬åœ° 5ms + äº‘åŒæ­¥ ~150ms/æ¡ |"
      },
      {
        "line": 24,
        "token": "horizon",
        "context": "- å‘½åï¼š`consolidation_{horizon}_{timestamp}.json`"
      },
      {
        "line": 26,
        "token": "curl",
        "context": "- æ ¡éªŒï¼š`curl .../status | jq '.jobs_executed'` >0 åï¼Œç›®å½•åº”æœ‰å¯¹åº”æ•°é‡æŠ¥å‘Šã€‚"
      },
      {
        "line": 40,
        "token": "HTTP",
        "context": "1) **HTTP API**ï¼ˆæœ€å¿«ï¼‰åŒä¸Šç¤ºä¾‹ã€‚"
      },
      {
        "line": 41,
        "token": "daily",
        "context": "2) **MCP å·¥å…·**ï¼š`mcp__memory__trigger_consolidation(time_horizon=\"daily\", immediate=true)`ã€‚"
      },
      {
        "line": 42,
        "token": "tokens",
        "context": "3) **Code Execution API**ï¼ˆæœ€çœ tokensï¼‰ï¼š"
      },
      {
        "line": 47,
        "token": "daily",
        "context": "> å»ºè®®ç”¨ `daily` åšæµ‹è¯•ï¼Œæ•°æ®é‡å°‘ã€‚"
      },
      {
        "line": 50,
        "token": "journalctl",
        "context": "- å®æ—¶æ—¥å¿—ï¼š`journalctl --user -u mcp-memory-http.service -f | grep consolidation`"
      },
      {
        "line": 51,
        "token": "metadata",
        "context": "- æ··åˆåç«¯å¸¸è§æ—¥å¿—ï¼šå¼€å§‹ â†’ å¤„ç† N æ¡ â†’ æ›´æ–° metadata â†’ Cloudflare POST 200 ..."
      },
      {
        "line": 55,
        "token": "R2/D1",
        "context": "- **R2/D1 å‡­æ®ç¼ºå¤±**ï¼šæ£€æŸ¥ç¯å¢ƒå˜é‡ä¸ `.env`ã€‚"
      },
      {
        "line": 60,
        "token": "weekly",
        "context": "- è‹¥åˆ‡æ¢åç«¯ï¼ˆå¦‚å•æœºâ†’Hybridï¼‰ï¼Œå»ºè®®é¦–æ¬¡æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡ weeklyï¼Œç¡®ä¿ç´¢å¼•ä¸å…ƒæ•°æ®å¯¹é½ã€‚"
      },
      {
        "line": 63,
        "token": "memory-quality-guide.md",
        "context": "- [è´¨é‡ç³»ç»ŸæŒ‡å—](./memory-quality-guide.md)"
      },
      {
        "line": 64,
        "token": "examples/quality-system-configs.md",
        "context": "- [è´¨é‡ç¤ºä¾‹é…ç½®](../examples/quality-system-configs.md)"
      },
      {
        "line": 65,
        "token": "quality-system-ui-implementation.md",
        "context": "- [è´¨é‡ UI å®æ–½æ–‡æ¡£](../quality-system-ui-implementation.md)"
      }
    ],
    "structure_diff": {
      "heading": [
        38,
        10
      ],
      "codeblock": [
        32,
        6
      ],
      "tables": [
        20,
        13
      ]
    }
  },
  {
    "english": "docs/guides/memory-quality-guide.md",
    "chinese": "docs/guides/memory-quality-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "https",
        "context": "> **è¯„ä¼°**ï¼š[è´¨é‡ç³»ç»Ÿè¯„ä¼°æŠ¥å‘Š](https://github.com/doobidoo/mcp-memory-service/wiki/Memory-Quality-System-Evaluation)"
      },
      {
        "line": 141,
        "token": "query",
        "context": "- **æ¶æ„**ï¼šäº¤å‰ç¼–ç å™¨ï¼ˆquery+memory åŒæ—¶è¾“å…¥ï¼‰"
      },
      {
        "line": 210,
        "token": "HTTP",
        "context": "HTTP APIï¼š"
      },
      {
        "line": 245,
        "token": "HTTP",
        "context": "HTTPï¼š"
      },
      {
        "line": 257,
        "token": "http",
        "context": "æ§åˆ¶å° (http://127.0.0.1:8000/) æ˜¾ç¤ºè´¨é‡å¾½ç« ã€åˆ†å¸ƒå›¾ã€æä¾›æ–¹å æ¯”ã€Top/Bottom åˆ—è¡¨ã€‚"
      },
      {
        "line": 282,
        "token": "local",
        "context": "| æœ¬åœ° | MCP_QUALITY_AI_PROVIDER=local | âœ… å®Œå…¨æœ¬åœ° | $0 |"
      },
      {
        "line": 283,
        "token": "auto",
        "context": "| æ··åˆ | MCP_QUALITY_AI_PROVIDER=auto  | âš ï¸ äº‘å›é€€ | ~$0.30/æœˆ |"
      },
      {
        "line": 284,
        "token": "groq",
        "context": "| äº‘ç«¯ | MCP_QUALITY_AI_PROVIDER=groq  | âŒ å¤–éƒ¨ | ~$0.30/æœˆ |"
      },
      {
        "line": 285,
        "token": "none",
        "context": "| ä»…éšå¼ | MCP_QUALITY_AI_PROVIDER=none | âœ… æœ¬åœ° | $0 |"
      },
      {
        "line": 306,
        "token": "pip",
        "context": "1. `pip install onnxruntime`"
      },
      {
        "line": 308,
        "token": "tail",
        "context": "3. æŸ¥çœ‹æ—¥å¿— `tail -f logs/mcp_memory_service.log | grep quality`"
      },
      {
        "line": 314,
        "token": "onnxruntime",
        "context": "- å®‰è£… GPU ç‰ˆ onnxruntimeï¼ˆcuda/mps/directmlï¼‰ï¼Œæˆ– `export MCP_QUALITY_LOCAL_DEVICE=cuda`ã€‚"
      },
      {
        "line": 317,
        "token": "echo",
        "context": "- ç¡®è®¤å·²å¼€å¯ï¼š`echo $MCP_QUALITY_BOOST_ENABLED`"
      },
      {
        "line": 319,
        "token": "debug_info",
        "context": "- æ£€æŸ¥ `debug_info['reranked']`ã€`debug_info['quality_score']`ã€‚"
      },
      {
        "line": 331,
        "token": "MCP_QUALITY_RETENTION_",
        "context": "- **ä¿ç•™ç­–ç•¥**ï¼šå¯å°†é«˜è´¨é‡ä¿ç•™ 2 å¹´ï¼Œæˆ–å°†ä½è´¨é‡æœ€çŸ­ 2 å‘¨ã€‚è°ƒæ•´ `MCP_QUALITY_RETENTION_*`ã€‚"
      },
      {
        "line": 333,
        "token": "auto",
        "context": "- **æ··åˆäº‘**ï¼š`MCP_QUALITY_AI_PROVIDER=auto`ï¼Œæœ¬åœ°å¤±è´¥å†ç”¨ Groq/Geminiï¼›æœ€åå›é€€éšå¼ä¿¡å·ã€‚"
      },
      {
        "line": 351,
        "token": "false",
        "context": "- **èƒ½å…³é—­å—ï¼Ÿ** `MCP_QUALITY_SYSTEM_ENABLED=false`ã€‚"
      },
      {
        "line": 358,
        "token": "https",
        "context": "- [Issue #260](https://github.com/doobidoo/mcp-memory-service/issues/260) - è´¨é‡ç³»ç»Ÿè§„æ ¼"
      },
      {
        "line": 359,
        "token": "https",
        "context": "- [Issue #261](https://github.com/doobidoo/mcp-memory-service/issues/261) - è·¯çº¿å›¾"
      },
      {
        "line": 360,
        "token": "memory-consolidation-guide.md",
        "context": "- [è®°å¿†æ•´åˆæŒ‡å—](./memory-consolidation-guide.md)"
      },
      {
        "line": 361,
        "token": "api/quality-endpoints.md",
        "context": "- [è´¨é‡ API å‚è€ƒ](../api/quality-endpoints.md)"
      },
      {
        "line": 375,
        "token": "https",
        "context": "å¦‚éœ€å¸®åŠ©ï¼Œè¯·åœ¨ https://github.com/doobidoo/mcp-memory-service/issues æäº¤ Issueã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        126,
        53
      ],
      "codeblock": [
        68,
        34
      ],
      "tables": [
        41,
        35
      ]
    }
  },
  {
    "english": "docs/guides/migration.md",
    "chinese": "docs/guides/migration_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 16,
        "token": "HTTP/SSE",
        "context": "- **HTTP/SSE æ”¯æŒ**ï¼šæ–° Web æ§åˆ¶å°ä»…å…¼å®¹ SQLite-vecã€‚"
      },
      {
        "line": 117,
        "token": "HTTP/SSE",
        "context": "### 5. ï¼ˆå¯é€‰ï¼‰å¯ç”¨ HTTP/SSE æ§åˆ¶å°"
      },
      {
        "line": 132,
        "token": "chroma",
        "context": "| `MCP_MEMORY_STORAGE_BACKEND` | å­˜å‚¨åç«¯ï¼ˆ`chroma` æˆ– `sqlite_vec`ï¼‰ | `chroma` |"
      },
      {
        "line": 134,
        "token": "HTTP/SSE",
        "context": "| `MCP_HTTP_ENABLED` | æ˜¯å¦å¯ç”¨ HTTP/SSE | `false` |"
      },
      {
        "line": 135,
        "token": "HTTP",
        "context": "| `MCP_HTTP_PORT` | HTTP ç«¯å£ | `8001` |"
      },
      {
        "line": 164,
        "token": "bash",
        "context": "> ```bash"
      },
      {
        "line": 165,
        "token": "python",
        "context": "> python scripts/migrate_v5_enhanced.py --help"
      },
      {
        "line": 182,
        "token": "constraint",
        "context": "- å‡ºç° â€œNOT NULL constraint failed: memories.content_hashâ€ï¼›"
      },
      {
        "line": 239,
        "token": "verbose",
        "context": "1. ä½¿ç”¨ `--verbose` æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼›"
      },
      {
        "line": 241,
        "token": "https",
        "context": "3. åœ¨ [GitHub Issues](https://github.com/doobidoo/mcp-memory-service/issues) åé¦ˆé—®é¢˜ï¼›"
      },
      {
        "line": 247,
        "token": "python",
        "context": "2. **å…ˆæ‰§è¡Œ Dry-run**ï¼š`python scripts/migrate_v5_enhanced.py --dry-run`"
      },
      {
        "line": 248,
        "token": "python",
        "context": "3. **è¿ç§»åç«‹åˆ»æ ¡éªŒ**ï¼š`python scripts/validate_migration.py`"
      },
      {
        "line": 251,
        "token": "verification",
        "context": "å‡ºç° â€œMigration verification failedâ€ è¡¨ç¤ºéƒ¨åˆ†è®°å¿†æœªæˆåŠŸè¿ç§»ï¼Œå¯æ ¹æ®æŠ¥å‘Šé‡æ–°æ‰§è¡Œã€‚"
      },
      {
        "line": 255,
        "token": "backend",
        "context": "- **â€œStorage backend not foundâ€**ï¼šç¡®è®¤ `MCP_MEMORY_STORAGE_BACKEND=sqlite_vec`ï¼Œå¹¶å®‰è£… SQLite-vec ä¾èµ–ï¼›"
      },
      {
        "line": 256,
        "token": "file",
        "context": "- **â€œDatabase file not foundâ€**ï¼šæ£€æŸ¥ `MCP_MEMORY_SQLITE_PATH` è·¯å¾„ä¸æ–‡ä»¶æƒé™ã€‚"
      },
      {
        "line": 265,
        "token": "chromadb",
        "context": "| ä¾èµ– | chromadbã€sqlite ç­‰ | ä»… sqlite-vec |"
      },
      {
        "line": 281,
        "token": "HTTP/SSE",
        "context": "2. âœ… å°è¯• HTTP/SSE æ§åˆ¶å°ï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        61,
        39
      ],
      "codeblock": [
        44,
        34
      ]
    }
  },
  {
    "english": "docs/guides/scripts.md",
    "chinese": "docs/guides/scripts_zh-cn.md",
    "status": "ok",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [],
    "structure_diff": {}
  },
  {
    "english": "docs/hooks/phase2-code-execution-migration.md",
    "chinese": "docs/hooks/phase2-code-execution-migration_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "https",
        "context": "- **Issue**ï¼š[#206](https://github.com/doobidoo/mcp-memory-service/issues/206)"
      },
      {
        "line": 8,
        "token": "token",
        "context": "Session Hook å·²ä» MCP å·¥å…·è°ƒç”¨åˆ‡æ¢ä¸º Python ä»£ç æ‰§è¡Œï¼Œå¹³å‡èŠ‚çœ 75% tokenï¼Œå¹¶ä¿æŒ 100% å…¼å®¹ã€‚"
      },
      {
        "line": 11,
        "token": "token",
        "context": "- Session Start ç”± 3,600 â†’ 900 tokenï¼ˆ75%ï¼‰ï¼›"
      },
      {
        "line": 12,
        "token": "token",
        "context": "- Git/Recent/Tagged æŸ¥è¯¢å¹³å‡é™è‡³ 385 tokenï¼›"
      },
      {
        "line": 13,
        "token": "start",
        "context": "- Cold start ~3.4sï¼ˆåŠ è½½æ¨¡å‹ï¼‰ï¼ŒWarm æ‰§è¡Œ Phase 3 å†ä¼˜åŒ–ï¼›"
      },
      {
        "line": 17,
        "token": "fallback",
        "context": "- `claude-hooks/core/session-start.js`ï¼šæ–°å¢ `queryMemoryServiceViaCode` ä¸ fallbackï¼›"
      },
      {
        "line": 18,
        "token": "timeout",
        "context": "- é…ç½®æ–°å¢ `codeExecution.enabled|timeout|fallbackToMCP|pythonPath|enableMetrics`ï¼›"
      },
      {
        "line": 19,
        "token": "fallback",
        "context": "- `claude-hooks/tests/test-code-execution.js`ï¼šéªŒè¯æˆåŠŸç‡ã€fallbackã€token è®¡ç®—ã€é”™è¯¯å¤„ç†ç­‰ã€‚"
      },
      {
        "line": 30,
        "token": "enabled",
        "context": "é»˜è®¤å¯ç”¨ï¼Œå¤±è´¥è‡ªåŠ¨å›é€€ MCPï¼›è®¾ç½® `enabled:false` å³å›åˆ°æ—§æ¨¡å¼ã€‚ä»¤ç‰ŒèŠ‚çœä¼šåœ¨æ—¥å¿—è¾“å‡ºã€‚"
      },
      {
        "line": 34,
        "token": "python",
        "context": "2. è‹¥å¯ç”¨ä»£ç æ‰§è¡Œï¼Œåˆ™è°ƒç”¨ `python -c \"from mcp_memory_service.api import search\"`ï¼›"
      },
      {
        "line": 36,
        "token": "token",
        "context": "4. ç»“æœä»¥ Compact ç±»å‹è¿”å›ï¼ˆ75% token å‡å°‘ï¼‰ã€‚"
      },
      {
        "line": 39,
        "token": "node",
        "context": "`node claude-hooks/tests/test-code-execution.js` â†’ 10/10 é€šè¿‡ã€‚äº¦å¯å•æµ‹ Python API ä¸é…ç½®ã€‚"
      },
      {
        "line": 50,
        "token": "start",
        "context": "- Cold start éœ€åŠ è½½æ¨¡å‹ï¼›"
      },
      {
        "line": 61,
        "token": "search_by_tag/recall/update",
        "context": "- æ‰©å±• `search_by_tag/recall/update`ï¼›"
      },
      {
        "line": 66,
        "token": "token",
        "context": "- 75%+ token å‡å°‘ç›®æ ‡è¾¾æˆï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        52,
        12
      ],
      "codeblock": [
        16,
        2
      ],
      "tables": [
        47,
        7
      ]
    }
  },
  {
    "english": "docs/http-server-management.md",
    "chinese": "docs/http-server-management_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "HTTP",
        "context": "# HTTP æœåŠ¡å™¨ç®¡ç†æŒ‡å—"
      },
      {
        "line": 3,
        "token": "HTTP",
        "context": "MCP Memory Service çš„ HTTP æœåŠ¡å™¨æ˜¯ **Claude Code Hooksï¼ˆNatural Memory Triggersï¼‰æ­£å¸¸å·¥ä½œçš„å‰æ**ã€‚æœ¬æŒ‡å—è¯´æ˜å¦‚ä½•æ£€æŸ¥ã€å¯åŠ¨ä¸è‡ªåŠ¨åŒ–è¯¥æœåŠ¡å™¨ã€‚"
      },
      {
        "line": 5,
        "token": "HTTP",
        "context": "## ä¸ºä»€ä¹ˆéœ€è¦ HTTP æœåŠ¡å™¨ï¼Ÿ"
      },
      {
        "line": 8,
        "token": "HTTP",
        "context": "- ä¼šè¯å¯åŠ¨ Hook éœ€é€šè¿‡ HTTP æœåŠ¡æ‹‰å–ç›¸å…³è®°å¿†ã€‚"
      },
      {
        "line": 9,
        "token": "HTTP",
        "context": "- è‹¥ HTTP æœªè¿è¡Œï¼ŒHook ä¼šé™é»˜å¤±è´¥ï¼Œè®°å¿†æ— æ³•æ³¨å…¥ã€‚"
      },
      {
        "line": 10,
        "token": "HTTP",
        "context": "- é€šè¿‡ HTTP åè®®å¯é¿å…ä¸ Claude Code å†…ç½® MCP æœåŠ¡å†²çªã€‚"
      },
      {
        "line": 45,
        "token": "scripts",
        "context": "- Windowsï¼š`scripts\\server\\start_http_server.bat`"
      },
      {
        "line": 55,
        "token": "run",
        "context": "1. `uv run python scripts/server/check_http_server.py`"
      },
      {
        "line": 56,
        "token": "run",
        "context": "2. è‹¥æœªè¿è¡Œï¼š`uv run python scripts/server/run_http_server.py`"
      },
      {
        "line": 57,
        "token": "hook",
        "context": "3. é‡å¯ Claude Code è§¦å‘ session-start hookã€‚"
      },
      {
        "line": 60,
        "token": "HTTP",
        "context": "- é»˜è®¤ HTTPï¼š`http://localhost:8001`ã€‚"
      },
      {
        "line": 61,
        "token": "hooks",
        "context": "- è‹¥é…ç½®ç«¯å£ä¸ä¸€è‡´ï¼Œéœ€ç»Ÿä¸€ `hooks` é…ç½®æˆ–è°ƒæ•´ `.env` ä¸­ `MCP_HTTP_PORT`ã€‚"
      },
      {
        "line": 69,
        "token": "lsof",
        "context": "- ç«¯å£å ç”¨ï¼š`lsof -i :8001` / `netstat -ano | findstr :8001`ã€‚"
      },
      {
        "line": 70,
        "token": "tail",
        "context": "- ä¾èµ–ç¼ºå¤±/é…ç½®é”™è¯¯ï¼šæŸ¥çœ‹æ—¥å¿— `tail -f /tmp/mcp-http-server.log` æˆ–çª—å£è¾“å‡ºã€‚"
      },
      {
        "line": 74,
        "token": "hook",
        "context": "Claude Code session-start hook ä¼šï¼š"
      },
      {
        "line": 75,
        "token": "HTTP",
        "context": "1. ä¼˜å…ˆè¿æ¥ HTTPã€‚"
      },
      {
        "line": 95,
        "token": "launchd",
        "context": "### macOS launchd"
      },
      {
        "line": 116,
        "token": "scripts",
        "context": "- æ“ä½œï¼šå¯åŠ¨ `scripts\\server\\start_http_server.bat`ã€‚"
      },
      {
        "line": 123,
        "token": "systemd",
        "context": "### Linux systemdï¼ˆæ¨èï¼‰"
      },
      {
        "line": 141,
        "token": "https",
        "context": "- [Wiki æ•…éšœæ’æŸ¥](https://github.com/doobidoo/mcp-memory-service/wiki/07-TROUBLESHOOTING)"
      }
    ],
    "structure_diff": {
      "heading": [
        39,
        17
      ],
      "codeblock": [
        36,
        20
      ]
    }
  },
  {
    "english": "docs/ide-compatability.md",
    "chinese": "docs/ide-compatability_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 24,
        "token": "path/to",
        "context": "**Cursor**ï¼ˆ`/path/to` æ¢æˆä»“åº“è·¯å¾„ï¼‰ï¼š"
      },
      {
        "line": 40,
        "token": "GUI",
        "context": "**WindSurf**ï¼šé…ç½®æ ¼å¼ä¸ Cursor ç›¸åŒï¼Œå¯é€šè¿‡ GUI æ·»åŠ ã€‚"
      },
      {
        "line": 68,
        "token": "npx",
        "context": "- `npx -y @doobidoo/mcp-memory-service`"
      },
      {
        "line": 69,
        "token": "python",
        "context": "- æˆ– `python /path/to/memory_wrapper.py`"
      },
      {
        "line": 78,
        "token": "python",
        "context": "1. `python scripts/test_installation.py`ã€‚"
      },
      {
        "line": 80,
        "token": "run",
        "context": "3. `uv run memory` ç‹¬ç«‹æµ‹è¯•ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        14,
        7
      ],
      "codeblock": [
        10,
        4
      ]
    }
  },
  {
    "english": "docs/images/dashboard-placeholder.md",
    "chinese": "docs/images/dashboard-placeholder_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 14,
        "token": "http",
        "context": "- Dashboard: http://localhost:8001"
      },
      {
        "line": 15,
        "token": "http",
        "context": "- mDNS: http://mcp-memory-service.local:8001"
      },
      {
        "line": 16,
        "token": "http",
        "context": "- API Docs: http://localhost:8001/api/docs"
      },
      {
        "line": 17,
        "token": "http",
        "context": "- ReDoc: http://localhost:8001/api/redoc"
      },
      {
        "line": 20,
        "token": "HTTP",
        "context": "1. å¯åŠ¨ HTTP æœåŠ¡ï¼›"
      },
      {
        "line": 21,
        "token": "http",
        "context": "2. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:8001ï¼›"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/implementation/health_checks.md",
    "chinese": "docs/implementation/health_checks_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 23,
        "token": "collection",
        "context": "- åˆå§‹åŒ–å®Œæˆåé€é¡¹æ ¡éªŒ `collection`ã€`embedding_function`ã€`client` éç©ºï¼›"
      },
      {
        "line": 37,
        "token": "collection/embedding_function/client",
        "context": "- æ–°å¢ `get_initialization_status()`ï¼Œç»Ÿä¸€è¿”å› `collection/embedding_function/client` çš„å¸ƒå°”çŠ¶æ€ï¼Œæ–¹ä¾¿æ—¥å¿—è¾“å‡ºä¸ API æš´éœ²ã€‚"
      },
      {
        "line": 51,
        "token": "validate_storage",
        "context": "- åœ¨ `validate_storage()` åŠç»Ÿè®¡å‡½æ•°ä¸­ï¼Œä¼˜å…ˆæ£€æµ‹ `is_initialized()`ï¼›"
      },
      {
        "line": 53,
        "token": "collection.count",
        "context": "- å¼•å…¥å¤šå±‚ç©ºå€¼ä¿æŠ¤ï¼Œç¡®ä¿ `collection.count()` ç­‰è°ƒç”¨å‰å·²éªŒè¯å¯¹è±¡å­˜åœ¨ã€‚"
      },
      {
        "line": 73,
        "token": "performance.storage.storage_initialization",
        "context": "- å¥åº·æ£€æŸ¥ API å°†åˆå§‹åŒ–çŠ¶æ€é€å‡ºåˆ° `performance.storage.storage_initialization` å­—æ®µï¼Œæ–¹ä¾¿å¯è§‚æµ‹å¹³å°å‘Šè­¦ï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        24,
        12
      ],
      "codeblock": [
        16,
        14
      ]
    }
  },
  {
    "english": "docs/implementation/performance.md",
    "chinese": "docs/implementation/performance_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "JSON",
        "context": "3. **å…ƒæ•°æ®å‹ç¼©**ï¼šç”¨é€—å·åˆ†éš”æ ‡ç­¾ï¼Œå‡å°‘ JSON å¼€é”€ï¼Œå¿«è¯» `_parse_tags_fast()`ï¼›"
      },
      {
        "line": 10,
        "token": "round",
        "context": "7. **æ‰¹é‡æ“ä½œ**ï¼š`store_batch()` å‡å°‘ round tripï¼›"
      },
      {
        "line": 28,
        "token": "tag",
        "context": "- Fast tag parserã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        34,
        8
      ],
      "codeblock": [
        14,
        4
      ]
    }
  },
  {
    "english": "docs/integration/homebrew.md",
    "chinese": "docs/integration/homebrew_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "import",
        "context": "- **å­è¿›ç¨‹éš”ç¦»**ï¼šé˜²æ­¢ import å†²çªï¼›"
      },
      {
        "line": 33,
        "token": "brew",
        "context": "1. **éªŒè¯ Homebrew PyTorch**ï¼š`brew list | grep pytorch`ï¼›`python -c \"import torch; print(torch.__version__)\"`ï¼›"
      },
      {
        "line": 34,
        "token": "venv",
        "context": "2. **å®‰è£…æœåŠ¡**ï¼šåˆ›å»º venv â†’ `python install.py --use-homebrew-pytorch --skip-pytorch`ï¼›"
      },
      {
        "line": 42,
        "token": "python",
        "context": "4. **æµ‹è¯•**ï¼š`python scripts/verify_environment.py`ã€`python scripts/homebrew/homebrew_server.py --test`ã€‚"
      },
      {
        "line": 47,
        "token": "handler",
        "context": "- MCP handler åŒ…è£…å™¨ç¡®ä¿åè®®è¾“å‡ºï¼›"
      },
      {
        "line": 64,
        "token": "venv",
        "context": "- å¯¼å…¥å†²çª â†’ é‡æ–°åˆ›å»º venvï¼›"
      },
      {
        "line": 67,
        "token": "echo",
        "context": "- MCP åè®®å¼‚å¸¸ â†’ `echo '{\"jsonrpc\":...}' | python scripts/homebrew/homebrew_server.py --stdin`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        72,
        10
      ],
      "codeblock": [
        44,
        14
      ],
      "tables": [
        12,
        11
      ]
    }
  },
  {
    "english": "docs/integration/multi-client.md",
    "chinese": "docs/integration/multi-client_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "HTTP/SSE",
        "context": "3. ğŸŒ **é›†ä¸­å¼ HTTP/SSE æœåŠ¡å™¨**ï¼ˆå›¢é˜Ÿ/äº‘ç«¯åœºæ™¯ï¼‰ã€‚"
      },
      {
        "line": 34,
        "token": "python",
        "context": "1. è¿è¡Œè„šæœ¬ï¼š`python setup_multi_client_complete.py`"
      },
      {
        "line": 35,
        "token": "export",
        "context": "2. è®¾ç½®å…±äº«è·¯å¾„ï¼š`export MCP_MEMORY_SQLITE_PATH=\"/shared/mcp/memory.db\"`"
      },
      {
        "line": 59,
        "token": "HTTP/SSE",
        "context": "## ğŸŒ é›†ä¸­å¼ HTTP/SSE æœåŠ¡å™¨"
      },
      {
        "line": 63,
        "token": "HTTPS",
        "context": "- API Key + HTTPSï¼›"
      },
      {
        "line": 79,
        "token": "HTTP",
        "context": "- **Streamable HTTP**ï¼ˆä¼˜å…ˆï¼‰ï¼š"
      },
      {
        "line": 91,
        "token": "stdio",
        "context": "- **mcp-proxy æ¡¥æ¥**ï¼ˆé€‚ç”¨äºä»…æ”¯æŒ stdio çš„å®¢æˆ·ç«¯ï¼‰ï¼š"
      },
      {
        "line": 137,
        "token": "false",
        "context": "| `MCP_HTTP_ENABLED` | `false` | å¯ç”¨ HTTP æ¨¡å¼ |"
      },
      {
        "line": 138,
        "token": "PORT",
        "context": "| `MCP_HTTP_HOST` / `PORT` | `0.0.0.0` / `8001` | ç›‘å¬åœ°å€/ç«¯å£ |"
      },
      {
        "line": 139,
        "token": "HTTP",
        "context": "| `MCP_API_KEY` | æ—  | HTTP è®¤è¯ï¼ˆBearerï¼‰ |"
      },
      {
        "line": 140,
        "token": "chroma",
        "context": "| `MCP_MEMORY_STORAGE_BACKEND` | `sqlite_vec` | ä¹Ÿå¯é€‰ `chroma` / `cloudflare` |"
      },
      {
        "line": 143,
        "token": "true",
        "context": "| `MCP_MDNS_ENABLED` | `true` | mDNS å¹¿æ’­/å‘ç° |"
      },
      {
        "line": 152,
        "token": "HTTP",
        "context": "HTTP Server å¯é€šè¿‡ `MCP_HTTP_WORKERS`ã€`MCP_HTTP_TIMEOUT` ç­‰è°ƒæ•´ã€‚"
      },
      {
        "line": 157,
        "token": "database",
        "context": "- **database is locked**ï¼šæå‡ busy_timeoutï¼Œç¡®ä¿ WAL ç”Ÿæ•ˆã€æ–‡ä»¶æƒé™æ­£ç¡®ï¼›"
      },
      {
        "line": 158,
        "token": "curl",
        "context": "- **æ— æ³•è¿é€š**ï¼š`curl http://server:8001/api/health`ã€æ£€æŸ¥é˜²ç«å¢™ï¼›"
      },
      {
        "line": 159,
        "token": "env/path",
        "context": "- **é…ç½®ä¸ä¸€è‡´**ï¼šå„å®¢æˆ·ç«¯ç¡®è®¤ç›¸åŒ env/pathã€‚"
      },
      {
        "line": 171,
        "token": "python",
        "context": "1. å¤‡ä»½ï¼š`python scripts/backup_memories.py`ï¼›"
      },
      {
        "line": 172,
        "token": "python",
        "context": "2. `python install.py --setup-multi-client --migrate-existing`ï¼›"
      },
      {
        "line": 173,
        "token": "python",
        "context": "3. æˆ–ä½¿ç”¨ `python scripts/migrate_to_multi_client.py --source ... --target ...`ã€‚"
      },
      {
        "line": 175,
        "token": "HTTP/SSE",
        "context": "ç›¸å…³æ–‡æ¡£ï¼šå®‰è£…æŒ‡å—ã€Docker éƒ¨ç½²ã€æ’éšœã€HTTP/SSE è®¾è®¡ã€‚"
      },
      {
        "line": 181,
        "token": "stdio",
        "context": "- **Cursor**ï¼šæœ¬åœ° stdio / mcp-proxy / Streamable HTTPï¼›"
      },
      {
        "line": 182,
        "token": "HTTP",
        "context": "- **Qwen/Gemini**ï¼šè‹¥åŸç”Ÿæ”¯æŒ HTTP ç›´æ¥é…ç½®ï¼Œå¦åˆ™ä½¿ç”¨ `mcp-proxy`ï¼›"
      },
      {
        "line": 183,
        "token": "HTTP",
        "context": "- æ‰€æœ‰å®¢æˆ·ç«¯ç¡®ä¿ `Authorization: Bearer <MCP_API_KEY>`ï¼Œå¦‚ä¸æ”¯æŒ HTTP åˆ™ä½¿ç”¨ `mcp-proxy`ã€‚"
      },
      {
        "line": 185,
        "token": "mcp",
        "context": "æ’éšœè¦ç‚¹ï¼šç¡®è®¤ä½¿ç”¨ `/mcp`ï¼ˆStreamable HTTPï¼‰ï¼Œé `/api/events`ï¼›æœåŠ¡å™¨å·²è®¾ç½® `MCP_API_KEY`ï¼›`curl` éªŒè¯å¥åº·ï¼›å¿…è¦æ—¶ä½¿ç”¨ `mcp-proxy`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        80,
        18
      ],
      "codeblock": [
        68,
        18
      ],
      "tables": [
        23,
        10
      ]
    }
  },
  {
    "english": "docs/integrations/gemini.md",
    "chinese": "docs/integrations/gemini_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 26,
        "token": "dataclass",
        "context": "- éµå¾ª PEP 8ï¼Œä½¿ç”¨ dataclass ä¸å®Œæ•´ docstringï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        10,
        5
      ],
      "codeblock": [
        10,
        4
      ]
    }
  },
  {
    "english": "docs/integrations/groq-bridge.md",
    "chinese": "docs/integrations/groq-bridge_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 15,
        "token": "tok/s",
        "context": "**Kimi K2 ç‰¹æ€§**ï¼š256K çª—å£ã€1T å‚æ•°ã€å‰ç«¯/å¤æ‚ç¼–ç è¡¨ç°ä¼˜ï¼Œ185 tok/sã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        18,
        3
      ],
      "codeblock": [
        10,
        8
      ]
    }
  },
  {
    "english": "docs/integrations/groq-integration-summary.md",
    "chinese": "docs/integrations/groq-integration-summary_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "docs/integrations/groq-bridge.md",
        "context": "- æ–‡ä»¶ä½ç½®ï¼š`scripts/utils/groq_agent_bridge.py`ï¼Œæ–‡æ¡£è§ `docs/integrations/groq-bridge.md`ï¼›"
      },
      {
        "line": 6,
        "token": "agent",
        "context": "- `CLAUDE.md`ã€code-quality-guard agentã€pre-commit hook å·²æ”¯æŒ Groq/Gemini åŒæ¨¡å¼ã€‚"
      },
      {
        "line": 13,
        "token": "https",
        "context": "> API Key è·å–ï¼šhttps://console.groq.com/keys"
      },
      {
        "line": 16,
        "token": "gemini",
        "context": "- **Gemini CLIï¼ˆé»˜è®¤ï¼‰**ï¼š`gemini \"Analyze complexity...\"`"
      },
      {
        "line": 17,
        "token": "python",
        "context": "- **Groq æ¡¥æ¥**ï¼š`python scripts/utils/groq_agent_bridge.py \"Analyze complexity...\" --model moonshotai/kimi-k2-instruct`"
      },
      {
        "line": 18,
        "token": "json",
        "context": "- CLI æ”¯æŒ `--json`ã€`--temperature`ã€`--max-tokens` ç­‰å‚æ•°ã€‚"
      },
      {
        "line": 22,
        "token": "SQL/XSS/",
        "context": "- æ£€æŸ¥å¤æ‚åº¦ã€å®‰å…¨ã€SQL/XSS/å‘½ä»¤æ³¨å…¥ã€ç¡¬ç¼–ç å¯†é’¥ç­‰ï¼›"
      },
      {
        "line": 23,
        "token": "gemini",
        "context": "- è‹¥éœ€æ”¹ç”¨ Groqï¼šå°†è„šæœ¬ä¸­çš„ `gemini` å‘½ä»¤æ›¿æ¢ä¸º `python scripts/utils/groq_agent_bridge.py`ã€‚"
      },
      {
        "line": 30,
        "token": "git",
        "context": "Git æäº¤æ—¶è‡ªåŠ¨è¿è¡Œ pre-commitï¼š`git commit -m \"test\"`ã€‚"
      },
      {
        "line": 44,
        "token": "groq",
        "context": "- `ModuleNotFoundError: groq` â†’ å®‰è£… `groq`ï¼›"
      },
      {
        "line": 45,
        "token": "required",
        "context": "- `GROQ_API_KEY required` â†’ è®¾ç½®ç¯å¢ƒå˜é‡ï¼›"
      },
      {
        "line": 46,
        "token": "gemini",
        "context": "- Gemini CLI è®¤è¯å¼‚å¸¸ â†’ æ‰‹åŠ¨è¿è¡Œ `gemini --version` å®Œæˆç™»å½•ã€‚"
      },
      {
        "line": 48,
        "token": "docs/integrations/groq-bridge.md",
        "context": "ç›¸å…³æ–‡æ¡£ï¼š`docs/integrations/groq-bridge.md`ã€`.claude/agents/code-quality-guard.md`ã€`CLAUDE.md` agent ç« èŠ‚ã€‚EOF"
      }
    ],
    "structure_diff": {
      "heading": [
        33,
        9
      ],
      "codeblock": [
        18,
        4
      ]
    }
  },
  {
    "english": "docs/integrations/groq-model-comparison.md",
    "chinese": "docs/integrations/groq-model-comparison_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "tok/s",
        "context": "| **moonshotai/kimi-k2-instruct** | 256K ä¸Šä¸‹æ–‡ã€1T å‚æ•° (MoE)ã€185 tok/sã€å“åº” ~0.9s | âœ… é¦–é€‰ï¼šä»£ç åˆ†æ/å®‰å…¨æ‰«æ/CI è´¨é‡é—¨æ§› |"
      },
      {
        "line": 7,
        "token": "instant",
        "context": "| **llama-3.1-8b-instant** | åä¸º instant å®é™…æœ€æ…¢ (~1.6s)ï¼Œå†—é•¿è¾“å‡ºï¼Œæˆæœ¬ä½ | ä»…åœ¨éœ€æä½æˆæœ¬ä¸”é—®é¢˜ç®€å•æ—¶ä½¿ç”¨ |"
      },
      {
        "line": 19,
        "token": "tok",
        "context": "| Kimi K2 | $1.00/M tok | $3.00/M tok |"
      }
    ],
    "structure_diff": {
      "heading": [
        17,
        4
      ],
      "codeblock": [
        16,
        2
      ]
    }
  },
  {
    "english": "docs/integrations.md",
    "chinese": "docs/integrations_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "https",
        "context": "### [MCP Memory Dashboard](https://github.com/doobidoo/mcp-memory-dashboard)ï¼ˆè¿›è¡Œä¸­ï¼‰"
      },
      {
        "line": 18,
        "token": "https",
        "context": "### [Claude Memory Context](https://github.com/doobidoo/claude-memory-context)"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/legacy/dual-protocol-hooks.md",
    "chinese": "docs/legacy/dual-protocol-hooks_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "HTTP",
        "context": "Dual Protocol Hooks (v7.0.0+) ä¼šè‡ªåŠ¨é€‰æ‹© MCP â†” HTTP â†” ç¯å¢ƒå…œåº•ï¼Œé…ç½®ç¤ºä¾‹ï¼š"
      },
      {
        "line": 29,
        "token": "auto",
        "context": "- `auto`ï¼šMCP â†’ HTTP â†’ ç¯å¢ƒå…œåº•ï¼›"
      },
      {
        "line": 30,
        "token": "http",
        "context": "- `http`ï¼šä»… HTTPï¼›"
      },
      {
        "line": 31,
        "token": "mcp",
        "context": "- `mcp`ï¼šä»…ç›´æ¥ MCPã€‚"
      },
      {
        "line": 35,
        "token": "HTTP",
        "context": "- æœ¬åœ°å¯èµ° MCPï¼Œè¿œç«¯å¯èµ° HTTPï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        5,
        4
      ]
    }
  },
  {
    "english": "docs/maintenance/memory-maintenance.md",
    "chinese": "docs/maintenance/memory-maintenance_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 11,
        "token": "query",
        "context": "1. æœç´¢æœªæ‰“æ ‡ç­¾è®°å¿†ï¼š`retrieve_memory({\"query\": \"untagged memories\", \"n_results\": 20})`"
      }
    ],
    "structure_diff": {
      "heading": [
        39,
        14
      ],
      "codeblock": [
        34,
        2
      ]
    }
  },
  {
    "english": "docs/mastery/api-reference.md",
    "chinese": "docs/mastery/api-reference_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "HTTP",
        "context": "## MCPï¼ˆFastMCP HTTPï¼‰å·¥å…·"
      },
      {
        "line": 9,
        "token": "content",
        "context": "- `store_memory(content, tags=None, memory_type=\"note\", metadata=None, client_hostname=None)`"
      },
      {
        "line": 11,
        "token": "true",
        "context": "- å†™å…¥ä¸€æ¡è®°å¿†ï¼›æ ‡ç­¾ä¸å…ƒæ•°æ®å¯é€‰ã€‚è‹¥è®¾ç½® `INCLUDE_HOSTNAME=true`ï¼Œå°†é¢å¤–é™„åŠ  `source:<hostname>` æ ‡ç­¾ä¸ `hostname` å…ƒæ•°æ®ã€‚"
      },
      {
        "line": 12,
        "token": "success",
        "context": "- å“åº”ï¼š`{ success: bool, message: str, content_hash: str }`ã€‚"
      },
      {
        "line": 14,
        "token": "query",
        "context": "- `retrieve_memory(query, n_results=5, min_similarity=0.0)`"
      },
      {
        "line": 17,
        "token": "memories",
        "context": "- å“åº”ï¼š`{ memories: [{ content, content_hash, tags, memory_type, created_at, similarity_score }...], query, total_results }`ã€‚"
      },
      {
        "line": 19,
        "token": "tags",
        "context": "- `search_by_tag(tags, match_all=False)`"
      },
      {
        "line": 21,
        "token": "true",
        "context": "- æŒ‰æ ‡ç­¾æœç´¢ï¼Œå¯ä¼ å…¥å•ä¸ªæˆ–å¤šä¸ªæ ‡ç­¾ï¼›å½“ `match_all=true` æ—¶è¦æ±‚æ‰€æœ‰æ ‡ç­¾åŒæ—¶åŒ¹é…ï¼Œå¦åˆ™ä»»æ„åŒ¹é…å³å¯ã€‚"
      },
      {
        "line": 22,
        "token": "memories",
        "context": "- å“åº”ï¼š`{ memories: [{ content, content_hash, tags, memory_type, created_at }...], search_tags: [...], match_all, total_results }`ã€‚"
      },
      {
        "line": 27,
        "token": "success",
        "context": "- å“åº”ï¼š`{ success: bool, message: str, content_hash }`ã€‚"
      },
      {
        "line": 31,
        "token": "status",
        "context": "- å“åº”ï¼š`{ status: \"healthy\"|\"error\", backend, statistics: { total_memories, total_tags, storage_size, last_backup }, timestamp? }`ã€‚"
      },
      {
        "line": 35,
        "token": "stdio",
        "context": "## MCPï¼ˆstdioï¼‰æœåŠ¡å™¨å·¥å…·ä¸æç¤º"
      },
      {
        "line": 37,
        "token": "stdio",
        "context": "åœ¨ `src/mcp_memory_service/server.py` ä¸­ç”± `mcp.server.Server` å®šä¹‰ã€‚ç›¸è¾ƒæ ¸å¿ƒ FastMCP å·¥å…·ï¼Œstdio æœåŠ¡æä¾›æ›´ä¸°å¯Œçš„å·¥å…·ä¸ promptã€‚"
      },
      {
        "line": 42,
        "token": "format",
        "context": "- åˆ†æ/å¯¼å‡ºï¼š`knowledge_analysis`ã€`knowledge_export`ï¼ˆæ”¯æŒ `format: json|markdown|text` åŠå¯é€‰è¿‡æ»¤æ¡ä»¶ï¼‰ï¼›"
      },
      {
        "line": 46,
        "token": "stdio",
        "context": "æ³¨æ„ï¼šstdio æœåŠ¡å™¨ä¼šæ ¹æ®å¤šå®¢æˆ·ç«¯åœºæ™¯åŠ¨æ€é€‰æ‹©å­˜å‚¨æ¨¡å¼ï¼ˆç›´æ¥ä½¿ç”¨ SQLite-vec WAL æˆ–é€šè¿‡ HTTP åè°ƒï¼‰ï¼Œåœ¨ Claude Desktop ç¯å¢ƒæŠ‘åˆ¶ stdout è¾“å‡ºï¼Œåœ¨ LM Studio ç¯å¢ƒæä¾›æ›´è¯¦ç»†çš„è¯Šæ–­æ—¥å¿—ã€‚"
      },
      {
        "line": 48,
        "token": "HTTP",
        "context": "## HTTP æ¥å£"
      },
      {
        "line": 50,
        "token": "HTTP",
        "context": "- å¯¹äº FastMCPï¼ŒHTTP ä»…ä½œä¸º MCP åè®®çš„ä¼ è¾“å±‚ï¼›è·¯ç”±ç”± FastMCP å±‚å¤„ç†ï¼Œå¹¶éé¢å‘å…¬å…± REST APIï¼›"
      },
      {
        "line": 51,
        "token": "HTTP",
        "context": "- åœ¨éƒ¨åˆ†å‘è¡Œç‰ˆä¸­ï¼Œ`src/mcp_memory_service/web/` æä¾›ç‹¬ç«‹çš„ HTTP API ä¸å¯è§†åŒ–é¢æ¿ã€‚æœ¬ä»“åº“ä¸­ HTTP åè°ƒä»…ç”¨äºå†…éƒ¨ï¼Œæ¨èçš„å¤–éƒ¨è®¿é—®æ–¹å¼ä»ä¸º MCPã€‚"
      },
      {
        "line": 55,
        "token": "success",
        "context": "- MCP å·¥å…·çš„é”™è¯¯å°†ä»¥ `{ success: false, message: <details> }` æˆ–é™„å¸¦ `error` å­—æ®µè¿”å›ï¼›"
      },
      {
        "line": 56,
        "token": "stderr",
        "context": "- æ—¥å¿—çº§åˆ« WARNING åŠä»¥ä¸Šä¼šè¾“å‡ºåˆ° stderrï¼ˆClaude Desktop çš„ä¸¥æ ¼æ¨¡å¼ï¼‰ï¼Œinfo/debug ä»…åœ¨ LM Studio ç­‰ç¯å¢ƒè¾“å‡ºåˆ° stdoutï¼›å¯é€šè¿‡ `LOG_LEVEL` æ§åˆ¶è¯¦ç»†ç¨‹åº¦ã€‚"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/mastery/architecture-overview.md",
    "chinese": "docs/mastery/architecture-overview_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "stdio",
        "context": "- MCP stdio æœåŠ¡å™¨ï¼š`src/mcp_memory_service/server.py`ï¼ˆåŸºäº `mcp.server.Server`ï¼‰ï¼›"
      },
      {
        "line": 10,
        "token": "HTTP",
        "context": "- FastAPI MCP æœåŠ¡å™¨ï¼š`src/mcp_memory_service/mcp_server.py`ï¼ˆé€šè¿‡ `FastMCP` æä¾›å¯æµå¼çš„ HTTP è®¿é—®èƒ½åŠ›ï¼‰ï¼›"
      },
      {
        "line": 13,
        "token": "HTTP",
        "context": "- å·¥å…·é›†ï¼šå“ˆå¸Œã€æ—¶é—´è§£æã€ç³»ç»Ÿæ£€æµ‹ã€HTTP åè°ƒç­‰è¾…åŠ©æ¨¡å—ï¼›"
      },
      {
        "line": 20,
        "token": "HTTP",
        "context": "- HTTP å®¢æˆ·ç«¯ï¼š`src/mcp_memory_service/storage/http_client.py`ï¼ˆé¢å‘å¤šå®¢æˆ·ç«¯åè°ƒï¼‰ï¼›"
      },
      {
        "line": 22,
        "token": "memory",
        "context": "- å…¥å£å‘½ä»¤ï¼š`memory`ã€`memory-server`ã€`mcp-memory-server`ï¼ˆPyProject å®šä¹‰çš„è„šæœ¬ï¼‰ï¼›"
      },
      {
        "line": 25,
        "token": "HTTP/HTTPS",
        "context": "- ä¸­å¤®åŒ–é…ç½®ï¼š`src/mcp_memory_service/config.py`ï¼ˆè·¯å¾„ã€åç«¯é€‰æ‹©ã€HTTP/HTTPSã€mDNSã€è®°å¿†æ•´åˆã€ä¸»æœºåæ ‡è®°ã€Cloudflare è®¾ç½®ç­‰ï¼‰ï¼›"
      },
      {
        "line": 30,
        "token": "stdio",
        "context": "1. å®¢æˆ·ç«¯é€šè¿‡ MCPï¼ˆstdio æˆ– FastMCP HTTPï¼‰è°ƒç”¨å·¥å…·/æç¤ºï¼›"
      },
      {
        "line": 34,
        "token": "busy",
        "context": "- é‡‡ç”¨ WAL æ¨¡å¼ + busy timeout ä»¥æ”¯æŒå¹¶å‘ï¼›å¤šå®¢æˆ·ç«¯åœºæ™¯ä¸‹å¯é€šè¿‡ HTTP åè°ƒï¼›"
      },
      {
        "line": 43,
        "token": "stdout",
        "context": "- é‡‡ç”¨ `DualStreamHandler` è¯†åˆ«å®¢æˆ·ç«¯ï¼šåœ¨ Claude Desktop ä¸­ä¿æŒ stdout å¹²å‡€ï¼ˆä»…è¾“å‡º JSONï¼‰ï¼Œåœ¨ LM Studio ç­‰ç¯å¢ƒè¾“å‡ºæ›´è¯¦å°½æ—¥å¿—ï¼›"
      },
      {
        "line": 44,
        "token": "HTTP",
        "context": "- åè°ƒé€»è¾‘ï¼šæ£€æµ‹æ˜¯å¦éœ€è¦å¯åŠ¨ HTTP è¾…åŠ©ä»¥æ”¯æŒå¤šå®¢æˆ·ç«¯è®¿é—®ï¼Œå¹¶æŒ‰éœ€å¯ç”¨ `HTTPClientStorage`ã€‚"
      },
      {
        "line": 47,
        "token": "lifespan",
        "context": "- é€šè¿‡ `lifespan` ç®¡ç†å­˜å‚¨ç”Ÿå‘½å‘¨æœŸï¼Œä½¿ç”¨ `@mcp.tool()` æš´éœ²æ ¸å¿ƒå·¥å…·ï¼ˆ`store_memory`ã€`retrieve_memory`ã€`search_by_tag`ã€`delete_memory`ã€`check_database_health` ç­‰ï¼‰ï¼›"
      },
      {
        "line": 48,
        "token": "HTTP",
        "context": "- æ—¨åœ¨æ”¯æŒè¿œç¨‹/HTTP è®¿é—®ï¼Œå…¼å®¹ Claude Code çš„ `streamable-http` ä¼ è¾“æ¨¡å¼ã€‚"
      },
      {
        "line": 52,
        "token": "initialize",
        "context": "- `MemoryStorage` æ¥å£å®šä¹‰äº† `initialize`ã€å­˜å‚¨ã€æ£€ç´¢/æœç´¢ã€æŒ‰æ ‡ç­¾æœç´¢ã€åˆ é™¤ã€`delete_by_tag`ã€`cleanup_duplicates`ã€`update_memory_metadata`ã€`get_stats` ç­‰æ–¹æ³•ï¼Œå¹¶å¯æ‰©å±•æ ‡ç­¾/æ—¶é—´èŒƒå›´ç›¸å…³è¾…åŠ©å‡½æ•°ï¼›"
      },
      {
        "line": 58,
        "token": "chroma",
        "context": "- åç«¯é€‰æ‹©ï¼š`MCP_MEMORY_STORAGE_BACKEND` âˆˆ `{sqlite_vec, chroma, cloudflare}`ï¼›"
      },
      {
        "line": 59,
        "token": "HTTP/HTTPS",
        "context": "- HTTP/HTTPS æœåŠ¡ã€CORSã€API Keyã€SSE å¿ƒè·³ï¼›"
      },
      {
        "line": 67,
        "token": "mcp",
        "context": "- `mcp`ï¼šæä¾› MCP åè®®æœåŠ¡å™¨/è¿è¡Œæ—¶ï¼›"
      },
      {
        "line": 69,
        "token": "torch",
        "context": "- `sentence-transformers`ã€`torch`ï¼šè´Ÿè´£åµŒå…¥ç”Ÿæˆï¼Œå¯é€šè¿‡é…ç½®ç¦ç”¨ï¼›"
      },
      {
        "line": 70,
        "token": "chromadb",
        "context": "- `chromadb`ï¼šé—ç•™åç«¯ï¼ˆDuckDB + Parquetï¼‰ï¼›"
      },
      {
        "line": 71,
        "token": "fastapi",
        "context": "- `fastapi`ã€`uvicorn`ã€`sse-starlette`ã€`aiofiles`ã€`aiohttp/httpx`ï¼šHTTP ä¼ è¾“ä¸ Cloudflare/å¤–éƒ¨ API æ”¯æŒï¼›"
      },
      {
        "line": 72,
        "token": "psutil",
        "context": "- `psutil`ã€`zeroconf`ï¼šå®¢æˆ·ç«¯æ£€æµ‹ä¸ mDNS æœåŠ¡å‘ç°ã€‚"
      },
      {
        "line": 76,
        "token": "stdout",
        "context": "- å®¢æˆ·ç«¯æ„ŸçŸ¥å‹æ—¥å¿—å¤„ç†å™¨é¿å…åœ¨ Claude ä¸­è¾“å‡ºå¤šä½™ stdoutï¼ˆä¿æŒ JSON çº¯å‡€ï¼‰ï¼Œå¯¹ LM Studio ç­‰ç¯å¢ƒæä¾› info çº§åˆ«æ—¥å¿—ï¼›"
      },
      {
        "line": 81,
        "token": "synchronous",
        "context": "- SQLite-vec é»˜è®¤å¯ç”¨ WALã€`busy_timeout`ã€`synchronous=NORMAL`ã€`cache_size`ã€`temp_store` ç­‰è®¾ç½®ï¼›"
      },
      {
        "line": 82,
        "token": "pragma",
        "context": "- å¯é€šè¿‡ `MCP_MEMORY_SQLITE_PRAGMAS` æ³¨å…¥è‡ªå®šä¹‰ pragmaï¼›"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/mastery/configuration-guide.md",
    "chinese": "docs/mastery/configuration-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "backups",
        "context": "- å¤‡ä»½è·¯å¾„ï¼š`${BASE_DIR}/backups`ã€‚"
      },
      {
        "line": 19,
        "token": "chroma",
        "context": "- `MCP_MEMORY_STORAGE_BACKEND`ï¼šå–å€¼ `sqlite_vec`ï¼ˆé»˜è®¤ï¼‰ã€`chroma` æˆ– `cloudflare`ã€‚"
      },
      {
        "line": 26,
        "token": "pragma",
        "context": "- `MCP_MEMORY_SQLITE_PRAGMAS`ï¼šè‡ªå®šä¹‰ pragma çš„ CSVï¼Œä¾‹å¦‚ `busy_timeout=15000,cache_size=20000`ï¼ˆv8.9.0+ æ¨èç”¨äºå¹¶å‘è®¿é—®ï¼‰ã€‚"
      },
      {
        "line": 32,
        "token": "true",
        "context": "- `MCP_MEMORY_CHROMADB_SSL`ï¼š`true|false`ï¼Œæ˜¯å¦å¯ç”¨ HTTPSï¼›"
      },
      {
        "line": 33,
        "token": "key",
        "context": "- `MCP_MEMORY_CHROMADB_API_KEY`ï¼šè¿œç¨‹è®¿é—®æ—¶çš„ API keyï¼›"
      },
      {
        "line": 51,
        "token": "true",
        "context": "- `MCP_MEMORY_USE_ONNX`ï¼š`true|false`ï¼Œæ˜¯å¦å¯ç”¨ ONNX è·¯å¾„ã€‚"
      },
      {
        "line": 53,
        "token": "HTTP/HTTPS",
        "context": "## HTTP/HTTPS æ¥å£"
      },
      {
        "line": 55,
        "token": "true",
        "context": "- `MCP_HTTP_ENABLED`ï¼š`true|false`ï¼Œæ˜¯å¦å¯ç”¨ HTTPï¼›"
      },
      {
        "line": 60,
        "token": "HTTP",
        "context": "- `MCP_API_KEY`ï¼šå¯é€‰ HTTP æ¥å£å¯†é’¥ã€‚"
      },
      {
        "line": 64,
        "token": "true",
        "context": "- `MCP_HTTPS_ENABLED`ï¼š`true|false`ï¼›"
      },
      {
        "line": 69,
        "token": "true",
        "context": "- `MCP_MDNS_ENABLED`ï¼š`true|false`ï¼ˆé»˜è®¤ `true`ï¼‰ï¼›"
      },
      {
        "line": 76,
        "token": "true",
        "context": "- `MCP_CONSOLIDATION_ENABLED`ï¼š`true|false`ï¼›"
      },
      {
        "line": 84,
        "token": "disabled",
        "context": "- è°ƒåº¦ï¼ˆå…¼å®¹ APSchedulerï¼‰ï¼š`MCP_SCHEDULE_DAILY`ï¼ˆé»˜è®¤ `02:00`ï¼‰ã€`MCP_SCHEDULE_WEEKLY`ï¼ˆé»˜è®¤ `SUN 03:00`ï¼‰ã€`MCP_SCHEDULE_MONTHLY`ï¼ˆé»˜è®¤ `01 04:00`ï¼‰ã€`MCP_SCHEDULE_QUARTERLY`ï¼ˆé»˜è®¤ `d"
      },
      {
        "line": 88,
        "token": "true",
        "context": "- `MCP_MEMORY_INCLUDE_HOSTNAME`ï¼š`true|false`ï¼Œè®¾ç½®åä¼šä¸ºè®°å¿†é™„åŠ  `source:<hostname>` æ ‡ç­¾å¹¶å†™å…¥ `hostname` å…ƒæ•°æ®ã€‚"
      },
      {
        "line": 93,
        "token": "chromadb",
        "context": "- `DEBUG_MODE`ï¼šè‹¥æœªè®¾ç½®ï¼ŒæœåŠ¡ä¼šå°† `chromadb`ã€`sentence_transformers`ã€`transformers`ã€`torch`ã€`numpy` ç­‰æ€§èƒ½æ•æ„Ÿåº“çš„æ—¥å¿—çº§åˆ«æå‡åˆ° WARNINGã€‚"
      },
      {
        "line": 97,
        "token": "HTTP",
        "context": "- SQLite-vecï¼šé»˜è®¤å¯ç”¨ WALã€busy_timeoutã€ä¼˜åŒ–ç¼“å­˜ï¼›å¯å€ŸåŠ© `MCP_MEMORY_SQLITE_PRAGMAS` å®šåˆ¶ã€‚å¤šå®¢æˆ·ç«¯åœºæ™¯ä¸‹ï¼ŒæœåŠ¡ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æŒ‰éœ€å¼€å¯ HTTP åè°ƒï¼›"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/mastery/local-setup-and-run.md",
    "chinese": "docs/mastery/local-setup-and-run_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 13,
        "token": "pip",
        "context": "å¦‚ä½¿ç”¨ pipï¼š"
      },
      {
        "line": 64,
        "token": "HTTP",
        "context": "FastMCP HTTP æœåŠ¡å™¨ï¼ˆé€‚é… Claude Code / è¿œç¨‹åœºæ™¯ï¼‰ï¼š"
      },
      {
        "line": 103,
        "token": "docs/mastery/testing-guide.md",
        "context": "æ›´å¤šä¿¡æ¯å‚è§ `docs/mastery/testing-guide.md` ä¸ `docs/sqlite-vec-backend.md`ã€‚"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/mastery/testing-guide.md",
    "chinese": "docs/mastery/testing-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "wheel",
        "context": "- Python â‰¥ 3.10ï¼ˆæ¨è 3.12ï¼›3.13 å¯èƒ½ç¼ºå°‘é¢„ç¼–è¯‘çš„ `sqlite-vec` wheelï¼‰ï¼›"
      },
      {
        "line": 9,
        "token": "sync",
        "context": "- `uv sync`ï¼ˆéµå¾ª `pyproject.toml` ä¸ `uv.lock`ï¼‰ï¼Œæˆ–"
      },
      {
        "line": 10,
        "token": "pip",
        "context": "- `pip install -e .` å¹¶æŒ‰éœ€å®‰è£…é™„åŠ åŒ…ï¼›"
      },
      {
        "line": 12,
        "token": "torch",
        "context": "- éœ€é¢„è£… `sqlite-vec` ä¸ `sentence-transformers`/`torch`ï¼›"
      },
      {
        "line": 13,
        "token": "sqlite",
        "context": "- æŸäº› OS/Python ç»„åˆéœ€è¦æ”¯æŒåŠ è½½ sqlite æ‰©å±•ï¼ˆè§ Troubleshootingï¼‰ã€‚"
      },
      {
        "line": 19,
        "token": "stub",
        "context": "- å•å…ƒæµ‹è¯•ï¼š`tests/unit/`ï¼ˆä¾‹å¦‚æ ‡ç­¾ã€mDNSã€Cloudflare stub ç­‰ï¼‰ï¼›"
      },
      {
        "line": 55,
        "token": "pytestmark",
        "context": "- å‚è§ `tests/test_sqlite_vec_storage.py` ä¸­çš„ `pytestmark = pytest.mark.skipif(...)`ï¼›"
      },
      {
        "line": 73,
        "token": "lifespan",
        "context": "- è‹¥æµ‹è¯• MCP å·¥å…·æ¥å£ï¼Œæ¨èåœ¨ç‹¬ç«‹è¿›ç¨‹æˆ– `lifespan` ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ FastMCP æœåŠ¡å™¨ï¼ˆ`mcp_server.py`ï¼‰ã€‚"
      },
      {
        "line": 75,
        "token": "MCP/",
        "context": "## æœ¬åœ° MCP/æœåŠ¡éªŒè¯"
      },
      {
        "line": 83,
        "token": "HTTP",
        "context": "FastMCP HTTP æœåŠ¡å™¨ï¼š"
      },
      {
        "line": 89,
        "token": "store",
        "context": "ä½¿ç”¨ä»»æ„ MCP å®¢æˆ·ç«¯ï¼ˆClaude Desktop/Codeï¼‰ï¼Œä¾æ¬¡è°ƒç”¨ `store`ã€`retrieve`ã€`search_by_tag`ã€`delete`ã€`health` ç­‰å·¥å…·å³å¯å®Œæˆæ‰‹åŠ¨éªŒè¯ã€‚"
      },
      {
        "line": 94,
        "token": "stdout",
        "context": "- Claude Desktop ç¯å¢ƒä¸‹ stdout ä¼šè¢«æŠ‘åˆ¶ä»¥ä¿æŒ JSON ä¼ è¾“å¹²å‡€ï¼Œå¯æŸ¥çœ‹ stderr / warningï¼›LM Studio ä¼šåœ¨ stdout è¾“å‡ºæ›´è¯¦ç»†è¯Šæ–­ä¿¡æ¯ï¼›"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/mastery/troubleshooting.md",
    "chinese": "docs/mastery/troubleshooting_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "extension",
        "context": "- æŠ¥é”™æç¤º `SQLite extension loading not supported`ã€`enable_load_extension not available`ï¼›"
      },
      {
        "line": 10,
        "token": "load",
        "context": "- æ—¥å¿—å‡ºç° `Failed to load sqlite-vec extension`ã€‚"
      },
      {
        "line": 19,
        "token": "brew",
        "context": "- ä½¿ç”¨ Homebrew Pythonï¼š`brew install python`ï¼›"
      },
      {
        "line": 20,
        "token": "pyenv",
        "context": "- æˆ–é€šè¿‡ pyenv å¯ç”¨æ‰©å±•ï¼š`PYTHON_CONFIGURE_OPTS='--enable-loadable-sqlite-extensions' pyenv install 3.12.x`ã€‚"
      },
      {
        "line": 22,
        "token": "apt",
        "context": "- å®‰è£…å¼€å‘å¤´æ–‡ä»¶ï¼š`apt install python3-dev sqlite3`ï¼›"
      },
      {
        "line": 25,
        "token": "conda",
        "context": "- ä¼˜å…ˆä½¿ç”¨ python.org å®˜æ–¹å®‰è£…åŒ…æˆ– conda å‘è¡Œç‰ˆã€‚"
      },
      {
        "line": 26,
        "token": "export",
        "context": "- å¤‡é€‰æ–¹æ¡ˆï¼šåˆ‡æ¢åç«¯ `export MCP_MEMORY_STORAGE_BACKEND=chromadb`ï¼ˆè¯¦è§è¿ç§»è¯´æ˜ï¼‰ã€‚"
      },
      {
        "line": 28,
        "token": "torch",
        "context": "## ç¼ºå°‘ `sentence-transformers` / `torch`"
      },
      {
        "line": 36,
        "token": "pip",
        "context": "- å®‰è£… ML ä¾èµ–ï¼š`pip install sentence-transformers torch`ï¼ˆæˆ–ä½¿ç”¨ `uv add`ï¼‰ï¼›"
      },
      {
        "line": 43,
        "token": "deprecated",
        "context": "- æ—¥å¿—å‡ºç° `Using TRANSFORMERS_CACHE is deprecated`ã€`No snapshots directory` ç­‰è­¦å‘Šã€‚"
      },
      {
        "line": 53,
        "token": "required",
        "context": "- æœåŠ¡å¯åŠ¨å³é€€å‡ºå¹¶æç¤º `Missing required environment variables for Cloudflare backend`ã€‚"
      },
      {
        "line": 58,
        "token": "docs/cloudflare-setup.md",
        "context": "- é€šè¿‡ Wrangler æˆ– Cloudflare æ§åˆ¶å°æ ¸å®èµ„æºé…ç½®ï¼Œè¯¦è§ `docs/cloudflare-setup.md`ã€‚"
      },
      {
        "line": 64,
        "token": "HTTP",
        "context": "- å¤šå®¢æˆ·ç«¯æ¨¡å¼æ— æ³•å¯åŠ¨ HTTP åè°ƒæœåŠ¡ï¼Œæˆ–é€€å›åˆ° direct æ¨¡å¼ã€‚"
      },
      {
        "line": 68,
        "token": "http_client",
        "context": "- æœåŠ¡å™¨ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å°è¯•ï¼š`http_client`ï¼ˆè¿æ¥ï¼‰ã€`http_server`ï¼ˆå¯åŠ¨ï¼‰æˆ– `direct`ï¼ˆWALï¼‰ã€‚å¦‚æœåè°ƒç«¯å£è¢«å ç”¨ï¼Œä¼šå›é€€åˆ° directï¼›å¯æ›´æ¢ç«¯å£æˆ–åœæ­¢å ç”¨æœåŠ¡ã€‚"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/migration/code-execution-api-quick-start.md",
    "chinese": "docs/migration/code-execution-api-quick-start_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 23,
        "token": "tokens",
        "context": "\\* ä»¥ Claude Opus è¾“å…¥ä»· $0.15 / ç™¾ä¸‡ tokens ä¼°ç®—ã€‚"
      },
      {
        "line": 51,
        "token": "hooks",
        "context": "> å®‰è£…å™¨ä¼šè‡ªåŠ¨åœ¨ Claude Code hooks ä¸­å¯ç”¨ä»£ç æ‰§è¡Œï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚"
      },
      {
        "line": 85,
        "token": "status",
        "context": "æœŸæœ›è¾“å‡ºï¼š`CompactHealthInfo(status='healthy', count=1247, backend='sqlite_vec')`"
      },
      {
        "line": 97,
        "token": "hook",
        "context": "- Session hook è‡ªåŠ¨è°ƒç”¨ Python APIï¼Œ**ä¼šè¯ Token -75%**ï¼›"
      },
      {
        "line": 110,
        "token": "execution",
        "context": "### â€œâš ï¸ Code execution failed, falling back to MCPâ€"
      },
      {
        "line": 111,
        "token": "python",
        "context": "- æ£€æŸ¥ Python â‰¥3.10ï¼š`python --version`"
      },
      {
        "line": 116,
        "token": "grep",
        "context": "- æ ¡éªŒé…ç½®ï¼š`grep -A5 codeExecution ~/.claude/hooks/config.json`"
      },
      {
        "line": 125,
        "token": "timeout",
        "context": "åœ¨é…ç½®ä¸­å¢å¤§ `timeout`ï¼Œä¾‹å¦‚ 15000msã€‚"
      },
      {
        "line": 128,
        "token": "enabled",
        "context": "- å†æ¬¡ç¡®è®¤ `enabled=true`ï¼›"
      },
      {
        "line": 130,
        "token": "code",
        "context": "- æŸ¥çœ‹æ—¥å¿—æ˜¯å¦å‡ºç° â€œUsing code executionâ€ã€‚"
      },
      {
        "line": 138,
        "token": "search",
        "context": "| search(5) | 2,625 | 385 | 85% |"
      },
      {
        "line": 139,
        "token": "store",
        "context": "| store | 150 | 15 | 90% |"
      },
      {
        "line": 140,
        "token": "health",
        "context": "| health | 125 | 20 | 84% |"
      },
      {
        "line": 141,
        "token": "hook",
        "context": "| Session hook | 3,600 | 900 | 75% |"
      },
      {
        "line": 151,
        "token": "tokens/",
        "context": "- **ä¸ªäººï¼ˆ10 ä¼šè¯/æ—¥ï¼‰**ï¼š9.86M tokens/å¹´ï¼Œâ‰ˆ$1.48ï¼›"
      },
      {
        "line": 152,
        "token": "tokens/",
        "context": "- **å°å›¢é˜Ÿï¼ˆ5 äºº Ã— 8 ä¼šè¯ï¼‰**ï¼š39.42M tokens/å¹´ï¼Œâ‰ˆ$5.91ï¼›"
      },
      {
        "line": 153,
        "token": "tokens/",
        "context": "- **50 äººå›¢é˜Ÿï¼ˆ10 ä¼šè¯ï¼‰**ï¼š492.75M tokens/å¹´ï¼Œâ‰ˆ$73.91ï¼›"
      },
      {
        "line": 154,
        "token": "tokens/",
        "context": "- **500 äººç»„ç»‡ï¼ˆ12 ä¼šè¯ï¼‰**ï¼š5.91B tokens/å¹´ï¼Œâ‰ˆ$886.50ã€‚"
      },
      {
        "line": 160,
        "token": "true",
        "context": "1. **å¼€å¯æŒ‡æ ‡**ï¼š`\"enableMetrics\": true`ï¼Œæ—¥å¿—ä¼šè¾“å‡ºæ¯æ¬¡èŠ‚çœçš„ Tokenï¼›"
      },
      {
        "line": 168,
        "token": "docs/api/code-execution-interface.md",
        "context": "3. **é˜…è¯»æ–‡æ¡£**ï¼š`docs/api/code-execution-interface.md`ã€`docs/hooks/phase2-code-execution-migration.md`ï¼›"
      },
      {
        "line": 178,
        "token": "tools",
        "context": "é‡å¯ Claude Codeï¼Œç¡®ä¿æ—¥å¿—å‡ºç° â€œUsing MCP toolsâ€ã€‚ä»å¯åœ¨ GitHub Issue #206 æäº¤é—®é¢˜ã€‚"
      },
      {
        "line": 187,
        "token": "metrics",
        "context": "- **å¦‚ä½•é‡åŒ–èŠ‚çœï¼Ÿ** å¯ç”¨ metricsï¼ŒæŸ¥çœ‹ Hook æ—¥å¿—ã€‚"
      },
      {
        "line": 188,
        "token": "python",
        "context": "- **Windows æ”¯æŒï¼Ÿ** æœ‰ï¼Œ`pythonPath` è®¾ä¸º `python`ã€‚"
      },
      {
        "line": 195,
        "token": "code",
        "context": "- æ—¥å¿—å‡ºç° â€œUsing code executionâ€ï¼›"
      },
      {
        "line": 210,
        "token": "docs/hooks/",
        "context": "- æ–‡æ¡£ï¼š`docs/api/`ã€`docs/hooks/`"
      },
      {
        "line": 212,
        "token": "https",
        "context": "- é¡¹ç›® Wikiï¼š<https://github.com/doobidoo/mcp-memory-service/wiki>"
      }
    ],
    "structure_diff": {
      "heading": [
        52,
        20
      ],
      "codeblock": [
        40,
        24
      ],
      "tables": [
        18,
        12
      ]
    }
  },
  {
    "english": "docs/natural-memory-triggers/cli-reference.md",
    "chinese": "docs/natural-memory-triggers/cli-reference_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 11,
        "token": "status",
        "context": "- `status [--verbose|--json]`ï¼šæŸ¥çœ‹æ¡£ä½/æ•æ„Ÿåº¦/æ€§èƒ½æŒ‡æ ‡ï¼›"
      },
      {
        "line": 12,
        "token": "profiles",
        "context": "- `profiles`ï¼šåˆ—å‡º speed_focused / balanced / memory_aware / adaptive é…ç½®ï¼›"
      },
      {
        "line": 13,
        "token": "profile",
        "context": "- `profile <name>`ï¼šåˆ‡æ¢æ€§èƒ½æ¡£ä½ï¼›"
      },
      {
        "line": 14,
        "token": "sensitivity",
        "context": "- `sensitivity <value>`ï¼š0.0~1.0 ä¹‹é—´ï¼Œæ•°å€¼è¶Šä½è§¦å‘è¶Šé¢‘ç¹ï¼›"
      },
      {
        "line": 15,
        "token": "enable",
        "context": "- `enable` / `disable`ï¼šå¯ç”¨æˆ–æš‚åœè§¦å‘ï¼›"
      },
      {
        "line": 16,
        "token": "reset",
        "context": "- `reset [--force]`ï¼šæ¢å¤é»˜è®¤ï¼ˆbalancedã€0.6ã€cooldown=30000msã€maxMemories=5ï¼‰ã€‚"
      },
      {
        "line": 19,
        "token": "test",
        "context": "- `test \"æŸ¥è¯¢\"`ï¼šæ¨¡æ‹Ÿè§¦å‘æµç¨‹ï¼Œå±•ç¤ºå„å±‚è€—æ—¶/ç½®ä¿¡åº¦ï¼›"
      },
      {
        "line": 20,
        "token": "metrics",
        "context": "- `metrics`ï¼šè¾“å‡ºå¹³å‡å»¶è¿Ÿã€å‘½ä¸­ç‡ã€è§¦å‘æˆåŠŸç‡ç­‰ï¼›"
      },
      {
        "line": 21,
        "token": "health",
        "context": "- `health`ï¼šæ£€æµ‹æ ¸å¿ƒæ¨¡å—ã€é…ç½®ã€ä¾èµ–ã€Memory Service/Git çŠ¶æ€ï¼›"
      },
      {
        "line": 22,
        "token": "config",
        "context": "- `config show/get/set`ï¼šæŸ¥çœ‹æˆ–ä¿®æ”¹é…ç½®ï¼›"
      },
      {
        "line": 23,
        "token": "cache",
        "context": "- `cache stats/clear/show`ï¼šç®¡ç†è¯­ä¹‰ç¼“å­˜ï¼›"
      },
      {
        "line": 24,
        "token": "export",
        "context": "- `export` / `import`ï¼šå¤‡ä»½/æ¢å¤é…ç½®æˆ–æŒ‡æ ‡ã€‚"
      },
      {
        "line": 27,
        "token": "profile",
        "context": "- æ¶æ„/è°ƒç ”ï¼š`profile memory_aware` + `sensitivity 0.4`ï¼›"
      },
      {
        "line": 28,
        "token": "profile",
        "context": "- æ—¥å¸¸å¼€å‘ï¼š`profile balanced`ï¼›"
      },
      {
        "line": 29,
        "token": "profile",
        "context": "- å¿«é€Ÿè°ƒè¯•ï¼š`profile speed_focused` + `sensitivity 0.8`ï¼›"
      },
      {
        "line": 30,
        "token": "profile",
        "context": "- è‡ªé€‚åº”ï¼š`profile adaptive`ï¼Œç³»ç»Ÿè‡ªåŠ¨å­¦ä¹ åå¥½ã€‚"
      },
      {
        "line": 38,
        "token": "node",
        "context": "Cron ä»»åŠ¡ç›‘æ§ï¼š`0 * * * * node ... metrics --json >> ~/nmt-metrics.log`ã€‚"
      },
      {
        "line": 40,
        "token": "JSON",
        "context": "CLI å¯è¾“å‡º JSONï¼Œä¾¿äºè„šæœ¬é›†æˆï¼›æ”¯æŒè°ƒè¯•æ¨¡å¼ `export CLAUDE_HOOKS_DEBUG=true`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        69,
        6
      ],
      "codeblock": [
        86,
        4
      ]
    }
  },
  {
    "english": "docs/natural-memory-triggers/installation-guide.md",
    "chinese": "docs/natural-memory-triggers/installation-guide_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "claude",
        "context": "- Claude Code CLI å·²å®‰è£…ï¼š`claude --version`"
      },
      {
        "line": 7,
        "token": "node",
        "context": "- Node.js â‰¥14ï¼š`node --version`"
      },
      {
        "line": 8,
        "token": "curl",
        "context": "- MCP Memory Service è¿è¡Œä¸­ï¼š`curl -k https://localhost:8443/api/health`"
      },
      {
        "line": 20,
        "token": "mkdir",
        "context": "1. åˆ›å»ºç›®å½•ï¼š`mkdir -p ~/.claude/hooks/{core,utilities,tests}`ï¼›"
      },
      {
        "line": 22,
        "token": "performance.profiles",
        "context": "3. æ·»åŠ é…ç½®æ®µï¼š`naturalTriggers` ä¸ `performance.profiles`ï¼›"
      },
      {
        "line": 23,
        "token": "chmod",
        "context": "4. è®¾ç½®æƒé™ï¼š`chmod +x ~/.claude/hooks/core/*.js` ç­‰ï¼›"
      },
      {
        "line": 24,
        "token": "node",
        "context": "5. æµ‹è¯•ï¼š`node test-natural-triggers.js`ã€`node memory-mode-controller.js status`ã€‚"
      },
      {
        "line": 49,
        "token": "JSON",
        "context": "2. JSON æ ¡éªŒï¼š`cat config.json | node -e 'JSON.parse...'`ï¼›"
      },
      {
        "line": 50,
        "token": "node",
        "context": "3. CLIï¼š`node memory-mode-controller.js status/profiles`ï¼›"
      },
      {
        "line": 51,
        "token": "node",
        "context": "4. æµ‹è¯• Memory Service è¿æ¥ï¼š`node memory-mode-controller.js test \"What did we decide about authentication?\"`ã€‚"
      },
      {
        "line": 54,
        "token": "node",
        "context": "- è°ƒæ•´æ€§èƒ½æ¡£ä½ï¼š`node memory-mode-controller.js profile memory_aware`ï¼›"
      },
      {
        "line": 55,
        "token": "node",
        "context": "- è®¾ç½®æ•æ„Ÿåº¦ï¼š`node ... sensitivity 0.6`ï¼›"
      },
      {
        "line": 56,
        "token": "commit",
        "context": "- Git é›†æˆï¼šä¿æŒ 14 å¤©å†… commit ä¿¡æ¯ã€æ›´æ–° CHANGELOGã€‚"
      },
      {
        "line": 60,
        "token": "chmod",
        "context": "- æƒé™é”™è¯¯ï¼š`chmod +x`ã€`chmod 755 ~/.claude/hooks`ï¼›"
      },
      {
        "line": 62,
        "token": "python",
        "context": "- é…ç½®æŸåï¼šç”¨ `python -m json.tool` æ ¡éªŒï¼Œæˆ–æ¢å¤å¤‡ä»½ï¼›"
      },
      {
        "line": 68,
        "token": "status",
        "context": "- [ ] CLI status è¾“å‡ºæ­£å¸¸ï¼›"
      },
      {
        "line": 71,
        "token": "profile/sensitivity",
        "context": "- [ ] å·²é€‰å®š profile/sensitivityã€‚"
      },
      {
        "line": 76,
        "token": "node",
        "context": "- ä½¿ç”¨ `node memory-mode-controller.js metrics` è§‚å¯Ÿæ€§èƒ½ï¼›"
      },
      {
        "line": 77,
        "token": "profile/sensitivity",
        "context": "- æ ¹æ®å·¥ä½œæµè°ƒæ•´ profile/sensitivityã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        68,
        10
      ],
      "codeblock": [
        42,
        4
      ],
      "tables": [
        4,
        1
      ]
    }
  },
  {
    "english": "docs/natural-memory-triggers/performance-optimization.md",
    "chinese": "docs/natural-memory-triggers/performance-optimization_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 11,
        "token": "balanced",
        "context": "| balancedï¼ˆæ¨èï¼‰ | æ—¥å¸¸å¼€å‘ | Instant+Fastï¼›åå°å¤„ç†ï¼›maxLatency=200ms | å¸¸è§„ç¼–ç  |"
      },
      {
        "line": 13,
        "token": "adaptive",
        "context": "| adaptive | è‡ªé€‚åº” | è‡ªåŠ¨è°ƒèŠ‚é˜ˆå€¼/å±‚æ¬¡ | é•¿æœŸå­¦ä¹ ä½¿ç”¨ä¹ æƒ¯ |"
      },
      {
        "line": 15,
        "token": "node",
        "context": "åˆ‡æ¢ç¤ºä¾‹ï¼š`node memory-mode-controller.js profile balanced`ã€‚"
      },
      {
        "line": 41,
        "token": "timeout",
        "context": "- SQLiteï¼šå¼€å¯ `localOptimizations`ã€è¾ƒçŸ­ timeoutï¼›"
      },
      {
        "line": 42,
        "token": "timeout",
        "context": "- Cloudflareï¼štimeoutâ‰ˆ8000msã€retry=2ï¼›"
      },
      {
        "line": 50,
        "token": "lookback",
        "context": "å¤§å‹ä»“åº“ï¼šç¼©å° lookbackã€ç¦ç”¨ changelog è§£æã€å¼€å¯ lightweight æ¨¡å¼ã€‚"
      },
      {
        "line": 53,
        "token": "export",
        "context": "- å†…å­˜ï¼š`export NODE_OPTIONS=\"--max-old-space-size=512 --gc-interval=100\"`ï¼›"
      },
      {
        "line": 54,
        "token": "parallel",
        "context": "- CPUï¼šä½é…ç¦ç”¨åå°ã€maxConcurrent=1ï¼›é«˜é…å¯å¯ç”¨ parallel processingã€‚"
      },
      {
        "line": 58,
        "token": "cache",
        "context": "- ç¼“å­˜å‘½ä¸­ä½ï¼šå¢å¤§ cacheã€å»¶é•¿ä¿ç•™ã€åˆ†ææ¨¡å¼ï¼›"
      },
      {
        "line": 59,
        "token": "curl",
        "context": "- Memory Service è¶…æ—¶ï¼šæµ‹è¯• `curl`ã€å¢åŠ  timeoutã€æ£€æŸ¥ç½‘ç»œ/åç«¯ï¼›"
      },
      {
        "line": 63,
        "token": "node",
        "context": "- è‡ªå®šä¹‰æ¡£ä½ï¼š`node ... config set performance.profiles.code_review '{...}'`"
      },
      {
        "line": 65,
        "token": "metrics",
        "context": "- æ—¥/å‘¨ç»´æŠ¤ï¼šå®šæœŸ `metrics`ã€å¯¼å‡ºæ•°æ®ã€æ¸…ç†ç¼“å­˜ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        126,
        10
      ],
      "codeblock": [
        70,
        8
      ],
      "tables": [
        8,
        6
      ]
    }
  },
  {
    "english": "docs/oauth-setup.md",
    "chinese": "docs/oauth-setup_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "HTTP",
        "context": "æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•åœ¨ MCP Memory Service ä¸­é…ç½®å¹¶ä½¿ç”¨ OAuth 2.1 åŠ¨æ€å®¢æˆ·ç«¯æ³¨å†Œï¼ˆDynamic Client Registrationï¼ŒDCRï¼‰ï¼Œä»¥å¯ç”¨ Claude Code çš„ HTTP ä¼ è¾“é›†æˆã€‚"
      },
      {
        "line": 9,
        "token": "HTTP",
        "context": "- **Claude Code HTTP ä¼ è¾“**ï¼šç›´æ¥èå…¥ Claude Code å›¢é˜Ÿåä½œåŠŸèƒ½ã€‚"
      },
      {
        "line": 11,
        "token": "scope",
        "context": "- **å®‰å…¨è®¤è¯**ï¼šåŸºäº JWT çš„è®¿é—®ä»¤ç‰Œï¼Œå¹¶é™„å¸¦ç²¾ç»†åŒ–çš„ scope æ ¡éªŒã€‚"
      },
      {
        "line": 48,
        "token": "true",
        "context": "| `MCP_OAUTH_ENABLED` | `true` | æ˜¯å¦å¯ç”¨ OAuth 2.1 ç«¯ç‚¹ |"
      },
      {
        "line": 95,
        "token": "HTTP",
        "context": "5. **API Access**ï¼šåœ¨æ‰€æœ‰ HTTP ä¼ è¾“è¯·æ±‚ä¸­æºå¸¦ Bearer Tokenã€‚"
      },
      {
        "line": 129,
        "token": "scope",
        "context": "ç³»ç»Ÿæ”¯æŒä¸‰ä¸ª scopeï¼š"
      },
      {
        "line": 131,
        "token": "read",
        "context": "- `read`ï¼šåªè¯»æ¥å£ã€‚"
      },
      {
        "line": 132,
        "token": "write",
        "context": "- `write`ï¼šåˆ›å»º / æ›´æ–°æ¥å£ã€‚"
      },
      {
        "line": 133,
        "token": "admin",
        "context": "- `admin`ï¼šç®¡ç†ç±»æ¥å£ã€‚"
      },
      {
        "line": 148,
        "token": "HTTPS",
        "context": "1. **å¼ºåˆ¶ HTTPS**ï¼šç”Ÿäº§ç¯å¢ƒåŠ¡å¿…å¯ç”¨ HTTPSã€‚"
      },
      {
        "line": 155,
        "token": "localhost",
        "context": "- é localhost URL å¿…é¡»ä½¿ç”¨ HTTPSã€‚"
      },
      {
        "line": 167,
        "token": "true",
        "context": "- ç¡®è®¤ `MCP_OAUTH_ENABLED=true`ã€‚"
      },
      {
        "line": 172,
        "token": "HTTPS",
        "context": "- æ£€æŸ¥ç”Ÿäº§ç¯å¢ƒ HTTPS é…ç½®ã€‚"
      },
      {
        "line": 249,
        "token": "scope",
        "context": "### æ–°å¢ scope çš„æµç¨‹"
      },
      {
        "line": 251,
        "token": "scope",
        "context": "1. åœ¨ `oauth/models.py` ä¸­æ·»åŠ  scope å®šä¹‰ã€‚"
      },
      {
        "line": 255,
        "token": "https",
        "context": "æ›´å¤šç»†èŠ‚å¯å‚è€ƒ [OAuth 2.1 è‰æ¡ˆ](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-1) ä¸ [RFC 7591](https://datatracker.ietf.org/doc/html/rfc7591)ã€‚"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/pr-graphql-integration.md",
    "chinese": "docs/pr-graphql-integration_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "resolved",
        "context": "**åŠ¨æœº**ï¼šå…å»æ‰‹åŠ¨ç‚¹å‡» â€œMark as resolvedâ€ï¼Œé™ä½è¯„å®¡æ‘©æ“¦"
      },
      {
        "line": 11,
        "token": "graphql",
        "context": "2. [ä¸ºä»€ä¹ˆé€‰æ‹© GraphQL](#ä¸ºä»€ä¹ˆé€‰æ‹©-graphql)"
      },
      {
        "line": 16,
        "token": "api-",
        "context": "7. [API å‚è€ƒ](#api-å‚è€ƒ)"
      },
      {
        "line": 26,
        "token": "commit",
        "context": "3. **é™„åŠ è¯´æ˜**ï¼ˆå¼•ç”¨ä¿®å¤ commitï¼‰ã€‚"
      },
      {
        "line": 118,
        "token": "resolve",
        "context": "- **ç”¨é€”**ï¼šè¯†åˆ«ä¿®å¤çš„çº¿ç¨‹å¹¶è‡ªåŠ¨ resolveã€‚"
      },
      {
        "line": 152,
        "token": "push",
        "context": "- push åè‡ªåŠ¨ resolveã€‚"
      },
      {
        "line": 164,
        "token": "bash",
        "context": "1. æŸ¥çœ‹çº¿ç¨‹ï¼š`bash scripts/pr/thread_status.sh 212`"
      },
      {
        "line": 165,
        "token": "push",
        "context": "2. ä¿®å¤å¹¶ pushã€‚"
      },
      {
        "line": 166,
        "token": "bash",
        "context": "3. è‡ªåŠ¨ç»“æ¡ˆï¼š`bash scripts/pr/resolve_threads.sh 212 HEAD --auto`"
      },
      {
        "line": 167,
        "token": "comment",
        "context": "4. è§¦å‘æ–°å®¡æŸ¥ï¼š`gh pr comment 212 --body \"/gemini review\"`"
      },
      {
        "line": 183,
        "token": "source",
        "context": "- ç¨‹åºåŒ–æŸ¥è¯¢ï¼š`source scripts/pr/lib/graphql_helpers.sh` åè°ƒç”¨ `get_review_threads`ã€‚"
      },
      {
        "line": 191,
        "token": "watch",
        "context": "- **Phase 1**ï¼šåˆ›å»º PR åå¼€å¯ watch æ¨¡å¼ã€‚"
      },
      {
        "line": 192,
        "token": "resolve",
        "context": "- **Phase 2**ï¼š`auto_review.sh` è‡ªåŠ¨ä¿®å¤ + resolve + è§¦å‘æ–°å®¡æŸ¥ã€‚"
      },
      {
        "line": 204,
        "token": "helpers",
        "context": "| ç¼ºå°‘ helpers | `thread auto-resolution disabled` | æ£€æŸ¥ `scripts/pr/lib` æ˜¯å¦å­˜åœ¨ï¼Œå¿…è¦æ—¶ä» main æ‹‰å– |"
      },
      {
        "line": 205,
        "token": "support",
        "context": "| gh CLI ç‰ˆæœ¬è¿‡ä½ | â€œGraphQL support requires v2.20.0+â€ | `gh upgrade` |"
      },
      {
        "line": 206,
        "token": "resolve",
        "context": "| resolve å¤±è´¥ | `Failed to resolve` | æ£€æŸ¥çº¿ç¨‹ IDã€ç½‘ç»œã€æƒé™ (`gh auth status`) |"
      },
      {
        "line": 217,
        "token": "JSON",
        "context": "- `get_review_threads`ï¼šè¿”å›çº¿ç¨‹ JSONã€‚"
      },
      {
        "line": 218,
        "token": "mutation",
        "context": "- `resolve_review_thread`ï¼šæ‰§è¡Œ GraphQL mutationã€‚"
      },
      {
        "line": 228,
        "token": "dry",
        "context": "3. **å…ˆ dry run**ï¼š`resolve_threads.sh 212 HEAD` é¢„è§ˆï¼Œå† `--auto`ã€‚"
      },
      {
        "line": 235,
        "token": "point/",
        "context": "- GraphQL é€Ÿç‡é™åˆ¶ï¼š5,000 point/å°æ—¶ï¼›å…¸å‹ PRï¼ˆ30 çº¿ç¨‹ï¼‰ä»… ~40 pointã€‚"
      },
      {
        "line": 242,
        "token": "mutation",
        "context": "1. **æ‰¹é‡çº¿ç¨‹æ“ä½œ**ï¼šä¸€æ¬¡ GraphQL mutation ç»“æ¡ˆå¤šæ¡çº¿ç¨‹ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        119,
        28
      ],
      "codeblock": [
        116,
        26
      ],
      "tables": [
        15,
        13
      ]
    }
  },
  {
    "english": "docs/quality-system-ui-implementation.md",
    "chinese": "docs/quality-system-ui-implementation_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 11,
        "token": "hash",
        "context": "- `/api/quality/memories/{hash}`ï¼šå•æ¡è´¨é‡è¯¦æƒ…ã€‚"
      },
      {
        "line": 13,
        "token": "api/quality/top",
        "context": "- `/api/quality/top` & `/api/quality/bottom`ï¼šTop/Bottom Nï¼ˆv8.45.0+ï¼‰ã€‚"
      },
      {
        "line": 14,
        "token": "debug_info.quality_score",
        "context": "- `/api/search`ï¼šè¿”å› `debug_info.quality_score`ã€`quality_provider`ï¼ˆå¼€å¯è´¨é‡å¢å¼ºæ—¶ï¼‰ã€‚"
      },
      {
        "line": 22,
        "token": "provider",
        "context": "- æç¤ºæ°”æ³¡ï¼šæ˜¾ç¤º providerï¼ˆONNX / Groq / Gemini / Implicitï¼‰ã€‚"
      },
      {
        "line": 36,
        "token": "debug_info",
        "context": "- è´¨é‡å¾½ç« æ•°æ®ä»æœç´¢ç»“æœçš„ `debug_info` å¤ç”¨ï¼Œé¿å…é‡å¤è¯·æ±‚ã€‚"
      },
      {
        "line": 41,
        "token": "provider",
        "context": "- å¦‚æœ provider ä¸º `ImplicitSignalsEvaluator`ï¼šæç¤ºâ€œä½¿ç”¨éšå¼ä¿¡å·ï¼ˆæœªå¯ç”¨ ONNXï¼‰â€ã€‚"
      },
      {
        "line": 42,
        "token": "rerank",
        "context": "- å½“è´¨é‡å¢å¼ºå…³é—­æ—¶ï¼ˆé»˜è®¤ï¼‰ï¼šä»å¯æ˜¾ç¤ºå·²æœ‰åˆ†å¸ƒï¼Œä½†ä¸å¼ºåˆ¶ rerankã€‚"
      },
      {
        "line": 45,
        "token": "export",
        "context": "- å¼€å¯è´¨é‡å¢å¼ºï¼š`export MCP_QUALITY_BOOST_ENABLED=true`ï¼Œå‰ç«¯å¯æ˜¾ç¤ºâ€œè´¨é‡é‡æ’å·²å¯ç”¨â€ã€‚"
      },
      {
        "line": 50,
        "token": "key",
        "context": "- i18n key ä½¿ç”¨ `quality.*` å‘½åï¼›ä¸­æ–‡æ–‡æ¡ˆå·²è¦†ç›–ï¼Œå…¶ä»–è¯­è¨€å¯å¤ç”¨ã€‚"
      },
      {
        "line": 60,
        "token": "true",
        "context": "- **ä¸ºä»€ä¹ˆæ²¡æœ‰è´¨é‡åˆ†ï¼Ÿ** æœªè§¦å‘è¯„åˆ†æˆ–è´¨é‡ç³»ç»Ÿè¢«ç¦ç”¨ï¼›æ£€ç´¢ä¸€æ¬¡æˆ–å¯ç”¨ `MCP_QUALITY_SYSTEM_ENABLED=true`ã€‚"
      },
      {
        "line": 65,
        "token": "guides/memory-quality-guide.md",
        "context": "- [è®°å¿†è´¨é‡æŒ‡å—](./guides/memory-quality-guide.md)"
      },
      {
        "line": 66,
        "token": "examples/quality-system-configs.md",
        "context": "- [è´¨é‡ç¤ºä¾‹é…ç½®](./examples/quality-system-configs.md)"
      }
    ],
    "structure_diff": {
      "heading": [
        29,
        14
      ],
      "codeblock": [
        10,
        0
      ],
      "tables": [
        1,
        0
      ]
    }
  },
  {
    "english": "docs/quick-setup-cloudflare-dual-environment.md",
    "chinese": "docs/quick-setup-cloudflare-dual-environment_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "backend",
        "context": "- Claude Desktopï¼šâœ… ä½¿ç”¨ Cloudflare backendï¼Œå« 1000+ è®°å¿†ã€‚"
      },
      {
        "line": 8,
        "token": "backend",
        "context": "- Claude Codeï¼šâœ… è¿æ¥åŒä¸€ Cloudflare backendã€‚"
      },
      {
        "line": 9,
        "token": "backend",
        "context": "- å¥åº·æ£€æŸ¥ä¸­å‡ºç°ï¼š`\"backend\": \"cloudflare\"` ä¸ `\"storage_type\": \"CloudflareStorage\"`ã€‚"
      },
      {
        "line": 21,
        "token": "env",
        "context": "### ç¬¬ 2 æ­¥ï¼šåˆ›å»º `.env`"
      },
      {
        "line": 73,
        "token": "memory",
        "context": "- **Claude Desktop**ï¼šé‡å¯ â†’ æ–°å¯¹è¯ â†’ â€œCheck memory healthâ€ã€‚"
      },
      {
        "line": 74,
        "token": "claude",
        "context": "- **Claude Code**ï¼š`claude mcp list` åº”æ˜¾ç¤º memory æœåŠ¡å·²è¿æ¥ã€‚"
      },
      {
        "line": 100,
        "token": "env",
        "context": "### `.env`"
      },
      {
        "line": 146,
        "token": "env",
        "context": "| å¥åº·æ£€æŸ¥æ˜¾ç¤º sqlite-vec | env æœªåŠ è½½ | ç¡®è®¤ `cwd`ã€`env`ã€é‡å¯åº”ç”¨ |"
      },
      {
        "line": 147,
        "token": "env",
        "context": "| æç¤ºç¼ºå°‘å˜é‡ | `.env` æˆ–ç³»ç»Ÿå˜é‡æœªç”Ÿæ•ˆ | ä½¿ç”¨ `python -c` æ£€æŸ¥ os.getenv |"
      },
      {
        "line": 160,
        "token": "config",
        "context": "- å•ä¸€çœŸæºï¼šClaude Desktop config + `.env`ã€‚"
      },
      {
        "line": 161,
        "token": "server",
        "context": "- ä¼˜å…ˆçº§ï¼šMCP server `env` > ç³»ç»Ÿå˜é‡ > `.env` > é»˜è®¤å€¼ã€‚"
      },
      {
        "line": 165,
        "token": "backend",
        "context": "- `backend=cloudflare`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        48,
        18
      ],
      "codeblock": [
        28,
        18
      ],
      "tables": [
        0,
        6
      ]
    }
  },
  {
    "english": "docs/remote-configuration-wiki-section.md",
    "chinese": "docs/remote-configuration-wiki-section_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "HTTP",
        "context": "å½“å¸Œæœ›è®© Claude Desktop æˆ– Cursor è¿æ¥è¿œç¨‹è¿è¡Œçš„ MCP Memory Serviceï¼ˆä¾‹å¦‚ VPSã€ç‹¬ç«‹æœåŠ¡å™¨æˆ–å¦ä¸€å°ç”µè„‘ï¼‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»“åº“é™„å¸¦çš„ HTTP-to-MCP Bridgeï¼ˆHTTPâ†’MCP ç½‘æ¡¥ï¼‰ã€‚"
      },
      {
        "line": 13,
        "token": "HTTP",
        "context": "MCP Memory Service å†…ç½®ä¸€ä¸ª Node.js ç½‘æ¡¥ï¼Œå°† HTTP API è°ƒç”¨è½¬æ¢ä¸º MCP åè®®æ¶ˆæ¯ï¼Œä»è€Œå…è®¸è¿œç¨‹å®¢æˆ·ç«¯æ¥å…¥ã€‚"
      },
      {
        "line": 73,
        "token": "HTTP",
        "context": "1. **ä¸‹è½½ HTTP ç½‘æ¡¥**"
      },
      {
        "line": 74,
        "token": "https",
        "context": "- å°† [`examples/http-mcp-bridge.js`](https://github.com/doobidoo/mcp-memory-service/blob/main/examples/http-mcp-bridge.js) å¤åˆ¶åˆ°æœ¬åœ°ã€‚"
      },
      {
        "line": 82,
        "token": "https",
        "context": "- å°† `https://your-server:8001/api` æ›¿æ¢ä¸ºè¿œç¨‹æœåŠ¡å™¨åœ°å€ã€‚"
      },
      {
        "line": 87,
        "token": "memory",
        "context": "- è¿è¡Œä¸€æ¬¡ç®€å•çš„ memory æ“ä½œæµ‹è¯•è¿æ¥ã€‚"
      },
      {
        "line": 96,
        "token": "HTTPS",
        "context": "- âœ… **è‡ªç­¾åè¯ä¹¦ HTTPS**ï¼šå…¼å®¹å¼€å‘ç¯å¢ƒ SSLã€‚"
      },
      {
        "line": 105,
        "token": "HTTP",
        "context": "| `MCP_HTTP_ENDPOINT` | è¿œç¨‹æœåŠ¡å™¨ API ç«¯ç‚¹ï¼ˆæµå¼ HTTP ä½äº `/mcp`ï¼ŒREST ä½äº `/api`ï¼‰ | `http://localhost:8001/api` | `https://myserver.com:8001/api` |"
      },
      {
        "line": 107,
        "token": "false",
        "context": "| `MCP_MEMORY_AUTO_DISCOVER` | æ˜¯å¦å¯ç”¨ mDNS æœåŠ¡å‘ç° | `false` | `true` |"
      },
      {
        "line": 108,
        "token": "HTTPS",
        "context": "| `MCP_MEMORY_PREFER_HTTPS` | æœåŠ¡å‘ç°æ—¶ä¼˜å…ˆä½¿ç”¨ HTTPS | `true` | `false` |"
      },
      {
        "line": 119,
        "token": "curl",
        "context": "- ä½¿ç”¨ `curl https://your-server:8001/api/health` æµ‹è¯•å¥åº·æ£€æŸ¥ã€‚"
      },
      {
        "line": 123,
        "token": "HTTPS",
        "context": "- **ç°è±¡**ï¼šHTTPS è¿æ¥å‡ºç° SSL æŠ¥é”™ã€‚"
      },
      {
        "line": 126,
        "token": "HTTPS",
        "context": "- ç¡®è®¤æœåŠ¡å™¨å¯ç”¨äº† HTTPSã€‚"
      },
      {
        "line": 149,
        "token": "stderr",
        "context": "- ç½‘æ¡¥æ—¥å¿—è¾“å‡ºåˆ° Claude Desktop æ§åˆ¶å° / stderrã€‚"
      },
      {
        "line": 157,
        "token": "https",
        "context": "- [`examples/claude-desktop-http-config.json`](https://github.com/doobidoo/mcp-memory-service/blob/main/examples/claude-desktop-http-config.json)ï¼šå®Œæ•´é…ç½®æ¨¡æ¿ã€‚"
      },
      {
        "line": 158,
        "token": "https",
        "context": "- [`examples/http-mcp-bridge.js`](https://github.com/doobidoo/mcp-memory-service/blob/main/examples/http-mcp-bridge.js)ï¼šå¸¦æ³¨é‡Šçš„ç½‘æ¡¥å®ç°ã€‚"
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "docs/research/code-execution-interface-implementation.md",
    "chinese": "docs/research/code-execution-interface-implementation_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "token",
        "context": "- **ç›®æ ‡**ï¼šä¸º mcp-memory-service æä¾› Python ä»£ç  APIï¼Œå°† token æ¶ˆè€—é™ä½ 90%-95%"
      },
      {
        "line": 12,
        "token": "token",
        "context": "1. é€šè¿‡ä»£ç æ‰§è¡Œå¯ç¨³å®šå‰Šå‡ 75%-90% tokenï¼›"
      },
      {
        "line": 14,
        "token": "interpreter",
        "context": "3. Python interpreter MCPã€CodeAgents ç­‰å®è·µè¯æ˜è¯¥æ¨¡å¼å¯è¡Œï¼›"
      },
      {
        "line": 20,
        "token": "token",
        "context": "- **å·¥å…·æ•°é‡**ï¼š33 ä¸ª MCP å·¥å…·ï¼Œæ¯æ¬¡è°ƒç”¨çº¦é™„åŠ  125 token çš„ schemaï¼›"
      },
      {
        "line": 21,
        "token": "token",
        "context": "- **Session Hook**ï¼šå•æ¬¡å¯åŠ¨ 3,600-9,600 tokenï¼›"
      },
      {
        "line": 22,
        "token": "token",
        "context": "- **æ£€ç´¢ 5 æ¡**ï¼šçº¦ 2,625 tokenï¼›"
      },
      {
        "line": 23,
        "token": "PDF",
        "context": "- **PDF æ‘„å– 50 ä»½**ï¼šçº¦ 57,400 tokenï¼›"
      },
      {
        "line": 24,
        "token": "token",
        "context": "- **å¹´åº¦æµªè´¹**ï¼š1,700 ä¸‡ï½3.79 äº¿ tokenï¼ˆä¸åŒç”¨æˆ·è§„æ¨¡ï¼‰ã€‚"
      },
      {
        "line": 26,
        "token": "HTTP",
        "context": "æ¶æ„ä¼˜åŠ¿ï¼š`MemoryStorage` æŠ½è±¡ã€å¼‚æ­¥å®ç°ã€ä¸°å¯Œåç«¯ï¼ˆSQLite-vec/Cloudflare/Hybridï¼‰ã€HTTP Client ç­‰å·²æœ‰æ¨¡å¼ï¼Œä¸ºæ–°å¢ API å¥ å®šåŸºç¡€ã€‚"
      },
      {
        "line": 31,
        "token": "token",
        "context": "1. **ç»“æ„åŒ–ä»£ç ** å–ä»£è‡ªç„¶è¯­è¨€ï¼šTyped ç»“æ„ã€æ§åˆ¶æµã€å‡½æ•°å¤ç”¨å¯å¤§å¹…å‹ç¼© tokenï¼›"
      },
      {
        "line": 32,
        "token": "token",
        "context": "2. **ç´§å‡‘æ•°æ®ç±»å‹**ï¼šä½¿ç”¨ `NamedTuple` è¿”å›å¿…è¦å­—æ®µï¼Œå¯å°†å•æ¡è®°å¿†ä» 500-800 token é™è‡³ 70 å·¦å³ï¼›"
      },
      {
        "line": 33,
        "token": "feature",
        "context": "3. **æ¸è¿›è¿ç§»**ï¼šä» Session Hook ç­‰é«˜æ”¶ç›Šåœºæ™¯èµ·æ­¥ï¼›ä¿æŒå‘åå…¼å®¹ï¼Œæä¾› feature flagã€æ–‡æ¡£ä¸åº¦é‡ã€‚"
      },
      {
        "line": 60,
        "token": "token",
        "context": "- ä»…çº¦ 73 tokenï¼ˆå¯¹æ¯”å®Œæ•´ Memory çº¦ 820 tokenï¼Œç¼©å‡ 91%ï¼‰ï¼›"
      },
      {
        "line": 70,
        "token": "token",
        "context": "- å¯¼å…¥æˆæœ¬çº¦ 10 tokenï¼Œä»…é¦–æ¬¡æ‰§è¡Œï¼›"
      },
      {
        "line": 71,
        "token": "asyncio",
        "context": "- åŒæ­¥å°è£…éšè— asyncioï¼›"
      },
      {
        "line": 78,
        "token": "typed",
        "context": "- **CodeAgents æ¡†æ¶**ï¼šé€šè¿‡ typed å˜é‡ã€å¯å¤ç”¨å­ç¨‹åºç­‰æ–¹å¼å±•ç¤º 70% ä»¥ä¸Šçš„èŠ‚çœï¼›"
      },
      {
        "line": 79,
        "token": "import",
        "context": "- **Anthropic å®˜æ–¹ç¤ºä¾‹**ï¼šåŒæ ·å»ºè®®ä»¥ `from ... import ...` æ›¿ä»£å·¥å…· schemaã€‚"
      },
      {
        "line": 86,
        "token": "async",
        "context": "| Async/Sync ä¸åŒ¹é… | åç«¯ asyncï¼ŒHook å¤šä¸ºåŒæ­¥ | æä¾› `asyncio.run()` å°è£…ï¼ŒåŒæ­¥ API |"
      },
      {
        "line": 88,
        "token": "fallback",
        "context": "| å…¼å®¹è€ç”¨æˆ· | ç°æœ‰ MCP å·¥å…·ä»åœ¨ä½¿ç”¨ | å¹¶è¡Œè¿è¡Œã€fallbackã€æ–‡æ¡£è¿ç§» |"
      },
      {
        "line": 89,
        "token": "health",
        "context": "| ç´§å‡‘æ¨¡å¼è°ƒè¯• | å­—æ®µå°‘ï¼Œå®šä½å›°éš¾ | `expand_memory()`ã€`health()` ç­‰è°ƒè¯•å·¥å…· |"
      },
      {
        "line": 96,
        "token": "tiktoken",
        "context": "- **æµ‹è¯•**ï¼š`pytest-asyncio` + tiktoken ç»Ÿè®¡ tokenï¼›"
      },
      {
        "line": 97,
        "token": "autodoc",
        "context": "- **æ–‡æ¡£**ï¼šSphinx autodocï¼ŒDocstring ç›´æ¥åµŒå…¥ token/æ€§èƒ½ä¿¡æ¯ï¼›"
      },
      {
        "line": 98,
        "token": "structlog",
        "context": "- **æ—¥å¿—**ï¼šstructlog è®°å½•æ—¶å»¶ã€token ä¼°ç®—ç­‰æŒ‡æ ‡ã€‚"
      },
      {
        "line": 103,
        "token": "search/store/health",
        "context": "1. **Phase 1ï¼ˆå‘¨ 1-2ï¼‰**ï¼šæ­å»º `api/` æ¨¡å—ã€Compact ç±»å‹ã€`search/store/health` ç­‰å‡½æ•°ï¼›å®Œæˆ 90%+ è¦†ç›–ç‡æµ‹è¯•ä¸åŸºå‡†æ•°æ®ã€‚"
      },
      {
        "line": 104,
        "token": "exec",
        "context": "2. **Phase 2ï¼ˆå‘¨ 3ï¼‰**ï¼šSession Hook ç‡å…ˆæ”¹é€ ï¼Œå¯ç”¨ Python execï¼Œå¤±è´¥å›é€€ MCPã€‚ç›®æ ‡ï¼štoken é™ 75%ï¼ŒHook è€—æ—¶ <500msã€‚"
      },
      {
        "line": 105,
        "token": "search_by_tag/recall",
        "context": "3. **Phase 3ï¼ˆå‘¨ 4-5ï¼‰**ï¼šä¸­é€”æ£€ç´¢/Topic-change Hookï¼Œè¡¥å…… `search_by_tag/recall`ã€æµå¼æ£€ç´¢ã€‚"
      },
      {
        "line": 117,
        "token": "PDF",
        "context": "| 50 PDF æ‘„å– | 57,400 | 8,610 | 85% |"
      },
      {
        "line": 119,
        "token": "token",
        "context": "å¹´åº¦èŠ‚çœï¼ˆä¿å®ˆï¼‰10 ç”¨æˆ·ï¼š1.095 äº¿ tokenï¼›100 ç”¨æˆ·å¯è¾¾ 21.9 äº¿ï¼ˆçº¦ $328/å¹´ï¼ŒæŒ‰ $0.15/M tokenï¼‰ã€‚"
      },
      {
        "line": 137,
        "token": "token/",
        "context": "4. æŒç»­è®°å½• token/æ€§èƒ½æŒ‡æ ‡ï¼Œè¾“å‡ºè¿ç§»æŒ‡å¼•ã€‚"
      },
      {
        "line": 139,
        "token": "token",
        "context": "é¢„æœŸç»“æœï¼šSession Hook token é™ 75%ï¼Œæ£€ç´¢é™ 85% ä»¥ä¸Šï¼Œå¹´åº¦èŠ‚çœ 1,300 ä¸‡ï½1.8 äº¿ tokenï¼Œä¸”ä¸ç°æœ‰ MCP å·¥å…· 100% å…¼å®¹ã€‚"
      },
      {
        "line": 144,
        "token": "execution",
        "context": "- Anthropicã€ŠCode execution with MCPã€‹ã€ŠClaude Code Best Practicesã€‹ï¼›"
      },
      {
        "line": 146,
        "token": "dataclass",
        "context": "- Python ç±»å‹ä¸æ€§èƒ½å¯¹æ¯”ï¼ˆdataclass vs NamedTupleï¼‰ï¼›"
      },
      {
        "line": 147,
        "token": "patterns",
        "context": "- MCP python-interpreter / LangChain Compact patterns ç­‰å¼€æºå®ç°ï¼›"
      },
      {
        "line": 153,
        "token": "token",
        "context": "ç ”ç©¶è¡¨æ˜ï¼šåœ¨ä¿æŒå…¼å®¹çš„å‰æä¸‹ï¼Œé€šè¿‡â€œä»£ç æ‰§è¡Œæ¥å£ + ç´§å‡‘ç±»å‹â€å³å¯å®ç°æ˜¾è‘— token é™è€—ä¸æˆæœ¬æ”¶ç›Šã€‚å»ºè®®ç«‹å³æ‰§è¡Œ Phase 1 ä»»åŠ¡ï¼Œå¹¶ä»¥ Session Hook ä½œä¸ºé¦–ä¸ªè½åœ°åœºæ™¯ï¼Œå¿«é€ŸéªŒè¯ä¸è¿­ä»£ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        113,
        17
      ],
      "codeblock": [
        56,
        8
      ],
      "tables": [
        16,
        14
      ]
    }
  },
  {
    "english": "docs/research/code-execution-interface-summary.md",
    "chinese": "docs/research/code-execution-interface-summary_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "token",
        "context": "**ç»“è®º**ï¼šæä¾› Python ä»£ç æ¥å£ï¼Œå¯åœ¨ä¿æŒåå‘å…¼å®¹çš„å‰æä¸‹èŠ‚çœ 90-95% Tokenã€‚å…ˆæ”¹é€  Session Hookï¼Œå³å¯ç«‹åˆ»é™ä½ 75%ï¼ˆå¹´çœ 1.09 äº¿ tokenï¼‰ã€‚"
      },
      {
        "line": 10,
        "token": "token",
        "context": "- Session Hookï¼šæ¯æ¬¡å¯åŠ¨æ¶ˆè€— 3,600-9,600 tokenã€‚"
      },
      {
        "line": 11,
        "token": "token",
        "context": "- æ£€ç´¢ 5 æ¡ï¼šçº¦ 2,625 tokenã€‚"
      },
      {
        "line": 12,
        "token": "PDF",
        "context": "- æ–‡æ¡£æ‘„å– 50 PDFï¼š57,400 tokenã€‚"
      },
      {
        "line": 13,
        "token": "token",
        "context": "- å¹´æµªè´¹ï¼š1,700 ä¸‡~3.79 äº¿ tokenã€‚"
      },
      {
        "line": 16,
        "token": "verbose",
        "context": "ä»¥ Python æ¥å£æ›¿ä»£ verbose å·¥å…·è°ƒç”¨ï¼š"
      },
      {
        "line": 28,
        "token": "search/store/health",
        "context": "2. **ç®€æ´åŒæ­¥ API**ï¼š`search/store/health`ã€‚"
      },
      {
        "line": 37,
        "token": "token",
        "context": "| å¹´èŠ‚çœï¼ˆ10 ç”¨æˆ·ï¼‰ | â€” | 1.095 äº¿ token | $16.43 |"
      },
      {
        "line": 38,
        "token": "token",
        "context": "| å¹´èŠ‚çœï¼ˆ100 ç”¨æˆ·ï¼‰ | â€” | 21.9 äº¿ token | $328.5 |"
      },
      {
        "line": 40,
        "token": "roadmap",
        "context": "## roadmap"
      },
      {
        "line": 46,
        "token": "compact.py/search.py/storage.py/utils.py",
        "context": "ç›®å½•ç»“æ„æ–°å¢ `src/mcp_memory_service/api/`ï¼ŒåŒ…å« `compact.py/search.py/storage.py/utils.py`ã€‚"
      },
      {
        "line": 60,
        "token": "search/store/health",
        "context": "2. å®ç° `search/store/health`ã€‚"
      },
      {
        "line": 64,
        "token": "docs/research/code-execution-interface-implementation.md",
        "context": "å®Œæ•´ç ”ç©¶å‚è§ `docs/research/code-execution-interface-implementation.md`ï¼ˆæ¶æ„ã€ç¤ºä¾‹ã€è¿ç§»ã€æŒ‡æ ‡ï¼‰ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        46,
        13
      ],
      "codeblock": [
        16,
        6
      ],
      "tables": [
        14,
        7
      ]
    }
  },
  {
    "english": "docs/sqlite-vec-backend.md",
    "chinese": "docs/sqlite-vec-backend_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 59,
        "token": "python",
        "context": "è¿ç§»åè¿è¡Œ `python scripts/verify_environment.py` éªŒè¯ã€‚"
      },
      {
        "line": 79,
        "token": "synchronous",
        "context": "- **Phase 1ï¼šWAL**ï¼ˆé»˜è®¤ï¼‰â€”â€” å¯ç”¨ WALã€busy_timeout=5sã€`synchronous=NORMAL`ã€‚"
      },
      {
        "line": 80,
        "token": "HTTP",
        "context": "- **Phase 2ï¼šHTTP åè°ƒ**â€”â€” è‡ªåŠ¨æ£€æµ‹ï¼š"
      },
      {
        "line": 81,
        "token": "HTTP",
        "context": "- å­˜åœ¨ HTTP æœåŠ¡å™¨ â†’ `http_client`ã€‚"
      },
      {
        "line": 82,
        "token": "http_server",
        "context": "- æ— æœåŠ¡å™¨ä¸”ç«¯å£ç©ºé—² â†’ `http_server`ã€‚"
      },
      {
        "line": 83,
        "token": "direct",
        "context": "- ç«¯å£å†²çª â†’ `direct`ï¼ˆWALï¼‰ã€‚"
      },
      {
        "line": 98,
        "token": "HTTP",
        "context": "2. **æ‰‹åŠ¨ HTTP**ï¼šå…ˆè¿è¡Œ `python scripts/run_http_server.py`ï¼Œé…ç½® `MCP_HTTP_ENABLED=false`ã€‚"
      },
      {
        "line": 125,
        "token": "database",
        "context": "- **database is locked**ï¼šv8.9.0 å·²è‡ªåŠ¨åº”ç”¨æ¨è PRAGMAï¼›å¦‚ä»å†²çªï¼Œå¯å¢åŠ  `busy_timeout`ã€æ¸…ç†æ—§ `-wal/-shm` æ–‡ä»¶ã€ç¡®è®¤æ— åƒµå°¸è¿›ç¨‹ã€‚"
      },
      {
        "line": 126,
        "token": "HTTP",
        "context": "- **HTTP åè°ƒå¤±è´¥**ï¼šå¯ç”¨ `LOG_LEVEL=DEBUG` æŸ¥çœ‹ `detect_server_coordination_mode()` è¾“å‡ºï¼›å¿…è¦æ—¶æ‰‹åŠ¨å¯åŠ¨ HTTP æœåŠ¡æˆ–å…³é—­ HTTP å›é€€ WALã€‚"
      },
      {
        "line": 138,
        "token": "HTTP",
        "context": "| å¹¶å‘ | å¥½ | ä¼˜ï¼ˆHTTP+WALï¼‰ | SQLite-vec |"
      },
      {
        "line": 144,
        "token": "coordination",
        "context": "- **ç›‘æ§åè°ƒæ¨¡å¼**ï¼šå¼€å¯ `LOG_LEVEL=INFO` è§‚å¯Ÿ â€œDetected coordination modeâ€ã€‚"
      },
      {
        "line": 145,
        "token": "python",
        "context": "- **å®šæœŸä¼˜åŒ–**ï¼šè¿è¡Œ `python scripts/optimize_sqlite_vec.py`ã€`VACUUM`ã€æ‰¹é‡å†™å…¥ã€‚"
      },
      {
        "line": 148,
        "token": "store",
        "context": "ä¸ ChromaDB å®ç°ç›¸åŒ `MemoryStorage` æ¥å£ï¼š`store`ã€`retrieve`ã€`search_by_tag`ã€`delete` ç­‰æ–¹æ³•æ— éœ€æ”¹åŠ¨ã€‚"
      },
      {
        "line": 151,
        "token": "pytest",
        "context": "- è¿è¡Œ `pytest tests/test_sqlite_vec_storage.py`ã€‚"
      },
      {
        "line": 152,
        "token": "python",
        "context": "- æ€§èƒ½æµ‹è¯•ï¼š`python tests/performance/test_sqlite_vec_perf.py`ã€‚"
      },
      {
        "line": 156,
        "token": "https",
        "context": "- æŸ¥é˜… [sqlite-vec æ–‡æ¡£](https://github.com/asg017/sqlite-vec)ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        112,
        19
      ],
      "codeblock": [
        96,
        20
      ],
      "tables": [
        18,
        9
      ]
    }
  },
  {
    "english": "docs/statistics/REPOSITORY_STATISTICS.md",
    "chinese": "docs/statistics/REPOSITORY_STATISTICS_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 7,
        "token": "docs/statistics/charts/",
        "context": "`docs/statistics/charts/` æä¾› 5 å¼ å›¾è¡¨ï¼š"
      },
      {
        "line": 8,
        "token": "monthly_activity.png",
        "context": "1. `monthly_activity.png`ï¼šæœˆåº¦æäº¤ & å‘å¸ƒï¼›"
      },
      {
        "line": 9,
        "token": "activity_patterns.png",
        "context": "2. `activity_patterns.png`ï¼šæŒ‰å°æ—¶/æ˜ŸæœŸçƒ­åº¦ï¼›"
      },
      {
        "line": 10,
        "token": "contributors.png",
        "context": "3. `contributors.png`ï¼šè´¡çŒ®è€…å æ¯”ï¼›"
      },
      {
        "line": 11,
        "token": "october_sprint.png",
        "context": "4. `october_sprint.png`ï¼š2025-10 æ—¥ç²’åº¦å†²åˆºï¼›"
      },
      {
        "line": 12,
        "token": "growth_trajectory.png",
        "context": "5. `growth_trajectory.png`ï¼šç´¯è®¡æäº¤/ç‰ˆæœ¬ã€‚"
      },
      {
        "line": 14,
        "token": "run",
        "context": "é€šè¿‡ `uv run python generate_charts.py` å¯é‡åˆ¶å›¾è¡¨ï¼ˆpandas + matplotlib + seabornï¼‰ã€‚"
      },
      {
        "line": 73,
        "token": "doobidoo",
        "context": "| 2 | doobidoo | 302 | 19.7% | è”åˆç»´æŠ¤ |"
      },
      {
        "line": 76,
        "token": "zod",
        "context": "| 5 | zod | 20 | 1.3% | è´¡çŒ®è€… |"
      },
      {
        "line": 78,
        "token": "dyuval",
        "context": "| 7 | 3dyuval | 10 | 0.7% | è´¡çŒ®è€… |"
      },
      {
        "line": 79,
        "token": "muxammadreza",
        "context": "| 8 | muxammadreza | 8 | 0.5% | è´¡çŒ®è€… |"
      },
      {
        "line": 83,
        "token": "doobidoo",
        "context": "> Henry / doobidoo / Heinrich Krupp å¯èƒ½ä¸ºåŒä¸€äººä¸åŒèº«ä»½ï¼Œåˆè®¡ 92% æäº¤ã€‚"
      },
      {
        "line": 111,
        "token": "v8.0-v8.15.1",
        "context": "- v8.0-v8.15.1ï¼ˆ2025-09/10ï¼‰æŒç»­è¿­ä»£ï¼›"
      },
      {
        "line": 122,
        "token": "JSON",
        "context": "| JSON | 240 | 10.2% |"
      },
      {
        "line": 125,
        "token": "YAML",
        "context": "| Shell / YAML / CSS ç­‰ | â€” | â€” |"
      },
      {
        "line": 178,
        "token": "side",
        "context": "7. â€œä¸Šç­æ— + side projectâ€ çš„å…¸å‹æˆåŠŸæ¡ˆä¾‹ã€‚"
      },
      {
        "line": 183,
        "token": "git",
        "context": "- `git log --all` / `git tag` / `gh` CLIï¼›"
      },
      {
        "line": 184,
        "token": "find",
        "context": "- `find` / `wc` / `cloc` ç­‰æ–‡ä»¶ç»Ÿè®¡ï¼›"
      },
      {
        "line": 189,
        "token": "https",
        "context": "**ä»“åº“**ï¼šhttps://github.com/doobidoo/mcp-memory-service"
      }
    ],
    "structure_diff": {
      "heading": [
        30,
        16
      ],
      "codeblock": [
        8,
        6
      ],
      "tables": [
        72,
        54
      ]
    }
  },
  {
    "english": "docs/technical/development.md",
    "chinese": "docs/technical/development_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "python",
        "context": "- å¯åŠ¨ Memory Serverï¼š`python scripts/run_memory_server.py`"
      },
      {
        "line": 5,
        "token": "pytest",
        "context": "- è¿è¡Œæµ‹è¯•ï¼š`pytest tests/`"
      },
      {
        "line": 6,
        "token": "pytest",
        "context": "- å•æµ‹ç¤ºä¾‹ï¼š`pytest tests/test_memory_ops.py::test_store_memory -v`"
      },
      {
        "line": 7,
        "token": "python",
        "context": "- ç¯å¢ƒæ£€æµ‹ï¼š`python scripts/verify_environment_enhanced.py`"
      },
      {
        "line": 8,
        "token": "python",
        "context": "- Windows å®‰è£…è„šæœ¬ï¼š`python scripts/install_windows.py`"
      },
      {
        "line": 9,
        "token": "python",
        "context": "- æ‰“åŒ…å‘å¸ƒï¼š`python -m build`"
      },
      {
        "line": 12,
        "token": "python",
        "context": "- å§‹ç»ˆä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼š`python -m venv venv`"
      },
      {
        "line": 18,
        "token": "recursion",
        "context": "- é‡åˆ° recursion é”™è¯¯æ—¶æ‰§è¡Œï¼š`python scripts/fix_sitecustomize.py`"
      },
      {
        "line": 22,
        "token": "dataclass",
        "context": "- æ•°æ®æ¨¡å‹ä¼˜å…ˆä½¿ç”¨ dataclassï¼ˆå‚è€ƒ `models/memory.py`ï¼‰ï¼›"
      },
      {
        "line": 23,
        "token": "docstring",
        "context": "- æ¨¡å—/å‡½æ•° docstring ä½¿ç”¨ä¸‰å¼•å·ï¼›"
      },
      {
        "line": 27,
        "token": "type",
        "context": "- Commit éµå¾ª `type(scope): message` è¯­ä¹‰åŒ–æ ¼å¼ã€‚"
      },
      {
        "line": 43,
        "token": "protocol",
        "context": "- MCP protocol â‰¥1.0.0 ï¼œ2.0.0"
      },
      {
        "line": 55,
        "token": "http_server_manager",
        "context": "#### ç¼ºå°‘ `http_server_manager`"
      },
      {
        "line": 56,
        "token": "module",
        "context": "- **ç—‡çŠ¶**ï¼š`No module named 'mcp_memory_service.utils.http_server_manager'`ã€Claude Code æ˜¾ç¤º server failedï¼›"
      },
      {
        "line": 58,
        "token": "python",
        "context": "1. `python -m src.mcp_memory_service.server --debug`ï¼›"
      },
      {
        "line": 60,
        "token": "HTTP",
        "context": "3. æ£€æŸ¥ HTTP åè°ƒæ¨¡å¼æ£€æµ‹é€»è¾‘ã€‚"
      },
      {
        "line": 61,
        "token": "http_server_manager.py",
        "context": "- **ä¿®å¤**ï¼šè¡¥é½ `http_server_manager.py`ï¼Œå®ç° `auto_start_http_server_if_needed()`ã€ç«¯å£æ£€æµ‹ä¸ `port_detection.py` é›†æˆã€‚"
      },
      {
        "line": 64,
        "token": "constructor",
        "context": "- **ç—‡çŠ¶**ï¼š`vec0 constructor error: Unknown table option`ï¼ˆsqlite-vec è¿‡æ—§ï¼‰ç­‰ï¼›"
      },
      {
        "line": 71,
        "token": "HTTP",
        "context": "- **è§£å†³**ï¼šæ›´æ–° sqlite-vecï¼Œç¡®ä¿ä¸¤ç§åç«¯å‡å¯ç‹¬ç«‹è¿è¡Œï¼›HTTP åè°ƒå¤±è´¥æ—¶ SQLite-vec ä¼šè‡ªåŠ¨åˆ‡æ¢æœ¬åœ°æ¨¡å¼ã€‚"
      },
      {
        "line": 83,
        "token": "git",
        "context": "2. Claude Code æ‰§è¡Œç³»ç»ŸåŒ–è¯Šæ–­ï¼ˆè¿è¡Œ MCP å·¥å…·ã€æŸ¥çœ‹æ—¥å¿—ã€æ£€æŸ¥é…ç½®ä¸ git è®°å½•ï¼‰ï¼›"
      },
      {
        "line": 94,
        "token": "https",
        "context": "å¯å€ŸåŠ© [MCP-Inspector](https://modelcontextprotocol.io/docs/tools/inspector) å®šä½é—®é¢˜ï¼š"
      }
    ],
    "structure_diff": {
      "heading": [
        17,
        14
      ],
      "codeblock": [
        10,
        6
      ]
    }
  },
  {
    "english": "docs/technical/memory-migration.md",
    "chinese": "docs/technical/memory-migration_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 33,
        "token": "metadata",
        "context": "- ä¿ç•™ metadata ä¸æ–‡æ¡£å¼•ç”¨å…³ç³»ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        22,
        14
      ],
      "codeblock": [
        8,
        6
      ],
      "tables": [
        2,
        1
      ]
    }
  },
  {
    "english": "docs/technical/migration-log.md",
    "chinese": "docs/technical/migration-log_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 5,
        "token": "alpha.1",
        "context": "- **ç‰ˆæœ¬**ï¼š4.0.0-alpha.1"
      },
      {
        "line": 11,
        "token": "HTTP",
        "context": "| Node.js HTTPâ†’MCP ç½‘æ¡¥åœ¨è‡ªç­¾åè¯ä¹¦åœºæ™¯ä¸‹æ¡æ‰‹å¤±è´¥ï¼Œè¿œç«¯è®¿é—®ä¸ç¨³å®š | ä½¿ç”¨ FastAPI + å®˜æ–¹ MCP Python SDKï¼Œæ„å»ºåŸç”Ÿ MCP æœåŠ¡å™¨ |"
      },
      {
        "line": 14,
        "token": "HTTPS",
        "context": "1. **Node.js SSL é—®é¢˜**ï¼šå³ä½¿è‡ªå®šä¹‰ HTTPS Agent æˆ–å…³é—­éªŒè¯ï¼Œä¾æ—§æ— æ³•ç¨³å®šé€šè¿‡è‡ªç­¾åè¯ä¹¦ï¼›Slash å‘½ä»¤å¯ç”¨ï¼Œä½† MCP å·¥å…·å¤±è´¥ã€‚"
      },
      {
        "line": 22,
        "token": "be1",
        "context": "- 5709be1ï¼šå®ŒæˆåŸºç¡€ FastAPI MCP ç»“æ„ã€5 ä¸ªæ ¸å¿ƒæ“ä½œï¼ˆstore/retrieve/search_by_tag/delete/healthï¼‰ã€æ–°å¢å…¥å£ `mcp-memory-server`ï¼›"
      },
      {
        "line": 23,
        "token": "HTTP",
        "context": "- c0a0a45ï¼šåŒæœåŠ¡éƒ¨ç½²ï¼ˆFastMCP 8001 + HTTP Dashboard 8080ï¼‰ä¸Šçº¿ï¼ŒSSL é—®é¢˜è§£å†³ï¼Œæ ‡å‡† MCP å®¢æˆ·ç«¯éªŒè¯å®Œæˆã€‚"
      },
      {
        "line": 26,
        "token": "HTTP",
        "context": "- Claude Code SSE å®¢æˆ·ç«¯æœ‰ç‰¹å®šè¦æ±‚ï¼Œæš‚ä¸ FastMCP ä¸å…¼å®¹ï¼›å»ºè®® Claude Code ç”¨æˆ·æš‚ç”¨ HTTP Dashboard æˆ–å…¶ä»– MCP å®¢æˆ·ç«¯ã€‚"
      },
      {
        "line": 36,
        "token": "mcp-memory-dashboard",
        "context": "- MCP æœåŠ¡å™¨èšç„¦ Claude Code åœºæ™¯ï¼ŒDashboard åŠŸèƒ½ç”± `mcp-memory-dashboard` è´Ÿè´£ï¼Œé¿å…é‡å¤ï¼›"
      },
      {
        "line": 42,
        "token": "HTTP",
        "context": "| åè®®æ ˆ | Claude â†’ ç½‘æ¡¥ â†’ HTTP â†’ Memory | Claude â†’ MCP Server |"
      },
      {
        "line": 43,
        "token": "HTTPS",
        "context": "| SSL | Node.js HTTPSï¼ˆé—®é¢˜å¤šï¼‰ | Python SSLï¼ˆç¨³å®šï¼‰ |"
      }
    ],
    "structure_diff": {
      "heading": [
        13,
        9
      ],
      "tables": [
        8,
        10
      ]
    }
  },
  {
    "english": "docs/technical/sqlite-vec-embedding-fixes.md",
    "chinese": "docs/technical/sqlite-vec-embedding-fixes_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "torch",
        "context": "1. `sentence-transformers`ã€`torch` ä»…ä¸ºå¯é€‰ä¾èµ–ï¼Œç¼ºå¤±æ—¶é™é»˜å¤±è´¥ï¼›"
      },
      {
        "line": 9,
        "token": "memories",
        "context": "4. memories ä¸ embeddings è¡¨é—´å¯èƒ½å‡ºç° rowid ä¸ä¸€è‡´ã€‚"
      },
      {
        "line": 12,
        "token": "torch",
        "context": "1. **ä¾èµ–**ï¼š`sentence-transformers>=2.2.2`ã€`torch>=1.6.0` è°ƒæ•´ä¸ºæ ¸å¿ƒä¾èµ–ï¼›"
      },
      {
        "line": 16,
        "token": "store",
        "context": "- `store()` æ·»åŠ  try/exceptï¼Œå¿…è¦æ—¶å›é€€ rowid å†™å…¥ï¼›"
      },
      {
        "line": 17,
        "token": "retrieve",
        "context": "- `retrieve()` æ£€æŸ¥ embeddings è¡¨ä¸ºç©ºçš„æƒ…å†µï¼Œå¹¶è¾“å‡ºè°ƒè¯•æ—¥å¿—ï¼›"
      },
      {
        "line": 32,
        "token": "pip",
        "context": "1. `uv pip install -e .` æ›´æ–°ä¾èµ–ï¼›"
      },
      {
        "line": 50,
        "token": "rowid",
        "context": "- [ ] æ›´å®Œå–„çš„ rowid åŒæ­¥ç­–ç•¥ï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        17,
        6
      ]
    }
  },
  {
    "english": "docs/technical/tag-storage.md",
    "chinese": "docs/technical/tag-storage_zh-cn.md",
    "status": "ok",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [],
    "structure_diff": {}
  },
  {
    "english": "docs/testing/regression-tests.md",
    "chinese": "docs/testing/regression-tests_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "MCP/HTTP/",
        "context": "ç›®çš„ï¼šç¡®ä¿å…³é”®ç¼ºé™·ä¸å¤å‘ã€æ€§èƒ½ä¼˜åŒ–ä¸é€€æ­¥ã€è·¨å¹³å°é—®é¢˜æå‰æ•è·ï¼Œå¹¶éªŒè¯ MCP/HTTP/å­˜å‚¨åç«¯ç­‰é›†æˆç‚¹ã€‚"
      },
      {
        "line": 13,
        "token": "env",
        "context": "- å‰ç½®ï¼š`.env` å†™å…¥ `MCP_MEMORY_SQLITE_PRAGMAS=busy_timeout=15000,journal_mode=WAL`ï¼›"
      },
      {
        "line": 14,
        "token": "mcp",
        "context": "- æ­¥éª¤ï¼šåŒæ—¶å¯åŠ¨ 3 ä¸ª Claude å®ä¾‹ã€è¿è¡Œ `/mcp` å¹¶å„æ‰§è¡Œå†™å…¥ï¼›"
      },
      {
        "line": 15,
        "token": "database",
        "context": "- é¢„æœŸï¼šæ—  â€œdatabase is lockedâ€ï¼Œå¥åº·æ£€æŸ¥é€šè¿‡ï¼›"
      },
      {
        "line": 16,
        "token": "grep",
        "context": "- è¯æ®ï¼š`grep -i \"database is locked\" ~/Library/Logs/Claude/mcp-server-memory.log`ï¼Œ`sqlite3 ... \"PRAGMA busy_timeout;\"` ç­‰ã€‚"
      },
      {
        "line": 33,
        "token": "regression",
        "context": "å¦‚å‘ç°å¤±è´¥ï¼Œåˆ›å»ºå¸¦ `regression` æ ‡ç­¾çš„ Issueï¼Œé™„å¤ç°æ­¥éª¤ã€è¯æ®ä¸å…³è” PR/Commitã€‚"
      },
      {
        "line": 35,
        "token": "docs/development/release-checklist.md",
        "context": "**æœ€åæ›´æ–°**ï¼š2025-11-05 Â· ç‰ˆæœ¬ 1.0 Â· ç›¸å…³ï¼š`docs/development/release-checklist.md`ã€`docs/development/pr-review-guide.md`"
      }
    ],
    "structure_diff": {
      "heading": [
        69,
        3
      ],
      "codeblock": [
        60,
        2
      ],
      "tables": [
        8,
        0
      ]
    }
  },
  {
    "english": "docs/testing-cloudflare-backend.md",
    "chinese": "docs/testing-cloudflare-backend_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "HTTP",
        "context": "- HTTP å®¢æˆ·ç«¯é…ç½®ï¼ˆHeader/è¶…æ—¶ï¼‰æ­£ç¡®ã€‚"
      },
      {
        "line": 15,
        "token": "close",
        "context": "- `close()` é‡Šæ”¾èµ„æºã€‚"
      },
      {
        "line": 155,
        "token": "wrangler",
        "context": "- **æ‰¾ä¸åˆ° Index/DB**ï¼šç¡®è®¤ä½¿ç”¨ `wrangler` åˆ›å»ºå¹¶åç§°ä¸€è‡´ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        46,
        16
      ],
      "codeblock": [
        22,
        14
      ]
    }
  },
  {
    "english": "docs/troubleshooting/cloudflare-api-token-setup.md",
    "chinese": "docs/troubleshooting/cloudflare-api-token-setup_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 39,
        "token": "https",
        "context": "https://dash.cloudflare.com/profile/api-tokens"
      },
      {
        "line": 42,
        "token": "token",
        "context": "ç‚¹å‡» â€œCreate Tokenâ€ â†’ é€‰æ‹© â€œCustom tokenâ€ã€‚"
      },
      {
        "line": 53,
        "token": "summary",
        "context": "ç‚¹å‡» â€œContinue to summaryâ€ â†’ â€œCreate Tokenâ€ï¼Œå¹¶ç«‹å³å¤åˆ¶ Tokenï¼ˆåç»­æ— æ³•å†æ¬¡æŸ¥çœ‹ï¼‰ã€‚"
      },
      {
        "line": 57,
        "token": "env",
        "context": "### æ–¹å¼ä¸€ï¼šé¡¹ç›® `.env`"
      },
      {
        "line": 117,
        "token": "use",
        "context": "- **ç°è±¡**ï¼šæç¤º â€œCannot use the access token from location: [IP]â€"
      },
      {
        "line": 122,
        "token": "given",
        "context": "- **ç°è±¡**ï¼šæç¤º â€œThe given account is not valid or is not authorizedâ€"
      },
      {
        "line": 127,
        "token": "error",
        "context": "- **ç°è±¡**ï¼šé’ˆå¯¹æŸä¸ªæœåŠ¡è¿”å› â€œAuthentication errorâ€"
      },
      {
        "line": 162,
        "token": "cloudflare-setup.md",
        "context": "æ›´å¤šè¯´æ˜è¯·å‚é˜… [Cloudflare Setup Guide](../cloudflare-setup.md) æˆ–ä¸»æ•…éšœæ’æŸ¥æ–‡æ¡£ï¼ˆè§ç›®å½•ï¼‰ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        25,
        23
      ]
    }
  },
  {
    "english": "docs/troubleshooting/cloudflare-authentication.md",
    "chinese": "docs/troubleshooting/cloudflare-authentication_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 62,
        "token": "user/tokens/verify",
        "context": "2. å…¨å±€ Token ä½¿ç”¨ `/user/tokens/verify`ï¼›"
      },
      {
        "line": 89,
        "token": "error",
        "context": "### MCP æœåŠ¡æ—¥å¿—å‡ºç° â€œClient error '401 Unauthorized'â€"
      },
      {
        "line": 113,
        "token": "https",
        "context": "1. è®¿é—® [Cloudflare Dashboard](https://dash.cloudflare.com/profile/api-tokens)ï¼›"
      },
      {
        "line": 114,
        "token": "token",
        "context": "2. ç‚¹å‡» â€œCreate Tokenâ€ â†’ é€‰æ‹© â€œCustom tokenâ€ï¼›"
      },
      {
        "line": 165,
        "token": "python",
        "context": "1. è¿è¡Œè¯Šæ–­è„šæœ¬ï¼š`python scripts/validation/diagnose_backend_config.py`ï¼›"
      },
      {
        "line": 166,
        "token": "https",
        "context": "2. æŸ¥é˜… [GitHub Issues](https://github.com/doobidoo/mcp-memory-service/issues)ï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        24,
        19
      ]
    }
  },
  {
    "english": "docs/troubleshooting/general.md",
    "chinese": "docs/troubleshooting/general_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 11,
        "token": "snapshots",
        "context": "#### â€œNo snapshots directoryâ€ è­¦å‘Š"
      },
      {
        "line": 19,
        "token": "deprecated",
        "context": "#### â€œTRANSFORMERS_CACHE deprecatedâ€ è­¦å‘Š"
      },
      {
        "line": 35,
        "token": "first-time-setup.md",
        "context": "æ›´å¤šä¿¡æ¯è§ [é¦–æ¬¡è¿è¡ŒæŒ‡å—](../first-time-setup.md)ã€‚"
      },
      {
        "line": 39,
        "token": "install",
        "context": "**æŠ¥é”™ç¤ºä¾‹**ï¼š`Failed to install SQLite-vec: Command ... returned non-zero exit status 1`"
      },
      {
        "line": 41,
        "token": "wheel",
        "context": "**åŸå› **ï¼šsqlite-vec å°šæœªæä¾› Python 3.13 çš„ wheelï¼Œä¸” PyPI ä¸Šæš‚æ—¶æ²¡æœ‰æºç åŒ…ã€‚"
      },
      {
        "line": 45,
        "token": "pip",
        "context": "1. **è‡ªåŠ¨å›é€€ï¼ˆv6.13.2+ï¼‰**ï¼šå®‰è£…è„šæœ¬ä¼šå°è¯• uv pipã€pipã€æºç æ„å»ºã€GitHub å®‰è£…ï¼›è‹¥å…¨éƒ¨å¤±è´¥ï¼Œä¼šæç¤ºåˆ‡æ¢ ChromaDBã€‚"
      },
      {
        "line": 47,
        "token": "python",
        "context": "3. **åˆ‡æ¢åç«¯**ï¼š`python install.py --storage-backend chromadb`ã€‚"
      },
      {
        "line": 54,
        "token": "https",
        "context": "5. **åé¦ˆé—®é¢˜**ï¼šå…³æ³¨ https://github.com/asg017/sqlite-vec/issues è·å–æœ€æ–°è¿›å±•ã€‚"
      },
      {
        "line": 56,
        "token": "sqlite",
        "context": "## macOS æ— æ³•å¯ç”¨ sqlite æ‰©å±•"
      },
      {
        "line": 58,
        "token": "object",
        "context": "**æŠ¥é”™**ï¼š`AttributeError: 'sqlite3.Connection' object has no attribute 'enable_load_extension'`"
      },
      {
        "line": 64,
        "token": "brew",
        "context": "1. **Homebrew Pythonï¼ˆæ¨èï¼‰**ï¼š`brew install python`ï¼Œå¹¶ä½¿ç”¨è¯¥ç‰ˆæœ¬é‡è£…æœåŠ¡ï¼›"
      },
      {
        "line": 65,
        "token": "pyenv",
        "context": "2. **pyenv + æ‰©å±•æ”¯æŒ**ï¼šä½¿ç”¨ `PYTHON_CONFIGURE_OPTS='--enable-loadable-sqlite-extensions'` å®‰è£…ï¼›"
      },
      {
        "line": 66,
        "token": "sqlite",
        "context": "3. **åˆ‡æ¢ ChromaDB åç«¯**ï¼šä¸éœ€è¦ sqlite æ‰©å±•ï¼›"
      },
      {
        "line": 67,
        "token": "python",
        "context": "4. **æ£€æµ‹å‘½ä»¤**ï¼šå‚è€ƒæŒ‡å—ä¸­æä¾›çš„ `python -c` æµ‹è¯•è„šæœ¬åˆ¤æ–­æ‰©å±•æ˜¯å¦å¯ç”¨ã€‚"
      },
      {
        "line": 75,
        "token": "not",
        "context": "### â€œMethod not foundâ€ é”™è¯¯"
      },
      {
        "line": 77,
        "token": "not",
        "context": "- **ç—‡çŠ¶**ï¼šClaude Desktop æ—¥å¿—å‡ºç° â€œMethod not foundâ€ æˆ– JSON é”™è¯¯å¼¹çª—ï¼›"
      },
      {
        "line": 83,
        "token": "JSON",
        "context": "- **JSON ç¼–ç /è§£ç å¼‚å¸¸**ã€**è·¯å¾„æƒé™é—®é¢˜** ç­‰ï¼Œè¯·å‚è§ `WINDOWS_JSON_FIX.md` åŠç›¸å…³ç« èŠ‚ã€‚"
      },
      {
        "line": 91,
        "token": "python",
        "context": "- æ¨èä½¿ç”¨ `python scripts/validation/diagnose_backend_config.py` è·å–ç¯å¢ƒè¯Šæ–­ï¼›"
      },
      {
        "line": 96,
        "token": "python",
        "context": "- è¿è¡Œæ£€æµ‹è„šæœ¬ï¼š`python scripts/validation/diagnose_backend_config.py`ï¼›"
      }
    ],
    "structure_diff": {
      "heading": [
        30,
        15
      ],
      "codeblock": [
        20,
        8
      ]
    }
  },
  {
    "english": "docs/troubleshooting/hooks-quick-reference.md",
    "chinese": "docs/troubleshooting/hooks-quick-reference_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "exit",
        "context": "- è§¦å‘ï¼š`/exit`ã€ç»ˆç«¯/çª—å£å…³é—­ã€æ­£å¸¸é€€å‡ºï¼›"
      },
      {
        "line": 8,
        "token": "exit",
        "context": "1. Ctrl+C é€€å‡º â†’ ä½¿ç”¨ `/exit`ï¼›"
      },
      {
        "line": 9,
        "token": "exit",
        "context": "2. åè®®ä¸ä¸€è‡´ â†’ `/exit` æ—¶å†™å…¥å¤±è´¥ï¼›"
      },
      {
        "line": 19,
        "token": "relevant",
        "context": "**ç—‡çŠ¶**ï¼šè¿ç»­ä¸‰æ¬¡ â€œMCP Fallbackâ€ã€`No relevant memories`ã€‚"
      },
      {
        "line": 20,
        "token": "HTTP/HTTPS",
        "context": "**æ ¹å› **ï¼šHTTP/HTTPS é…ç½®ä¸æœåŠ¡å™¨ä¸ä¸€è‡´ã€‚"
      },
      {
        "line": 28,
        "token": "HTTPS",
        "context": "è‹¥æœåŠ¡å™¨ä¸º HTTPSï¼Œé…ç½®éœ€æ”¹ä¸º `https://...` å¹¶é‡å¯ä¼šè¯ã€‚"
      },
      {
        "line": 45,
        "token": "schema",
        "context": "PR åˆå¹¶åéœ€é‡å¯ MCP Serverï¼Œå¦åˆ™å®¢æˆ·ç«¯ä»ç”¨æ—§ schemaã€‚"
      },
      {
        "line": 59,
        "token": "docs/troubleshooting/session-end-hooks.md",
        "context": "æ›´å¤šç»†èŠ‚ï¼šå‚é˜… `docs/troubleshooting/session-end-hooks.md`ã€`docs/troubleshooting/pr162-schema-caching-issue.md`ã€`docs/http-server-management.md`ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        50,
        7
      ],
      "codeblock": [
        18,
        10
      ],
      "tables": [
        19,
        1
      ]
    }
  },
  {
    "english": "docs/troubleshooting/pr162-schema-caching-issue.md",
    "chinese": "docs/troubleshooting/pr162-schema-caching-issue_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 13,
        "token": "tags",
        "context": "- **ä¿®æ”¹**ï¼š`tags` çš„ JSONSchema æ”¯æŒ `array` æˆ–é€—å·åˆ†éš”å­—ç¬¦ä¸²ï¼š"
      },
      {
        "line": 27,
        "token": "git",
        "context": "2. **æ—§è¿›ç¨‹ä»åœ¨è¿è¡Œ**ï¼šMCP Server è¿›ç¨‹åœ¨ git pull å‰å¯åŠ¨ï¼Œæœªé‡å¯ä»åœ¨ä½¿ç”¨æ—§ä»£ç ï¼š"
      },
      {
        "line": 29,
        "token": "HTTP",
        "context": "- HTTP æœåŠ¡å™¨ 11:51 é‡å¯ä¸ºæ–°ä»£ç ï¼Œä½† MCP stdio è¿›ç¨‹ä»æ—§ï¼›"
      },
      {
        "line": 30,
        "token": "HTTP",
        "context": "3. **HTTP ä¸ MCP è¿›ç¨‹ç‹¬ç«‹**ï¼šé‡å¯ HTTP æœåŠ¡ä¸ä¼šå½±å“ MCP stdio è¿›ç¨‹ï¼›"
      },
      {
        "line": 41,
        "token": "value",
        "context": "- é”™è¯¯ä¿¡æ¯æ ¼å¼ï¼š`'value' is not of type 'array'`ï¼Œæ¥è‡ªå®¢æˆ·ç«¯ `jsonschema` éªŒè¯ï¼›"
      },
      {
        "line": 44,
        "token": "HTTP",
        "context": "- 2025-10-21 10:48ï¼šHTTP æœåŠ¡å™¨å¯åŠ¨ï¼ˆç‰ˆæœ¬æœªçŸ¥ï¼‰ï¼›"
      },
      {
        "line": 45,
        "token": "HTTP",
        "context": "- 2025-10-21 11:51ï¼šHTTP æœåŠ¡å™¨é‡å¯ï¼ŒåŠ è½½æ–°ä»£ç ï¼›"
      },
      {
        "line": 63,
        "token": "git",
        "context": "1. ç¡®è®¤ MCP è¿›ç¨‹å¯åŠ¨æ—¶é—´æ™šäº git pull/åˆå¹¶æ—¶é—´ï¼›"
      },
      {
        "line": 64,
        "token": "tags",
        "context": "2. æµ‹è¯•å­—ç¬¦ä¸²æ ‡ç­¾ï¼š`{\"tags\": \"tag1,tag2,tag3\"}`ï¼›"
      },
      {
        "line": 65,
        "token": "tags",
        "context": "3. æµ‹è¯•æ•°ç»„æ ‡ç­¾ï¼š`{\"tags\": [\"tag1\", \"tag2\", \"tag3\"]}`ï¼›"
      },
      {
        "line": 71,
        "token": "HTTP",
        "context": "1. é‡å¯ HTTP æœåŠ¡ï¼ˆè‹¥ä½¿ç”¨ HTTP åè®®ï¼‰ï¼š`systemctl --user restart mcp-memory-http.service`ï¼›"
      },
      {
        "line": 72,
        "token": "mcp",
        "context": "2. åœ¨ Claude Code ä¸­æ‰§è¡Œ `/mcp` æˆ–é‡å¯åº”ç”¨ï¼›"
      },
      {
        "line": 73,
        "token": "aux",
        "context": "3. æ£€æŸ¥ MCP è¿›ç¨‹å¯åŠ¨æ—¶é—´ï¼š`ps aux | grep \"memory.*server\" | grep -v grep`ã€‚"
      },
      {
        "line": 82,
        "token": "HTTP",
        "context": "2. HTTP ä¸ MCP è¿›ç¨‹ç‹¬ç«‹ï¼Œéœ€è¦åˆ†åˆ«é‡å¯ï¼›"
      },
      {
        "line": 84,
        "token": "git",
        "context": "4. git pull ä¸ä¼šè‡ªåŠ¨åˆ·æ–°è¿è¡Œè¿›ç¨‹ï¼›"
      },
      {
        "line": 90,
        "token": "https",
        "context": "- PR é“¾æ¥ï¼šhttps://github.com/doobidoo/mcp-memory-service/pull/162ã€‚"
      },
      {
        "line": 95,
        "token": "validation",
        "context": "âœ— åˆå¹¶ PR åä»æç¤º â€œInput validation error: 'X' is not of type 'Y'â€ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        37,
        25
      ],
      "codeblock": [
        20,
        14
      ]
    }
  },
  {
    "english": "docs/troubleshooting/session-end-hooks.md",
    "chinese": "docs/troubleshooting/session-end-hooks_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 17,
        "token": "resume",
        "context": "| **æ¢å¤ä¼šè¯** | ç»§ç»­å·²æœ‰ä¼šè¯ | `SessionStart:resume` | âŒ å¦ |"
      },
      {
        "line": 18,
        "token": "exit",
        "context": "| **`/exit` å‘½ä»¤** | ç»ˆæ­¢ä¼šè¯ | `SessionEnd` | âœ… æ˜¯ |"
      },
      {
        "line": 22,
        "token": "exit",
        "context": "> **ç»“è®º**ï¼š**Ctrl+C ä¸ä¼šè§¦å‘ SessionEnd Hook**ï¼Œå®ƒåªæ˜¯åœ¨æŒ‚èµ·å½“å‰ä¼šè¯ã€‚åªæœ‰çœŸæ­£ç»ˆæ­¢ï¼ˆå¦‚ `/exit`ï¼‰æ‰ä¼šè§¦å‘å¹¶å†™å…¥è®°å¿†ã€‚"
      },
      {
        "line": 34,
        "token": "resume",
        "context": "Ctrl+C åªæ˜¯æŒ‚èµ·ä¼šè¯ï¼Œå¹¶æœªç»“æŸï¼›æ¢å¤æ—¶ä¼šè§¦å‘ `SessionStart:resume`ï¼Œè¡¨ç¤ºç»§ç»­å·²æœ‰ä¼šè¯ï¼Œå› æ­¤ä¸ä¼šæ‰§è¡Œ SessionEndã€‚"
      },
      {
        "line": 38,
        "token": "exit",
        "context": "å¸Œæœ›è®°å½•ä¼šè¯æ€»ç»“æ—¶ï¼Œè¯·ä½¿ç”¨ `/exit`ï¼š"
      },
      {
        "line": 60,
        "token": "HTTPS",
        "context": "Hook é…ç½®çš„åè®®ä¸æœåŠ¡å™¨å®é™…åè®®ä¸åŒ¹é…ï¼Œä¾‹å¦‚æœåŠ¡å™¨å¯ç”¨ HTTPSï¼Œè€Œ Hook ä½¿ç”¨ HTTPã€‚"
      },
      {
        "line": 79,
        "token": "endpoint",
        "context": "å°† `~/.claude/hooks/config.json` ä¸­çš„ `endpoint` è°ƒæ•´ä¸ºæ­£ç¡®çš„åè®®ï¼š"
      },
      {
        "line": 113,
        "token": "implementation",
        "context": "- **Topics**ï¼šä¾‹å¦‚ â€œimplementationâ€ã€â€œdebuggingâ€ï¼›"
      },
      {
        "line": 114,
        "token": "decided",
        "context": "- **Decisions**ï¼šå¦‚ â€œdecided toâ€ã€â€œchose toâ€ï¼›"
      },
      {
        "line": 115,
        "token": "learned",
        "context": "- **Insights**ï¼šå¦‚ â€œlearned thatâ€ã€â€œrealizedâ€ï¼›"
      },
      {
        "line": 116,
        "token": "implemented",
        "context": "- **Code Changes**ï¼šå¦‚ â€œimplementedâ€ã€â€œrefactoredâ€ï¼›"
      },
      {
        "line": 117,
        "token": "next",
        "context": "- **Next Steps**ï¼šå¦‚ â€œnext we needâ€ã€â€œTODOâ€ã€‚"
      },
      {
        "line": 143,
        "token": "ending",
        "context": "- `[Memory Hook] Session ending - consolidating outcomes...`"
      },
      {
        "line": 144,
        "token": "analysis",
        "context": "- `[Memory Hook] Session analysis: ...`"
      },
      {
        "line": 145,
        "token": "consolidation",
        "context": "- `[Memory Hook] Session consolidation stored successfully`"
      },
      {
        "line": 158,
        "token": "exit",
        "context": "- ä¸ºé¿å…è¯¯æŒ‚èµ·ï¼Œå¯åœ¨æƒ¯ç”¨æµç¨‹ä¸­ä½¿ç”¨ `/exit`ï¼›"
      },
      {
        "line": 160,
        "token": "memory",
        "context": "- åœ¨è®°å½•é«˜ä»·å€¼ä¼šè¯å‰ï¼Œå¯æ‰‹åŠ¨æ‰§è¡Œ `memory` å·¥å…·è¿›è¡Œå­˜å‚¨ï¼Œä»¥é˜²å› æ¡ä»¶ä¸æ»¡è¶³è€Œé—æ¼ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        62,
        21
      ],
      "codeblock": [
        32,
        20
      ],
      "tables": [
        11,
        10
      ]
    }
  },
  {
    "english": "docs/troubleshooting/sync-issues.md",
    "chinese": "docs/troubleshooting/sync-issues_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 54,
        "token": "server",
        "context": "**ç—‡çŠ¶**ï¼šè¿æ¥è¶…æ—¶ã€æç¤º â€œRemote server unreachableâ€ã€åŒæ­¥ç«‹å³å¤±è´¥ã€‚"
      },
      {
        "line": 67,
        "token": "HTTP",
        "context": "- **é˜²ç«å¢™/ç«¯å£**ï¼šç¡®è®¤ç«¯å£å¼€æ”¾ï¼Œæˆ–æ”¹ç”¨ HTTPï¼ˆ8001ï¼‰æµ‹è¯•ï¼›"
      },
      {
        "line": 72,
        "token": "key",
        "context": "**ç—‡çŠ¶**ï¼šè¿”å› 401ã€æç¤º API key æ— æ•ˆã€‚"
      },
      {
        "line": 97,
        "token": "database",
        "context": "**ç—‡çŠ¶**ï¼šæç¤º `database is locked`ã€å®Œæ•´æ€§æ£€æŸ¥å¤±è´¥ã€å‡ºç°æŸåè­¦å‘Šã€‚"
      },
      {
        "line": 171,
        "token": "systemd",
        "context": "- systemd ä¸‹ï¼š`systemctl --user daemon-reload`ã€æŸ¥çœ‹ `journalctl --user -u mcp-memory-sync`ï¼›"
      },
      {
        "line": 172,
        "token": "load",
        "context": "- macOS LaunchAgentï¼šé‡æ–° load plist å¹¶æŸ¥çœ‹æ—¥å¿—ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        126,
        35
      ],
      "codeblock": [
        56,
        44
      ],
      "tables": [
        8,
        2
      ]
    }
  },
  {
    "english": "docs/tutorials/advanced-techniques.md",
    "chinese": "docs/tutorials/advanced-techniques_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 189,
        "token": "test",
        "context": "1. è°ƒè¯• / æµ‹è¯•ï¼ˆ6 æ¡ï¼‰â†’ `test + åŠŸèƒ½ + mcp-memory-service`"
      },
      {
        "line": 190,
        "token": "backup",
        "context": "2. ç³»ç»Ÿæ–‡æ¡£ï¼ˆ1 æ¡ï¼‰â†’ `backup + timeframe`"
      },
      {
        "line": 191,
        "token": "concept",
        "context": "3. æ¦‚å¿µè®¾è®¡ï¼ˆ1 æ¡ï¼‰â†’ `concept + domain`"
      },
      {
        "line": 201,
        "token": "examples/maintenance-session-example.md",
        "context": "- `examples/maintenance-session-example.md`ï¼šå®Œæ•´ç»´æŠ¤æµæ°´çº¿ï¼›"
      },
      {
        "line": 203,
        "token": "examples/analysis-scripts.js",
        "context": "- `examples/analysis-scripts.js`ï¼šæ•°æ®å¤„ç†è„šæœ¬ï¼›"
      },
      {
        "line": 204,
        "token": "docs/examples/tag-schema.json",
        "context": "- `docs/examples/tag-schema.json`ï¼šæ ‡ç­¾å…¨é‡ Schemaï¼›"
      },
      {
        "line": 205,
        "token": "examples/maintenance-workflow-example.md",
        "context": "- `examples/maintenance-workflow-example.md`ï¼šå®æˆ˜æµç¨‹ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        41,
        24
      ],
      "tables": [
        0,
        1
      ]
    }
  },
  {
    "english": "docs/tutorials/data-analysis.md",
    "chinese": "docs/tutorials/data-analysis_zh-cn.md",
    "status": "ok",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [],
    "structure_diff": {
      "heading": [
        29,
        19
      ],
      "codeblock": [
        38,
        26
      ],
      "tables": [
        36,
        25
      ]
    }
  },
  {
    "english": "docs/tutorials/demo-session-walkthrough.md",
    "chinese": "docs/tutorials/demo-session-walkthrough_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 16,
        "token": "aiohttp",
        "context": "### åœºæ™¯ä¸€ï¼šå®‰è£…ç¼ºå°‘ `aiohttp`"
      },
      {
        "line": 18,
        "token": "module",
        "context": "**ç°è±¡**ï¼šå¯åŠ¨ Memory Service æ—¶æŠ›å‡º `No module named 'aiohttp'`ã€‚"
      },
      {
        "line": 22,
        "token": "aiohttp",
        "context": "2. `pyproject.toml` ä¸­è¡¥å…… `aiohttp>=3.8.0`ï¼›"
      },
      {
        "line": 23,
        "token": "aiohttp",
        "context": "3. `install.py` è‡ªåŠ¨å®‰è£… aiohttpï¼›"
      },
      {
        "line": 26,
        "token": "c488",
        "context": "**æäº¤**ï¼š`535c488 - fix: Add aiohttp dependency to resolve MCP server startup issues`"
      },
      {
        "line": 30,
        "token": "failed",
        "context": "**é—®é¢˜**ï¼šæœåŠ¡å™¨çŠ¶æ€ä¸º failedï¼Œæ—¥å¿—æç¤º `uv: command not found`ã€‚"
      },
      {
        "line": 33,
        "token": "curl",
        "context": "1. æ‰‹åŠ¨å®‰è£… UVï¼š`curl -LsSf https://astral.sh/uv/install.sh | sh`ï¼›"
      },
      {
        "line": 46,
        "token": "HTTP/SSE",
        "context": "- è®¾è®¡ä¸­å¿ƒåŒ– HTTP/SSE æœåŠ¡æ–¹æ¡ˆã€‚"
      },
      {
        "line": 50,
        "token": "HTTP/SSE",
        "context": "- âœ… æ¨èéƒ¨ç½²ä¸­å¿ƒåŒ– HTTP/SSE æœåŠ¡ï¼šFastAPI + SSE + REST + è®¤è¯ã€‚"
      },
      {
        "line": 59,
        "token": "http",
        "context": "- APIï¼š`http://server:8001/api/docs`"
      },
      {
        "line": 60,
        "token": "http",
        "context": "- Dashboardï¼š`http://server:8001/`"
      },
      {
        "line": 61,
        "token": "http",
        "context": "- SSEï¼š`http://server:8001/api/events/stream`"
      },
      {
        "line": 66,
        "token": "docs/integration/multi-client.md",
        "context": "1. **å¤šå®¢æˆ·ç«¯éƒ¨ç½²æŒ‡å—**ï¼ˆ`docs/integration/multi-client.md`ï¼‰"
      },
      {
        "line": 67,
        "token": "HTTP",
        "context": "2. **HTTPâ†’MCP ç½‘æ¡¥**ï¼ˆ`examples/http-mcp-bridge.js`ï¼‰"
      },
      {
        "line": 68,
        "token": "systemd",
        "context": "3. **Claude Desktop / Docker / systemd é…ç½®ç¤ºä¾‹**"
      },
      {
        "line": 70,
        "token": "docs",
        "context": "**æäº¤**ï¼š`c98ac15 - docs: Add comprehensive multi-client deployment documentation`"
      },
      {
        "line": 75,
        "token": "license",
        "context": "- **æ£€ç´¢**ï¼šæ ‡ç­¾ï¼ˆå¦‚ `\"license\"`, `\"multi-client\"`ï¼‰ã€è¯­ä¹‰ï¼ˆâ€œSQLite cloud storageâ€ï¼‰ï¼›"
      },
      {
        "line": 78,
        "token": "b3e7e7be92...",
        "context": "**å†…å®¹å“ˆå¸Œ**ï¼š`84b3e7e7be92...`ï¼ˆè‡ªåŠ¨å»é‡ï¼‰ã€‚"
      },
      {
        "line": 127,
        "token": "HTTP/SSE",
        "context": "- **HTTP/SSE**ï¼šFastAPIã€è‡ªå¸¦æ–‡æ¡£ã€SSEã€CORSã€Docker æ”¯æŒï¼›"
      },
      {
        "line": 128,
        "token": "uv/pip",
        "context": "- **å·¥å…·é“¾**ï¼šGit æµç¨‹ã€Markdownã€uv/pip å®‰è£…ã€ç¯å¢ƒå˜é‡é…ç½®ã€‚"
      }
    ],
    "structure_diff": {
      "heading": [
        37,
        13
      ],
      "codeblock": [
        22,
        8
      ]
    }
  },
  {
    "english": "examples/README.md",
    "chinese": "examples/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "directory",
        "context": "This directory contains example configurations, scripts, and setup utilities for deploying MCP Memory Service in various scenarios."
      },
      {
        "line": 15,
        "token": "configurations",
        "context": "- Example Claude Desktop configurations"
      },
      {
        "line": 16,
        "token": "configuration",
        "context": "- Template configuration files for different deployment scenarios"
      },
      {
        "line": 17,
        "token": "server",
        "context": "- MCP server configuration samples"
      },
      {
        "line": 20,
        "token": "setup",
        "context": "- Multi-client setup scripts"
      },
      {
        "line": 21,
        "token": "configuration",
        "context": "- Automated configuration tools"
      },
      {
        "line": 22,
        "token": "helpers",
        "context": "- Installation helpers"
      },
      {
        "line": 26,
        "token": "http-mcp-bridge.js",
        "context": "### `http-mcp-bridge.js`"
      },
      {
        "line": 27,
        "token": "script",
        "context": "A Node.js script that bridges MCP JSON-RPC protocol to HTTP REST API calls. This allows MCP clients like Claude Desktop to connect to a remote HTTP server inste"
      },
      {
        "line": 30,
        "token": "your",
        "context": "1. Configure your server endpoint and API key as environment variables"
      },
      {
        "line": 31,
        "token": "script",
        "context": "2. Use this script as the MCP server command in your client configuration"
      },
      {
        "line": 34,
        "token": "configuration",
        "context": "Example Claude Desktop configuration for connecting to a remote MCP Memory Service HTTP server via the bridge script."
      },
      {
        "line": 37,
        "token": "path",
        "context": "1. Update the path to `http-mcp-bridge.js`"
      },
      {
        "line": 38,
        "token": "your",
        "context": "2. Set your server endpoint URL"
      },
      {
        "line": 39,
        "token": "your",
        "context": "3. Add your API key (if authentication is enabled)"
      },
      {
        "line": 40,
        "token": "configuration",
        "context": "4. Copy this configuration to your Claude Desktop config file"
      },
      {
        "line": 43,
        "token": "configuration",
        "context": "Example Codex configuration using `mcp-proxy` to bridge stdio to the serviceâ€™s Streamable HTTP endpoint at `/mcp`."
      },
      {
        "line": 46,
        "token": "proxy",
        "context": "1. Install the proxy: `pipx install mcp-proxy` (or `uv tool install mcp-proxy`)"
      },
      {
        "line": 47,
        "token": "server",
        "context": "2. Set server API key on the server: `export MCP_API_KEY=...`"
      },
      {
        "line": 48,
        "token": "file",
        "context": "3. Copy this file and adjust `your-server` and API key"
      },
      {
        "line": 49,
        "token": "config",
        "context": "4. Place it in Codexâ€™s MCP config location (see Codex docs)"
      },
      {
        "line": 51,
        "token": "proxy",
        "context": "Why proxy? Codex does not support HTTP transports natively and requires a stdio bridge."
      },
      {
        "line": 80,
        "token": "docs/integration/multi-client.md",
        "context": "- See the [Multi-Client Setup Guide](../docs/integration/multi-client.md) for Codex, Cursor, Qwen, and Gemini recipes."
      },
      {
        "line": 81,
        "token": "direct",
        "context": "- For Cursor/Qwen/Gemini direct HTTP usage, prefer the Streamable HTTP endpoint: `http(s)://<host>:8000/mcp` with header `Authorization: Bearer <MCP_API_KEY>`."
      }
    ],
    "structure_diff": {
      "heading": [
        16,
        17
      ]
    }
  },
  {
    "english": "scripts/README.md",
    "chinese": "scripts/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "scripts",
        "context": "# scripts ç›®å½•è¯´æ˜ï¼ˆä¸­æ–‡ï¼‰"
      },
      {
        "line": 4,
        "token": "litestream",
        "context": "- `sync/`ï¼šåŒæ­¥è„šæœ¬ï¼ˆå« litestreamï¼‰ã€‚"
      },
      {
        "line": 5,
        "token": "quality/",
        "context": "- `quality/`ï¼šè´¨é‡ç®¡çº¿ã€é™æ€åˆ†æä¸å¤æ‚åº¦/æ­»ä»£ç æŠ¥å‘Šã€‚"
      },
      {
        "line": 7,
        "token": "pr/",
        "context": "- `pr/`ã€`validation/`ï¼šPR è´¨é‡é—¨ã€ç¯å¢ƒæ ¡éªŒã€‚"
      },
      {
        "line": 21,
        "token": "directory",
        "context": "This directory contains organized utility scripts for maintaining, managing, and operating the MCP Memory Service. Scripts are categorized by function for easy "
      },
      {
        "line": 72,
        "token": "managing",
        "context": "Essential for managing dual-backend setups and data synchronization."
      },
      {
        "line": 77,
        "token": "bidirectional",
        "context": "| `sync_memory_backends.py` | Core bidirectional sync engine | `python sync/sync_memory_backends.py --status` |"
      },
      {
        "line": 78,
        "token": "sync",
        "context": "| `claude_sync_commands.py` | User-friendly sync wrapper | `python sync/claude_sync_commands.py backup` |"
      },
      {
        "line": 79,
        "token": "hybrid",
        "context": "| `sync_now.py` | Manual on-demand hybrid sync (v7.5.1+) | `python sync/sync_now.py --verbose` |"
      },
      {
        "line": 80,
        "token": "memories",
        "context": "| `export_memories.py` | Export memories to JSON | `python sync/export_memories.py` |"
      },
      {
        "line": 81,
        "token": "memories",
        "context": "| `import_memories.py` | Import memories from JSON | `python sync/import_memories.py data.json` |"
      },
      {
        "line": 84,
        "token": "synchronization",
        "context": "- âœ… Bidirectional Cloudflare â†” SQLite synchronization"
      },
      {
        "line": 85,
        "token": "deduplication",
        "context": "- âœ… Intelligent deduplication using content hashing"
      },
      {
        "line": 86,
        "token": "mode",
        "context": "- âœ… Dry-run mode for safe testing"
      },
      {
        "line": 87,
        "token": "status",
        "context": "- âœ… Comprehensive status reporting"
      },
      {
        "line": 89,
        "token": "HTTP",
        "context": "#### Litestream Sync (Local Network HTTP API)"
      },
      {
        "line": 90,
        "token": "staging",
        "context": "Located in `sync/litestream/` - Git-like staging workflow for syncing to central SQLite-vec HTTP API server."
      },
      {
        "line": 94,
        "token": "sync",
        "context": "| `memory_sync.sh` | Main sync orchestrator (stash â†’ pull â†’ apply â†’ push) | `./sync/litestream/memory_sync.sh sync` |"
      },
      {
        "line": 95,
        "token": "staged",
        "context": "| `push_to_remote.sh` | Push staged changes to remote API | `./sync/litestream/push_to_remote.sh` |"
      },
      {
        "line": 96,
        "token": "latest",
        "context": "| `pull_remote_changes.sh` | Pull latest from remote | `./sync/litestream/pull_remote_changes.sh` |"
      },
      {
        "line": 97,
        "token": "local",
        "context": "| `stash_local_changes.sh` | Stash local changes to staging | `./sync/litestream/stash_local_changes.sh` |"
      },
      {
        "line": 98,
        "token": "staged",
        "context": "| `apply_local_changes.sh` | Apply staged changes locally | `./sync/litestream/apply_local_changes.sh` |"
      },
      {
        "line": 99,
        "token": "local",
        "context": "| `setup_local_litestream.sh` | Initialize local Litestream setup | `./sync/litestream/setup_local_litestream.sh` |"
      },
      {
        "line": 100,
        "token": "remote",
        "context": "| `setup_remote_litestream.sh` | Setup remote API server | `./sync/litestream/setup_remote_litestream.sh` |"
      },
      {
        "line": 103,
        "token": "staging",
        "context": "- âœ… Git-like staging database workflow"
      },
      {
        "line": 104,
        "token": "detection",
        "context": "- âœ… Conflict detection and resolution"
      },
      {
        "line": 105,
        "token": "local",
        "context": "- âœ… Multi-device local network synchronization"
      },
      {
        "line": 106,
        "token": "central",
        "context": "- âœ… Sync to central HTTP API (e.g., `https://narrowbox.local:8443/api/memories`)"
      },
      {
        "line": 107,
        "token": "launchd",
        "context": "- âœ… macOS launchd service for automatic replication"
      },
      {
        "line": 109,
        "token": "sync",
        "context": "**Note:** Litestream sync (local network) is separate from Cloudflare hybrid sync (cloud backend)"
      },
      {
        "line": 112,
        "token": "service",
        "context": "Linux service management for production deployments."
      },
      {
        "line": 116,
        "token": "service",
        "context": "| `memory_service_manager.sh` | Complete service lifecycle management | `./service/memory_service_manager.sh start-cloudflare` |"
      },
      {
        "line": 117,
        "token": "service",
        "context": "| `service_control.sh` | Basic service control operations | `./service/service_control.sh restart` |"
      },
      {
        "line": 118,
        "token": "utility",
        "context": "| `service_utils.py` | Service utility functions | Used by other service scripts |"
      },
      {
        "line": 119,
        "token": "architecture",
        "context": "| `deploy_dual_services.sh` | Deploy dual-backend architecture | `./service/deploy_dual_services.sh` |"
      },
      {
        "line": 120,
        "token": "running",
        "context": "| `update_service.sh` | Update running service | `./service/update_service.sh` |"
      },
      {
        "line": 123,
        "token": "configuration",
        "context": "- âœ… Dual-backend configuration management"
      },
      {
        "line": 124,
        "token": "file",
        "context": "- âœ… Environment file handling (.env, .env.sqlite)"
      },
      {
        "line": 125,
        "token": "health",
        "context": "- âœ… Service health monitoring"
      },
      {
        "line": 126,
        "token": "sync",
        "context": "- âœ… Integrated sync operations"
      },
      {
        "line": 129,
        "token": "proper",
        "context": "Ensure proper setup and configuration."
      },
      {
        "line": 133,
        "token": "config",
        "context": "| `validate_configuration_complete.py` | Comprehensive config validation | `python validation/validate_configuration_complete.py` |"
      },
      {
        "line": 134,
        "token": "backend",
        "context": "| `diagnose_backend_config.py` | Cloudflare backend diagnostics | `python validation/diagnose_backend_config.py` |"
      },
      {
        "line": 135,
        "token": "data",
        "context": "| `validate_memories.py` | Memory data validation | `python validation/validate_memories.py` |"
      },
      {
        "line": 136,
        "token": "validation",
        "context": "| `validate_migration.py` | Migration validation | `python validation/validate_migration.py` |"
      },
      {
        "line": 137,
        "token": "setup",
        "context": "| `verify_environment.py` | Environment setup checker | `python validation/verify_environment.py` |"
      },
      {
        "line": 138,
        "token": "validation",
        "context": "| `verify_pytorch_windows.py` | PyTorch Windows validation | `python validation/verify_pytorch_windows.py` |"
      },
      {
        "line": 139,
        "token": "installation",
        "context": "| `verify_torch.py` | PyTorch installation check | `python validation/verify_torch.py` |"
      },
      {
        "line": 140,
        "token": "link",
        "context": "| `check_documentation_links.py` | Documentation link validator | `python validation/check_documentation_links.py` |"
      },
      {
        "line": 143,
        "token": "global",
        "context": "- âœ… Claude Code global configuration validation"
      },
      {
        "line": 144,
        "token": "credentials",
        "context": "- âœ… Cloudflare credentials verification"
      },
      {
        "line": 145,
        "token": "conflict",
        "context": "- âœ… Environment conflict detection"
      },
      {
        "line": 146,
        "token": "error",
        "context": "- âœ… Comprehensive error reporting with solutions"
      },
      {
        "line": 149,
        "token": "analyze",
        "context": "Monitor and analyze database health and performance."
      },
      {
        "line": 153,
        "token": "timestamp",
        "context": "| `simple_timestamp_check.py` | Quick timestamp health check | `python database/simple_timestamp_check.py` |"
      },
      {
        "line": 154,
        "token": "health",
        "context": "| `db_health_check.py` | Comprehensive health analysis | `python database/db_health_check.py` |"
      },
      {
        "line": 155,
        "token": "analysis",
        "context": "| `analyze_sqlite_vec_db.py` | Detailed SQLite-vec analysis | `python database/analyze_sqlite_vec_db.py` |"
      },
      {
        "line": 156,
        "token": "status",
        "context": "| `check_sqlite_vec_status.py` | SQLite-vec status checker | `python database/check_sqlite_vec_status.py` |"
      },
      {
        "line": 159,
        "token": "health",
        "context": "- `0` - Excellent/Good health"
      },
      {
        "line": 160,
        "token": "status",
        "context": "- `1` - Warning status"
      },
      {
        "line": 161,
        "token": "issues",
        "context": "- `2` - Critical issues"
      },
      {
        "line": 162,
        "token": "failed",
        "context": "- `3` - Analysis failed"
      },
      {
        "line": 165,
        "token": "maintaining",
        "context": "Scripts for maintaining database integrity and performance."
      },
      {
        "line": 169,
        "token": "remove",
        "context": "| `find_duplicates.py` | Find and remove duplicate memories | `python maintenance/find_duplicates.py --execute` |"
      },
      {
        "line": 170,
        "token": "corrupted",
        "context": "| `cleanup_corrupted_encoding.py` | Fix corrupted emoji encoding | `python maintenance/cleanup_corrupted_encoding.py --execute` |"
      },
      {
        "line": 171,
        "token": "corrupted",
        "context": "| `repair_memories.py` | Repair corrupted memory entries | `python maintenance/repair_memories.py` |"
      },
      {
        "line": 172,
        "token": "memory",
        "context": "| `cleanup_memories.py` | General memory cleanup | `python maintenance/cleanup_memories.py` |"
      },
      {
        "line": 173,
        "token": "embedding",
        "context": "| `repair_sqlite_vec_embeddings.py` | Fix embedding inconsistencies | `python maintenance/repair_sqlite_vec_embeddings.py` |"
      },
      {
        "line": 174,
        "token": "embeddings",
        "context": "| `repair_zero_embeddings.py` | Fix zero/null embeddings | `python maintenance/repair_zero_embeddings.py` |"
      },
      {
        "line": 177,
        "token": "mode",
        "context": "- âœ… Dry-run mode available for all scripts"
      },
      {
        "line": 178,
        "token": "backup",
        "context": "- âœ… Comprehensive backup recommendations"
      },
      {
        "line": 179,
        "token": "reporting",
        "context": "- âœ… Detailed reporting of changes"
      },
      {
        "line": 182,
        "token": "protection",
        "context": "Data protection and recovery operations."
      },
      {
        "line": 186,
        "token": "memory",
        "context": "| `backup_memories.py` | Create memory backups | `python backup/backup_memories.py` |"
      },
      {
        "line": 187,
        "token": "backups",
        "context": "| `restore_memories.py` | Restore from backups | `python backup/restore_memories.py backup.json` |"
      },
      {
        "line": 188,
        "token": "database",
        "context": "| `backup_sqlite_vec.sh` | SQLite-vec database backup | `./backup/backup_sqlite_vec.sh` |"
      },
      {
        "line": 189,
        "token": "distributable",
        "context": "| `export_distributable_memories.sh` | Create distributable exports | `./backup/export_distributable_memories.sh` |"
      },
      {
        "line": 192,
        "token": "database",
        "context": "Handle database migrations and data transformations."
      },
      {
        "line": 196,
        "token": "backend",
        "context": "| `migrate_to_cloudflare.py` | Migrate to Cloudflare backend | `python migration/migrate_to_cloudflare.py` |"
      },
      {
        "line": 197,
        "token": "migration",
        "context": "| `migrate_chroma_to_sqlite.py` | ChromaDB â†’ SQLite migration | `python migration/migrate_chroma_to_sqlite.py` |"
      },
      {
        "line": 198,
        "token": "embedding",
        "context": "| `migrate_sqlite_vec_embeddings.py` | Update embedding format | `python migration/migrate_sqlite_vec_embeddings.py` |"
      },
      {
        "line": 199,
        "token": "timestamp",
        "context": "| `migrate_timestamps.py` | Fix timestamp issues | `python migration/migrate_timestamps.py` |"
      },
      {
        "line": 200,
        "token": "timestamp",
        "context": "| `cleanup_mcp_timestamps.py` | Clean timestamp proliferation | `python migration/cleanup_mcp_timestamps.py` |"
      },
      {
        "line": 201,
        "token": "timestamp",
        "context": "| `verify_mcp_timestamps.py` | Verify timestamp consistency | `python migration/verify_mcp_timestamps.py` |"
      },
      {
        "line": 204,
        "token": "installation",
        "context": "Platform-specific installation and setup scripts."
      },
      {
        "line": 208,
        "token": "installer",
        "context": "| `install.py` | Platform-aware installer with backend selection | `python installation/install.py --storage-backend hybrid` |"
      },
      {
        "line": 209,
        "token": "service",
        "context": "| `install_linux_service.py` | Linux service installation | `python installation/install_linux_service.py` |"
      },
      {
        "line": 210,
        "token": "service",
        "context": "| `install_macos_service.py` | macOS service setup | `python installation/install_macos_service.py` |"
      },
      {
        "line": 211,
        "token": "service",
        "context": "| `install_windows_service.py` | Windows service installation | `python installation/install_windows_service.py` |"
      },
      {
        "line": 212,
        "token": "package",
        "context": "| `install_uv.py` | UV package manager installation | `python installation/install_uv.py` |"
      },
      {
        "line": 213,
        "token": "resource",
        "context": "| `setup_cloudflare_resources.py` | Cloudflare resource setup | `python installation/setup_cloudflare_resources.py` |"
      },
      {
        "line": 214,
        "token": "configuration",
        "context": "| `setup_claude_mcp.sh` | Claude MCP configuration | `./installation/setup_claude_mcp.sh` |"
      },
      {
        "line": 215,
        "token": "backup",
        "context": "| `setup_backup_cron.sh` | Automated backup scheduling | `./installation/setup_backup_cron.sh` |"
      },
      {
        "line": 218,
        "token": "service",
        "context": "Quick service management wrappers for Linux systemd deployments (v7.5.1+)."
      },
      {
        "line": 222,
        "token": "systemd",
        "context": "| `service_status.sh` | Check systemd service status | `./linux/service_status.sh` |"
      },
      {
        "line": 223,
        "token": "service",
        "context": "| `start_service.sh` | Start mcp-memory service | `./linux/start_service.sh` |"
      },
      {
        "line": 224,
        "token": "service",
        "context": "| `stop_service.sh` | Stop mcp-memory service | `./linux/stop_service.sh` |"
      },
      {
        "line": 225,
        "token": "service",
        "context": "| `view_logs.sh` | View service logs | `./linux/view_logs.sh` |"
      },
      {
        "line": 226,
        "token": "systemd",
        "context": "| `uninstall_service.sh` | Remove systemd service | `./linux/uninstall_service.sh` |"
      },
      {
        "line": 229,
        "token": "wrappers",
        "context": "- âœ… Simple wrappers for systemd service management"
      },
      {
        "line": 230,
        "token": "service",
        "context": "- âœ… User-level service control (~/.config/systemd/user/)"
      },
      {
        "line": 231,
        "token": "status",
        "context": "- âœ… Quick status and log viewing"
      },
      {
        "line": 232,
        "token": "uninstall",
        "context": "- âœ… Clean uninstall capabilities"
      },
      {
        "line": 235,
        "token": "running",
        "context": "Scripts for running and managing the memory server."
      },
      {
        "line": 239,
        "token": "memory",
        "context": "| `run_memory_server.py` | Start memory server | `python server/run_memory_server.py` |"
      },
      {
        "line": 240,
        "token": "HTTP",
        "context": "| `run_http_server.py` | Start HTTP API server | `python server/run_http_server.py` |"
      },
      {
        "line": 241,
        "token": "check",
        "context": "| `check_server_health.py` | Health check endpoint | `python server/check_server_health.py` |"
      },
      {
        "line": 242,
        "token": "memory",
        "context": "| `memory_offline.py` | Offline memory operations | `python server/memory_offline.py` |"
      },
      {
        "line": 243,
        "token": "models",
        "context": "| `preload_models.py` | Pre-load ML models | `python server/preload_models.py` |"
      },
      {
        "line": 246,
        "token": "testing",
        "context": "Comprehensive testing and validation scripts."
      },
      {
        "line": 250,
        "token": "system",
        "context": "| `run_complete_test.py` | Complete system test | `python testing/run_complete_test.py` |"
      },
      {
        "line": 251,
        "token": "functionality",
        "context": "| `test_memory_api.py` | API functionality tests | `python testing/test_memory_api.py` |"
      },
      {
        "line": 252,
        "token": "backend",
        "context": "| `test_cloudflare_backend.py` | Cloudflare backend tests | `python testing/test_cloudflare_backend.py` |"
      },
      {
        "line": 253,
        "token": "system",
        "context": "| `test_sqlite_vec_embeddings.py` | Embedding system tests | `python testing/test_sqlite_vec_embeddings.py` |"
      },
      {
        "line": 254,
        "token": "functionality",
        "context": "| `simple_test.py` | Basic functionality test | `python testing/simple_test.py` |"
      },
      {
        "line": 257,
        "token": "scripts",
        "context": "Helper scripts and utility functions."
      },
      {
        "line": 261,
        "token": "command",
        "context": "| `claude_commands_utils.py` | Claude command utilities | Used by Claude Code hooks |"
      },
      {
        "line": 262,
        "token": "memory",
        "context": "| `query_memories.py` | Direct memory querying | `python utils/query_memories.py \"search term\"` |"
      },
      {
        "line": 263,
        "token": "package",
        "context": "| `memory_wrapper_uv.py` | UV package manager wrapper | Used by other scripts |"
      },
      {
        "line": 264,
        "token": "custom",
        "context": "| `generate_personalized_claude_md.sh` | Generate custom CLAUDE.md | `./utils/generate_personalized_claude_md.sh` |"
      },
      {
        "line": 267,
        "token": "developers",
        "context": "Tools for developers and debugging."
      },
      {
        "line": 271,
        "token": "git",
        "context": "| `setup-git-merge-drivers.sh` | Configure git merge drivers | `./development/setup-git-merge-drivers.sh` |"
      },
      {
        "line": 272,
        "token": "issues",
        "context": "| `fix_mdns.sh` | Fix mDNS issues | `./development/fix_mdns.sh` |"
      },
      {
        "line": 273,
        "token": "lock",
        "context": "| `uv-lock-merge.sh` | Handle UV lock file merges | `./development/uv-lock-merge.sh` |"
      },
      {
        "line": 274,
        "token": "orphaned",
        "context": "| `find_orphaned_files.py` | Find orphaned database files | `python development/find_orphaned_files.py` |"
      },
      {
        "line": 334,
        "token": "backup",
        "context": "1. **Always backup first**: `python backup/backup_memories.py`"
      },
      {
        "line": 335,
        "token": "mode",
        "context": "2. **Use dry-run mode**: Most scripts support `--dry-run` or similar"
      },
      {
        "line": 336,
        "token": "small",
        "context": "3. **Test with small datasets** when possible"
      },
      {
        "line": 337,
        "token": "database",
        "context": "4. **Check database health**: `python database/simple_timestamp_check.py`"
      },
      {
        "line": 340,
        "token": "scripts",
        "context": "1. **Validation** scripts first (check environment)"
      },
      {
        "line": 341,
        "token": "before",
        "context": "2. **Backup** before any data modifications"
      },
      {
        "line": 342,
        "token": "operations",
        "context": "3. **Maintenance** operations (cleanup, repair)"
      },
      {
        "line": 343,
        "token": "after",
        "context": "4. **Verification** after changes"
      },
      {
        "line": 344,
        "token": "restart",
        "context": "5. **Service restart** if needed"
      },
      {
        "line": 348,
        "token": "scripts",
        "context": "This scripts directory integrates with:"
      },
      {
        "line": 349,
        "token": "commands",
        "context": "- **CLAUDE.md**: Essential commands for Claude Code users"
      },
      {
        "line": 350,
        "token": "development",
        "context": "- **AGENTS.md**: Agent development and release process"
      },
      {
        "line": 351,
        "token": "setup",
        "context": "- **Wiki**: Detailed setup and troubleshooting guides"
      },
      {
        "line": 352,
        "token": "pipeline",
        "context": "- **GitHub Actions**: CI/CD pipeline integration"
      },
      {
        "line": 356,
        "token": "adding",
        "context": "When adding new scripts:"
      },
      {
        "line": 357,
        "token": "appropriate",
        "context": "1. **Choose appropriate category** based on primary function"
      },
      {
        "line": 358,
        "token": "naming",
        "context": "2. **Follow naming conventions**: `snake_case.py` or `kebab-case.sh`"
      },
      {
        "line": 359,
        "token": "proper",
        "context": "3. **Include proper documentation** in script headers"
      },
      {
        "line": 360,
        "token": "safety",
        "context": "4. **Add safety mechanisms** for data-modifying operations"
      },
      {
        "line": 361,
        "token": "script",
        "context": "5. **Update this README** with script description"
      },
      {
        "line": 362,
        "token": "multiple",
        "context": "6. **Test with multiple backends** (SQLite-vec, Cloudflare)"
      },
      {
        "line": 366,
        "token": "issues",
        "context": "- **Configuration issues**: Run `python validation/validate_config.py`"
      },
      {
        "line": 367,
        "token": "problems",
        "context": "- **Database problems**: Run `python database/db_health_check.py`"
      },
      {
        "line": 368,
        "token": "links",
        "context": "- **Documentation links**: Run `python validation/check_documentation_links.py`"
      },
      {
        "line": 369,
        "token": "health",
        "context": "- **General health**: Run `./service/memory_service_manager.sh status`"
      },
      {
        "line": 371,
        "token": "complex",
        "context": "For complex issues, check the [project wiki](https://github.com/doobidoo/mcp-memory-service/wiki) or create an issue with the output from relevant diagnostic sc"
      }
    ],
    "structure_diff": {
      "heading": [
        48,
        50
      ]
    }
  },
  {
    "english": "scripts/maintenance/README.md",
    "chinese": "scripts/maintenance/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 9,
        "token": "check_memory_typespy",
        "context": "| [`check_memory_types.py`](#check_memory_typespy) | æŸ¥çœ‹ç±»å‹åˆ†å¸ƒ | <1s | å¥åº·æ£€æŸ¥ï¼Œæ•´åˆå‰/åå¯¹æ¯” |"
      },
      {
        "line": 10,
        "token": "consolidate_memory_typespy",
        "context": "| [`consolidate_memory_types.py`](#consolidate_memory_typespy) | å½’å¹¶ç¢ç‰‡ç±»å‹ | ~5s/1000 æ›´æ–° | ç±»å‹æ²»ç†ã€é™å™ª |"
      },
      {
        "line": 11,
        "token": "min/2600",
        "context": "| [`regenerate_embeddings.py`](#regenerate_embeddingspy) | é‡ç®—å…¨éƒ¨åµŒå…¥ | ~5min/2600 æ¡ | è¿ç§»åæˆ–åµŒå…¥æŸå |"
      },
      {
        "line": 12,
        "token": "s/100",
        "context": "| [`fast_cleanup_duplicates.sh`](#fast_cleanup_duplicatessh) | å¿«é€Ÿå»é‡ | <5s/100+ | æ‰¹é‡æ¸…ç†é‡å¤ |"
      },
      {
        "line": 13,
        "token": "s/2000",
        "context": "| [`find_all_duplicates.py`](#find_all_duplicatespy) | æ‰«æè¿‘ä¼¼é‡å¤ | <2s/2000 | é‡å¤æ£€æµ‹ä¸åˆ†æ |"
      },
      {
        "line": 34,
        "token": "bug-fix/bugfix/technical-fix",
        "context": "- åŒä¹‰ç±»å‹æ··æ‚ï¼ˆbug-fix/bugfix/technical-fix ç­‰ï¼‰"
      },
      {
        "line": 47,
        "token": "s/1000",
        "context": "**æ€§èƒ½**ï¼šçº¦ 5s/1000 æ›´æ–°ï¼ˆ2025-11 å®æµ‹ 1,049 æ›´æ–°ç”¨æ—¶ 5sï¼‰ã€‚"
      },
      {
        "line": 48,
        "token": "HTTP",
        "context": "**å®‰å…¨**ï¼šè‡ªåŠ¨å¤‡ä»½ã€dry-runã€äº‹åŠ¡å›æ»šã€é”æ£€æµ‹ã€HTTP æœåŠ¡è­¦å‘Šã€ç£ç›˜ç©ºé—´æ£€æŸ¥ã€‚"
      },
      {
        "line": 50,
        "token": "note",
        "context": "- å†…å®¹ï¼š`note`, `reference`, `document`, `guide`"
      },
      {
        "line": 51,
        "token": "session",
        "context": "- æ´»åŠ¨ï¼š`session`, `implementation`, `analysis`, `troubleshooting`, `test`"
      },
      {
        "line": 52,
        "token": "fix",
        "context": "- äº§ç‰©ï¼š`fix`, `feature`, `release`, `deployment`"
      },
      {
        "line": 53,
        "token": "milestone",
        "context": "- è¿›åº¦ï¼š`milestone`, `status`"
      },
      {
        "line": 54,
        "token": "configuration",
        "context": "- åŸºç¡€è®¾æ–½ï¼š`configuration`, `infrastructure`, `process`, `security`, `architecture`"
      },
      {
        "line": 55,
        "token": "documentation",
        "context": "- å…¶ä»–ï¼š`documentation`, `solution`, `achievement`, `technical`"
      },
      {
        "line": 68,
        "token": "s/2000",
        "context": "**æ€§èƒ½**ï¼š<2s/2000 æ¡ã€‚"
      },
      {
        "line": 100,
        "token": "scripts/maintenance/memory-types.md",
        "context": "- `scripts/maintenance/memory-types.md`"
      },
      {
        "line": 102,
        "token": "docs/guides/memory-consolidation-guide.md",
        "context": "- `docs/guides/memory-consolidation-guide.md`"
      },
      {
        "line": 103,
        "token": "docs/features/association-quality-boost.md",
        "context": "- `docs/features/association-quality-boost.md`"
      }
    ],
    "structure_diff": {
      "heading": [
        37,
        23
      ],
      "codeblock": [
        48,
        8
      ],
      "tables": [
        16,
        11
      ]
    }
  },
  {
    "english": "scripts/maintenance/memory-types.md",
    "chinese": "scripts/maintenance/memory-types_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "memory-types.md",
        "context": "# memory-types.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 10,
        "token": "consolidated",
        "context": "Database consolidated from 342 fragmented types to 128 organized types. Use these **24 core types** for all new memories."
      },
      {
        "line": 13,
        "token": "note",
        "context": "- `note` - General notes, observations, summaries"
      },
      {
        "line": 14,
        "token": "reference",
        "context": "- `reference` - Reference materials, knowledge base entries"
      },
      {
        "line": 15,
        "token": "document",
        "context": "- `document` - Formal documents, code snippets"
      },
      {
        "line": 16,
        "token": "guide",
        "context": "- `guide` - How-to guides, tutorials, troubleshooting guides"
      },
      {
        "line": 19,
        "token": "session",
        "context": "- `session` - Work sessions, development sessions"
      },
      {
        "line": 20,
        "token": "implementation",
        "context": "- `implementation` - Implementation work, integrations"
      },
      {
        "line": 21,
        "token": "analysis",
        "context": "- `analysis` - Analysis, reports, investigations"
      },
      {
        "line": 22,
        "token": "troubleshooting",
        "context": "- `troubleshooting` - Problem-solving, debugging"
      },
      {
        "line": 23,
        "token": "test",
        "context": "- `test` - Testing activities, validation"
      },
      {
        "line": 26,
        "token": "fix",
        "context": "- `fix` - Bug fixes, corrections"
      },
      {
        "line": 27,
        "token": "feature",
        "context": "- `feature` - New features, enhancements"
      },
      {
        "line": 28,
        "token": "release",
        "context": "- `release` - Releases, release notes"
      },
      {
        "line": 29,
        "token": "deployment",
        "context": "- `deployment` - Deployments, deployment records"
      },
      {
        "line": 32,
        "token": "milestone",
        "context": "- `milestone` - Milestones, completions, achievements"
      },
      {
        "line": 33,
        "token": "status",
        "context": "- `status` - Status updates, progress reports"
      },
      {
        "line": 36,
        "token": "configuration",
        "context": "- `configuration` - Configurations, setups, settings"
      },
      {
        "line": 37,
        "token": "infrastructure",
        "context": "- `infrastructure` - Infrastructure changes, system updates"
      },
      {
        "line": 38,
        "token": "process",
        "context": "- `process` - Processes, workflows, procedures"
      },
      {
        "line": 39,
        "token": "security",
        "context": "- `security` - Security-related memories"
      },
      {
        "line": 40,
        "token": "architecture",
        "context": "- `architecture` - Architecture decisions, design patterns"
      },
      {
        "line": 43,
        "token": "documentation",
        "context": "- `documentation` - Documentation artifacts"
      },
      {
        "line": 44,
        "token": "solution",
        "context": "- `solution` - Solutions, resolutions"
      },
      {
        "line": 45,
        "token": "achievement",
        "context": "- `achievement` - Accomplishments, successes"
      },
      {
        "line": 51,
        "token": "create",
        "context": "**DON'T** create variations like:"
      },
      {
        "line": 52,
        "token": "bugfix",
        "context": "- `bug-fix`, `bugfix`, `technical-fix` â†’ Use `fix`"
      },
      {
        "line": 53,
        "token": "solution",
        "context": "- `technical-solution`, `project-solution` â†’ Use `solution`"
      },
      {
        "line": 54,
        "token": "implementation",
        "context": "- `project-implementation` â†’ Use `implementation`"
      },
      {
        "line": 55,
        "token": "note",
        "context": "- `technical-note` â†’ Use `note`"
      },
      {
        "line": 59,
        "token": "unnecessary",
        "context": "Remove unnecessary qualifiers:"
      },
      {
        "line": 60,
        "token": "base",
        "context": "- `project-*` â†’ Use base type"
      },
      {
        "line": 61,
        "token": "base",
        "context": "- `technical-*` â†’ Use base type"
      },
      {
        "line": 62,
        "token": "base",
        "context": "- `development-*` â†’ Use base type"
      },
      {
        "line": 83,
        "token": "consolidation",
        "context": "The consolidation script applies these transformations:"
      },
      {
        "line": 85,
        "token": "variants",
        "context": "1. **Fix variants** â†’ `fix`: bug-fix, bugfix, technical-fix, etc."
      },
      {
        "line": 86,
        "token": "variants",
        "context": "2. **Implementation variants** â†’ `implementation`: integrations, project-implementation, etc."
      },
      {
        "line": 87,
        "token": "variants",
        "context": "3. **Solution variants** â†’ `solution`: technical-solution, project-solution, etc."
      },
      {
        "line": 88,
        "token": "variants",
        "context": "4. **Note variants** â†’ `note`: technical-note, development-note, etc."
      },
      {
        "line": 89,
        "token": "redundant",
        "context": "5. **Remove redundant prefixes**: project-, technical-, development-"
      },
      {
        "line": 93,
        "token": "search",
        "context": "- Improved search and retrieval accuracy"
      },
      {
        "line": 94,
        "token": "filtering",
        "context": "- Better tag-based filtering"
      },
      {
        "line": 95,
        "token": "database",
        "context": "- Reduced database fragmentation"
      },
      {
        "line": 96,
        "token": "memory",
        "context": "- Easier memory type analytics"
      },
      {
        "line": 97,
        "token": "memory",
        "context": "- Consistent memory organization"
      }
    ],
    "structure_diff": {
      "heading": [
        17,
        18
      ]
    }
  },
  {
    "english": "scripts/migration/TIMESTAMP_CLEANUP_README.md",
    "chinese": "scripts/migration/TIMESTAMP_CLEANUP_README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 6,
        "token": "scripts",
        "context": "These scripts help clean up the timestamp mess in your MCP Memory ChromaDB database where multiple timestamp formats and fields have accumulated over time."
      },
      {
        "line": 10,
        "token": "script",
        "context": "1. **`verify_mcp_timestamps.py`** - Verification script to check current timestamp state"
      },
      {
        "line": 11,
        "token": "script",
        "context": "2. **`cleanup_mcp_timestamps.py`** - Migration script to fix timestamp issues"
      },
      {
        "line": 15,
        "token": "database",
        "context": "Your database has accumulated 8 different timestamp-related fields:"
      },
      {
        "line": 16,
        "token": "timestamp",
        "context": "- `timestamp` (integer) - Original design"
      },
      {
        "line": 17,
        "token": "float",
        "context": "- `created_at` (float) - Duplicate data"
      },
      {
        "line": 18,
        "token": "string",
        "context": "- `created_at_iso` (string) - ISO format duplicate"
      },
      {
        "line": 19,
        "token": "float",
        "context": "- `timestamp_float` (float) - Another duplicate"
      },
      {
        "line": 20,
        "token": "string",
        "context": "- `timestamp_str` (string) - String format duplicate"
      },
      {
        "line": 21,
        "token": "float",
        "context": "- `updated_at` (float) - Update tracking"
      },
      {
        "line": 22,
        "token": "string",
        "context": "- `updated_at_iso` (string) - Update tracking in ISO"
      },
      {
        "line": 23,
        "token": "date",
        "context": "- `date` (generic) - Generic date field"
      },
      {
        "line": 25,
        "token": "causes",
        "context": "This causes:"
      },
      {
        "line": 26,
        "token": "storage",
        "context": "- 3x storage overhead for the same timestamp"
      },
      {
        "line": 27,
        "token": "about",
        "context": "- Confusion about which field to use"
      },
      {
        "line": 28,
        "token": "data",
        "context": "- Inconsistent data retrieval"
      },
      {
        "line": 38,
        "token": "will",
        "context": "This will show:"
      },
      {
        "line": 39,
        "token": "memories",
        "context": "- Total memories in database"
      },
      {
        "line": 40,
        "token": "timestamp",
        "context": "- Distribution of timestamp fields"
      },
      {
        "line": 41,
        "token": "missing",
        "context": "- Memories missing timestamps"
      },
      {
        "line": 42,
        "token": "values",
        "context": "- Sample values showing the redundancy"
      },
      {
        "line": 43,
        "token": "ranges",
        "context": "- Date ranges for each timestamp type"
      },
      {
        "line": 51,
        "token": "migration",
        "context": "The migration will:"
      },
      {
        "line": 52,
        "token": "backup",
        "context": "1. **Create a backup** of your database"
      },
      {
        "line": 53,
        "token": "all",
        "context": "2. **Standardize** all timestamps to integer format in the `timestamp` field"
      },
      {
        "line": 54,
        "token": "all",
        "context": "3. **Remove** all redundant timestamp fields"
      },
      {
        "line": 55,
        "token": "all",
        "context": "4. **Ensure** all memories have valid timestamps"
      },
      {
        "line": 56,
        "token": "database",
        "context": "5. **Optimize** the database with VACUUM"
      },
      {
        "line": 64,
        "token": "migration",
        "context": "After migration, you should see:"
      },
      {
        "line": 65,
        "token": "one",
        "context": "- Only one timestamp field (`timestamp`)"
      },
      {
        "line": 66,
        "token": "memories",
        "context": "- All memories have timestamps"
      },
      {
        "line": 67,
        "token": "data",
        "context": "- Clean data structure"
      },
      {
        "line": 71,
        "token": "migration",
        "context": "- The migration script **always creates a backup** before making changes"
      },
      {
        "line": 72,
        "token": "location",
        "context": "- Backup location: `/Users/hkr/Library/Application Support/mcp-memory/chroma_db/chroma.sqlite3.backup_YYYYMMDD_HHMMSS`"
      },
      {
        "line": 73,
        "token": "anything",
        "context": "- If anything goes wrong, you can restore the backup"
      },
      {
        "line": 75,
        "token": "needed",
        "context": "## Restoration (if needed)"
      },
      {
        "line": 77,
        "token": "you",
        "context": "If you need to restore from backup:"
      },
      {
        "line": 86,
        "token": "your",
        "context": "Update your MCP Memory Service code to only use the `timestamp` field (integer format) for all timestamp operations. This prevents the issue from recurring."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "scripts/quality/README_PHASE1.md",
    "chinese": "scripts/quality/README_PHASE1_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 18,
        "token": "dead",
        "context": "**Problem:** 27 dead code issues (2 critical) identified by pyscn"
      },
      {
        "line": 19,
        "token": "premature",
        "context": "**Root Cause:** Single premature `return False` at line 1358 in `scripts/installation/install.py`"
      },
      {
        "line": 20,
        "token": "lines",
        "context": "**Impact:** 77 lines of Claude Desktop configuration code never executed during installation"
      },
      {
        "line": 21,
        "token": "unreachable",
        "context": "**Fix:** Move unreachable code block outside exception handler"
      },
      {
        "line": 22,
        "token": "points",
        "context": "**Estimated Improvement:** +5 to +9 points overall health score (63 â†’ 68-72)"
      },
      {
        "line": 28,
        "token": "phase1_dead_code_analysis.md",
        "context": "1. **`phase1_dead_code_analysis.md`** - Complete analysis report with detailed breakdown"
      },
      {
        "line": 29,
        "token": "script",
        "context": "2. **`fix_dead_code_install.sh`** - Interactive script to guide you through the fix"
      },
      {
        "line": 30,
        "token": "quick",
        "context": "3. **`README_PHASE1.md`** - This quick reference guide"
      },
      {
        "line": 42,
        "token": "script",
        "context": "The script will:"
      },
      {
        "line": 43,
        "token": "backup",
        "context": "- Create a backup branch"
      },
      {
        "line": 44,
        "token": "you",
        "context": "- Guide you through manual code editing"
      },
      {
        "line": 45,
        "token": "syntax",
        "context": "- Verify syntax after fix"
      },
      {
        "line": 46,
        "token": "tests",
        "context": "- Run tests (if available)"
      },
      {
        "line": 47,
        "token": "diff",
        "context": "- Show diff and commit message"
      },
      {
        "line": 51,
        "token": "file",
        "context": "1. **Open file:** `scripts/installation/install.py`"
      },
      {
        "line": 52,
        "token": "line",
        "context": "2. **Go to line 1358** (inside except block)"
      },
      {
        "line": 65,
        "token": "lines",
        "context": "4. **Cut lines 1360-1436** (Claude Desktop config block)"
      },
      {
        "line": 66,
        "token": "after",
        "context": "5. **Paste after the except block** (dedent by 4 spaces)"
      },
      {
        "line": 67,
        "token": "verify",
        "context": "6. **Save and verify:**"
      },
      {
        "line": 76,
        "token": "applying",
        "context": "After applying the fix:"
      },
      {
        "line": 78,
        "token": "check",
        "context": "1. **Syntax check:**"
      },
      {
        "line": 83,
        "token": "tests",
        "context": "2. **Run tests:**"
      },
      {
        "line": 88,
        "token": "installation",
        "context": "3. **Test installation:**"
      },
      {
        "line": 94,
        "token": "pyscn",
        "context": "4. **Re-run pyscn:**"
      },
      {
        "line": 99,
        "token": "new",
        "context": "5. **Check new health score** in the HTML report"
      },
      {
        "line": 107,
        "token": "critical",
        "context": "- **Dead Code Issues:** 27 (2 critical)"
      },
      {
        "line": 109,
        "token": "created",
        "context": "- **Claude Desktop Config:** Never created during installation"
      },
      {
        "line": 115,
        "token": "created",
        "context": "- **Claude Desktop Config:** Automatically created during installation"
      },
      {
        "line": 154,
        "token": "complete",
        "context": "Once Phase 1 is complete and merged:"
      },
      {
        "line": 156,
        "token": "pyscn",
        "context": "1. **Run pyscn again** to get updated health score"
      },
      {
        "line": 157,
        "token": "eliminated",
        "context": "2. **Celebrate!** ğŸ‰ You've eliminated all dead code issues"
      },
      {
        "line": 158,
        "token": "complexity",
        "context": "3. **Move to Phase 2:** Low-hanging complexity reductions"
      },
      {
        "line": 159,
        "token": "complexity",
        "context": "- Target complexity score improvement (currently 40/100)"
      },
      {
        "line": 160,
        "token": "functions",
        "context": "- Focus on functions with complexity 15-25 (easier wins)"
      },
      {
        "line": 161,
        "token": "removal",
        "context": "4. **Move to Phase 3:** Duplication removal"
      },
      {
        "line": 162,
        "token": "duplication",
        "context": "- Target duplication score improvement (currently 30/100)"
      },
      {
        "line": 163,
        "token": "test",
        "context": "- Focus on test duplication (identified in pyscn report)"
      },
      {
        "line": 169,
        "token": "errors",
        "context": "### Syntax errors after fix"
      },
      {
        "line": 170,
        "token": "indentation",
        "context": "- Check indentation (should match `try` statement level)"
      },
      {
        "line": 171,
        "token": "lines",
        "context": "- Verify no lines were accidentally deleted"
      },
      {
        "line": 172,
        "token": "backup",
        "context": "- Restore from backup: `cp scripts/installation/install.py.backup scripts/installation/install.py`"
      },
      {
        "line": 174,
        "token": "fail",
        "context": "### Tests fail after fix"
      },
      {
        "line": 175,
        "token": "test",
        "context": "- Review test expectations - they may need updating"
      },
      {
        "line": 176,
        "token": "tests",
        "context": "- Check if tests mock the file write test"
      },
      {
        "line": 177,
        "token": "may",
        "context": "- Tests may be outdated if they expect old behavior"
      },
      {
        "line": 179,
        "token": "pyscn",
        "context": "### pyscn still shows dead code"
      },
      {
        "line": 180,
        "token": "return",
        "context": "- Verify the `return False` was changed to a warning"
      },
      {
        "line": 181,
        "token": "code",
        "context": "- Confirm code block was moved OUTSIDE the except block"
      },
      {
        "line": 182,
        "token": "extra",
        "context": "- Check that no extra `return` statements were left behind"
      },
      {
        "line": 188,
        "token": "scripts/quality/phase1_dead_code_analysis.md",
        "context": "- **Full Analysis:** `scripts/quality/phase1_dead_code_analysis.md`"
      },
      {
        "line": 189,
        "token": "pyscn",
        "context": "- **pyscn Report:** `.pyscn/reports/analyze_20251123_214224.html`"
      },
      {
        "line": 196,
        "token": "detailed",
        "context": "Questions? See the detailed analysis in `phase1_dead_code_analysis.md` or refer to Issue #240 on GitHub."
      },
      {
        "line": 198,
        "token": "minutes",
        "context": "**Time Estimate:** 10-15 minutes for fix + verification"
      },
      {
        "line": 199,
        "token": "code",
        "context": "**Difficulty:** Easy (code movement, no logic changes)"
      },
      {
        "line": 200,
        "token": "code",
        "context": "**Risk:** Low (code was never executing anyway)"
      }
    ],
    "structure_diff": {
      "heading": [
        19,
        20
      ]
    }
  },
  {
    "english": "scripts/quality/README_PHASE2.md",
    "chinese": "scripts/quality/README_PHASE2_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 12,
        "token": "guide",
        "context": "This guide provides a quick reference for implementing Phase 2 complexity reductions identified in `phase2_complexity_analysis.md`."
      },
      {
        "line": 18,
        "token": "points",
        "context": "| **Complexity Score** | 40/100 | 50-55/100 | +10-15 points |"
      },
      {
        "line": 19,
        "token": "points",
        "context": "| **Overall Health** | 63/100 | 66-68/100 | +3 points |"
      },
      {
        "line": 21,
        "token": "hours",
        "context": "| **Total Time Estimate** | - | 12-15 hours | - |"
      },
      {
        "line": 22,
        "token": "points",
        "context": "| **Complexity Reduction** | - | -39 points | - |"
      },
      {
        "line": 26,
        "token": "hours",
        "context": "### High Priority (Week 1) - 7 hours"
      },
      {
        "line": 27,
        "token": "path",
        "context": "Critical path functions that need careful attention:"
      },
      {
        "line": 29,
        "token": "points",
        "context": "1. **install.py::configure_paths()** (15 â†’ 5, -10 points, 4h)"
      },
      {
        "line": 30,
        "token": "platform",
        "context": "- Extract platform detection"
      },
      {
        "line": 31,
        "token": "storage",
        "context": "- Extract storage setup"
      },
      {
        "line": 32,
        "token": "config",
        "context": "- Extract Claude config update"
      },
      {
        "line": 34,
        "token": "points",
        "context": "2. **cloudflare.py::_search_by_tags_internal()** (13 â†’ 8, -5 points, 1.75h)"
      },
      {
        "line": 35,
        "token": "tag",
        "context": "- Extract tag normalization"
      },
      {
        "line": 36,
        "token": "query",
        "context": "- Extract SQL query builder"
      },
      {
        "line": 38,
        "token": "consolidate",
        "context": "3. **consolidator.py::consolidate()** (12 â†’ 8, -4 points, 1.25h)"
      },
      {
        "line": 39,
        "token": "sync",
        "context": "- Extract sync context manager"
      },
      {
        "line": 40,
        "token": "phase",
        "context": "- Extract phase guards"
      },
      {
        "line": 42,
        "token": "hours",
        "context": "### Medium Priority (Week 2) - 2.75 hours"
      },
      {
        "line": 43,
        "token": "functions",
        "context": "Analytics functions (non-critical):"
      },
      {
        "line": 45,
        "token": "points",
        "context": "4. **analytics.py::get_memory_growth()** (11 â†’ 6, -5 points, 1.75h)"
      },
      {
        "line": 46,
        "token": "period",
        "context": "- Extract period configuration"
      },
      {
        "line": 47,
        "token": "interval",
        "context": "- Extract interval aggregation"
      },
      {
        "line": 49,
        "token": "points",
        "context": "5. **analytics.py::get_tag_usage_analytics()** (10 â†’ 6, -4 points, 1h)"
      },
      {
        "line": 50,
        "token": "storage",
        "context": "- Extract storage stats retrieval"
      },
      {
        "line": 51,
        "token": "tag",
        "context": "- Extract tag stats calculation"
      },
      {
        "line": 53,
        "token": "hours",
        "context": "### Low Priority (Weeks 2-3) - 4.25 hours"
      },
      {
        "line": 54,
        "token": "wins",
        "context": "Quick wins with minimal risk:"
      },
      {
        "line": 56,
        "token": "points",
        "context": "6. **install.py::detect_gpu()** (10 â†’ 7, -3 points, 1h)"
      },
      {
        "line": 57,
        "token": "points",
        "context": "7. **cloudflare.py::get_memory_timestamps()** (9 â†’ 7, -2 points, 45m)"
      },
      {
        "line": 58,
        "token": "points",
        "context": "8. **consolidator.py::_get_memories_for_horizon()** (10 â†’ 8, -2 points, 45m)"
      },
      {
        "line": 59,
        "token": "points",
        "context": "9. **analytics.py::get_activity_breakdown()** (9 â†’ 7, -2 points, 1h)"
      },
      {
        "line": 60,
        "token": "points",
        "context": "10. **analytics.py::get_memory_type_distribution()** (9 â†’ 7, -2 points, 45m)"
      },
      {
        "line": 65,
        "token": "use",
        "context": "**When to use:** Function > 50 lines, nested logic, repeated code"
      },
      {
        "line": 87,
        "token": "use",
        "context": "**When to use:** if/elif/else chains with similar structure"
      },
      {
        "line": 105,
        "token": "use",
        "context": "**When to use:** Nested if statements, early validation"
      },
      {
        "line": 129,
        "token": "use",
        "context": "**When to use:** Resource management, setup/teardown logic"
      },
      {
        "line": 152,
        "token": "use",
        "context": "**When to use:** Related configuration values, multiple parameters"
      },
      {
        "line": 174,
        "token": "each",
        "context": "For each refactored function:"
      },
      {
        "line": 176,
        "token": "tests",
        "context": "- [ ] **Unit tests pass** - Run `pytest tests/test_<module>.py`"
      },
      {
        "line": 177,
        "token": "tests",
        "context": "- [ ] **Integration tests pass** - Run `pytest tests/integration/`"
      },
      {
        "line": 178,
        "token": "performance",
        "context": "- [ ] **No performance regression** - Benchmark before/after"
      },
      {
        "line": 179,
        "token": "contracts",
        "context": "- [ ] **API contracts unchanged** - Check response formats"
      },
      {
        "line": 180,
        "token": "cases",
        "context": "- [ ] **Edge cases tested** - Null inputs, empty lists, errors"
      },
      {
        "line": 181,
        "token": "updated",
        "context": "- [ ] **Documentation updated** - Docstrings, comments"
      },
      {
        "line": 186,
        "token": "priority",
        "context": "1. Week 1: High priority functions (7h)"
      },
      {
        "line": 187,
        "token": "priority",
        "context": "2. Week 2: Medium priority functions (2.75h)"
      },
      {
        "line": 188,
        "token": "priority",
        "context": "3. Week 3: Low priority quick wins (4.25h)"
      },
      {
        "line": 190,
        "token": "hours",
        "context": "**Total:** 14 hours over 3 weeks"
      },
      {
        "line": 194,
        "token": "cloudflare",
        "context": "2. **Developer B:** cloudflare functions (2.5h)"
      },
      {
        "line": 195,
        "token": "consolidator",
        "context": "3. **Developer C:** consolidator functions (2h)"
      },
      {
        "line": 196,
        "token": "analytics",
        "context": "4. **Developer D:** analytics functions (4.75h)"
      },
      {
        "line": 198,
        "token": "hours",
        "context": "**Total:** ~7 hours (with coordination overhead: 9-10 hours)"
      },
      {
        "line": 201,
        "token": "functions",
        "context": "Focus on high-priority functions only:"
      },
      {
        "line": 204,
        "token": "consolidate",
        "context": "3. consolidate (1.25h)"
      },
      {
        "line": 206,
        "token": "hours",
        "context": "**Total:** 7 hours for core improvements"
      },
      {
        "line": 211,
        "token": "caution",
        "context": "**Extra caution required:**"
      },
      {
        "line": 212,
        "token": "core",
        "context": "- _search_by_tags_internal (core search)"
      },
      {
        "line": 213,
        "token": "consolidate",
        "context": "- consolidate (memory consolidation)"
      },
      {
        "line": 214,
        "token": "consolidation",
        "context": "- _get_memories_for_horizon (consolidation)"
      },
      {
        "line": 216,
        "token": "measures",
        "context": "**Safety measures:**"
      },
      {
        "line": 217,
        "token": "feature",
        "context": "- Create feature branch for each"
      },
      {
        "line": 218,
        "token": "integration",
        "context": "- Comprehensive integration tests"
      },
      {
        "line": 219,
        "token": "benchmarking",
        "context": "- Performance benchmarking"
      },
      {
        "line": 220,
        "token": "rollout",
        "context": "- Staged rollout (dev â†’ staging â†’ production)"
      },
      {
        "line": 223,
        "token": "batched",
        "context": "**Can be batched:**"
      },
      {
        "line": 224,
        "token": "analytics",
        "context": "- All analytics endpoints (read-only)"
      },
      {
        "line": 225,
        "token": "functions",
        "context": "- Setup functions (non-critical path)"
      },
      {
        "line": 227,
        "token": "measures",
        "context": "**Safety measures:**"
      },
      {
        "line": 228,
        "token": "unit",
        "context": "- Standard unit testing"
      },
      {
        "line": 229,
        "token": "smoke",
        "context": "- Manual smoke testing"
      },
      {
        "line": 230,
        "token": "rolled",
        "context": "- Can be rolled back easily"
      },
      {
        "line": 235,
        "token": "score",
        "context": "- [ ] Complexity score: 40 â†’ 50+ (+10 points minimum)"
      },
      {
        "line": 236,
        "token": "health",
        "context": "- [ ] Overall health: 63 â†’ 66+ (+3 points minimum)"
      },
      {
        "line": 237,
        "token": "functions",
        "context": "- [ ] All 10 functions refactored successfully"
      },
      {
        "line": 238,
        "token": "breaking",
        "context": "- [ ] Zero breaking changes"
      },
      {
        "line": 239,
        "token": "tests",
        "context": "- [ ] All tests passing"
      },
      {
        "line": 242,
        "token": "easier",
        "context": "- [ ] Code easier to understand (peer review)"
      },
      {
        "line": 243,
        "token": "testable",
        "context": "- [ ] Functions are testable in isolation"
      },
      {
        "line": 244,
        "token": "separation",
        "context": "- [ ] Better separation of concerns"
      },
      {
        "line": 245,
        "token": "maintainability",
        "context": "- [ ] Improved maintainability"
      },
      {
        "line": 250,
        "token": "too",
        "context": "**Problem:** Creating too many tiny functions"
      },
      {
        "line": 251,
        "token": "only",
        "context": "**Solution:** Extract only when it improves clarity (10+ lines minimum)"
      },
      {
        "line": 254,
        "token": "function",
        "context": "**Problem:** Changing function signatures"
      },
      {
        "line": 255,
        "token": "public",
        "context": "**Solution:** Keep public APIs unchanged, refactor internals only"
      },
      {
        "line": 258,
        "token": "function",
        "context": "**Problem:** Excessive function calls overhead"
      },
      {
        "line": 259,
        "token": "inline",
        "context": "**Solution:** Benchmark before/after, inline hot paths if needed"
      },
      {
        "line": 262,
        "token": "edge",
        "context": "**Problem:** Missing edge cases"
      },
      {
        "line": 263,
        "token": "error",
        "context": "**Solution:** Test error paths, null inputs, boundary conditions"
      },
      {
        "line": 266,
        "token": "core",
        "context": "**Problem:** Breaking core functionality"
      },
      {
        "line": 267,
        "token": "time",
        "context": "**Solution:** Extra time for testing critical path functions"
      },
      {
        "line": 310,
        "token": "scripts/quality/phase2_complexity_analysis.md",
        "context": "- **Phase 2 Analysis:** `scripts/quality/phase2_complexity_analysis.md` (detailed proposals)"
      },
      {
        "line": 311,
        "token": "scripts/quality/phase1_dead_code_analysis.md",
        "context": "- **Phase 1 Results:** `scripts/quality/phase1_dead_code_analysis.md` (lessons learned)"
      },
      {
        "line": 312,
        "token": "scripts/quality/complexity_scoring_guide.md",
        "context": "- **Complexity Guide:** `scripts/quality/complexity_scoring_guide.md` (understanding metrics)"
      },
      {
        "line": 315,
        "token": "detailed",
        "context": "- Review the detailed analysis for each function"
      },
      {
        "line": 316,
        "token": "refactoring",
        "context": "- Check the refactoring pattern examples"
      },
      {
        "line": 317,
        "token": "incrementally",
        "context": "- Test incrementally after each change"
      },
      {
        "line": 318,
        "token": "peer",
        "context": "- Ask for peer review on critical functions"
      },
      {
        "line": 323,
        "token": "completion",
        "context": "**Next Review:** After Phase 2 completion"
      }
    ],
    "structure_diff": {
      "heading": [
        59,
        60
      ]
    }
  },
  {
    "english": "scripts/quality/phase1_dead_code_analysis.md",
    "chinese": "scripts/quality/phase1_dead_code_analysis_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "phase1_dead_code_analysis.md",
        "context": "# phase1_dead_code_analysis.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 11,
        "token": "pyscn",
        "context": "**Based on:** pyscn report `analyze_20251123_214224.html`"
      },
      {
        "line": 13,
        "token": "issues",
        "context": "**Dead Code Score:** 70/100 (27 issues, 2 critical)"
      },
      {
        "line": 19,
        "token": "pyscn",
        "context": "Based on the pyscn analysis, this codebase has **27 dead code issues** that need to be addressed. After detailed analysis of the report, I've identified the fol"
      },
      {
        "line": 22,
        "token": "critical",
        "context": "- **Critical:** 2 (1 critical unreachable code block in `scripts/installation/install.py`)"
      },
      {
        "line": 23,
        "token": "unreachable",
        "context": "- **Warnings:** 25 (unreachable branches in the same function)"
      },
      {
        "line": 24,
        "token": "all",
        "context": "- **Safe to Remove Immediately:** 27 (all issues are in the same function with a clear root cause)"
      },
      {
        "line": 35,
        "token": "dead",
        "context": "All 27 dead code issues stem from a **single premature return statement** in the `configure_paths()` function at line 1358 of `scripts/installation/install.py`."
      },
      {
        "line": 38,
        "token": "configuration",
        "context": "- Claude Desktop configuration is never applied during installation"
      },
      {
        "line": 39,
        "token": "must",
        "context": "- Users must manually configure Claude Desktop after installation"
      },
      {
        "line": 40,
        "token": "verification",
        "context": "- Installation verification may fail silently"
      },
      {
        "line": 50,
        "token": "lines",
        "context": "**Lines:** 1360-1436 (77 lines)"
      },
      {
        "line": 51,
        "token": "code",
        "context": "**Type:** Unreachable code after return statement"
      },
      {
        "line": 53,
        "token": "verified",
        "context": "**References:** 0 (verified - this is genuine dead code)"
      },
      {
        "line": 56,
        "token": "contains",
        "context": "Line 1358 contains `return False` inside a try-except block, causing the entire Claude Desktop configuration logic to be unreachable."
      },
      {
        "line": 159,
        "token": "return",
        "context": "The `return False` at line 1358 should NOT be removed - it's a valid error condition. Instead, the Claude Desktop configuration code (lines 1360-1436) needs to "
      },
      {
        "line": 162,
        "token": "lines",
        "context": "1. Remove lines 1360-1436 from current location (inside except block)"
      },
      {
        "line": 163,
        "token": "move",
        "context": "2. Dedent and move this code block to after line 1358 (after the except block closes)"
      },
      {
        "line": 164,
        "token": "proper",
        "context": "3. Ensure proper indentation and flow control"
      },
      {
        "line": 220,
        "token": "issues",
        "context": "All 27 issues are variations of the same root cause. Here's the complete list from pyscn:"
      },
      {
        "line": 224,
        "token": "variable",
        "context": "| 1 | 1361-1365 | Critical | unreachable_after_return | Comment and variable declarations |"
      },
      {
        "line": 225,
        "token": "loop",
        "context": "| 2 | 1367-1436 | Warning | unreachable_branch | Entire for loop and configuration logic |"
      },
      {
        "line": 226,
        "token": "loop",
        "context": "| 3 | 1368-1436 | Warning | unreachable_branch | For loop body |"
      },
      {
        "line": 227,
        "token": "condition",
        "context": "| 4 | 1369-1369 | Warning | unreachable_branch | If condition check |"
      },
      {
        "line": 228,
        "token": "statement",
        "context": "| 5 | 1371-1371 | Warning | unreachable_branch | Import statement |"
      },
      {
        "line": 229,
        "token": "read",
        "context": "| 6 | 1372-1373 | Warning | unreachable_branch | File read |"
      },
      {
        "line": 230,
        "token": "JSON",
        "context": "| 7 | 1373-1373 | Warning | unreachable_branch | JSON load |"
      },
      {
        "line": 231,
        "token": "check",
        "context": "| 8 | 1376-1377 | Warning | unreachable_branch | Config check |"
      },
      {
        "line": 232,
        "token": "assignment",
        "context": "| 9 | 1377-1377 | Warning | unreachable_branch | Dictionary assignment |"
      },
      {
        "line": 233,
        "token": "creation",
        "context": "| 10 | 1380-1388 | Warning | unreachable_branch | env_config creation |"
      },
      {
        "line": 234,
        "token": "more",
        "context": "| ... | ... | ... | ... | (17 more warnings for nested code blocks) |"
      },
      {
        "line": 236,
        "token": "all",
        "context": "**Note:** These are all sub-issues of the main critical issue. Fixing the root cause (moving the code block) will resolve all 27 issues simultaneously."
      },
      {
        "line": 242,
        "token": "not",
        "context": "**Important:** This is not a simple removal - it's a **code restructuring** to make the unreachable code reachable."
      },
      {
        "line": 323,
        "token": "sed",
        "context": "### Automated Fix Script (Using sed)"
      },
      {
        "line": 325,
        "token": "complex",
        "context": "**Warning:** This is complex due to the need to move and re-indent code. Manual fix is recommended."
      },
      {
        "line": 333,
        "token": "config",
        "context": "| Move Claude Desktop config code | **Low** | **High** - Fixes installation for all users | `pytest tests/unit/test_installation.py` | `git revert` or restore f"
      },
      {
        "line": 334,
        "token": "return",
        "context": "| Change `return False` to warning | **Low** | Medium - Changes error handling behavior | Manual installation test | `git revert` | **P1** |"
      },
      {
        "line": 335,
        "token": "adjustment",
        "context": "| Indentation adjustment | **Very Low** | High - Code won't run if wrong | `python -m py_compile` | `git revert` | **P1** |"
      },
      {
        "line": 338,
        "token": "straightforward",
        "context": "**Reason:** This is a straightforward code movement with clear intent. The original code was never executing, so we're not changing existing behavior - we're en"
      },
      {
        "line": 369,
        "token": "all",
        "context": "- Fixing all 27 dead code issues simultaneously by addressing the root cause"
      },
      {
        "line": 370,
        "token": "code",
        "context": "- Dead code score expected to improve by 15-20 points (from 70 to 85-90)"
      },
      {
        "line": 371,
        "token": "health",
        "context": "- Overall health score improvement of 5-9 points (from 63 to 68-72)"
      },
      {
        "line": 372,
        "token": "conservative",
        "context": "- This is a conservative estimate - could be higher if pyscn weighs critical issues heavily"
      },
      {
        "line": 375,
        "token": "process",
        "context": "- Installation process will work correctly for Claude Desktop configuration"
      },
      {
        "line": 376,
        "token": "won",
        "context": "- Users won't need manual post-installation configuration"
      },
      {
        "line": 377,
        "token": "user",
        "context": "- Improved user experience and reduced support requests"
      },
      {
        "line": 384,
        "token": "current",
        "context": "1. **Confirm current behavior:**"
      },
      {
        "line": 410,
        "token": "pyscn",
        "context": "4. **pyscn Re-analysis:**"
      },
      {
        "line": 428,
        "token": "analysis",
        "context": "1. âœ… **Review this analysis** - Confirm the root cause and fix strategy"
      },
      {
        "line": 429,
        "token": "fix",
        "context": "2. â³ **Apply the fix manually** - Edit `scripts/installation/install.py`"
      },
      {
        "line": 430,
        "token": "tests",
        "context": "3. â³ **Run tests** - Verify no regressions: `pytest tests/unit/test_installation.py`"
      },
      {
        "line": 431,
        "token": "installation",
        "context": "4. â³ **Test installation** - Run full installer and verify Claude config created"
      },
      {
        "line": 432,
        "token": "changes",
        "context": "5. â³ **Commit changes** - Use semantic commit message"
      },
      {
        "line": 433,
        "token": "pyscn",
        "context": "6. â³ **Re-run pyscn** - Verify health score improvement"
      },
      {
        "line": 466,
        "token": "complete",
        "context": "After Phase 1 is complete and merged:"
      },
      {
        "line": 467,
        "token": "pyscn",
        "context": "1. **Run pyscn again** - Get updated health score"
      },
      {
        "line": 468,
        "token": "complexity",
        "context": "2. **Analyze complexity issues** - Address complexity score of 40/100"
      },
      {
        "line": 469,
        "token": "duplication",
        "context": "3. **Review duplication** - Address duplication score of 30/100"
      },
      {
        "line": 470,
        "token": "plan",
        "context": "4. **Create Phase 2 plan** - Target low-hanging complexity reductions"
      },
      {
        "line": 474,
        "token": "pyscn",
        "context": "## Appendix: pyscn Report Metadata"
      },
      {
        "line": 484,
        "token": "functions",
        "context": "- Complexity: 40/100 (28 high-risk functions)"
      },
      {
        "line": 485,
        "token": "issues",
        "context": "- Dead Code: 70/100 (27 issues, 2 critical)"
      },
      {
        "line": 486,
        "token": "duplication",
        "context": "- Duplication: 30/100 (6.0% duplication, 18 groups)"
      },
      {
        "line": 487,
        "token": "excellent",
        "context": "- Coupling (CBO): 100/100 (excellent)"
      },
      {
        "line": 488,
        "token": "cycles",
        "context": "- Dependencies: 85/100 (no cycles)"
      },
      {
        "line": 489,
        "token": "compliant",
        "context": "- Architecture: 75/100 (75.5% compliant)"
      },
      {
        "line": 495,
        "token": "analysis",
        "context": "This Phase 1 analysis identifies a single root cause affecting all 27 dead code issues: a premature `return False` statement in the `configure_paths()` function"
      },
      {
        "line": 497,
        "token": "all",
        "context": "1. **Eliminate all 27 dead code issues** identified by pyscn"
      },
      {
        "line": 498,
        "token": "critical",
        "context": "2. **Fix a critical installation bug** where Claude Desktop is never configured"
      },
      {
        "line": 499,
        "token": "overall",
        "context": "3. **Improve overall health score by 5-9 points** (from 63 to 68-72)"
      },
      {
        "line": 500,
        "token": "dead",
        "context": "4. **Improve dead code score by 15-20 points** (from 70 to 85-90)"
      },
      {
        "line": 502,
        "token": "fix",
        "context": "The fix is straightforward, low-risk, and has high impact. This sets the stage for Phase 2, where we can tackle complexity and duplication issues with a cleaner"
      },
      {
        "line": 504,
        "token": "manual",
        "context": "**Recommendation:** Proceed with manual fix using the strategy outlined above. Automated sed script is possible but manual fix is safer given the code movement "
      }
    ],
    "structure_diff": {
      "heading": [
        49,
        50
      ]
    }
  },
  {
    "english": "scripts/quality/phase2_complexity_analysis.md",
    "chinese": "scripts/quality/phase2_complexity_analysis_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "phase2_complexity_analysis.md",
        "context": "# phase2_complexity_analysis.mdï¼ˆä¸­æ–‡è¯´æ˜ï¼‰"
      },
      {
        "line": 15,
        "token": "complexity",
        "context": "- Average complexity: 9.5"
      },
      {
        "line": 16,
        "token": "functions",
        "context": "- High-risk functions (>7): 28 functions"
      },
      {
        "line": 17,
        "token": "complexity",
        "context": "- Maximum complexity: 62 (install.py::main)"
      },
      {
        "line": 20,
        "token": "functions",
        "context": "- Target functions: 5 main targets (complexity 10-15) + 5 quick wins"
      },
      {
        "line": 21,
        "token": "complexity",
        "context": "- Target complexity improvement: +10-15 points (40 â†’ 50-55)"
      },
      {
        "line": 22,
        "token": "overall",
        "context": "- Expected overall health improvement: +3 points (63 â†’ 66-68)"
      },
      {
        "line": 23,
        "token": "methods",
        "context": "- Strategy: Extract methods, guard clauses, dict lookups (no architectural changes)"
      },
      {
        "line": 25,
        "token": "hours",
        "context": "**Total Estimated Effort:** 12-15 hours"
      },
      {
        "line": 27,
        "token": "target",
        "context": "**Functions Analyzed:** 5 target functions + 5 quick wins"
      },
      {
        "line": 34,
        "token": "storage",
        "context": "**Purpose:** Configure storage paths for memory service based on platform and backend type."
      },
      {
        "line": 36,
        "token": "lines",
        "context": "**Location:** Lines 1287-1445 (158 lines)"
      },
      {
        "line": 48,
        "token": "detection",
        "context": "1. Platform detection branching (macOS/Windows/Linux) - 3 branches"
      },
      {
        "line": 49,
        "token": "backend",
        "context": "2. Storage backend type branching (sqlite_vec/hybrid/cloudflare/chromadb) - 4 branches"
      },
      {
        "line": 50,
        "token": "config",
        "context": "3. Nested Claude config file discovery and JSON manipulation"
      },
      {
        "line": 51,
        "token": "handling",
        "context": "4. Error handling for directory creation and file operations"
      },
      {
        "line": 54,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -3 complexity | **Time:** 1 hour"
      },
      {
        "line": 102,
        "token": "platform",
        "context": "- Removes platform branching from main function"
      },
      {
        "line": 103,
        "token": "dict",
        "context": "- Uses dict lookup instead of if/elif/else chain"
      },
      {
        "line": 106,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -4 complexity | **Time:** 1.5 hours"
      },
      {
        "line": 192,
        "token": "nested",
        "context": "- Removes nested storage backend setup logic"
      },
      {
        "line": 193,
        "token": "return",
        "context": "- Early return pattern for error handling"
      },
      {
        "line": 196,
        "token": "complexity",
        "context": "**Risk:** Medium | **Impact:** -3 complexity | **Time:** 1.5 hours"
      },
      {
        "line": 350,
        "token": "nested",
        "context": "- Removes nested config update logic"
      },
      {
        "line": 351,
        "token": "env",
        "context": "- Separates env config building from file I/O"
      },
      {
        "line": 352,
        "token": "return",
        "context": "- Early return pattern in update function"
      },
      {
        "line": 355,
        "token": "platform",
        "context": "1. **Extract platform detection** (1 hour, low risk) - Simple dict lookup"
      },
      {
        "line": 356,
        "token": "storage",
        "context": "2. **Extract storage setup** (1.5 hours, low risk) - Straightforward extraction"
      },
      {
        "line": 357,
        "token": "config",
        "context": "3. **Extract Claude config** (1.5 hours, medium risk) - Requires careful testing"
      },
      {
        "line": 359,
        "token": "points",
        "context": "**Total Complexity Reduction:** 15 â†’ 5 (-10 points)"
      },
      {
        "line": 360,
        "token": "hours",
        "context": "**Total Time:** 4 hours"
      },
      {
        "line": 367,
        "token": "batched",
        "context": "**Purpose:** Execute batched D1 SQL queries with retry logic."
      },
      {
        "line": 369,
        "token": "examining",
        "context": "**Note:** After examining the cloudflare.py file, I found that `_execute_batch()` does not exist. The complexity report may be outdated or the function was refa"
      },
      {
        "line": 380,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -2 complexity | **Time:** 45 minutes"
      },
      {
        "line": 452,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -3 complexity | **Time:** 1 hour"
      },
      {
        "line": 545,
        "token": "tag",
        "context": "1. **Extract tag normalization** (45 min, low risk) - Pure functions, easy to test"
      },
      {
        "line": 546,
        "token": "builder",
        "context": "2. **Extract SQL builder** (1 hour, low risk) - Testable without database"
      },
      {
        "line": 548,
        "token": "points",
        "context": "**Total Complexity Reduction:** 13 â†’ 8 (-5 points)"
      },
      {
        "line": 549,
        "token": "hours",
        "context": "**Total Time:** 1.75 hours"
      },
      {
        "line": 556,
        "token": "compress",
        "context": "**Purpose:** Identify and compress semantically similar memory clusters."
      },
      {
        "line": 558,
        "token": "examining",
        "context": "**Note:** After examining consolidator.py (556 lines), I found that `_compress_redundant_memories()` does not exist in the current codebase. The function was li"
      },
      {
        "line": 560,
        "token": "consolidate",
        "context": "### Complexity Breakdown (consolidate method)"
      },
      {
        "line": 570,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -2 complexity | **Time:** 45 minutes"
      },
      {
        "line": 636,
        "token": "nested",
        "context": "- Removes nested sync management logic"
      },
      {
        "line": 637,
        "token": "context",
        "context": "- Async context manager handles cleanup automatically"
      },
      {
        "line": 640,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -2 complexity | **Time:** 30 minutes"
      },
      {
        "line": 699,
        "token": "guards",
        "context": "- Extracts multi-condition guards to named methods"
      },
      {
        "line": 700,
        "token": "readability",
        "context": "- Improves readability and testability"
      },
      {
        "line": 703,
        "token": "sync",
        "context": "1. **Extract sync context manager** (45 min, low risk) - Standard async pattern"
      },
      {
        "line": 704,
        "token": "phase",
        "context": "2. **Extract phase guards** (30 min, low risk) - Simple boolean methods"
      },
      {
        "line": 706,
        "token": "points",
        "context": "**Total Complexity Reduction:** 12 â†’ 8 (-4 points)"
      },
      {
        "line": 707,
        "token": "hours",
        "context": "**Total Time:** 1.25 hours"
      },
      {
        "line": 714,
        "token": "analytics",
        "context": "**Purpose:** Aggregate analytics overview from storage backend."
      },
      {
        "line": 716,
        "token": "examining",
        "context": "**Note:** After examining analytics.py, the `get_analytics()` function doesn't exist. The most complex function is `get_memory_growth()` at lines 267-363 (compl"
      },
      {
        "line": 727,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -3 complexity | **Time:** 45 minutes"
      },
      {
        "line": 796,
        "token": "chain",
        "context": "- Replaces if/elif chain with dict lookup"
      },
      {
        "line": 797,
        "token": "easily",
        "context": "- Configuration is data-driven and easily extensible"
      },
      {
        "line": 800,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -2 complexity | **Time:** 1 hour"
      },
      {
        "line": 901,
        "token": "data",
        "context": "- Separates data aggregation from presentation"
      },
      {
        "line": 902,
        "token": "loops",
        "context": "- Nested loops extracted to dedicated function"
      },
      {
        "line": 905,
        "token": "period",
        "context": "1. **Extract period config** (45 min, low risk) - Dict lookup pattern"
      },
      {
        "line": 906,
        "token": "interval",
        "context": "2. **Extract interval aggregation** (1 hour, low risk) - Pure function extraction"
      },
      {
        "line": 908,
        "token": "points",
        "context": "**Total Complexity Reduction:** 11 â†’ 6 (-5 points)"
      },
      {
        "line": 909,
        "token": "hours",
        "context": "**Total Time:** 1.75 hours"
      },
      {
        "line": 913,
        "token": "functions",
        "context": "## Target Function 5: quality_gate.sh functions (Complexity: 10-12)"
      },
      {
        "line": 916,
        "token": "bash",
        "context": "**Purpose:** Multiple bash functions for PR quality checks."
      },
      {
        "line": 918,
        "token": "searching",
        "context": "**Note:** After searching, I found bash scripts in `/scripts/pr/` but they don't contain individual functions with measurable cyclomatic complexity in the Pytho"
      },
      {
        "line": 920,
        "token": "analyze",
        "context": "Instead, I'll analyze a Python equivalent that would benefit from refactoring: The analytics endpoint functions that have similar complexity patterns."
      },
      {
        "line": 922,
        "token": "analyze",
        "context": "Let me analyze `get_tag_usage_analytics()` from analytics.py (lines 366-428, complexity ~10)."
      },
      {
        "line": 933,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -2 complexity | **Time:** 30 minutes"
      },
      {
        "line": 1003,
        "token": "complexity",
        "context": "**Risk:** Low | **Impact:** -2 complexity | **Time:** 30 minutes"
      },
      {
        "line": 1076,
        "token": "memory",
        "context": "1. **Extract memory count retrieval** (30 min, low risk) - Simple extraction"
      },
      {
        "line": 1077,
        "token": "tag",
        "context": "2. **Extract tag stats calculation** (30 min, low risk) - Pure function"
      },
      {
        "line": 1079,
        "token": "points",
        "context": "**Total Complexity Reduction:** 10 â†’ 6 (-4 points)"
      },
      {
        "line": 1080,
        "token": "hour",
        "context": "**Total Time:** 1 hour"
      },
      {
        "line": 1087,
        "token": "detection",
        "context": "**Refactoring:** Extract platform-specific GPU detection to separate functions"
      },
      {
        "line": 1088,
        "token": "hour",
        "context": "**Time:** 1 hour | **Risk:** Low"
      },
      {
        "line": 1145,
        "token": "complexity",
        "context": "**Impact:** -3 complexity"
      },
      {
        "line": 1146,
        "token": "logic",
        "context": "- Platform-specific logic extracted"
      },
      {
        "line": 1147,
        "token": "dispatch",
        "context": "- Dict dispatch replaces if/elif chain"
      },
      {
        "line": 1152,
        "token": "query",
        "context": "**Refactoring:** Extract SQL query building and result processing"
      },
      {
        "line": 1153,
        "token": "minutes",
        "context": "**Time:** 45 minutes | **Risk:** Low"
      },
      {
        "line": 1230,
        "token": "complexity",
        "context": "**Impact:** -2 complexity"
      },
      {
        "line": 1231,
        "token": "building",
        "context": "- Query building extracted"
      },
      {
        "line": 1232,
        "token": "processing",
        "context": "- Result processing extracted"
      },
      {
        "line": 1237,
        "token": "time",
        "context": "**Refactoring:** Extract time range calculation and incremental mode sorting"
      },
      {
        "line": 1238,
        "token": "minutes",
        "context": "**Time:** 45 minutes | **Risk:** Low"
      },
      {
        "line": 1304,
        "token": "complexity",
        "context": "**Impact:** -2 complexity"
      },
      {
        "line": 1305,
        "token": "time",
        "context": "- Config-driven time range selection"
      },
      {
        "line": 1306,
        "token": "key",
        "context": "- Sort key extraction to separate function"
      },
      {
        "line": 1311,
        "token": "aggregation",
        "context": "**Refactoring:** Extract granularity-specific aggregation functions"
      },
      {
        "line": 1312,
        "token": "hour",
        "context": "**Time:** 1 hour | **Risk:** Low"
      },
      {
        "line": 1367,
        "token": "complexity",
        "context": "**Impact:** -2 complexity"
      },
      {
        "line": 1368,
        "token": "logic",
        "context": "- Granularity-specific logic extracted"
      },
      {
        "line": 1369,
        "token": "dispatch",
        "context": "- Dict dispatch replaces if/elif chain"
      },
      {
        "line": 1374,
        "token": "storage",
        "context": "**Refactoring:** Extract storage backend type detection and query building"
      },
      {
        "line": 1375,
        "token": "minutes",
        "context": "**Time:** 45 minutes | **Risk:** Low"
      },
      {
        "line": 1447,
        "token": "complexity",
        "context": "**Impact:** -2 complexity"
      },
      {
        "line": 1448,
        "token": "detection",
        "context": "- Backend detection logic extracted"
      },
      {
        "line": 1449,
        "token": "return",
        "context": "- Early return pattern in extraction function"
      },
      {
        "line": 1456,
        "token": "cloudflare",
        "context": "**Target:** configure_paths, cloudflare tag search, consolidator.consolidate"
      },
      {
        "line": 1462,
        "token": "consolidate",
        "context": "| consolidator.py::consolidate() | High | 1.25h | None | Yes |"
      },
      {
        "line": 1464,
        "token": "hours",
        "context": "**Subtotal:** 7 hours (can be done in parallel)"
      },
      {
        "line": 1467,
        "token": "analytics",
        "context": "**Target:** analytics endpoints optimization"
      },
      {
        "line": 1474,
        "token": "hours",
        "context": "**Subtotal:** 2.75 hours (can be done in parallel)"
      },
      {
        "line": 1477,
        "token": "improvements",
        "context": "**Target:** Low-risk, high-impact improvements"
      },
      {
        "line": 1487,
        "token": "hours",
        "context": "**Subtotal:** 4.25 hours (can be done in parallel)"
      },
      {
        "line": 1490,
        "token": "execution",
        "context": "- **Sequential execution:** 14 hours"
      },
      {
        "line": 1491,
        "token": "execution",
        "context": "- **Parallel execution (with team):** 7 hours (Phase 2A) + 2.75h (Phase 2B) + 2h (Phase 2C) = **11.75 hours**"
      },
      {
        "line": 1492,
        "token": "hours",
        "context": "- **Recommended:** 12-15 hours (including testing and documentation)"
      },
      {
        "line": 1500,
        "token": "main",
        "context": "- 5 main target functions: -28 complexity points total"
      },
      {
        "line": 1501,
        "token": "quick",
        "context": "- 5 quick wins: -11 complexity points total"
      },
      {
        "line": 1502,
        "token": "reduction",
        "context": "- **Total reduction:** -39 complexity points across 10 functions"
      },
      {
        "line": 1504,
        "token": "points",
        "context": "**Projected:** 50-55/100 (+10-15 points)"
      },
      {
        "line": 1511,
        "token": "dead",
        "context": "- Phase 1 (dead code): +5-9 points â†’ 68-72"
      },
      {
        "line": 1512,
        "token": "complexity",
        "context": "- Phase 2 (complexity): +3 points â†’ 71-75"
      },
      {
        "line": 1519,
        "token": "main",
        "context": "- [ ] All 5 main functions reduced by 3+ complexity points each"
      },
      {
        "line": 1520,
        "token": "quick",
        "context": "- [ ] All 5 quick wins implemented successfully"
      },
      {
        "line": 1521,
        "token": "complexity",
        "context": "- [ ] Total complexity reduction: 30+ points"
      },
      {
        "line": 1522,
        "token": "breaking",
        "context": "- [ ] No breaking changes (all tests passing)"
      },
      {
        "line": 1523,
        "token": "performance",
        "context": "- [ ] No performance regressions"
      },
      {
        "line": 1526,
        "token": "readability",
        "context": "- [ ] Code readability improved (subjective review)"
      },
      {
        "line": 1527,
        "token": "easier",
        "context": "- [ ] Functions easier to understand and maintain"
      },
      {
        "line": 1528,
        "token": "separation",
        "context": "- [ ] Better separation of concerns"
      },
      {
        "line": 1529,
        "token": "testability",
        "context": "- [ ] Improved testability (isolated functions)"
      },
      {
        "line": 1537,
        "token": "integration",
        "context": "| configure_paths | Low | Unit + integration | No (setup only) | High |"
      },
      {
        "line": 1538,
        "token": "tests",
        "context": "| _search_by_tags_internal | Low | Unit + DB tests | Yes (core search) | High |"
      },
      {
        "line": 1539,
        "token": "consolidate",
        "context": "| consolidate | Medium | Integration tests | Yes (consolidation) | High |"
      },
      {
        "line": 1540,
        "token": "tests",
        "context": "| get_memory_growth | Low | Unit + API tests | No (analytics) | Medium |"
      },
      {
        "line": 1541,
        "token": "tests",
        "context": "| get_tag_usage_analytics | Low | Unit + API tests | No (analytics) | Medium |"
      },
      {
        "line": 1542,
        "token": "tests",
        "context": "| detect_gpu | Low | Unit tests | No (setup only) | Low |"
      },
      {
        "line": 1543,
        "token": "tests",
        "context": "| get_memory_timestamps | Low | Unit + DB tests | No (analytics) | Low |"
      },
      {
        "line": 1544,
        "token": "tests",
        "context": "| _get_memories_for_horizon | Medium | Integration tests | Yes (consolidation) | Medium |"
      },
      {
        "line": 1545,
        "token": "tests",
        "context": "| get_activity_breakdown | Low | Unit + API tests | No (analytics) | Low |"
      },
      {
        "line": 1546,
        "token": "tests",
        "context": "| get_memory_type_distribution | Low | Unit + API tests | No (analytics) | Low |"
      },
      {
        "line": 1548,
        "token": "require",
        "context": "**Critical Path Functions (require careful testing):**"
      },
      {
        "line": 1549,
        "token": "search",
        "context": "1. _search_by_tags_internal - Core search functionality"
      },
      {
        "line": 1550,
        "token": "consolidate",
        "context": "2. consolidate - Memory consolidation pipeline"
      },
      {
        "line": 1551,
        "token": "memory",
        "context": "3. _get_memories_for_horizon - Consolidation memory selection"
      },
      {
        "line": 1553,
        "token": "easier",
        "context": "**Low-Risk Functions (easier to refactor):**"
      },
      {
        "line": 1554,
        "token": "analytics",
        "context": "- All analytics endpoints (read-only, non-critical)"
      },
      {
        "line": 1555,
        "token": "functions",
        "context": "- Setup functions (configure_paths, detect_gpu)"
      },
      {
        "line": 1561,
        "token": "per",
        "context": "### Unit Tests (per function)"
      },
      {
        "line": 1562,
        "token": "extracted",
        "context": "- Test extracted functions independently"
      },
      {
        "line": 1563,
        "token": "contracts",
        "context": "- Verify input/output contracts"
      },
      {
        "line": 1564,
        "token": "edge",
        "context": "- Test edge cases and error handling"
      },
      {
        "line": 1567,
        "token": "critical",
        "context": "- Test critical path functions with real storage"
      },
      {
        "line": 1568,
        "token": "behavioral",
        "context": "- Verify no behavioral changes"
      },
      {
        "line": 1569,
        "token": "benchmarks",
        "context": "- Performance benchmarks (before/after)"
      },
      {
        "line": 1572,
        "token": "full",
        "context": "- Run full test suite after each refactoring"
      },
      {
        "line": 1573,
        "token": "contracts",
        "context": "- Verify API contracts unchanged"
      },
      {
        "line": 1574,
        "token": "performance",
        "context": "- Check performance hasn't degraded"
      },
      {
        "line": 1580,
        "token": "approve",
        "context": "1. **Review and approve** this Phase 2 analysis"
      },
      {
        "line": 1581,
        "token": "implementation",
        "context": "2. **Select implementation approach:**"
      },
      {
        "line": 1582,
        "token": "hours",
        "context": "- Option A: Sequential (14 hours, single developer)"
      },
      {
        "line": 1583,
        "token": "hours",
        "context": "- Option B: Parallel (12 hours, multiple developers)"
      },
      {
        "line": 1584,
        "token": "hours",
        "context": "- Option C: Prioritized (7 hours for critical functions only)"
      },
      {
        "line": 1586,
        "token": "tracking",
        "context": "3. **Set up tracking:**"
      },
      {
        "line": 1587,
        "token": "issues",
        "context": "- Create GitHub issues for each function"
      },
      {
        "line": 1588,
        "token": "complexity",
        "context": "- Track complexity reduction progress"
      },
      {
        "line": 1589,
        "token": "test",
        "context": "- Monitor test coverage"
      },
      {
        "line": 1591,
        "token": "highest",
        "context": "4. **Begin Phase 2A** (highest priority functions)"
      },
      {
        "line": 1598,
        "token": "function",
        "context": "**Purpose:** Reduce function length and improve testability"
      },
      {
        "line": 1599,
        "token": "functions",
        "context": "**Used in:** All functions analyzed"
      },
      {
        "line": 1600,
        "token": "detection",
        "context": "**Example:** Platform detection, SQL query building"
      },
      {
        "line": 1603,
        "token": "nesting",
        "context": "**Purpose:** Reduce nesting and improve readability"
      },
      {
        "line": 1604,
        "token": "search",
        "context": "**Used in:** Tag search, config updates"
      },
      {
        "line": 1605,
        "token": "returns",
        "context": "**Example:** Early returns for validation"
      },
      {
        "line": 1608,
        "token": "chains",
        "context": "**Purpose:** Replace if/elif chains with data-driven logic"
      },
      {
        "line": 1609,
        "token": "configs",
        "context": "**Used in:** Period configs, platform detection"
      },
      {
        "line": 1610,
        "token": "period",
        "context": "**Example:** `PERIOD_CONFIGS[period]` instead of if/elif"
      },
      {
        "line": 1613,
        "token": "resource",
        "context": "**Purpose:** Simplify resource management and cleanup"
      },
      {
        "line": 1614,
        "token": "sync",
        "context": "**Used in:** Consolidation sync management"
      },
      {
        "line": 1615,
        "token": "async",
        "context": "**Example:** `async with SyncPauseContext(...)`"
      },
      {
        "line": 1618,
        "token": "related",
        "context": "**Purpose:** Centralize related configuration data"
      },
      {
        "line": 1619,
        "token": "analysis",
        "context": "**Used in:** Period analysis, time horizons"
      },
      {
        "line": 1620,
        "token": "dataclass",
        "context": "**Example:** `@dataclass PeriodConfig`"
      },
      {
        "line": 1626,
        "token": "worked",
        "context": "**What worked well:**"
      },
      {
        "line": 1627,
        "token": "complexity",
        "context": "- Clear complexity scoring and prioritization"
      },
      {
        "line": 1628,
        "token": "approach",
        "context": "- Incremental approach (low-risk first)"
      },
      {
        "line": 1629,
        "token": "testing",
        "context": "- Automated testing validation"
      },
      {
        "line": 1632,
        "token": "explicit",
        "context": "- More explicit refactoring examples (âœ… done)"
      },
      {
        "line": 1633,
        "token": "risk",
        "context": "- Better risk assessment (âœ… done)"
      },
      {
        "line": 1634,
        "token": "execution",
        "context": "- Parallel execution planning (âœ… done)"
      },
      {
        "line": 1639,
        "token": "main",
        "context": "**Total Functions Analyzed:** 10 (5 main + 5 quick wins)"
      },
      {
        "line": 1640,
        "token": "points",
        "context": "**Total Complexity Reduction:** -39 points"
      },
      {
        "line": 1641,
        "token": "hours",
        "context": "**Total Time Estimate:** 12-15 hours"
      }
    ],
    "structure_diff": {
      "heading": [
        113,
        114
      ]
    }
  },
  {
    "english": "scripts/sync/README.md",
    "chinese": "scripts/sync/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "directory",
        "context": "This directory contains scripts for synchronizing SQLite-vec databases across multiple machines using JSON export/import and Litestream replication."
      },
      {
        "line": 14,
        "token": "synchronization",
        "context": "The synchronization system enables you to:"
      },
      {
        "line": 15,
        "token": "memories",
        "context": "- Export memories from one machine to JSON format"
      },
      {
        "line": 16,
        "token": "memories",
        "context": "- Import memories from multiple JSON files into a central database"
      },
      {
        "line": 17,
        "token": "replication",
        "context": "- Set up real-time replication using Litestream"
      },
      {
        "line": 18,
        "token": "consistent",
        "context": "- Maintain consistent memory databases across multiple devices"
      },
      {
        "line": 24,
        "token": "memories",
        "context": "Export memories from a local SQLite-vec database to JSON format."
      },
      {
        "line": 45,
        "token": "original",
        "context": "- Preserves original timestamps and metadata"
      },
      {
        "line": 46,
        "token": "source",
        "context": "- Adds source machine tracking"
      },
      {
        "line": 47,
        "token": "tag",
        "context": "- Supports tag filtering"
      },
      {
        "line": 48,
        "token": "embedding",
        "context": "- Optional embedding vector export"
      },
      {
        "line": 49,
        "token": "compatibility",
        "context": "- Cross-platform compatibility"
      },
      {
        "line": 53,
        "token": "memories",
        "context": "Import memories from JSON export files into a central database."
      },
      {
        "line": 71,
        "token": "deduplication",
        "context": "- Intelligent deduplication based on content hash"
      },
      {
        "line": 72,
        "token": "original",
        "context": "- Preserves original timestamps"
      },
      {
        "line": 73,
        "token": "source",
        "context": "- Adds source tracking tags"
      },
      {
        "line": 74,
        "token": "detection",
        "context": "- Conflict detection and resolution"
      },
      {
        "line": 75,
        "token": "import",
        "context": "- Comprehensive import statistics"
      },
      {
        "line": 81,
        "token": "each",
        "context": "1. **Export from each machine:**"
      },
      {
        "line": 90,
        "token": "files",
        "context": "2. **Transfer files to central server:**"
      },
      {
        "line": 96,
        "token": "central",
        "context": "3. **Import on central server:**"
      },
      {
        "line": 107,
        "token": "consolidating",
        "context": "After consolidating all memories into the central database, set up Litestream for ongoing synchronization."
      },
      {
        "line": 109,
        "token": "JSON",
        "context": "## JSON Export Format"
      },
      {
        "line": 111,
        "token": "export",
        "context": "The export format preserves all memory data:"
      },
      {
        "line": 140,
        "token": "deduplicated",
        "context": "Memories are deduplicated based on content hash:"
      },
      {
        "line": 141,
        "token": "content",
        "context": "- Same content hash = duplicate (skipped)"
      },
      {
        "line": 142,
        "token": "content",
        "context": "- Different content hash = unique (imported)"
      },
      {
        "line": 143,
        "token": "timestamps",
        "context": "- Original timestamps are preserved"
      },
      {
        "line": 144,
        "token": "machine",
        "context": "- Source machine tags are added for tracking"
      },
      {
        "line": 148,
        "token": "scripts",
        "context": "Both scripts include comprehensive error handling:"
      },
      {
        "line": 149,
        "token": "JSON",
        "context": "- JSON format validation"
      },
      {
        "line": 150,
        "token": "connectivity",
        "context": "- Database connectivity checks"
      },
      {
        "line": 151,
        "token": "existence",
        "context": "- File existence verification"
      },
      {
        "line": 152,
        "token": "rollback",
        "context": "- Transaction rollback on failures"
      },
      {
        "line": 153,
        "token": "error",
        "context": "- Detailed error logging"
      },
      {
        "line": 158,
        "token": "deduplication",
        "context": "- **Import**: ~500 memories/second with deduplication"
      },
      {
        "line": 159,
        "token": "per",
        "context": "- **File Size**: ~1KB per memory (without embeddings)"
      },
      {
        "line": 160,
        "token": "files",
        "context": "- **Memory Usage**: Processes files in streaming fashion"
      },
      {
        "line": 166,
        "token": "not",
        "context": "1. **Database not found:**"
      },
      {
        "line": 172,
        "token": "errors",
        "context": "2. **Permission errors:**"
      },
      {
        "line": 178,
        "token": "JSON",
        "context": "3. **JSON format errors:**"
      },
      {
        "line": 186,
        "token": "verbose",
        "context": "Enable verbose logging for debugging:"
      },
      {
        "line": 194,
        "token": "using",
        "context": "After using these scripts for initial consolidation:"
      },
      {
        "line": 196,
        "token": "sync",
        "context": "1. Set up Litestream for real-time sync"
      },
      {
        "line": 197,
        "token": "replica",
        "context": "2. Configure replica nodes"
      },
      {
        "line": 198,
        "token": "monitoring",
        "context": "3. Implement monitoring and alerting"
      },
      {
        "line": 199,
        "token": "regular",
        "context": "4. Schedule regular backups"
      },
      {
        "line": 201,
        "token": "main",
        "context": "See the main documentation for complete Litestream setup instructions."
      }
    ],
    "structure_diff": {
      "heading": [
        32,
        33
      ]
    }
  },
  {
    "english": "scripts/sync/litestream/README.md",
    "chinese": "scripts/sync/litestream/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 8,
        "token": "HTTP",
        "context": "# Litestream Sync - Local Network HTTP API Synchronization"
      },
      {
        "line": 10,
        "token": "staging",
        "context": "Git-like staging workflow for syncing local SQLite-vec database to a central HTTP API server on your local network."
      },
      {
        "line": 14,
        "token": "synchronization",
        "context": "This synchronization system enables **multi-device local network synchronization** using a central MCP Memory Service HTTP API as the remote source of truth. Un"
      },
      {
        "line": 16,
        "token": "network",
        "context": "- **Local network deployments** (e.g., home server, office network)"
      },
      {
        "line": 17,
        "token": "setups",
        "context": "- **Privacy-focused setups** where data stays on your network"
      },
      {
        "line": 18,
        "token": "backend",
        "context": "- **Centralized SQLite-vec backend** accessible via HTTP API"
      },
      {
        "line": 19,
        "token": "synchronization",
        "context": "- **Multi-device synchronization** across machines on the same network"
      },
      {
        "line": 33,
        "token": "working",
        "context": "- **Local Database**: Your working SQLite-vec database"
      },
      {
        "line": 34,
        "token": "staging",
        "context": "- **Staging Database**: Git-like staging area for conflict detection (`~/Library/Application Support/mcp-memory/sqlite_vec_staging.db`)"
      },
      {
        "line": 35,
        "token": "HTTP",
        "context": "- **Central Server**: Remote HTTP API serving as source of truth"
      },
      {
        "line": 39,
        "token": "sync",
        "context": "The sync system follows a **Git-like workflow**:"
      },
      {
        "line": 41,
        "token": "local",
        "context": "1. **Stash** - Save local changes to staging database"
      },
      {
        "line": 42,
        "token": "latest",
        "context": "2. **Pull** - Fetch latest changes from remote API"
      },
      {
        "line": 43,
        "token": "staged",
        "context": "3. **Apply** - Apply staged changes back to local database"
      },
      {
        "line": 44,
        "token": "changes",
        "context": "4. **Push** - Send changes to remote API"
      },
      {
        "line": 68,
        "token": "script",
        "context": "This script:"
      },
      {
        "line": 69,
        "token": "staging",
        "context": "- Creates staging database schema"
      },
      {
        "line": 70,
        "token": "sync",
        "context": "- Initializes sync tracking tables"
      },
      {
        "line": 71,
        "token": "conflict",
        "context": "- Sets up conflict detection system"
      },
      {
        "line": 75,
        "token": "remote",
        "context": "Set the remote API endpoint and credentials:"
      },
      {
        "line": 84,
        "token": "setting",
        "context": "If setting up the central server:"
      },
      {
        "line": 92,
        "token": "launchd",
        "context": "Install the launchd service for automatic replication:"
      },
      {
        "line": 107,
        "token": "sync",
        "context": "**`memory_sync.sh`** - Main sync coordinator"
      },
      {
        "line": 118,
        "token": "local",
        "context": "**`stash_local_changes.sh`** - Save local changes to staging"
      },
      {
        "line": 119,
        "token": "operations",
        "context": "- Detects INSERT, UPDATE, DELETE operations"
      },
      {
        "line": 120,
        "token": "local",
        "context": "- Compares local vs staging database"
      },
      {
        "line": 121,
        "token": "changes",
        "context": "- Marks changes for sync"
      },
      {
        "line": 123,
        "token": "remote",
        "context": "**`pull_remote_changes.sh`** - Fetch from remote API"
      },
      {
        "line": 124,
        "token": "latest",
        "context": "- Retrieves latest memories from HTTP API"
      },
      {
        "line": 125,
        "token": "staging",
        "context": "- Stores in staging database"
      },
      {
        "line": 126,
        "token": "conflicts",
        "context": "- Detects conflicts with local changes"
      },
      {
        "line": 128,
        "token": "staged",
        "context": "**`apply_local_changes.sh`** - Apply staged changes locally"
      },
      {
        "line": 129,
        "token": "changes",
        "context": "- Applies non-conflicting changes to local database"
      },
      {
        "line": 130,
        "token": "entries",
        "context": "- Preserves conflict-marked entries for manual resolution"
      },
      {
        "line": 131,
        "token": "sync",
        "context": "- Updates sync timestamps"
      },
      {
        "line": 133,
        "token": "remote",
        "context": "**`push_to_remote.sh`** - Push to remote API"
      },
      {
        "line": 134,
        "token": "staged",
        "context": "- Sends staged changes to remote HTTP API"
      },
      {
        "line": 135,
        "token": "authentication",
        "context": "- Handles API authentication (MCP_API_KEY)"
      },
      {
        "line": 136,
        "token": "failed",
        "context": "- Retries failed pushes"
      },
      {
        "line": 137,
        "token": "successful",
        "context": "- Marks successful syncs"
      },
      {
        "line": 141,
        "token": "conflict",
        "context": "**`resolve_conflicts.sh`** - Manual conflict resolution"
      },
      {
        "line": 142,
        "token": "detected",
        "context": "- Lists detected conflicts"
      },
      {
        "line": 143,
        "token": "choosing",
        "context": "- Allows choosing remote or local version"
      },
      {
        "line": 144,
        "token": "staging",
        "context": "- Updates staging database accordingly"
      },
      {
        "line": 148,
        "token": "sync",
        "context": "**`manual_sync.sh`** - Manual sync trigger (macOS automation)"
      },
      {
        "line": 149,
        "token": "sync",
        "context": "**`sync_from_remote.sh`** - Pull-only sync from remote"
      },
      {
        "line": 150,
        "token": "without",
        "context": "**`sync_from_remote_noconfig.sh`** - Pull without config file"
      },
      {
        "line": 173,
        "token": "staging",
        "context": "The staging database (`staging_db_init.sql`) includes:"
      },
      {
        "line": 174,
        "token": "changes",
        "context": "- `staged_memories` - Staged changes with conflict tracking"
      },
      {
        "line": 175,
        "token": "metadata",
        "context": "- `sync_status` - Sync metadata and timestamps"
      },
      {
        "line": 176,
        "token": "resolution",
        "context": "- `conflict_resolution` - Manual resolution tracking"
      },
      {
        "line": 180,
        "token": "system",
        "context": "The system detects conflicts when:"
      },
      {
        "line": 181,
        "token": "memory",
        "context": "- Same memory modified both locally and remotely"
      },
      {
        "line": 182,
        "token": "differ",
        "context": "- Timestamps differ between local and remote versions"
      },
      {
        "line": 183,
        "token": "hashes",
        "context": "- Content hashes don't match"
      },
      {
        "line": 207,
        "token": "changes",
        "context": "- Staged changes ready: Count of changes to push"
      },
      {
        "line": 208,
        "token": "detected",
        "context": "- Conflicts detected: Count requiring resolution"
      },
      {
        "line": 209,
        "token": "pushes",
        "context": "- Failed pushes: Count of retry-pending changes"
      },
      {
        "line": 210,
        "token": "remote",
        "context": "- Last remote sync: Timestamp of last pull"
      },
      {
        "line": 211,
        "token": "push",
        "context": "- Last push attempt: Timestamp of last push"
      },
      {
        "line": 215,
        "token": "replication",
        "context": "Litestream replication logs (macOS):"
      },
      {
        "line": 224,
        "token": "network",
        "context": "| **Backend** | Local network HTTP API | Cloudflare Workers (cloud) |"
      },
      {
        "line": 225,
        "token": "network",
        "context": "| **Network** | LAN/private network | Internet (global) |"
      },
      {
        "line": 226,
        "token": "staging",
        "context": "| **Staging** | Git-like staging DB | Direct sync queue |"
      },
      {
        "line": 227,
        "token": "stays",
        "context": "| **Privacy** | Data stays on network | Data in Cloudflare cloud |"
      },
      {
        "line": 228,
        "token": "server",
        "context": "| **Setup** | Self-hosted server | Cloudflare account needed |"
      },
      {
        "line": 229,
        "token": "speed",
        "context": "| **Latency** | LAN speed (~1-5ms) | Network dependent (50-200ms) |"
      },
      {
        "line": 230,
        "token": "resolution",
        "context": "| **Conflicts** | Manual resolution | Last-write-wins |"
      },
      {
        "line": 232,
        "token": "when",
        "context": "**Use Litestream when:**"
      },
      {
        "line": 233,
        "token": "want",
        "context": "- You want data to stay on your local network"
      },
      {
        "line": 234,
        "token": "have",
        "context": "- You have a central server (NAS, home server)"
      },
      {
        "line": 235,
        "token": "need",
        "context": "- You need multi-device sync within your home/office"
      },
      {
        "line": 236,
        "token": "prefer",
        "context": "- You prefer manual conflict resolution"
      },
      {
        "line": 238,
        "token": "when",
        "context": "**Use Cloudflare when:**"
      },
      {
        "line": 239,
        "token": "need",
        "context": "- You need global access from anywhere"
      },
      {
        "line": 240,
        "token": "want",
        "context": "- You want automatic cloud backup"
      },
      {
        "line": 241,
        "token": "prefer",
        "context": "- You prefer zero-maintenance sync"
      },
      {
        "line": 242,
        "token": "okay",
        "context": "- You're okay with data in cloud infrastructure"
      },
      {
        "line": 246,
        "token": "database",
        "context": "### Staging database not found"
      },
      {
        "line": 251,
        "token": "connect",
        "context": "### Cannot connect to remote API"
      },
      {
        "line": 263,
        "token": "not",
        "context": "### Conflicts not resolving"
      },
      {
        "line": 273,
        "token": "failures",
        "context": "### Push failures"
      },
      {
        "line": 297,
        "token": "staging",
        "context": "Modify staging queries to filter by tags or date:"
      },
      {
        "line": 306,
        "token": "separate",
        "context": "Run separate staging databases for each remote:"
      },
      {
        "line": 317,
        "token": "migrating",
        "context": "If migrating to Cloudflare hybrid sync:"
      },
      {
        "line": 319,
        "token": "sync",
        "context": "1. **Final sync to central server**"
      },
      {
        "line": 324,
        "token": "all",
        "context": "2. **Export all memories**"
      },
      {
        "line": 329,
        "token": "backend",
        "context": "3. **Switch to Cloudflare backend**"
      },
      {
        "line": 335,
        "token": "memories",
        "context": "4. **Import memories to Cloudflare**"
      },
      {
        "line": 342,
        "token": "orchestrator",
        "context": "- `memory_sync.sh` - Main orchestrator"
      },
      {
        "line": 343,
        "token": "operation",
        "context": "- `stash_local_changes.sh` - Stash operation"
      },
      {
        "line": 344,
        "token": "operation",
        "context": "- `pull_remote_changes.sh` - Pull operation"
      },
      {
        "line": 345,
        "token": "operation",
        "context": "- `apply_local_changes.sh` - Apply operation"
      },
      {
        "line": 346,
        "token": "operation",
        "context": "- `push_to_remote.sh` - Push operation"
      },
      {
        "line": 347,
        "token": "resolution",
        "context": "- `resolve_conflicts.sh` - Conflict resolution"
      },
      {
        "line": 348,
        "token": "setup",
        "context": "- `setup_local_litestream.sh` - Local setup"
      },
      {
        "line": 349,
        "token": "setup",
        "context": "- `setup_remote_litestream.sh` - Remote setup"
      },
      {
        "line": 350,
        "token": "schema",
        "context": "- `staging_db_init.sql` - Database schema"
      },
      {
        "line": 351,
        "token": "service",
        "context": "- `io.litestream.replication.plist` - macOS service"
      },
      {
        "line": 352,
        "token": "trigger",
        "context": "- `manual_sync.sh` - Manual trigger"
      },
      {
        "line": 353,
        "token": "sync",
        "context": "- `sync_from_remote.sh` - Pull-only sync"
      },
      {
        "line": 354,
        "token": "without",
        "context": "- `sync_from_remote_noconfig.sh` - Pull without config"
      },
      {
        "line": 358,
        "token": "issues",
        "context": "For issues or questions:"
      },
      {
        "line": 359,
        "token": "troubleshooting",
        "context": "- Check troubleshooting section above"
      },
      {
        "line": 360,
        "token": "main",
        "context": "- Review main project documentation"
      },
      {
        "line": 361,
        "token": "remote",
        "context": "- Ensure remote API is running and accessible"
      },
      {
        "line": 362,
        "token": "network",
        "context": "- Verify network connectivity and firewall rules"
      }
    ],
    "structure_diff": {
      "heading": [
        60,
        61
      ]
    }
  },
  {
    "english": "src/mcp_memory_service/web/static/README.md",
    "chinese": "src/mcp_memory_service/web/static/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 10,
        "token": "directory",
        "context": "This directory contains the static assets for the interactive memory management dashboard."
      },
      {
        "line": 14,
        "token": "dashboard",
        "context": "- **`index.html`** - Main dashboard interface with complete UI structure"
      },
      {
        "line": 15,
        "token": "application",
        "context": "- **`app.js`** - Frontend JavaScript application with API integration and real-time updates"
      },
      {
        "line": 16,
        "token": "responsive",
        "context": "- **`style.css`** - Comprehensive CSS with responsive design and component styling"
      },
      {
        "line": 17,
        "token": "testing",
        "context": "- **`sse_test.html`** - Server-Sent Events testing interface (existing)"
      },
      {
        "line": 22,
        "token": "overview",
        "context": "- **Welcome overview** with memory statistics and quick actions"
      },
      {
        "line": 23,
        "token": "memories",
        "context": "- **Recent memories** display with click-to-view details"
      },
      {
        "line": 24,
        "token": "stats",
        "context": "- **Quick stats** showing total memories, recent activity, and tag counts"
      },
      {
        "line": 25,
        "token": "design",
        "context": "- **Responsive design** that works on mobile, tablet, and desktop"
      },
      {
        "line": 28,
        "token": "search",
        "context": "- **Semantic search** with real-time suggestions"
      },
      {
        "line": 29,
        "token": "filters",
        "context": "- **Advanced filters** by tags, date range, and content type"
      },
      {
        "line": 30,
        "token": "view",
        "context": "- **Grid/list view** toggles for different viewing preferences"
      },
      {
        "line": 31,
        "token": "results",
        "context": "- **Search results** with relevance scoring and highlighting"
      },
      {
        "line": 34,
        "token": "new",
        "context": "- **Add new memories** with modal interface and auto-tagging"
      },
      {
        "line": 35,
        "token": "memory",
        "context": "- **View memory details** with full content, metadata, and tags"
      },
      {
        "line": 36,
        "token": "operations",
        "context": "- **Edit/delete operations** with confirmation and undo capabilities"
      },
      {
        "line": 37,
        "token": "operations",
        "context": "- **Bulk operations** for efficient memory organization"
      },
      {
        "line": 40,
        "token": "integration",
        "context": "- **Server-Sent Events** integration for live updates"
      },
      {
        "line": 41,
        "token": "status",
        "context": "- **Connection status** monitoring with reconnection logic"
      },
      {
        "line": 42,
        "token": "notifications",
        "context": "- **Toast notifications** for user feedback"
      },
      {
        "line": 43,
        "token": "statistics",
        "context": "- **Live statistics** updates without page refresh"
      },
      {
        "line": 46,
        "token": "disclosure",
        "context": "- **Progressive disclosure** - simple by default, powerful when needed"
      },
      {
        "line": 47,
        "token": "shortcuts",
        "context": "- **Keyboard shortcuts** - Ctrl+K for search, Ctrl+M for add memory"
      },
      {
        "line": 48,
        "token": "states",
        "context": "- **Loading states** and error handling throughout"
      },
      {
        "line": 49,
        "token": "features",
        "context": "- **Accessibility** features with proper ARIA labels and focus management"
      },
      {
        "line": 62,
        "token": "HTTPS",
        "context": "- **HTTPS**: https://localhost:8443/"
      },
      {
        "line": 63,
        "token": "HTTP",
        "context": "- **HTTP**: http://localhost:8000/"
      },
      {
        "line": 66,
        "token": "semantic",
        "context": "1. **Search**: Use semantic queries and apply filters"
      },
      {
        "line": 67,
        "token": "create",
        "context": "2. **Add Memory**: Click \"Add Memory\" and create test content"
      },
      {
        "line": 68,
        "token": "memory",
        "context": "3. **View Details**: Click memory cards to see full details"
      },
      {
        "line": 69,
        "token": "multiple",
        "context": "4. **Real-time Updates**: Open in multiple tabs to test SSE"
      },
      {
        "line": 70,
        "token": "search",
        "context": "5. **Keyboard Shortcuts**: Try Ctrl+K (search) and Ctrl+M (add)"
      },
      {
        "line": 74,
        "token": "build",
        "context": "- **Vanilla JavaScript** - No build process required"
      },
      {
        "line": 75,
        "token": "responsive",
        "context": "- **CSS Grid + Flexbox** - Modern responsive layouts"
      },
      {
        "line": 76,
        "token": "backend",
        "context": "- **Server-Sent Events** - Real-time backend communication"
      },
      {
        "line": 77,
        "token": "without",
        "context": "- **Progressive Enhancement** - Works without JavaScript for basics"
      },
      {
        "line": 78,
        "token": "connectivity",
        "context": "- **API Integration** - Full REST API connectivity with error handling"
      }
    ],
    "structure_diff": {
      "heading": [
        14,
        15
      ]
    }
  },
  {
    "english": "tests/README.md",
    "chinese": "tests/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "unit",
        "context": "- æµ‹è¯•ç±»å‹ï¼šunitã€integrationã€contractsã€performanceã€‚"
      },
      {
        "line": 4,
        "token": "pytest",
        "context": "- å¸¸ç”¨å‘½ä»¤ï¼š`pytest tests/`ï¼›å•æµ‹ `pytest tests/unit -q`ï¼›é›†æˆ `pytest tests/integration -q`ã€‚"
      },
      {
        "line": 5,
        "token": "hybrid/cloudflare/sqlite-vec",
        "context": "- è¿è¡Œå‰ç¡®ä¿ä¾èµ–å·²å®‰è£…ï¼Œå¿…è¦æ—¶è®¾ç½®åç«¯é…ç½®ï¼ˆhybrid/cloudflare/sqlite-vecï¼‰ã€‚"
      },
      {
        "line": 19,
        "token": "directory",
        "context": "This directory contains tests for the MCP-MEMORY-SERVICE project."
      },
      {
        "line": 23,
        "token": "tests",
        "context": "- `integration/` - Integration tests between components"
      },
      {
        "line": 24,
        "token": "tests",
        "context": "- `unit/` - Unit tests for individual components"
      },
      {
        "line": 25,
        "token": "benchmarks",
        "context": "- `performance/` - Performance benchmarks"
      }
    ],
    "structure_diff": {
      "heading": [
        5,
        7
      ]
    }
  },
  {
    "english": "tools/README.md",
    "chinese": "tools/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 1,
        "token": "tools",
        "context": "# tools ç›®å½•è¯´æ˜ï¼ˆä¸­æ–‡ï¼‰"
      },
      {
        "line": 18,
        "token": "directory",
        "context": "This directory contains development tools, build utilities, and deployment configurations for MCP Memory Service."
      },
      {
        "line": 23,
        "token": "package",
        "context": "- `setup.py` - Python package build configuration"
      },
      {
        "line": 24,
        "token": "scripts",
        "context": "- Build scripts and packaging utilities"
      },
      {
        "line": 27,
        "token": "deployment",
        "context": "- `cloudflare/` - Cloudflare Workers deployment configuration"
      },
      {
        "line": 28,
        "token": "platform",
        "context": "- Cloud platform deployment scripts and configurations"
      },
      {
        "line": 31,
        "token": "configurations",
        "context": "- Multiple Docker configurations and Dockerfiles"
      },
      {
        "line": 32,
        "token": "files",
        "context": "- Docker Compose files for different deployment scenarios"
      },
      {
        "line": 33,
        "token": "utility",
        "context": "- Docker utility scripts and entrypoints"
      },
      {
        "line": 62,
        "token": "docs/deployment/docker.md",
        "context": "- [Docker Deployment Guide](../docs/deployment/docker.md) - Comprehensive Docker setup"
      },
      {
        "line": 63,
        "token": "docs/installation/master-guide.md",
        "context": "- [Installation Guide](../docs/installation/master-guide.md) - General installation"
      },
      {
        "line": 64,
        "token": "docs/technical/development.md",
        "context": "- [Development Guide](../docs/technical/development.md) - Development setup"
      }
    ],
    "structure_diff": {
      "heading": [
        13,
        15
      ]
    }
  },
  {
    "english": "tools/docker/DEPRECATED.md",
    "chinese": "tools/docker/DEPRECATED_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": false,
    "untranslated_snippets": [
      {
        "line": 4,
        "token": "following",
        "context": "The following Docker files are deprecated as of v5.0.4 and will be removed in v6.0.0:"
      },
      {
        "line": 10,
        "token": "name",
        "context": "- **Reason**: Confusing name, mixed ChromaDB/SQLite configs, incorrect entrypoint for HTTP mode"
      },
      {
        "line": 11,
        "token": "HTTP/API",
        "context": "- **Migration**: Use `docker-compose.http.yml` for HTTP/API access"
      },
      {
        "line": 14,
        "token": "now",
        "context": "- **Replaced by**: UV is now built into the main Dockerfile"
      },
      {
        "line": 15,
        "token": "support",
        "context": "- **Reason**: UV support should be in the image, not a separate compose file"
      },
      {
        "line": 16,
        "token": "automatically",
        "context": "- **Migration**: UV is automatically available in all configurations"
      },
      {
        "line": 19,
        "token": "main",
        "context": "- **Replaced by**: Fixed PYTHONPATH in main Dockerfile"
      },
      {
        "line": 20,
        "token": "fix",
        "context": "- **Reason**: PYTHONPATH fix belongs in Dockerfile, not compose variant"
      },
      {
        "line": 21,
        "token": "compose",
        "context": "- **Migration**: All compose files now have correct PYTHONPATH=/app/src"
      },
      {
        "line": 25,
        "token": "doesn",
        "context": "- **Reason**: Overcomplicated, doesn't support HTTP mode, named pipes unnecessary"
      },
      {
        "line": 26,
        "token": "unified",
        "context": "- **Migration**: Use unified entrypoint with MCP_MODE environment variable"
      },
      {
        "line": 30,
        "token": "one",
        "context": "Use one of these two configurations:"
      },
      {
        "line": 37,
        "token": "HTTP/API",
        "context": "2. **HTTP/API Mode** (for web access, REST API):"
      },
      {
        "line": 44,
        "token": "marked",
        "context": "- **v5.0.4**: Files marked as deprecated, new structure introduced"
      },
      {
        "line": 45,
        "token": "messages",
        "context": "- **v5.1.0**: Warning messages added when using deprecated files"
      },
      {
        "line": 46,
        "token": "files",
        "context": "- **v6.0.0**: Deprecated files removed"
      },
      {
        "line": 50,
        "token": "identifying",
        "context": "Thanks to Joe Esposito for identifying the Docker setup issues that led to this simplification."
      }
    ],
    "structure_diff": {}
  },
  {
    "english": "tools/docker/README.md",
    "chinese": "tools/docker/README_zh-cn.md",
    "status": "outdated",
    "missing": false,
    "outdated": true,
    "untranslated_snippets": [
      {
        "line": 3,
        "token": "standalone",
        "context": "- åŒ…å«å¤šç§æ„å»º/è¿è¡Œæ–¹æ¡ˆï¼šstandaloneã€uvã€pythonpathã€slimã€glama ç­‰ compose æ–‡ä»¶ã€‚"
      },
      {
        "line": 5,
        "token": "HTTP/MCP/",
        "context": "- åŸºæœ¬æµç¨‹ï¼š`docker-compose -f docker-compose.yml up`ï¼Œæ ¹æ®éœ€è¦åˆ‡æ¢ HTTP/MCP/æ··åˆæ¨¡å¼ã€‚"
      },
      {
        "line": 21,
        "token": "your",
        "context": "Choose your mode:"
      },
      {
        "line": 28,
        "token": "HTTP",
        "context": "### HTTP API Mode (for REST API, Web Dashboard)"
      },
      {
        "line": 35,
        "token": "feedback",
        "context": "Thanks to feedback from Joe Esposito, we've completely simplified the Docker setup:"
      },
      {
        "line": 38,
        "token": "now",
        "context": "- **PYTHONPATH** now correctly set to `/app/src`"
      },
      {
        "line": 39,
        "token": "properly",
        "context": "- **run_server.py** properly copied for HTTP mode"
      },
      {
        "line": 40,
        "token": "models",
        "context": "- **Embedding models** pre-downloaded during build (no runtime failures)"
      },
      {
        "line": 43,
        "token": "clear",
        "context": "- **2 clear modes** instead of 4 confusing variants"
      },
      {
        "line": 44,
        "token": "entrypoint",
        "context": "- **Unified entrypoint** that auto-detects mode"
      },
      {
        "line": 45,
        "token": "all",
        "context": "- **Single Dockerfile** for all configurations"
      },
      {
        "line": 53,
        "token": "mode",
        "context": "| `MCP_MODE` | Operation mode: `mcp` or `http` | `mcp` |"
      },
      {
        "line": 54,
        "token": "key",
        "context": "| `MCP_API_KEY` | API key for HTTP mode | `your-secure-api-key-here` |"
      },
      {
        "line": 55,
        "token": "HTTP_PORT",
        "context": "| `HTTP_PORT` | Host port for HTTP mode | `8000` |"
      },
      {
        "line": 56,
        "token": "level",
        "context": "| `LOG_LEVEL` | Logging level | `INFO` |"
      },
      {
        "line": 60,
        "token": "data",
        "context": "All data is stored in a single `./data` directory:"
      },
      {
        "line": 61,
        "token": "database",
        "context": "- SQLite database: `./data/sqlite_vec.db`"
      },
      {
        "line": 66,
        "token": "test",
        "context": "Run the test script to verify both modes work:"
      },
      {
        "line": 71,
        "token": "HTTP",
        "context": "## ğŸ“Š HTTP Mode Endpoints"
      },
      {
        "line": 73,
        "token": "running",
        "context": "When running in HTTP mode:"
      },
      {
        "line": 74,
        "token": "http",
        "context": "- **Dashboard**: http://localhost:8000/"
      },
      {
        "line": 75,
        "token": "http",
        "context": "- **API Docs**: http://localhost:8000/api/docs"
      },
      {
        "line": 76,
        "token": "http",
        "context": "- **Health Check**: http://localhost:8000/api/health"
      },
      {
        "line": 80,
        "token": "you",
        "context": "If you were using the old Docker files:"
      },
      {
        "line": 85,
        "token": "now",
        "context": "| `docker-compose.uv.yml` | UV is now built-in |"
      },
      {
        "line": 86,
        "token": "main",
        "context": "| `docker-compose.pythonpath.yml` | Fixed in main Dockerfile |"
      },
      {
        "line": 92,
        "token": "exits",
        "context": "### Container exits immediately"
      },
      {
        "line": 93,
        "token": "HTTP",
        "context": "- For HTTP mode: Check logs with `docker-compose -f docker-compose.http.yml logs`"
      },
      {
        "line": 94,
        "token": "http",
        "context": "- Ensure `MCP_MODE=http` is set in environment"
      },
      {
        "line": 96,
        "token": "connect",
        "context": "### Cannot connect to HTTP endpoints"
      },
      {
        "line": 97,
        "token": "container",
        "context": "- Verify container is running: `docker ps`"
      },
      {
        "line": 98,
        "token": "port",
        "context": "- Check port mapping: `docker port <container_name>`"
      },
      {
        "line": 99,
        "token": "health",
        "context": "- Test health: `curl http://localhost:8000/api/health`"
      },
      {
        "line": 101,
        "token": "model",
        "context": "### Embedding model errors"
      },
      {
        "line": 102,
        "token": "during",
        "context": "- Models are pre-downloaded during build"
      },
      {
        "line": 103,
        "token": "issues",
        "context": "- If issues persist, rebuild: `docker-compose build --no-cache`"
      },
      {
        "line": 107,
        "token": "thanks",
        "context": "Special thanks to **Joe Esposito** for identifying and helping fix the Docker setup issues!"
      }
    ],
    "structure_diff": {
      "heading": [
        18,
        20
      ]
    }
  }
]